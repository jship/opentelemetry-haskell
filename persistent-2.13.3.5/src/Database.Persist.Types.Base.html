<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621679926237"><span id="local-6989586621679926238"></span></span><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveLift #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database.Persist.Types.Base</span><span>
</span><span id="line-11"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html"><span class="hs-identifier">Database.Persist.Types.Base</span></a></span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Re-exports</span></span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#PersistValue"><span class="hs-identifier">PersistValue</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#fromPersistValueText"><span class="hs-identifier">fromPersistValueText</span></a></span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html#LiteralType"><span class="hs-identifier">LiteralType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exception</span></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isSpace</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NEL</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isNothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Word32</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Lift</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Web.HttpApiData</span></span><span>
</span><span id="line-29"></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">FromHttpApiData</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ToHttpApiData</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">parseBoundedTextData</span></span><span>
</span><span id="line-32"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">showTextData</span></span><span>
</span><span id="line-33"></span><span>       </span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Web.PathPieces</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PathPiece</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-comment">-- Bring `Lift (Map k v)` instance into scope, as well as `Lift Text`</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-comment">-- instance on pre-1.2.4 versions of `text`</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Instances.TH.Lift</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Persist.Names.html"><span class="hs-identifier">Database.Persist.Names</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Persist.PersistValue.html"><span class="hs-identifier">Database.Persist.PersistValue</span></a></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-comment">-- | A 'Checkmark' should be used as a field type whenever a</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- uniqueness constraint should guarantee that a certain kind of</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- record may appear at most once, but other kinds of records may</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- appear any number of times.</span><span>
</span><span id="line-46"></span><span class="hs-comment">--</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- /NOTE:/ You need to mark any @Checkmark@ fields as @nullable@</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- (see the following example).</span><span>
</span><span id="line-49"></span><span class="hs-comment">--</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- For example, suppose there's a @Location@ entity that</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- represents where a user has lived:</span><span>
</span><span id="line-52"></span><span class="hs-comment">--</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- Location</span><span>
</span><span id="line-55"></span><span class="hs-comment">--     user    UserId</span><span>
</span><span id="line-56"></span><span class="hs-comment">--     name    Text</span><span>
</span><span id="line-57"></span><span class="hs-comment">--     current Checkmark nullable</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">--     UniqueLocation user current</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-61"></span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- The @UniqueLocation@ constraint allows any number of</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- 'Inactive' @Location@s to be @current@.  However, there may be</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- at most one @current@ @Location@ per user (i.e., either zero</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- or one per user).</span><span>
</span><span id="line-66"></span><span class="hs-comment">--</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- This data type works because of the way that SQL treats</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- @NULL@able fields within uniqueness constraints.  The SQL</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- standard says that @NULL@ values should be considered</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- different, so we represent 'Inactive' as SQL @NULL@, thus</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- allowing any number of 'Inactive' records.  On the other hand,</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- we represent 'Active' as @TRUE@, so the uniqueness constraint</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- will disallow more than one 'Active' record.</span><span>
</span><span id="line-74"></span><span class="hs-comment">--</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- /Note:/ There may be DBMSs that do not respect the SQL</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- standard's treatment of @NULL@ values on uniqueness</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- constraints, please check if this data type works before</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- relying on it.</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- The SQL @BOOLEAN@ type is used because it's the smallest data</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- type available.  Note that we never use @FALSE@, just @TRUE@</span><span>
</span><span id="line-82"></span><span class="hs-comment">-- and @NULL@.  Provides the same behavior @Maybe ()@ would if</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- @()@ was a valid 'PersistField'.</span><span>
</span><span id="line-84"></span><span class="hs-keyword">data</span><span> </span><span id="Checkmark"><span class="annot"><a href="Database.Persist.Types.Base.html#Checkmark"><span class="hs-identifier hs-var">Checkmark</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Active"><span class="annot"><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span></span><span>
</span><span id="line-85"></span><span>                 </span><span class="hs-comment">-- ^ When used on a uniqueness constraint, there</span><span>
</span><span id="line-86"></span><span>                 </span><span class="hs-comment">-- may be at most one 'Active' record.</span><span>
</span><span id="line-87"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span id="Inactive"><span class="annot"><a href="Database.Persist.Types.Base.html#Inactive"><span class="hs-identifier hs-var">Inactive</span></a></span></span><span>
</span><span id="line-88"></span><span>                 </span><span class="hs-comment">-- ^ When used on a uniqueness constraint, there</span><span>
</span><span id="line-89"></span><span>                 </span><span class="hs-comment">-- may be any number of 'Inactive' records.</span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679926160"><span id="local-6989586621679926162"><span class="annot"><span class="annottext">Checkmark -&gt; Checkmark -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Checkmark -&gt; Checkmark -&gt; Bool
$c/= :: Checkmark -&gt; Checkmark -&gt; Bool
== :: Checkmark -&gt; Checkmark -&gt; Bool
$c== :: Checkmark -&gt; Checkmark -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679926140"><span id="local-6989586621679926142"><span id="local-6989586621679926145"><span id="local-6989586621679926148"><span id="local-6989586621679926151"><span id="local-6989586621679926153"><span id="local-6989586621679926155"><span class="annot"><span class="annottext">Eq Checkmark
Checkmark -&gt; Checkmark -&gt; Bool
Checkmark -&gt; Checkmark -&gt; Ordering
Checkmark -&gt; Checkmark -&gt; Checkmark
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Checkmark -&gt; Checkmark -&gt; Checkmark
$cmin :: Checkmark -&gt; Checkmark -&gt; Checkmark
max :: Checkmark -&gt; Checkmark -&gt; Checkmark
$cmax :: Checkmark -&gt; Checkmark -&gt; Checkmark
&gt;= :: Checkmark -&gt; Checkmark -&gt; Bool
$c&gt;= :: Checkmark -&gt; Checkmark -&gt; Bool
&gt; :: Checkmark -&gt; Checkmark -&gt; Bool
$c&gt; :: Checkmark -&gt; Checkmark -&gt; Bool
&lt;= :: Checkmark -&gt; Checkmark -&gt; Bool
$c&lt;= :: Checkmark -&gt; Checkmark -&gt; Bool
&lt; :: Checkmark -&gt; Checkmark -&gt; Bool
$c&lt; :: Checkmark -&gt; Checkmark -&gt; Bool
compare :: Checkmark -&gt; Checkmark -&gt; Ordering
$ccompare :: Checkmark -&gt; Checkmark -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679926127"><span id="local-6989586621679926132"><span id="local-6989586621679926135"><span id="local-6989586621679926137"><span class="annot"><span class="annottext">ReadPrec [Checkmark]
ReadPrec Checkmark
Int -&gt; ReadS Checkmark
ReadS [Checkmark]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Checkmark]
$creadListPrec :: ReadPrec [Checkmark]
readPrec :: ReadPrec Checkmark
$creadPrec :: ReadPrec Checkmark
readList :: ReadS [Checkmark]
$creadList :: ReadS [Checkmark]
readsPrec :: Int -&gt; ReadS Checkmark
$creadsPrec :: Int -&gt; ReadS Checkmark
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679926119"><span id="local-6989586621679926121"><span id="local-6989586621679926123"><span class="annot"><span class="annottext">Int -&gt; Checkmark -&gt; ShowS
[Checkmark] -&gt; ShowS
Checkmark -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Checkmark] -&gt; ShowS
$cshowList :: [Checkmark] -&gt; ShowS
show :: Checkmark -&gt; [Char]
$cshow :: Checkmark -&gt; [Char]
showsPrec :: Int -&gt; Checkmark -&gt; ShowS
$cshowsPrec :: Int -&gt; Checkmark -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679926078"><span id="local-6989586621679926080"><span id="local-6989586621679926084"><span id="local-6989586621679926088"><span id="local-6989586621679926090"><span id="local-6989586621679926102"><span id="local-6989586621679926108"><span id="local-6989586621679926116"><span class="annot"><span class="annottext">Int -&gt; Checkmark
Checkmark -&gt; Int
Checkmark -&gt; [Checkmark]
Checkmark -&gt; Checkmark
Checkmark -&gt; Checkmark -&gt; [Checkmark]
Checkmark -&gt; Checkmark -&gt; Checkmark -&gt; [Checkmark]
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: Checkmark -&gt; Checkmark -&gt; Checkmark -&gt; [Checkmark]
$cenumFromThenTo :: Checkmark -&gt; Checkmark -&gt; Checkmark -&gt; [Checkmark]
enumFromTo :: Checkmark -&gt; Checkmark -&gt; [Checkmark]
$cenumFromTo :: Checkmark -&gt; Checkmark -&gt; [Checkmark]
enumFromThen :: Checkmark -&gt; Checkmark -&gt; [Checkmark]
$cenumFromThen :: Checkmark -&gt; Checkmark -&gt; [Checkmark]
enumFrom :: Checkmark -&gt; [Checkmark]
$cenumFrom :: Checkmark -&gt; [Checkmark]
fromEnum :: Checkmark -&gt; Int
$cfromEnum :: Checkmark -&gt; Int
toEnum :: Int -&gt; Checkmark
$ctoEnum :: Int -&gt; Checkmark
pred :: Checkmark -&gt; Checkmark
$cpred :: Checkmark -&gt; Checkmark
succ :: Checkmark -&gt; Checkmark
$csucc :: Checkmark -&gt; Checkmark
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679926073"><span id="local-6989586621679926075"><span class="annot"><span class="annottext">Checkmark
forall a. a -&gt; a -&gt; Bounded a
maxBound :: Checkmark
$cmaxBound :: Checkmark
minBound :: Checkmark
$cminBound :: Checkmark
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679926064"><span id="local-6989586621679926066"><span id="local-6989586621679926068"><span class="annot"><span class="hs-identifier hs-type">ToHttpApiData</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#Checkmark"><span class="hs-identifier hs-type">Checkmark</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>    </span><span id="local-6989586621679926061"><span class="annot"><span class="annottext">toUrlPiece :: Checkmark -&gt; Text
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toUrlPiece</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">showTextData</span></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679926055"><span id="local-6989586621679926057"><span class="annot"><span class="hs-identifier hs-type">FromHttpApiData</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#Checkmark"><span class="hs-identifier hs-type">Checkmark</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>    </span><span id="local-6989586621679926050"><span class="annot"><span class="annottext">parseUrlPiece :: Text -&gt; Either Text Checkmark
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseUrlPiece</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (Show a, Bounded a, Enum a) =&gt; Text -&gt; Either Text a
</span><span class="hs-identifier hs-var">parseBoundedTextData</span></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PathPiece</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#Checkmark"><span class="hs-identifier hs-type">Checkmark</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-99"></span><span>  </span><span id="local-6989586621679926042"><span class="annot"><span class="annottext">toPathPiece :: Checkmark -&gt; Text
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toPathPiece</span></span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;active&quot;</span></span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toPathPiece</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Inactive"><span class="hs-identifier hs-var">Inactive</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;inactive&quot;</span></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>  </span><span id="local-6989586621679926036"><span class="annot"><span class="annottext">fromPathPiece :: Text -&gt; Maybe Checkmark
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPathPiece</span></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;active&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Active"><span class="hs-identifier hs-var">Active</span></a></span><span>
</span><span id="line-103"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromPathPiece</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;inactive&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Checkmark
</span><a href="Database.Persist.Types.Base.html#Inactive"><span class="hs-identifier hs-var">Inactive</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromPathPiece</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-keyword">data</span><span> </span><span id="IsNullable"><span class="annot"><a href="Database.Persist.Types.Base.html#IsNullable"><span class="hs-identifier hs-var">IsNullable</span></a></span></span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Nullable"><span class="annot"><a href="Database.Persist.Types.Base.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#WhyNullable"><span class="hs-identifier hs-type">WhyNullable</span></a></span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="NotNullable"><span class="annot"><a href="Database.Persist.Types.Base.html#NotNullable"><span class="hs-identifier hs-var">NotNullable</span></a></span></span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679926028"><span id="local-6989586621679926031"><span class="annot"><span class="annottext">IsNullable -&gt; IsNullable -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: IsNullable -&gt; IsNullable -&gt; Bool
$c/= :: IsNullable -&gt; IsNullable -&gt; Bool
== :: IsNullable -&gt; IsNullable -&gt; Bool
$c== :: IsNullable -&gt; IsNullable -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679926020"><span id="local-6989586621679926022"><span id="local-6989586621679926026"><span class="annot"><span class="annottext">Int -&gt; IsNullable -&gt; ShowS
[IsNullable] -&gt; ShowS
IsNullable -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [IsNullable] -&gt; ShowS
$cshowList :: [IsNullable] -&gt; ShowS
show :: IsNullable -&gt; [Char]
$cshow :: IsNullable -&gt; [Char]
showsPrec :: Int -&gt; IsNullable -&gt; ShowS
$cshowsPrec :: Int -&gt; IsNullable -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="annot"><a href="Database.Persist.Types.Base.html#fieldAttrsContainsNullable"><span class="hs-identifier hs-type">fieldAttrsContainsNullable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttr"><span class="hs-identifier hs-type">FieldAttr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#IsNullable"><span class="hs-identifier hs-type">IsNullable</span></a></span><span>
</span><span id="line-112"></span><span id="fieldAttrsContainsNullable"><span class="annot"><span class="annottext">fieldAttrsContainsNullable :: [FieldAttr] -&gt; IsNullable
</span><a href="Database.Persist.Types.Base.html#fieldAttrsContainsNullable"><span class="hs-identifier hs-var hs-var">fieldAttrsContainsNullable</span></a></span></span><span> </span><span id="local-6989586621679926018"><span class="annot"><span class="annottext">[FieldAttr]
</span><a href="#local-6989586621679926018"><span class="hs-identifier hs-var">s</span></a></span></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMaybe"><span class="hs-identifier hs-var">FieldAttrMaybe</span></a></span><span>    </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[FieldAttr]
</span><a href="#local-6989586621679926018"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WhyNullable -&gt; IsNullable
</span><a href="Database.Persist.Types.Base.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span> </span><span class="annot"><span class="annottext">WhyNullable
</span><a href="Database.Persist.Types.Base.html#ByMaybeAttr"><span class="hs-identifier hs-var">ByMaybeAttr</span></a></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrNullable"><span class="hs-identifier hs-var">FieldAttrNullable</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[FieldAttr]
</span><a href="#local-6989586621679926018"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WhyNullable -&gt; IsNullable
</span><a href="Database.Persist.Types.Base.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span> </span><span class="annot"><span class="annottext">WhyNullable
</span><a href="Database.Persist.Types.Base.html#ByNullableAttr"><span class="hs-identifier hs-var">ByNullableAttr</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IsNullable
</span><a href="Database.Persist.Types.Base.html#NotNullable"><span class="hs-identifier hs-var">NotNullable</span></a></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-comment">-- | The reason why a field is 'nullable' is very important.  A</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- field that is nullable because of a @Maybe@ tag will have its</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- type changed from @A@ to @Maybe A@.  OTOH, a field that is</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- nullable because of a @nullable@ tag will remain with the same</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- type.</span><span>
</span><span id="line-122"></span><span class="hs-keyword">data</span><span> </span><span id="WhyNullable"><span class="annot"><a href="Database.Persist.Types.Base.html#WhyNullable"><span class="hs-identifier hs-var">WhyNullable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ByMaybeAttr"><span class="annot"><a href="Database.Persist.Types.Base.html#ByMaybeAttr"><span class="hs-identifier hs-var">ByMaybeAttr</span></a></span></span><span>
</span><span id="line-123"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span id="ByNullableAttr"><span class="annot"><a href="Database.Persist.Types.Base.html#ByNullableAttr"><span class="hs-identifier hs-var">ByNullableAttr</span></a></span></span><span>
</span><span id="line-124"></span><span>                  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679926009"><span id="local-6989586621679926011"><span class="annot"><span class="annottext">WhyNullable -&gt; WhyNullable -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: WhyNullable -&gt; WhyNullable -&gt; Bool
$c/= :: WhyNullable -&gt; WhyNullable -&gt; Bool
== :: WhyNullable -&gt; WhyNullable -&gt; Bool
$c== :: WhyNullable -&gt; WhyNullable -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679926003"><span id="local-6989586621679926005"><span id="local-6989586621679926007"><span class="annot"><span class="annottext">Int -&gt; WhyNullable -&gt; ShowS
[WhyNullable] -&gt; ShowS
WhyNullable -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [WhyNullable] -&gt; ShowS
$cshowList :: [WhyNullable] -&gt; ShowS
show :: WhyNullable -&gt; [Char]
$cshow :: WhyNullable -&gt; [Char]
showsPrec :: Int -&gt; WhyNullable -&gt; ShowS
$cshowsPrec :: Int -&gt; WhyNullable -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-comment">-- | An 'EntityDef' represents the information that @persistent@ knows</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- about an Entity. It uses this information to generate the Haskell</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- datatype, the SQL migrations, and other relevant conversions.</span><span>
</span><span id="line-129"></span><span class="hs-keyword">data</span><span> </span><span id="EntityDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-var">EntityDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EntityDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-var">EntityDef</span></a></span></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="entityHaskell"><span class="annot"><span class="annottext">EntityDef -&gt; EntityNameHS
</span><a href="Database.Persist.Types.Base.html#entityHaskell"><span class="hs-identifier hs-var hs-var">entityHaskell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-comment">-- ^ The name of the entity as Haskell understands it.</span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityDB"><span class="annot"><span class="annottext">EntityDef -&gt; EntityNameDB
</span><a href="Database.Persist.Types.Base.html#entityDB"><span class="hs-identifier hs-var hs-var">entityDB</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameDB"><span class="hs-identifier hs-type">EntityNameDB</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-comment">-- ^ The name of the database table corresponding to the entity.</span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityId"><span class="annot"><span class="annottext">EntityDef -&gt; EntityIdDef
</span><a href="Database.Persist.Types.Base.html#entityId"><span class="hs-identifier hs-var hs-var">entityId</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdDef"><span class="hs-identifier hs-type">EntityIdDef</span></a></span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-comment">-- ^ The entity's primary key or identifier.</span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityAttrs"><span class="annot"><span class="annottext">EntityDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#entityAttrs"><span class="hs-identifier hs-var hs-var">entityAttrs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-type">Attr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-comment">-- ^ The @persistent@ entity syntax allows you to add arbitrary 'Attr's</span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-comment">-- to an entity using the @!@ operator. Those attributes are stored in</span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-comment">-- this list.</span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityFields"><span class="annot"><span class="annottext">EntityDef -&gt; [FieldDef]
</span><a href="Database.Persist.Types.Base.html#entityFields"><span class="hs-identifier hs-var hs-var">entityFields</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-comment">-- ^ The fields for this entity. Note that the ID field will not be</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-comment">-- present in this list. To get all of the fields for an entity, use</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-comment">-- 'keyAndEntityFields'.</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityUniques"><span class="annot"><span class="annottext">EntityDef -&gt; [UniqueDef]
</span><a href="Database.Persist.Types.Base.html#entityUniques"><span class="hs-identifier hs-var hs-var">entityUniques</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#UniqueDef"><span class="hs-identifier hs-type">UniqueDef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-comment">-- ^ The Uniqueness constraints for this entity.</span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityForeigns"><span class="annot"><span class="annottext">EntityDef -&gt; [ForeignDef]
</span><a href="Database.Persist.Types.Base.html#entityForeigns"><span class="hs-identifier hs-var hs-var">entityForeigns</span></a></span></span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignDef"><span class="hs-identifier hs-type">ForeignDef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-comment">-- ^ The foreign key relationships that this entity has to other</span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-comment">-- entities.</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityDerives"><span class="annot"><span class="annottext">EntityDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#entityDerives"><span class="hs-identifier hs-var hs-var">entityDerives</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">]</span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-comment">-- ^ A list of type classes that have been derived for this entity.</span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityExtra"><span class="annot"><span class="annottext">EntityDef -&gt; Map Text [[Text]]
</span><a href="Database.Persist.Types.Base.html#entityExtra"><span class="hs-identifier hs-var hs-var">entityExtra</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#ExtraLine"><span class="hs-identifier hs-type">ExtraLine</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entitySum"><span class="annot"><span class="annottext">EntityDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#entitySum"><span class="hs-identifier hs-var hs-var">entitySum</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-comment">-- ^ Whether or not this entity represents a sum type in the database.</span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="entityComments"><span class="annot"><span class="annottext">EntityDef -&gt; Maybe Text
</span><a href="Database.Persist.Types.Base.html#entityComments"><span class="hs-identifier hs-var hs-var">entityComments</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-comment">-- ^ Optional comments on the entity.</span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-comment">-- @since 2.10.0</span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925961"><span id="local-6989586621679925963"><span id="local-6989586621679925987"><span class="annot"><span class="annottext">Int -&gt; EntityDef -&gt; ShowS
[EntityDef] -&gt; ShowS
EntityDef -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [EntityDef] -&gt; ShowS
$cshowList :: [EntityDef] -&gt; ShowS
show :: EntityDef -&gt; [Char]
$cshow :: EntityDef -&gt; [Char]
showsPrec :: Int -&gt; EntityDef -&gt; ShowS
$cshowsPrec :: Int -&gt; EntityDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925936"><span id="local-6989586621679925959"><span class="annot"><span class="annottext">EntityDef -&gt; EntityDef -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: EntityDef -&gt; EntityDef -&gt; Bool
$c/= :: EntityDef -&gt; EntityDef -&gt; Bool
== :: EntityDef -&gt; EntityDef -&gt; Bool
$c== :: EntityDef -&gt; EntityDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925879"><span id="local-6989586621679925929"><span id="local-6989586621679925932"><span id="local-6989586621679925934"><span class="annot"><span class="annottext">ReadPrec [EntityDef]
ReadPrec EntityDef
Int -&gt; ReadS EntityDef
ReadS [EntityDef]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [EntityDef]
$creadListPrec :: ReadPrec [EntityDef]
readPrec :: ReadPrec EntityDef
$creadPrec :: ReadPrec EntityDef
readList :: ReadS [EntityDef]
$creadList :: ReadS [EntityDef]
readsPrec :: Int -&gt; ReadS EntityDef
$creadsPrec :: Int -&gt; ReadS EntityDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925819"><span id="local-6989586621679925821"><span id="local-6989586621679925824"><span id="local-6989586621679925827"><span id="local-6989586621679925830"><span id="local-6989586621679925848"><span id="local-6989586621679925872"><span class="annot"><span class="annottext">Eq EntityDef
EntityDef -&gt; EntityDef -&gt; Bool
EntityDef -&gt; EntityDef -&gt; Ordering
EntityDef -&gt; EntityDef -&gt; EntityDef
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: EntityDef -&gt; EntityDef -&gt; EntityDef
$cmin :: EntityDef -&gt; EntityDef -&gt; EntityDef
max :: EntityDef -&gt; EntityDef -&gt; EntityDef
$cmax :: EntityDef -&gt; EntityDef -&gt; EntityDef
&gt;= :: EntityDef -&gt; EntityDef -&gt; Bool
$c&gt;= :: EntityDef -&gt; EntityDef -&gt; Bool
&gt; :: EntityDef -&gt; EntityDef -&gt; Bool
$c&gt; :: EntityDef -&gt; EntityDef -&gt; Bool
&lt;= :: EntityDef -&gt; EntityDef -&gt; Bool
$c&lt;= :: EntityDef -&gt; EntityDef -&gt; Bool
&lt; :: EntityDef -&gt; EntityDef -&gt; Bool
$c&lt; :: EntityDef -&gt; EntityDef -&gt; Bool
compare :: EntityDef -&gt; EntityDef -&gt; Ordering
$ccompare :: EntityDef -&gt; EntityDef -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925778"><span id="local-6989586621679925817"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; Code m EntityDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; Code m EntityDef
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; Code m EntityDef
lift :: forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; EntityDef -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-comment">-- | The definition for the entity's primary key ID.</span><span>
</span><span id="line-162"></span><span class="hs-comment">--</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-164"></span><span class="hs-keyword">data</span><span> </span><span id="EntityIdDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdDef"><span class="hs-identifier hs-var">EntityIdDef</span></a></span></span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="EntityIdField"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdField"><span class="hs-identifier hs-var">EntityIdField</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-comment">-- ^ The entity has a single key column, and it is a surrogate key - that</span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-comment">-- is, you can't go from @rec -&gt; Key rec@.</span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="EntityIdNaturalKey"><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdNaturalKey"><span class="hs-identifier hs-var">EntityIdNaturalKey</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeDef"><span class="hs-identifier hs-type">CompositeDef</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-comment">-- ^ The entity has a natural key. This means you can write @rec -&gt; Key rec@</span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-comment">-- because all the key fields are present on the datatype.</span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-comment">-- A natural key can have one or more columns.</span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925731"><span id="local-6989586621679925733"><span id="local-6989586621679925739"><span class="annot"><span class="annottext">Int -&gt; EntityIdDef -&gt; ShowS
[EntityIdDef] -&gt; ShowS
EntityIdDef -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [EntityIdDef] -&gt; ShowS
$cshowList :: [EntityIdDef] -&gt; ShowS
show :: EntityIdDef -&gt; [Char]
$cshow :: EntityIdDef -&gt; [Char]
showsPrec :: Int -&gt; EntityIdDef -&gt; ShowS
$cshowsPrec :: Int -&gt; EntityIdDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925725"><span id="local-6989586621679925729"><span class="annot"><span class="annottext">EntityIdDef -&gt; EntityIdDef -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c/= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
== :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c== :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925708"><span id="local-6989586621679925718"><span id="local-6989586621679925721"><span id="local-6989586621679925723"><span class="annot"><span class="annottext">ReadPrec [EntityIdDef]
ReadPrec EntityIdDef
Int -&gt; ReadS EntityIdDef
ReadS [EntityIdDef]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [EntityIdDef]
$creadListPrec :: ReadPrec [EntityIdDef]
readPrec :: ReadPrec EntityIdDef
$creadPrec :: ReadPrec EntityIdDef
readList :: ReadS [EntityIdDef]
$creadList :: ReadS [EntityIdDef]
readsPrec :: Int -&gt; ReadS EntityIdDef
$creadsPrec :: Int -&gt; ReadS EntityIdDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925684"><span id="local-6989586621679925686"><span id="local-6989586621679925689"><span id="local-6989586621679925692"><span id="local-6989586621679925695"><span id="local-6989586621679925699"><span id="local-6989586621679925703"><span class="annot"><span class="annottext">Eq EntityIdDef
EntityIdDef -&gt; EntityIdDef -&gt; Bool
EntityIdDef -&gt; EntityIdDef -&gt; Ordering
EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
$cmin :: EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
max :: EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
$cmax :: EntityIdDef -&gt; EntityIdDef -&gt; EntityIdDef
&gt;= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c&gt;= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
&gt; :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c&gt; :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
&lt;= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c&lt;= :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
&lt; :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
$c&lt; :: EntityIdDef -&gt; EntityIdDef -&gt; Bool
compare :: EntityIdDef -&gt; EntityIdDef -&gt; Ordering
$ccompare :: EntityIdDef -&gt; EntityIdDef -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925672"><span id="local-6989586621679925682"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; Code m EntityIdDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; Code m EntityIdDef
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; Code m EntityIdDef
lift :: forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; EntityIdDef -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-comment">-- | Return the @['FieldDef']@ for the entity keys.</span><span>
</span><span id="line-180"></span><span class="annot"><a href="Database.Persist.Types.Base.html#entitiesPrimary"><span class="hs-identifier hs-type">entitiesPrimary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-181"></span><span id="entitiesPrimary"><span class="annot"><span class="annottext">entitiesPrimary :: EntityDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#entitiesPrimary"><span class="hs-identifier hs-var hs-var">entitiesPrimary</span></a></span></span><span> </span><span id="local-6989586621679925663"><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679925663"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; EntityIdDef
</span><a href="Database.Persist.Types.Base.html#entityId"><span class="hs-identifier hs-var">entityId</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679925663"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-183"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdNaturalKey"><span class="hs-identifier hs-type">EntityIdNaturalKey</span></a></span><span> </span><span id="local-6989586621679925662"><span class="annot"><span class="annottext">CompositeDef
</span><a href="#local-6989586621679925662"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-184"></span><span>            </span><span class="annot"><span class="annottext">CompositeDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#compositeFields"><span class="hs-identifier hs-var">compositeFields</span></a></span><span> </span><span class="annot"><span class="annottext">CompositeDef
</span><a href="#local-6989586621679925662"><span class="hs-identifier hs-var">fds</span></a></span><span>
</span><span id="line-185"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdField"><span class="hs-identifier hs-type">EntityIdField</span></a></span><span> </span><span id="local-6989586621679925660"><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679925660"><span class="hs-identifier hs-var">fd</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-186"></span><span>            </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679925660"><span class="hs-identifier hs-var">fd</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="annot"><a href="Database.Persist.Types.Base.html#entityPrimary"><span class="hs-identifier hs-type">entityPrimary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeDef"><span class="hs-identifier hs-type">CompositeDef</span></a></span><span>
</span><span id="line-189"></span><span id="entityPrimary"><span class="annot"><span class="annottext">entityPrimary :: EntityDef -&gt; Maybe CompositeDef
</span><a href="Database.Persist.Types.Base.html#entityPrimary"><span class="hs-identifier hs-var hs-var">entityPrimary</span></a></span></span><span> </span><span id="local-6989586621679925658"><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679925658"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; EntityIdDef
</span><a href="Database.Persist.Types.Base.html#entityId"><span class="hs-identifier hs-var">entityId</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679925658"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-191"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdNaturalKey"><span class="hs-identifier hs-type">EntityIdNaturalKey</span></a></span><span> </span><span id="local-6989586621679925657"><span class="annot"><span class="annottext">CompositeDef
</span><a href="#local-6989586621679925657"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-192"></span><span>            </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CompositeDef
</span><a href="#local-6989586621679925657"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-193"></span><span>        </span><span class="annot"><span class="annottext">EntityIdDef
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-194"></span><span>            </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Database.Persist.Types.Base.html#entityKeyFields"><span class="hs-identifier hs-type">entityKeyFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-197"></span><span id="entityKeyFields"><span class="annot"><span class="annottext">entityKeyFields :: EntityDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#entityKeyFields"><span class="hs-identifier hs-var hs-var">entityKeyFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-198"></span><span>    </span><span class="annot"><span class="annottext">EntityDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#entitiesPrimary"><span class="hs-identifier hs-var">entitiesPrimary</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-comment">-- | Returns a 'NonEmpty' list of 'FieldDef' that correspond with the key</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- columns for an 'EntityDef'.</span><span>
</span><span id="line-202"></span><span class="annot"><a href="Database.Persist.Types.Base.html#keyAndEntityFields"><span class="hs-identifier hs-type">keyAndEntityFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span>
</span><span id="line-203"></span><span id="keyAndEntityFields"><span class="annot"><span class="annottext">keyAndEntityFields :: EntityDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#keyAndEntityFields"><span class="hs-identifier hs-var hs-var">keyAndEntityFields</span></a></span></span><span> </span><span id="local-6989586621679925654"><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679925654"><span class="hs-identifier hs-var">ent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; EntityIdDef
</span><a href="Database.Persist.Types.Base.html#entityId"><span class="hs-identifier hs-var">entityId</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679925654"><span class="hs-identifier hs-var">ent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-205"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdField"><span class="hs-identifier hs-type">EntityIdField</span></a></span><span> </span><span id="local-6989586621679925653"><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679925653"><span class="hs-identifier hs-var">fd</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-206"></span><span>            </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679925653"><span class="hs-identifier hs-var">fd</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; NonEmpty a
</span><span class="hs-operator hs-var">:|</span></span><span> </span><span class="annot"><span class="annottext">[FieldDef]
</span><a href="#local-6989586621679925652"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-207"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityIdNaturalKey"><span class="hs-identifier hs-type">EntityIdNaturalKey</span></a></span><span> </span><span class="annot"><span class="annottext">CompositeDef
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-208"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NEL.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">[FieldDef]
</span><a href="#local-6989586621679925652"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-209"></span><span>                </span><span class="annot"><span class="annottext">Maybe (NonEmpty FieldDef)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-210"></span><span>                    </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span>
</span><span id="line-211"></span><span>                        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;persistent internal guarantee failed: entity is &quot;</span></span><span>
</span><span id="line-212"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;defined with an entityId = EntityIdNaturalKey, &quot;</span></span><span>
</span><span id="line-213"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;but somehow doesn't have any entity fields.&quot;</span></span><span>
</span><span id="line-214"></span><span>                        </span><span class="hs-special">]</span><span>
</span><span id="line-215"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679925649"><span class="annot"><span class="annottext">NonEmpty FieldDef
</span><a href="#local-6989586621679925649"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-216"></span><span>                    </span><span class="annot"><span class="annottext">NonEmpty FieldDef
</span><a href="#local-6989586621679925649"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-218"></span><span>    </span><span id="local-6989586621679925652"><span class="annot"><span class="annottext">fields :: [FieldDef]
</span><a href="#local-6989586621679925652"><span class="hs-identifier hs-var hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#isHaskellField"><span class="hs-identifier hs-var">isHaskellField</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; [FieldDef]
</span><a href="Database.Persist.Types.Base.html#entityFields"><span class="hs-identifier hs-var">entityFields</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679925654"><span class="hs-identifier hs-var">ent</span></a></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-keyword">type</span><span> </span><span id="ExtraLine"><span class="annot"><a href="Database.Persist.Types.Base.html#ExtraLine"><span class="hs-identifier hs-var">ExtraLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">]</span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-keyword">type</span><span> </span><span id="Attr"><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-var">Attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Attributes that may be attached to fields that can affect migrations</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- and serialization in backend-specific ways.</span><span>
</span><span id="line-226"></span><span class="hs-comment">--</span><span>
</span><span id="line-227"></span><span class="hs-comment">-- While we endeavor to, we can't forsee all use cases for all backends,</span><span>
</span><span id="line-228"></span><span class="hs-comment">-- and so 'FieldAttr' is extensible through its constructor 'FieldAttrOther'.</span><span>
</span><span id="line-229"></span><span class="hs-comment">--</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- @since 2.11.0.0</span><span>
</span><span id="line-231"></span><span class="hs-keyword">data</span><span> </span><span id="FieldAttr"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttr"><span class="hs-identifier hs-var">FieldAttr</span></a></span></span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="FieldAttrMaybe"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrMaybe"><span class="hs-identifier hs-var">FieldAttrMaybe</span></a></span></span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-comment">-- ^ The 'Maybe' keyword goes after the type. This indicates that the column</span><span>
</span><span id="line-234"></span><span>    </span><span class="hs-comment">-- is nullable, and the generated Haskell code will have a @'Maybe'@ type</span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-comment">-- for it.</span><span>
</span><span id="line-236"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-comment">-- Example:</span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-240"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-comment">--     name Text Maybe</span><span>
</span><span id="line-242"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-243"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrNullable"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrNullable"><span class="hs-identifier hs-var">FieldAttrNullable</span></a></span></span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-comment">-- ^ This indicates that the column is nullable, but should not have</span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-comment">-- a 'Maybe' type. For this to work out, you need to ensure that the</span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-comment">-- 'PersistField' instance for the type in question can support</span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-comment">-- a 'PersistNull' value.</span><span>
</span><span id="line-248"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-250"></span><span>    </span><span class="hs-comment">-- data What = NoWhat | Hello Text</span><span>
</span><span id="line-251"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-252"></span><span>    </span><span class="hs-comment">-- instance PersistField What where</span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-comment">--     fromPersistValue PersistNull =</span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-comment">--         pure NoWhat</span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-comment">--     fromPersistValue pv =</span><span>
</span><span id="line-256"></span><span>    </span><span class="hs-comment">--         Hello &lt;$&gt; fromPersistValue pv</span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-comment">-- instance PersistFieldSql What where</span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-comment">--     sqlType _ = SqlString</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-comment">--     what What nullable</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrMigrationOnly"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrMigrationOnly"><span class="hs-identifier hs-var">FieldAttrMigrationOnly</span></a></span></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-comment">-- ^ This tag means that the column will not be present on the Haskell code,</span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-comment">-- but will not be removed from the database. Useful to deprecate fields in</span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-comment">-- phases.</span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-269"></span><span>    </span><span class="hs-comment">-- You should set the column to be nullable in the database. Otherwise,</span><span>
</span><span id="line-270"></span><span>    </span><span class="hs-comment">-- inserts won't have values.</span><span>
</span><span id="line-271"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-272"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-273"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-274"></span><span>    </span><span class="hs-comment">--     oldName Text MigrationOnly</span><span>
</span><span id="line-275"></span><span>    </span><span class="hs-comment">--     newName Text</span><span>
</span><span id="line-276"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-277"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrSafeToRemove"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrSafeToRemove"><span class="hs-identifier hs-var">FieldAttrSafeToRemove</span></a></span></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-comment">-- ^ A @SafeToRemove@ attribute is not present on the Haskell datatype, and</span><span>
</span><span id="line-279"></span><span>    </span><span class="hs-comment">-- the backend migrations should attempt to drop the column without</span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-comment">-- triggering any unsafe migration warnings.</span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-comment">-- Useful after you've used @MigrationOnly@ to remove a column from the</span><span>
</span><span id="line-283"></span><span>    </span><span class="hs-comment">-- database in phases.</span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-285"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-286"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-287"></span><span>    </span><span class="hs-comment">--     oldName Text SafeToRemove</span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-comment">--     newName Text</span><span>
</span><span id="line-289"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-290"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrNoreference"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrNoreference"><span class="hs-identifier hs-var">FieldAttrNoreference</span></a></span></span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-comment">-- ^ This attribute indicates that we should create a foreign key reference</span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-comment">-- from a column. By default, @persistent@ will try and create a foreign key</span><span>
</span><span id="line-293"></span><span>    </span><span class="hs-comment">-- reference for a column if it can determine that the type of the column is</span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-comment">-- a @'Key' entity@ or an @EntityId@  and the @Entity@'s name was present in</span><span>
</span><span id="line-295"></span><span>    </span><span class="hs-comment">-- 'mkPersist'.</span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-comment">-- This is useful if you want to use the explicit foreign key syntax.</span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-comment">-- Post</span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-comment">--     title    Text</span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-comment">-- Comment</span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-comment">--     postId   PostId      noreference</span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-comment">--     Foreign Post fk_comment_post postId</span><span>
</span><span id="line-306"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-307"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrReference"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrReference"><span class="hs-identifier hs-var">FieldAttrReference</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-308"></span><span>    </span><span class="hs-comment">-- ^ This is set to specify precisely the database table the column refers</span><span>
</span><span id="line-309"></span><span>    </span><span class="hs-comment">-- to.</span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-312"></span><span>    </span><span class="hs-comment">-- Post</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-comment">--     title    Text</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-comment">-- Comment</span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-comment">--     postId   PostId references=&quot;post&quot;</span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-318"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-comment">-- You should not need this - @persistent@ should be capable of correctly</span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-comment">-- determining the target table's name. If you do need this, please file an</span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-comment">-- issue describing why.</span><span>
</span><span id="line-322"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrConstraint"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrConstraint"><span class="hs-identifier hs-var">FieldAttrConstraint</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-323"></span><span>    </span><span class="hs-comment">-- ^ Specify a name for the constraint on the foreign key reference for this</span><span>
</span><span id="line-324"></span><span>    </span><span class="hs-comment">-- table.</span><span>
</span><span id="line-325"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-comment">-- Post</span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-comment">--     title    Text</span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-330"></span><span>    </span><span class="hs-comment">-- Comment</span><span>
</span><span id="line-331"></span><span>    </span><span class="hs-comment">--     postId   PostId constraint=&quot;my_cool_constraint_name&quot;</span><span>
</span><span id="line-332"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrDefault"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrDefault"><span class="hs-identifier hs-var">FieldAttrDefault</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-334"></span><span>    </span><span class="hs-comment">-- ^ Specify the default value for a column.</span><span>
</span><span id="line-335"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-comment">--     createdAt    UTCTime     default=&quot;NOW()&quot;</span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-340"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-341"></span><span>    </span><span class="hs-comment">-- Note that a @default=@ attribute does not mean you can omit the value</span><span>
</span><span id="line-342"></span><span>    </span><span class="hs-comment">-- while inserting.</span><span>
</span><span id="line-343"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrSqltype"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrSqltype"><span class="hs-identifier hs-var">FieldAttrSqltype</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-comment">-- ^ Specify a custom SQL type for the column. Generally, you should define</span><span>
</span><span id="line-345"></span><span>    </span><span class="hs-comment">-- a custom datatype with a custom 'PersistFieldSql' instance instead of</span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-comment">-- using this.</span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-348"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-349"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-350"></span><span>    </span><span class="hs-comment">--     uuid     Text    sqltype=&quot;UUID&quot;</span><span>
</span><span id="line-351"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-352"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrMaxlen"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrMaxlen"><span class="hs-identifier hs-var">FieldAttrMaxlen</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-comment">-- ^ Set a maximum length for a column. Useful for VARCHAR and indexes.</span><span>
</span><span id="line-354"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-355"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-356"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-357"></span><span>    </span><span class="hs-comment">--     name     Text    maxlen=200</span><span>
</span><span id="line-358"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-359"></span><span>    </span><span class="hs-comment">--     UniqueName name</span><span>
</span><span id="line-360"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-361"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrSql"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrSql"><span class="hs-identifier hs-var">FieldAttrSql</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-362"></span><span>    </span><span class="hs-comment">-- ^ Specify the database name of the column.</span><span>
</span><span id="line-363"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-364"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-365"></span><span>    </span><span class="hs-comment">-- User</span><span>
</span><span id="line-366"></span><span>    </span><span class="hs-comment">--     blarghle     Int     sql=&quot;b_l_a_r_g_h_l_e&quot;</span><span>
</span><span id="line-367"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-368"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-comment">-- Useful for performing phased migrations, where one column is renamed to</span><span>
</span><span id="line-370"></span><span>    </span><span class="hs-comment">-- another column over time.</span><span>
</span><span id="line-371"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FieldAttrOther"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttrOther"><span class="hs-identifier hs-var">FieldAttrOther</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-comment">-- ^ A grab bag of random attributes that were unrecognized by the parser.</span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925617"><span id="local-6989586621679925619"><span id="local-6989586621679925636"><span class="annot"><span class="annottext">Int -&gt; FieldAttr -&gt; ShowS
[FieldAttr] -&gt; ShowS
FieldAttr -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [FieldAttr] -&gt; ShowS
$cshowList :: [FieldAttr] -&gt; ShowS
show :: FieldAttr -&gt; [Char]
$cshow :: FieldAttr -&gt; [Char]
showsPrec :: Int -&gt; FieldAttr -&gt; ShowS
$cshowsPrec :: Int -&gt; FieldAttr -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925605"><span id="local-6989586621679925615"><span class="annot"><span class="annottext">FieldAttr -&gt; FieldAttr -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c/= :: FieldAttr -&gt; FieldAttr -&gt; Bool
== :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c== :: FieldAttr -&gt; FieldAttr -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925563"><span id="local-6989586621679925598"><span id="local-6989586621679925601"><span id="local-6989586621679925603"><span class="annot"><span class="annottext">ReadPrec [FieldAttr]
ReadPrec FieldAttr
Int -&gt; ReadS FieldAttr
ReadS [FieldAttr]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [FieldAttr]
$creadListPrec :: ReadPrec [FieldAttr]
readPrec :: ReadPrec FieldAttr
$creadPrec :: ReadPrec FieldAttr
readList :: ReadS [FieldAttr]
$creadList :: ReadS [FieldAttr]
readsPrec :: Int -&gt; ReadS FieldAttr
$creadsPrec :: Int -&gt; ReadS FieldAttr
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925538"><span id="local-6989586621679925540"><span id="local-6989586621679925542"><span id="local-6989586621679925544"><span id="local-6989586621679925546"><span id="local-6989586621679925548"><span id="local-6989586621679925558"><span class="annot"><span class="annottext">Eq FieldAttr
FieldAttr -&gt; FieldAttr -&gt; Bool
FieldAttr -&gt; FieldAttr -&gt; Ordering
FieldAttr -&gt; FieldAttr -&gt; FieldAttr
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: FieldAttr -&gt; FieldAttr -&gt; FieldAttr
$cmin :: FieldAttr -&gt; FieldAttr -&gt; FieldAttr
max :: FieldAttr -&gt; FieldAttr -&gt; FieldAttr
$cmax :: FieldAttr -&gt; FieldAttr -&gt; FieldAttr
&gt;= :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c&gt;= :: FieldAttr -&gt; FieldAttr -&gt; Bool
&gt; :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c&gt; :: FieldAttr -&gt; FieldAttr -&gt; Bool
&lt;= :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c&lt;= :: FieldAttr -&gt; FieldAttr -&gt; Bool
&lt; :: FieldAttr -&gt; FieldAttr -&gt; Bool
$c&lt; :: FieldAttr -&gt; FieldAttr -&gt; Bool
compare :: FieldAttr -&gt; FieldAttr -&gt; Ordering
$ccompare :: FieldAttr -&gt; FieldAttr -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925506"><span id="local-6989586621679925536"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; Code m FieldAttr
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; Code m FieldAttr
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; Code m FieldAttr
lift :: forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; FieldAttr -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="hs-comment">-- | Parse raw field attributes into structured form. Any unrecognized</span><span>
</span><span id="line-376"></span><span class="hs-comment">-- attributes will be preserved, identically as they are encountered,</span><span>
</span><span id="line-377"></span><span class="hs-comment">-- as 'FieldAttrOther' values.</span><span>
</span><span id="line-378"></span><span class="hs-comment">--</span><span>
</span><span id="line-379"></span><span class="hs-comment">-- @since 2.11.0.0</span><span>
</span><span id="line-380"></span><span class="annot"><a href="Database.Persist.Types.Base.html#parseFieldAttrs"><span class="hs-identifier hs-type">parseFieldAttrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttr"><span class="hs-identifier hs-type">FieldAttr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-381"></span><span id="parseFieldAttrs"><span class="annot"><span class="annottext">parseFieldAttrs :: [Text] -&gt; [FieldAttr]
</span><a href="Database.Persist.Types.Base.html#parseFieldAttrs"><span class="hs-identifier hs-var hs-var">parseFieldAttrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-382"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Maybe&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMaybe"><span class="hs-identifier hs-var">FieldAttrMaybe</span></a></span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;nullable&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrNullable"><span class="hs-identifier hs-var">FieldAttrNullable</span></a></span><span>
</span><span id="line-384"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MigrationOnly&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMigrationOnly"><span class="hs-identifier hs-var">FieldAttrMigrationOnly</span></a></span><span>
</span><span id="line-385"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SafeToRemove&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrSafeToRemove"><span class="hs-identifier hs-var">FieldAttrSafeToRemove</span></a></span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;noreference&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrNoreference"><span class="hs-identifier hs-var">FieldAttrNoreference</span></a></span><span>
</span><span id="line-387"></span><span>    </span><span id="local-6989586621679925476"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925476"><span class="hs-identifier hs-var">raw</span></a></span></span><span>
</span><span id="line-388"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679925475"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925475"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;reference=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925476"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrReference"><span class="hs-identifier hs-var">FieldAttrReference</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925475"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-389"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679925473"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925473"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;constraint=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925476"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrConstraint"><span class="hs-identifier hs-var">FieldAttrConstraint</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925473"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-390"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679925472"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925472"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;default=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925476"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrDefault"><span class="hs-identifier hs-var">FieldAttrDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925472"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-391"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679925471"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925471"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sqltype=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925476"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrSqltype"><span class="hs-identifier hs-var">FieldAttrSqltype</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925471"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-392"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679925470"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925470"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;maxlen=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925476"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925470"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-393"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">(</span><span id="local-6989586621679925467"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679925467"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925466"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679925466"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isSpace</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679925466"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMaxlen"><span class="hs-identifier hs-var">FieldAttrMaxlen</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679925467"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-394"></span><span>            </span><span class="annot"><span class="annottext">[(Integer, [Char])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Could not parse maxlen field with value &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925476"><span class="hs-identifier hs-var">raw</span></a></span><span>
</span><span id="line-395"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679925463"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925463"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><span class="hs-identifier hs-var">T.stripPrefix</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sql=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925476"><span class="hs-identifier hs-var">raw</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-396"></span><span>            </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrSql"><span class="hs-identifier hs-var">FieldAttrSql</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925463"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-397"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrOther"><span class="hs-identifier hs-var">FieldAttrOther</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679925476"><span class="hs-identifier hs-var">raw</span></a></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-comment">-- | A 'FieldType' describes a field parsed from the QuasiQuoter and is</span><span>
</span><span id="line-400"></span><span class="hs-comment">-- used to determine the Haskell type in the generated code.</span><span>
</span><span id="line-401"></span><span class="hs-comment">--</span><span>
</span><span id="line-402"></span><span class="hs-comment">-- @name Text@ parses into @FTTypeCon Nothing &quot;Text&quot;@</span><span>
</span><span id="line-403"></span><span class="hs-comment">--</span><span>
</span><span id="line-404"></span><span class="hs-comment">-- @name T.Text@ parses into @FTTypeCon (Just &quot;T&quot; &quot;Text&quot;)@</span><span>
</span><span id="line-405"></span><span class="hs-comment">--</span><span>
</span><span id="line-406"></span><span class="hs-comment">-- @name (Jsonb User)@ parses into:</span><span>
</span><span id="line-407"></span><span class="hs-comment">--</span><span>
</span><span id="line-408"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-409"></span><span class="hs-comment">-- FTApp (FTTypeCon Nothing &quot;Jsonb&quot;) (FTTypeCon Nothing &quot;User&quot;)</span><span>
</span><span id="line-410"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-411"></span><span class="hs-keyword">data</span><span> </span><span id="FieldType"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-var">FieldType</span></a></span></span><span>
</span><span id="line-412"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="FTTypeCon"><span class="annot"><a href="Database.Persist.Types.Base.html#FTTypeCon"><span class="hs-identifier hs-var">FTTypeCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-413"></span><span>    </span><span class="hs-comment">-- ^ Optional module and name.</span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FTTypePromoted"><span class="annot"><a href="Database.Persist.Types.Base.html#FTTypePromoted"><span class="hs-identifier hs-var">FTTypePromoted</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-415"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FTApp"><span class="annot"><a href="Database.Persist.Types.Base.html#FTApp"><span class="hs-identifier hs-var">FTApp</span></a></span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span>
</span><span id="line-416"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="FTList"><span class="annot"><a href="Database.Persist.Types.Base.html#FTList"><span class="hs-identifier hs-var">FTList</span></a></span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span>
</span><span id="line-417"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925443"><span id="local-6989586621679925445"><span id="local-6989586621679925457"><span class="annot"><span class="annottext">Int -&gt; FieldType -&gt; ShowS
[FieldType] -&gt; ShowS
FieldType -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [FieldType] -&gt; ShowS
$cshowList :: [FieldType] -&gt; ShowS
show :: FieldType -&gt; [Char]
$cshow :: FieldType -&gt; [Char]
showsPrec :: Int -&gt; FieldType -&gt; ShowS
$cshowsPrec :: Int -&gt; FieldType -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925433"><span id="local-6989586621679925441"><span class="annot"><span class="annottext">FieldType -&gt; FieldType -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: FieldType -&gt; FieldType -&gt; Bool
$c/= :: FieldType -&gt; FieldType -&gt; Bool
== :: FieldType -&gt; FieldType -&gt; Bool
$c== :: FieldType -&gt; FieldType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925403"><span id="local-6989586621679925426"><span id="local-6989586621679925429"><span id="local-6989586621679925431"><span class="annot"><span class="annottext">ReadPrec [FieldType]
ReadPrec FieldType
Int -&gt; ReadS FieldType
ReadS [FieldType]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [FieldType]
$creadListPrec :: ReadPrec [FieldType]
readPrec :: ReadPrec FieldType
$creadPrec :: ReadPrec FieldType
readList :: ReadS [FieldType]
$creadList :: ReadS [FieldType]
readsPrec :: Int -&gt; ReadS FieldType
$creadsPrec :: Int -&gt; ReadS FieldType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925379"><span id="local-6989586621679925381"><span id="local-6989586621679925383"><span id="local-6989586621679925385"><span id="local-6989586621679925387"><span id="local-6989586621679925389"><span id="local-6989586621679925398"><span class="annot"><span class="annottext">Eq FieldType
FieldType -&gt; FieldType -&gt; Bool
FieldType -&gt; FieldType -&gt; Ordering
FieldType -&gt; FieldType -&gt; FieldType
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: FieldType -&gt; FieldType -&gt; FieldType
$cmin :: FieldType -&gt; FieldType -&gt; FieldType
max :: FieldType -&gt; FieldType -&gt; FieldType
$cmax :: FieldType -&gt; FieldType -&gt; FieldType
&gt;= :: FieldType -&gt; FieldType -&gt; Bool
$c&gt;= :: FieldType -&gt; FieldType -&gt; Bool
&gt; :: FieldType -&gt; FieldType -&gt; Bool
$c&gt; :: FieldType -&gt; FieldType -&gt; Bool
&lt;= :: FieldType -&gt; FieldType -&gt; Bool
$c&lt;= :: FieldType -&gt; FieldType -&gt; Bool
&lt; :: FieldType -&gt; FieldType -&gt; Bool
$c&lt; :: FieldType -&gt; FieldType -&gt; Bool
compare :: FieldType -&gt; FieldType -&gt; Ordering
$ccompare :: FieldType -&gt; FieldType -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925357"><span id="local-6989586621679925377"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; Code m FieldType
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; Code m FieldType
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; Code m FieldType
lift :: forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; FieldType -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="annot"><a href="Database.Persist.Types.Base.html#isFieldNotGenerated"><span class="hs-identifier hs-type">isFieldNotGenerated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-420"></span><span id="isFieldNotGenerated"><span class="annot"><span class="annottext">isFieldNotGenerated :: FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#isFieldNotGenerated"><span class="hs-identifier hs-var hs-var">isFieldNotGenerated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; Maybe Text
</span><a href="Database.Persist.Types.Base.html#fieldGenerated"><span class="hs-identifier hs-var">fieldGenerated</span></a></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="hs-comment">-- | There are 3 kinds of references</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- 1) composite (to fields that exist in the record)</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- 2) single field</span><span>
</span><span id="line-425"></span><span class="hs-comment">-- 3) embedded</span><span>
</span><span id="line-426"></span><span class="hs-keyword">data</span><span> </span><span id="ReferenceDef"><span class="annot"><a href="Database.Persist.Types.Base.html#ReferenceDef"><span class="hs-identifier hs-var">ReferenceDef</span></a></span></span><span>
</span><span id="line-427"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="NoReference"><span class="annot"><a href="Database.Persist.Types.Base.html#NoReference"><span class="hs-identifier hs-var">NoReference</span></a></span></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="ForeignRef"><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignRef"><span class="hs-identifier hs-var">ForeignRef</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-comment">-- ^ A ForeignRef has a late binding to the EntityDef it references via name</span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-comment">-- and has the Haskell type of the foreign key in the form of FieldType</span><span>
</span><span id="line-431"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="EmbedRef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedRef"><span class="hs-identifier hs-var">EmbedRef</span></a></span></span><span> </span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-432"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="CompositeRef"><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeRef"><span class="hs-identifier hs-var">CompositeRef</span></a></span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeDef"><span class="hs-identifier hs-type">CompositeDef</span></a></span><span>
</span><span id="line-433"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SelfReference"><span class="annot"><a href="Database.Persist.Types.Base.html#SelfReference"><span class="hs-identifier hs-var">SelfReference</span></a></span></span><span>
</span><span id="line-434"></span><span>    </span><span class="hs-comment">-- ^ A SelfReference stops an immediate cycle which causes non-termination at compile-time (issue #311).</span><span>
</span><span id="line-435"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925319"><span id="local-6989586621679925321"><span id="local-6989586621679925329"><span class="annot"><span class="annottext">Int -&gt; ReferenceDef -&gt; ShowS
[ReferenceDef] -&gt; ShowS
ReferenceDef -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ReferenceDef] -&gt; ShowS
$cshowList :: [ReferenceDef] -&gt; ShowS
show :: ReferenceDef -&gt; [Char]
$cshow :: ReferenceDef -&gt; [Char]
showsPrec :: Int -&gt; ReferenceDef -&gt; ShowS
$cshowsPrec :: Int -&gt; ReferenceDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925312"><span id="local-6989586621679925317"><span class="annot"><span class="annottext">ReferenceDef -&gt; ReferenceDef -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c/= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
== :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c== :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925289"><span id="local-6989586621679925305"><span id="local-6989586621679925308"><span id="local-6989586621679925310"><span class="annot"><span class="annottext">ReadPrec [ReferenceDef]
ReadPrec ReferenceDef
Int -&gt; ReadS ReferenceDef
ReadS [ReferenceDef]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [ReferenceDef]
$creadListPrec :: ReadPrec [ReferenceDef]
readPrec :: ReadPrec ReferenceDef
$creadPrec :: ReadPrec ReferenceDef
readList :: ReadS [ReferenceDef]
$creadList :: ReadS [ReferenceDef]
readsPrec :: Int -&gt; ReadS ReferenceDef
$creadsPrec :: Int -&gt; ReadS ReferenceDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925269"><span id="local-6989586621679925271"><span id="local-6989586621679925273"><span id="local-6989586621679925275"><span id="local-6989586621679925277"><span id="local-6989586621679925279"><span id="local-6989586621679925284"><span class="annot"><span class="annottext">Eq ReferenceDef
ReferenceDef -&gt; ReferenceDef -&gt; Bool
ReferenceDef -&gt; ReferenceDef -&gt; Ordering
ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
$cmin :: ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
max :: ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
$cmax :: ReferenceDef -&gt; ReferenceDef -&gt; ReferenceDef
&gt;= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c&gt;= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
&gt; :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c&gt; :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
&lt;= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c&lt;= :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
&lt; :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
$c&lt; :: ReferenceDef -&gt; ReferenceDef -&gt; Bool
compare :: ReferenceDef -&gt; ReferenceDef -&gt; Ordering
$ccompare :: ReferenceDef -&gt; ReferenceDef -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925253"><span id="local-6989586621679925267"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; ReferenceDef -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
ReferenceDef -&gt; Code m ReferenceDef
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
ReferenceDef -&gt; Code m ReferenceDef
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
ReferenceDef -&gt; Code m ReferenceDef
lift :: forall (m :: * -&gt; *). Quote m =&gt; ReferenceDef -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; ReferenceDef -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-comment">-- | An EmbedEntityDef is the same as an EntityDef</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- But it is only used for fieldReference</span><span>
</span><span id="line-439"></span><span class="hs-comment">-- so it only has data needed for embedding</span><span>
</span><span id="line-440"></span><span class="hs-keyword">data</span><span> </span><span id="EmbedEntityDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedEntityDef"><span class="hs-identifier hs-var">EmbedEntityDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EmbedEntityDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedEntityDef"><span class="hs-identifier hs-var">EmbedEntityDef</span></a></span></span><span>
</span><span id="line-441"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="embeddedHaskell"><span class="annot"><span class="annottext">EmbedEntityDef -&gt; EntityNameHS
</span><a href="Database.Persist.Types.Base.html#embeddedHaskell"><span class="hs-identifier hs-var hs-var">embeddedHaskell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-442"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="embeddedFields"><span class="annot"><span class="annottext">EmbedEntityDef -&gt; [EmbedFieldDef]
</span><a href="Database.Persist.Types.Base.html#embeddedFields"><span class="hs-identifier hs-var hs-var">embeddedFields</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-type">EmbedFieldDef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-443"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925227"><span id="local-6989586621679925229"><span id="local-6989586621679925235"><span class="annot"><span class="annottext">Int -&gt; EmbedEntityDef -&gt; ShowS
[EmbedEntityDef] -&gt; ShowS
EmbedEntityDef -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [EmbedEntityDef] -&gt; ShowS
$cshowList :: [EmbedEntityDef] -&gt; ShowS
show :: EmbedEntityDef -&gt; [Char]
$cshow :: EmbedEntityDef -&gt; [Char]
showsPrec :: Int -&gt; EmbedEntityDef -&gt; ShowS
$cshowsPrec :: Int -&gt; EmbedEntityDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925220"><span id="local-6989586621679925225"><span class="annot"><span class="annottext">EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c/= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
== :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c== :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925201"><span id="local-6989586621679925213"><span id="local-6989586621679925216"><span id="local-6989586621679925218"><span class="annot"><span class="annottext">ReadPrec [EmbedEntityDef]
ReadPrec EmbedEntityDef
Int -&gt; ReadS EmbedEntityDef
ReadS [EmbedEntityDef]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [EmbedEntityDef]
$creadListPrec :: ReadPrec [EmbedEntityDef]
readPrec :: ReadPrec EmbedEntityDef
$creadPrec :: ReadPrec EmbedEntityDef
readList :: ReadS [EmbedEntityDef]
$creadList :: ReadS [EmbedEntityDef]
readsPrec :: Int -&gt; ReadS EmbedEntityDef
$creadsPrec :: Int -&gt; ReadS EmbedEntityDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925175"><span id="local-6989586621679925177"><span id="local-6989586621679925180"><span id="local-6989586621679925183"><span id="local-6989586621679925186"><span id="local-6989586621679925191"><span id="local-6989586621679925196"><span class="annot"><span class="annottext">Eq EmbedEntityDef
EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
EmbedEntityDef -&gt; EmbedEntityDef -&gt; Ordering
EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
$cmin :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
max :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
$cmax :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; EmbedEntityDef
&gt;= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c&gt;= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
&gt; :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c&gt; :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
&lt;= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c&lt;= :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
&lt; :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
$c&lt; :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Bool
compare :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Ordering
$ccompare :: EmbedEntityDef -&gt; EmbedEntityDef -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925164"><span id="local-6989586621679925173"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; EmbedEntityDef -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
EmbedEntityDef -&gt; Code m EmbedEntityDef
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
EmbedEntityDef -&gt; Code m EmbedEntityDef
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
EmbedEntityDef -&gt; Code m EmbedEntityDef
lift :: forall (m :: * -&gt; *). Quote m =&gt; EmbedEntityDef -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; EmbedEntityDef -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-comment">-- | An EmbedFieldDef is the same as a FieldDef</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- But it is only used for embeddedFields</span><span>
</span><span id="line-447"></span><span class="hs-comment">-- so it only has data needed for embedding</span><span>
</span><span id="line-448"></span><span class="hs-keyword">data</span><span> </span><span id="EmbedFieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-var">EmbedFieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EmbedFieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-var">EmbedFieldDef</span></a></span></span><span>
</span><span id="line-449"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="emFieldDB"><span class="annot"><span class="annottext">EmbedFieldDef -&gt; FieldNameDB
</span><a href="Database.Persist.Types.Base.html#emFieldDB"><span class="hs-identifier hs-var hs-var">emFieldDB</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Names.html#FieldNameDB"><span class="hs-identifier hs-type">FieldNameDB</span></a></span><span>
</span><span id="line-450"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="emFieldEmbed"><span class="annot"><span class="annottext">EmbedFieldDef -&gt; Maybe (Either SelfEmbed EntityNameHS)
</span><a href="Database.Persist.Types.Base.html#emFieldEmbed"><span class="hs-identifier hs-var hs-var">emFieldEmbed</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#SelfEmbed"><span class="hs-identifier hs-type">SelfEmbed</span></a></span><span> </span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-452"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925141"><span id="local-6989586621679925143"><span id="local-6989586621679925150"><span class="annot"><span class="annottext">Int -&gt; EmbedFieldDef -&gt; ShowS
[EmbedFieldDef] -&gt; ShowS
EmbedFieldDef -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [EmbedFieldDef] -&gt; ShowS
$cshowList :: [EmbedFieldDef] -&gt; ShowS
show :: EmbedFieldDef -&gt; [Char]
$cshow :: EmbedFieldDef -&gt; [Char]
showsPrec :: Int -&gt; EmbedFieldDef -&gt; ShowS
$cshowsPrec :: Int -&gt; EmbedFieldDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925130"><span id="local-6989586621679925136"><span class="annot"><span class="annottext">EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c/= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
== :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c== :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925107"><span id="local-6989586621679925120"><span id="local-6989586621679925123"><span id="local-6989586621679925125"><span class="annot"><span class="annottext">ReadPrec [EmbedFieldDef]
ReadPrec EmbedFieldDef
Int -&gt; ReadS EmbedFieldDef
ReadS [EmbedFieldDef]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [EmbedFieldDef]
$creadListPrec :: ReadPrec [EmbedFieldDef]
readPrec :: ReadPrec EmbedFieldDef
$creadPrec :: ReadPrec EmbedFieldDef
readList :: ReadS [EmbedFieldDef]
$creadList :: ReadS [EmbedFieldDef]
readsPrec :: Int -&gt; ReadS EmbedFieldDef
$creadsPrec :: Int -&gt; ReadS EmbedFieldDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925077"><span id="local-6989586621679925079"><span id="local-6989586621679925082"><span id="local-6989586621679925085"><span id="local-6989586621679925088"><span id="local-6989586621679925093"><span id="local-6989586621679925099"><span class="annot"><span class="annottext">Eq EmbedFieldDef
EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
EmbedFieldDef -&gt; EmbedFieldDef -&gt; Ordering
EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
$cmin :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
max :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
$cmax :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; EmbedFieldDef
&gt;= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c&gt;= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
&gt; :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c&gt; :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
&lt;= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c&lt;= :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
&lt; :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
$c&lt; :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Bool
compare :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Ordering
$ccompare :: EmbedFieldDef -&gt; EmbedFieldDef -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925060"><span id="local-6989586621679925070"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; EmbedFieldDef -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
EmbedFieldDef -&gt; Code m EmbedFieldDef
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
EmbedFieldDef -&gt; Code m EmbedFieldDef
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
EmbedFieldDef -&gt; Code m EmbedFieldDef
lift :: forall (m :: * -&gt; *). Quote m =&gt; EmbedFieldDef -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; EmbedFieldDef -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-keyword">data</span><span> </span><span id="SelfEmbed"><span class="annot"><a href="Database.Persist.Types.Base.html#SelfEmbed"><span class="hs-identifier hs-var">SelfEmbed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SelfEmbed"><span class="annot"><a href="Database.Persist.Types.Base.html#SelfEmbed"><span class="hs-identifier hs-var">SelfEmbed</span></a></span></span><span>
</span><span id="line-455"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925040"><span id="local-6989586621679925042"><span id="local-6989586621679925044"><span class="annot"><span class="annottext">Int -&gt; SelfEmbed -&gt; ShowS
[SelfEmbed] -&gt; ShowS
SelfEmbed -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SelfEmbed] -&gt; ShowS
$cshowList :: [SelfEmbed] -&gt; ShowS
show :: SelfEmbed -&gt; [Char]
$cshow :: SelfEmbed -&gt; [Char]
showsPrec :: Int -&gt; SelfEmbed -&gt; ShowS
$cshowsPrec :: Int -&gt; SelfEmbed -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925036"><span id="local-6989586621679925038"><span class="annot"><span class="annottext">SelfEmbed -&gt; SelfEmbed -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c/= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
== :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c== :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925025"><span id="local-6989586621679925029"><span id="local-6989586621679925032"><span id="local-6989586621679925034"><span class="annot"><span class="annottext">ReadPrec [SelfEmbed]
ReadPrec SelfEmbed
Int -&gt; ReadS SelfEmbed
ReadS [SelfEmbed]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [SelfEmbed]
$creadListPrec :: ReadPrec [SelfEmbed]
readPrec :: ReadPrec SelfEmbed
$creadPrec :: ReadPrec SelfEmbed
readList :: ReadS [SelfEmbed]
$creadList :: ReadS [SelfEmbed]
readsPrec :: Int -&gt; ReadS SelfEmbed
$creadsPrec :: Int -&gt; ReadS SelfEmbed
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679925005"><span id="local-6989586621679925007"><span id="local-6989586621679925010"><span id="local-6989586621679925013"><span id="local-6989586621679925016"><span id="local-6989586621679925018"><span id="local-6989586621679925020"><span class="annot"><span class="annottext">Eq SelfEmbed
SelfEmbed -&gt; SelfEmbed -&gt; Bool
SelfEmbed -&gt; SelfEmbed -&gt; Ordering
SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
$cmin :: SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
max :: SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
$cmax :: SelfEmbed -&gt; SelfEmbed -&gt; SelfEmbed
&gt;= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c&gt;= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
&gt; :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c&gt; :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
&lt;= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c&lt;= :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
&lt; :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
$c&lt; :: SelfEmbed -&gt; SelfEmbed -&gt; Bool
compare :: SelfEmbed -&gt; SelfEmbed -&gt; Ordering
$ccompare :: SelfEmbed -&gt; SelfEmbed -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924999"><span id="local-6989586621679925003"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; Code m SelfEmbed
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; Code m SelfEmbed
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; Code m SelfEmbed
lift :: forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; SelfEmbed -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="hs-comment">-- | Returns 'True' if the 'FieldDef' does not have a 'MigrationOnly' or</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- 'SafeToRemove' flag from the QuasiQuoter.</span><span>
</span><span id="line-459"></span><span class="hs-comment">--</span><span>
</span><span id="line-460"></span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-461"></span><span class="annot"><a href="Database.Persist.Types.Base.html#isHaskellField"><span class="hs-identifier hs-type">isHaskellField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-462"></span><span id="isHaskellField"><span class="annot"><span class="annottext">isHaskellField :: FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#isHaskellField"><span class="hs-identifier hs-var hs-var">isHaskellField</span></a></span></span><span> </span><span id="local-6989586621679924996"><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679924996"><span class="hs-identifier hs-var">fd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-463"></span><span>    </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrMigrationOnly"><span class="hs-identifier hs-var">FieldAttrMigrationOnly</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; [FieldAttr]
</span><a href="Database.Persist.Types.Base.html#fieldAttrs"><span class="hs-identifier hs-var">fieldAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679924996"><span class="hs-identifier hs-var">fd</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-464"></span><span>    </span><span class="annot"><span class="annottext">FieldAttr
</span><a href="Database.Persist.Types.Base.html#FieldAttrSafeToRemove"><span class="hs-identifier hs-var">FieldAttrSafeToRemove</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; [FieldAttr]
</span><a href="Database.Persist.Types.Base.html#fieldAttrs"><span class="hs-identifier hs-var">fieldAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679924996"><span class="hs-identifier hs-var">fd</span></a></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="annot"><a href="Database.Persist.Types.Base.html#toEmbedEntityDef"><span class="hs-identifier hs-type">toEmbedEntityDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EntityDef"><span class="hs-identifier hs-type">EntityDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedEntityDef"><span class="hs-identifier hs-type">EmbedEntityDef</span></a></span><span>
</span><span id="line-467"></span><span id="toEmbedEntityDef"><span class="annot"><span class="annottext">toEmbedEntityDef :: EntityDef -&gt; EmbedEntityDef
</span><a href="Database.Persist.Types.Base.html#toEmbedEntityDef"><span class="hs-identifier hs-var hs-var">toEmbedEntityDef</span></a></span></span><span> </span><span id="local-6989586621679924991"><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679924991"><span class="hs-identifier hs-var">ent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EmbedEntityDef
</span><a href="#local-6989586621679924990"><span class="hs-identifier hs-var">embDef</span></a></span><span>
</span><span id="line-468"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-469"></span><span>    </span><span id="local-6989586621679924990"><span class="annot"><span class="annottext">embDef :: EmbedEntityDef
</span><a href="#local-6989586621679924990"><span class="hs-identifier hs-var hs-var">embDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedEntityDef"><span class="hs-identifier hs-type">EmbedEntityDef</span></a></span><span>
</span><span id="line-470"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">embeddedHaskell :: EntityNameHS
</span><a href="Database.Persist.Types.Base.html#embeddedHaskell"><span class="hs-identifier hs-var">embeddedHaskell</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; EntityNameHS
</span><a href="Database.Persist.Types.Base.html#entityHaskell"><span class="hs-identifier hs-var">entityHaskell</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679924991"><span class="hs-identifier hs-var">ent</span></a></span><span>
</span><span id="line-471"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">embeddedFields :: [EmbedFieldDef]
</span><a href="Database.Persist.Types.Base.html#embeddedFields"><span class="hs-identifier hs-var">embeddedFields</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-472"></span><span>            </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; EmbedFieldDef
</span><a href="#local-6989586621679924989"><span class="hs-identifier hs-var">toEmbedFieldDef</span></a></span><span>
</span><span id="line-473"></span><span>            </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#isHaskellField"><span class="hs-identifier hs-var">isHaskellField</span></a></span><span>
</span><span id="line-474"></span><span>            </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EntityDef -&gt; [FieldDef]
</span><a href="Database.Persist.Types.Base.html#entityFields"><span class="hs-identifier hs-var">entityFields</span></a></span><span> </span><span class="annot"><span class="annottext">EntityDef
</span><a href="#local-6989586621679924991"><span class="hs-identifier hs-var">ent</span></a></span><span>
</span><span id="line-475"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-476"></span><span>    </span><span class="annot"><a href="#local-6989586621679924989"><span class="hs-identifier hs-type">toEmbedFieldDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-type">EmbedFieldDef</span></a></span><span>
</span><span id="line-477"></span><span>    </span><span id="local-6989586621679924989"><span class="annot"><span class="annottext">toEmbedFieldDef :: FieldDef -&gt; EmbedFieldDef
</span><a href="#local-6989586621679924989"><span class="hs-identifier hs-var hs-var">toEmbedFieldDef</span></a></span></span><span> </span><span id="local-6989586621679924988"><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679924988"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-478"></span><span>        </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedFieldDef"><span class="hs-identifier hs-type">EmbedFieldDef</span></a></span><span>
</span><span id="line-479"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">emFieldDB :: FieldNameDB
</span><a href="Database.Persist.Types.Base.html#emFieldDB"><span class="hs-identifier hs-var">emFieldDB</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-480"></span><span>                </span><span class="annot"><span class="annottext">FieldDef -&gt; FieldNameDB
</span><a href="Database.Persist.Types.Base.html#fieldDB"><span class="hs-identifier hs-var">fieldDB</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679924988"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-481"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">emFieldEmbed :: Maybe (Either SelfEmbed EntityNameHS)
</span><a href="Database.Persist.Types.Base.html#emFieldEmbed"><span class="hs-identifier hs-var">emFieldEmbed</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-482"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldDef -&gt; ReferenceDef
</span><a href="Database.Persist.Types.Base.html#fieldReference"><span class="hs-identifier hs-var">fieldReference</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDef
</span><a href="#local-6989586621679924988"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-483"></span><span>                    </span><span class="annot"><a href="Database.Persist.Types.Base.html#EmbedRef"><span class="hs-identifier hs-type">EmbedRef</span></a></span><span> </span><span id="local-6989586621679924985"><span class="annot"><span class="annottext">EntityNameHS
</span><a href="#local-6989586621679924985"><span class="hs-identifier hs-var">em</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-484"></span><span>                        </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">EntityNameHS
</span><a href="#local-6989586621679924985"><span class="hs-identifier hs-var">em</span></a></span><span>
</span><span id="line-485"></span><span>                    </span><span class="annot"><span class="annottext">ReferenceDef
</span><a href="Database.Persist.Types.Base.html#SelfReference"><span class="hs-identifier hs-var">SelfReference</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">SelfEmbed
</span><a href="Database.Persist.Types.Base.html#SelfEmbed"><span class="hs-identifier hs-var">SelfEmbed</span></a></span><span>
</span><span id="line-486"></span><span>                    </span><span class="annot"><span class="annottext">ReferenceDef
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-487"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span class="hs-comment">-- | Type for storing the Uniqueness constraint in the Schema.  Assume you have</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- the following schema with a uniqueness constraint:</span><span>
</span><span id="line-491"></span><span class="hs-comment">--</span><span>
</span><span id="line-492"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- Person</span><span>
</span><span id="line-494"></span><span class="hs-comment">--   name String</span><span>
</span><span id="line-495"></span><span class="hs-comment">--   age Int</span><span>
</span><span id="line-496"></span><span class="hs-comment">--   UniqueAge age</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-498"></span><span class="hs-comment">--</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- This will be represented as:</span><span>
</span><span id="line-500"></span><span class="hs-comment">--</span><span>
</span><span id="line-501"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-502"></span><span class="hs-comment">-- UniqueDef</span><span>
</span><span id="line-503"></span><span class="hs-comment">--     { uniqueHaskell = ConstraintNameHS (packPTH &quot;UniqueAge&quot;)</span><span>
</span><span id="line-504"></span><span class="hs-comment">--     , uniqueDBName = ConstraintNameDB (packPTH &quot;unique_age&quot;)</span><span>
</span><span id="line-505"></span><span class="hs-comment">--     , uniqueFields = [(FieldNameHS (packPTH &quot;age&quot;), FieldNameDB (packPTH &quot;age&quot;))]</span><span>
</span><span id="line-506"></span><span class="hs-comment">--     , uniqueAttrs = []</span><span>
</span><span id="line-507"></span><span class="hs-comment">--     }</span><span>
</span><span id="line-508"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-509"></span><span class="hs-comment">--</span><span>
</span><span id="line-510"></span><span class="hs-keyword">data</span><span> </span><span id="UniqueDef"><span class="annot"><a href="Database.Persist.Types.Base.html#UniqueDef"><span class="hs-identifier hs-var">UniqueDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UniqueDef"><span class="annot"><a href="Database.Persist.Types.Base.html#UniqueDef"><span class="hs-identifier hs-var">UniqueDef</span></a></span></span><span>
</span><span id="line-511"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="uniqueHaskell"><span class="annot"><span class="annottext">UniqueDef -&gt; ConstraintNameHS
</span><a href="Database.Persist.Types.Base.html#uniqueHaskell"><span class="hs-identifier hs-var hs-var">uniqueHaskell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#ConstraintNameHS"><span class="hs-identifier hs-type">ConstraintNameHS</span></a></span><span>
</span><span id="line-512"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="uniqueDBName"><span class="annot"><span class="annottext">UniqueDef -&gt; ConstraintNameDB
</span><a href="Database.Persist.Types.Base.html#uniqueDBName"><span class="hs-identifier hs-var hs-var">uniqueDBName</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#ConstraintNameDB"><span class="hs-identifier hs-type">ConstraintNameDB</span></a></span><span>
</span><span id="line-513"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="uniqueFields"><span class="annot"><span class="annottext">UniqueDef -&gt; NonEmpty (FieldNameHS, FieldNameDB)
</span><a href="Database.Persist.Types.Base.html#uniqueFields"><span class="hs-identifier hs-var hs-var">uniqueFields</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Names.html#FieldNameHS"><span class="hs-identifier hs-type">FieldNameHS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Names.html#FieldNameDB"><span class="hs-identifier hs-type">FieldNameDB</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-514"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="uniqueAttrs"><span class="annot"><span class="annottext">UniqueDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#uniqueAttrs"><span class="hs-identifier hs-var hs-var">uniqueAttrs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-type">Attr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-515"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-516"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924965"><span id="local-6989586621679924967"><span id="local-6989586621679924978"><span class="annot"><span class="annottext">Int -&gt; UniqueDef -&gt; ShowS
[UniqueDef] -&gt; ShowS
UniqueDef -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [UniqueDef] -&gt; ShowS
$cshowList :: [UniqueDef] -&gt; ShowS
show :: UniqueDef -&gt; [Char]
$cshow :: UniqueDef -&gt; [Char]
showsPrec :: Int -&gt; UniqueDef -&gt; ShowS
$cshowsPrec :: Int -&gt; UniqueDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924949"><span id="local-6989586621679924959"><span class="annot"><span class="annottext">UniqueDef -&gt; UniqueDef -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c/= :: UniqueDef -&gt; UniqueDef -&gt; Bool
== :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c== :: UniqueDef -&gt; UniqueDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924916"><span id="local-6989586621679924938"><span id="local-6989586621679924941"><span id="local-6989586621679924943"><span class="annot"><span class="annottext">ReadPrec [UniqueDef]
ReadPrec UniqueDef
Int -&gt; ReadS UniqueDef
ReadS [UniqueDef]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [UniqueDef]
$creadListPrec :: ReadPrec [UniqueDef]
readPrec :: ReadPrec UniqueDef
$creadPrec :: ReadPrec UniqueDef
readList :: ReadS [UniqueDef]
$creadList :: ReadS [UniqueDef]
readsPrec :: Int -&gt; ReadS UniqueDef
$creadsPrec :: Int -&gt; ReadS UniqueDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924877"><span id="local-6989586621679924879"><span id="local-6989586621679924882"><span id="local-6989586621679924885"><span id="local-6989586621679924888"><span id="local-6989586621679924896"><span id="local-6989586621679924907"><span class="annot"><span class="annottext">Eq UniqueDef
UniqueDef -&gt; UniqueDef -&gt; Bool
UniqueDef -&gt; UniqueDef -&gt; Ordering
UniqueDef -&gt; UniqueDef -&gt; UniqueDef
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: UniqueDef -&gt; UniqueDef -&gt; UniqueDef
$cmin :: UniqueDef -&gt; UniqueDef -&gt; UniqueDef
max :: UniqueDef -&gt; UniqueDef -&gt; UniqueDef
$cmax :: UniqueDef -&gt; UniqueDef -&gt; UniqueDef
&gt;= :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c&gt;= :: UniqueDef -&gt; UniqueDef -&gt; Bool
&gt; :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c&gt; :: UniqueDef -&gt; UniqueDef -&gt; Bool
&lt;= :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c&lt;= :: UniqueDef -&gt; UniqueDef -&gt; Bool
&lt; :: UniqueDef -&gt; UniqueDef -&gt; Bool
$c&lt; :: UniqueDef -&gt; UniqueDef -&gt; Bool
compare :: UniqueDef -&gt; UniqueDef -&gt; Ordering
$ccompare :: UniqueDef -&gt; UniqueDef -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924852"><span id="local-6989586621679924869"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; Code m UniqueDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; Code m UniqueDef
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; Code m UniqueDef
lift :: forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; UniqueDef -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span class="hs-keyword">data</span><span> </span><span id="CompositeDef"><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeDef"><span class="hs-identifier hs-var">CompositeDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CompositeDef"><span class="annot"><a href="Database.Persist.Types.Base.html#CompositeDef"><span class="hs-identifier hs-var">CompositeDef</span></a></span></span><span>
</span><span id="line-519"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="compositeFields"><span class="annot"><span class="annottext">CompositeDef -&gt; NonEmpty FieldDef
</span><a href="Database.Persist.Types.Base.html#compositeFields"><span class="hs-identifier hs-var hs-var">compositeFields</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-520"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="compositeAttrs"><span class="annot"><span class="annottext">CompositeDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#compositeAttrs"><span class="hs-identifier hs-var hs-var">compositeAttrs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-type">Attr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-521"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-522"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924822"><span id="local-6989586621679924824"><span id="local-6989586621679924830"><span class="annot"><span class="annottext">Int -&gt; CompositeDef -&gt; ShowS
[CompositeDef] -&gt; ShowS
CompositeDef -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [CompositeDef] -&gt; ShowS
$cshowList :: [CompositeDef] -&gt; ShowS
show :: CompositeDef -&gt; [Char]
$cshow :: CompositeDef -&gt; [Char]
showsPrec :: Int -&gt; CompositeDef -&gt; ShowS
$cshowsPrec :: Int -&gt; CompositeDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924815"><span id="local-6989586621679924820"><span class="annot"><span class="annottext">CompositeDef -&gt; CompositeDef -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c/= :: CompositeDef -&gt; CompositeDef -&gt; Bool
== :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c== :: CompositeDef -&gt; CompositeDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924795"><span id="local-6989586621679924808"><span id="local-6989586621679924811"><span id="local-6989586621679924813"><span class="annot"><span class="annottext">ReadPrec [CompositeDef]
ReadPrec CompositeDef
Int -&gt; ReadS CompositeDef
ReadS [CompositeDef]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [CompositeDef]
$creadListPrec :: ReadPrec [CompositeDef]
readPrec :: ReadPrec CompositeDef
$creadPrec :: ReadPrec CompositeDef
readList :: ReadS [CompositeDef]
$creadList :: ReadS [CompositeDef]
readsPrec :: Int -&gt; ReadS CompositeDef
$creadsPrec :: Int -&gt; ReadS CompositeDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924767"><span id="local-6989586621679924769"><span id="local-6989586621679924772"><span id="local-6989586621679924775"><span id="local-6989586621679924778"><span id="local-6989586621679924784"><span id="local-6989586621679924790"><span class="annot"><span class="annottext">Eq CompositeDef
CompositeDef -&gt; CompositeDef -&gt; Bool
CompositeDef -&gt; CompositeDef -&gt; Ordering
CompositeDef -&gt; CompositeDef -&gt; CompositeDef
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: CompositeDef -&gt; CompositeDef -&gt; CompositeDef
$cmin :: CompositeDef -&gt; CompositeDef -&gt; CompositeDef
max :: CompositeDef -&gt; CompositeDef -&gt; CompositeDef
$cmax :: CompositeDef -&gt; CompositeDef -&gt; CompositeDef
&gt;= :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c&gt;= :: CompositeDef -&gt; CompositeDef -&gt; Bool
&gt; :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c&gt; :: CompositeDef -&gt; CompositeDef -&gt; Bool
&lt;= :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c&lt;= :: CompositeDef -&gt; CompositeDef -&gt; Bool
&lt; :: CompositeDef -&gt; CompositeDef -&gt; Bool
$c&lt; :: CompositeDef -&gt; CompositeDef -&gt; Bool
compare :: CompositeDef -&gt; CompositeDef -&gt; Ordering
$ccompare :: CompositeDef -&gt; CompositeDef -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924755"><span id="local-6989586621679924765"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; CompositeDef -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
CompositeDef -&gt; Code m CompositeDef
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
CompositeDef -&gt; Code m CompositeDef
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
CompositeDef -&gt; Code m CompositeDef
lift :: forall (m :: * -&gt; *). Quote m =&gt; CompositeDef -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; CompositeDef -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-comment">-- | Used instead of FieldDef</span><span>
</span><span id="line-525"></span><span class="hs-comment">-- to generate a smaller amount of code</span><span>
</span><span id="line-526"></span><span class="hs-keyword">type</span><span> </span><span id="ForeignFieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignFieldDef"><span class="hs-identifier hs-var">ForeignFieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Names.html#FieldNameHS"><span class="hs-identifier hs-type">FieldNameHS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Names.html#FieldNameDB"><span class="hs-identifier hs-type">FieldNameDB</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="hs-keyword">data</span><span> </span><span id="ForeignDef"><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignDef"><span class="hs-identifier hs-var">ForeignDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ForeignDef"><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignDef"><span class="hs-identifier hs-var">ForeignDef</span></a></span></span><span>
</span><span id="line-529"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="foreignRefTableHaskell"><span class="annot"><span class="annottext">ForeignDef -&gt; EntityNameHS
</span><a href="Database.Persist.Types.Base.html#foreignRefTableHaskell"><span class="hs-identifier hs-var hs-var">foreignRefTableHaskell</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameHS"><span class="hs-identifier hs-type">EntityNameHS</span></a></span><span>
</span><span id="line-530"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignRefTableDBName"><span class="annot"><span class="annottext">ForeignDef -&gt; EntityNameDB
</span><a href="Database.Persist.Types.Base.html#foreignRefTableDBName"><span class="hs-identifier hs-var hs-var">foreignRefTableDBName</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#EntityNameDB"><span class="hs-identifier hs-type">EntityNameDB</span></a></span><span>
</span><span id="line-531"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignConstraintNameHaskell"><span class="annot"><span class="annottext">ForeignDef -&gt; ConstraintNameHS
</span><a href="Database.Persist.Types.Base.html#foreignConstraintNameHaskell"><span class="hs-identifier hs-var hs-var">foreignConstraintNameHaskell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#ConstraintNameHS"><span class="hs-identifier hs-type">ConstraintNameHS</span></a></span><span>
</span><span id="line-532"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignConstraintNameDBName"><span class="annot"><span class="annottext">ForeignDef -&gt; ConstraintNameDB
</span><a href="Database.Persist.Types.Base.html#foreignConstraintNameDBName"><span class="hs-identifier hs-var hs-var">foreignConstraintNameDBName</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#ConstraintNameDB"><span class="hs-identifier hs-type">ConstraintNameDB</span></a></span><span>
</span><span id="line-533"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignFieldCascade"><span class="annot"><span class="annottext">ForeignDef -&gt; FieldCascade
</span><a href="Database.Persist.Types.Base.html#foreignFieldCascade"><span class="hs-identifier hs-var hs-var">foreignFieldCascade</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span>
</span><span id="line-534"></span><span>    </span><span class="hs-comment">-- ^ Determine how the field will cascade on updates and deletions.</span><span>
</span><span id="line-535"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-536"></span><span>    </span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-537"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignFields"><span class="annot"><span class="annottext">ForeignDef
-&gt; [((FieldNameHS, FieldNameDB), (FieldNameHS, FieldNameDB))]
</span><a href="Database.Persist.Types.Base.html#foreignFields"><span class="hs-identifier hs-var hs-var">foreignFields</span></a></span></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignFieldDef"><span class="hs-identifier hs-type">ForeignFieldDef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#ForeignFieldDef"><span class="hs-identifier hs-type">ForeignFieldDef</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- this entity plus the primary entity</span><span>
</span><span id="line-538"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignAttrs"><span class="annot"><span class="annottext">ForeignDef -&gt; [Text]
</span><a href="Database.Persist.Types.Base.html#foreignAttrs"><span class="hs-identifier hs-var hs-var">foreignAttrs</span></a></span></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#Attr"><span class="hs-identifier hs-type">Attr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-539"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignNullable"><span class="annot"><span class="annottext">ForeignDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#foreignNullable"><span class="hs-identifier hs-var hs-var">foreignNullable</span></a></span></span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-540"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="foreignToPrimary"><span class="annot"><span class="annottext">ForeignDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#foreignToPrimary"><span class="hs-identifier hs-var hs-var">foreignToPrimary</span></a></span></span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-541"></span><span>    </span><span class="hs-comment">-- ^ Determines if the reference is towards a Primary Key or not.</span><span>
</span><span id="line-542"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-543"></span><span>    </span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-544"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-545"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924719"><span id="local-6989586621679924721"><span id="local-6989586621679924734"><span class="annot"><span class="annottext">Int -&gt; ForeignDef -&gt; ShowS
[ForeignDef] -&gt; ShowS
ForeignDef -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ForeignDef] -&gt; ShowS
$cshowList :: [ForeignDef] -&gt; ShowS
show :: ForeignDef -&gt; [Char]
$cshow :: ForeignDef -&gt; [Char]
showsPrec :: Int -&gt; ForeignDef -&gt; ShowS
$cshowsPrec :: Int -&gt; ForeignDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924701"><span id="local-6989586621679924713"><span class="annot"><span class="annottext">ForeignDef -&gt; ForeignDef -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c/= :: ForeignDef -&gt; ForeignDef -&gt; Bool
== :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c== :: ForeignDef -&gt; ForeignDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924656"><span id="local-6989586621679924690"><span id="local-6989586621679924693"><span id="local-6989586621679924695"><span class="annot"><span class="annottext">ReadPrec [ForeignDef]
ReadPrec ForeignDef
Int -&gt; ReadS ForeignDef
ReadS [ForeignDef]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [ForeignDef]
$creadListPrec :: ReadPrec [ForeignDef]
readPrec :: ReadPrec ForeignDef
$creadPrec :: ReadPrec ForeignDef
readList :: ReadS [ForeignDef]
$creadList :: ReadS [ForeignDef]
readsPrec :: Int -&gt; ReadS ForeignDef
$creadsPrec :: Int -&gt; ReadS ForeignDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924610"><span id="local-6989586621679924612"><span id="local-6989586621679924615"><span id="local-6989586621679924618"><span id="local-6989586621679924621"><span id="local-6989586621679924634"><span id="local-6989586621679924647"><span class="annot"><span class="annottext">Eq ForeignDef
ForeignDef -&gt; ForeignDef -&gt; Bool
ForeignDef -&gt; ForeignDef -&gt; Ordering
ForeignDef -&gt; ForeignDef -&gt; ForeignDef
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ForeignDef -&gt; ForeignDef -&gt; ForeignDef
$cmin :: ForeignDef -&gt; ForeignDef -&gt; ForeignDef
max :: ForeignDef -&gt; ForeignDef -&gt; ForeignDef
$cmax :: ForeignDef -&gt; ForeignDef -&gt; ForeignDef
&gt;= :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c&gt;= :: ForeignDef -&gt; ForeignDef -&gt; Bool
&gt; :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c&gt; :: ForeignDef -&gt; ForeignDef -&gt; Bool
&lt;= :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c&lt;= :: ForeignDef -&gt; ForeignDef -&gt; Bool
&lt; :: ForeignDef -&gt; ForeignDef -&gt; Bool
$c&lt; :: ForeignDef -&gt; ForeignDef -&gt; Bool
compare :: ForeignDef -&gt; ForeignDef -&gt; Ordering
$ccompare :: ForeignDef -&gt; ForeignDef -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924575"><span id="local-6989586621679924600"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; Code m ForeignDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; Code m ForeignDef
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; Code m ForeignDef
lift :: forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; ForeignDef -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span>
</span><span id="line-547"></span><span class="hs-comment">-- | This datatype describes how a foreign reference field cascades deletes</span><span>
</span><span id="line-548"></span><span class="hs-comment">-- or updates.</span><span>
</span><span id="line-549"></span><span class="hs-comment">--</span><span>
</span><span id="line-550"></span><span class="hs-comment">-- This type is used in both parsing the model definitions and performing</span><span>
</span><span id="line-551"></span><span class="hs-comment">-- migrations. A 'Nothing' in either of the field values means that the</span><span>
</span><span id="line-552"></span><span class="hs-comment">-- user has not specified a 'CascadeAction'. An unspecified 'CascadeAction'</span><span>
</span><span id="line-553"></span><span class="hs-comment">-- is defaulted to 'Restrict' when doing migrations.</span><span>
</span><span id="line-554"></span><span class="hs-comment">--</span><span>
</span><span id="line-555"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-556"></span><span class="hs-keyword">data</span><span> </span><span id="FieldCascade"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-var">FieldCascade</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FieldCascade"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-var">FieldCascade</span></a></span></span><span>
</span><span id="line-557"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="fcOnUpdate"><span class="annot"><span class="annottext">FieldCascade -&gt; Maybe CascadeAction
</span><a href="Database.Persist.Types.Base.html#fcOnUpdate"><span class="hs-identifier hs-var hs-var">fcOnUpdate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#CascadeAction"><span class="hs-identifier hs-type">CascadeAction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fcOnDelete"><span class="annot"><span class="annottext">FieldCascade -&gt; Maybe CascadeAction
</span><a href="Database.Persist.Types.Base.html#fcOnDelete"><span class="hs-identifier hs-var hs-var">fcOnDelete</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#CascadeAction"><span class="hs-identifier hs-type">CascadeAction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-559"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-560"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924532"><span id="local-6989586621679924534"><span id="local-6989586621679924540"><span class="annot"><span class="annottext">Int -&gt; FieldCascade -&gt; ShowS
[FieldCascade] -&gt; ShowS
FieldCascade -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [FieldCascade] -&gt; ShowS
$cshowList :: [FieldCascade] -&gt; ShowS
show :: FieldCascade -&gt; [Char]
$cshow :: FieldCascade -&gt; [Char]
showsPrec :: Int -&gt; FieldCascade -&gt; ShowS
$cshowsPrec :: Int -&gt; FieldCascade -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924525"><span id="local-6989586621679924530"><span class="annot"><span class="annottext">FieldCascade -&gt; FieldCascade -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c/= :: FieldCascade -&gt; FieldCascade -&gt; Bool
== :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c== :: FieldCascade -&gt; FieldCascade -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924506"><span id="local-6989586621679924518"><span id="local-6989586621679924521"><span id="local-6989586621679924523"><span class="annot"><span class="annottext">ReadPrec [FieldCascade]
ReadPrec FieldCascade
Int -&gt; ReadS FieldCascade
ReadS [FieldCascade]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [FieldCascade]
$creadListPrec :: ReadPrec [FieldCascade]
readPrec :: ReadPrec FieldCascade
$creadPrec :: ReadPrec FieldCascade
readList :: ReadS [FieldCascade]
$creadList :: ReadS [FieldCascade]
readsPrec :: Int -&gt; ReadS FieldCascade
$creadsPrec :: Int -&gt; ReadS FieldCascade
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924480"><span id="local-6989586621679924482"><span id="local-6989586621679924485"><span id="local-6989586621679924488"><span id="local-6989586621679924491"><span id="local-6989586621679924496"><span id="local-6989586621679924501"><span class="annot"><span class="annottext">Eq FieldCascade
FieldCascade -&gt; FieldCascade -&gt; Bool
FieldCascade -&gt; FieldCascade -&gt; Ordering
FieldCascade -&gt; FieldCascade -&gt; FieldCascade
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: FieldCascade -&gt; FieldCascade -&gt; FieldCascade
$cmin :: FieldCascade -&gt; FieldCascade -&gt; FieldCascade
max :: FieldCascade -&gt; FieldCascade -&gt; FieldCascade
$cmax :: FieldCascade -&gt; FieldCascade -&gt; FieldCascade
&gt;= :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c&gt;= :: FieldCascade -&gt; FieldCascade -&gt; Bool
&gt; :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c&gt; :: FieldCascade -&gt; FieldCascade -&gt; Bool
&lt;= :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c&lt;= :: FieldCascade -&gt; FieldCascade -&gt; Bool
&lt; :: FieldCascade -&gt; FieldCascade -&gt; Bool
$c&lt; :: FieldCascade -&gt; FieldCascade -&gt; Bool
compare :: FieldCascade -&gt; FieldCascade -&gt; Ordering
$ccompare :: FieldCascade -&gt; FieldCascade -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924469"><span id="local-6989586621679924478"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; FieldCascade -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
FieldCascade -&gt; Code m FieldCascade
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
FieldCascade -&gt; Code m FieldCascade
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
FieldCascade -&gt; Code m FieldCascade
lift :: forall (m :: * -&gt; *). Quote m =&gt; FieldCascade -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; FieldCascade -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-561"></span><span>
</span><span id="line-562"></span><span class="hs-comment">-- | A 'FieldCascade' that does nothing.</span><span>
</span><span id="line-563"></span><span class="hs-comment">--</span><span>
</span><span id="line-564"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-565"></span><span class="annot"><a href="Database.Persist.Types.Base.html#noCascade"><span class="hs-identifier hs-type">noCascade</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span>
</span><span id="line-566"></span><span id="noCascade"><span class="annot"><span class="annottext">noCascade :: FieldCascade
</span><a href="Database.Persist.Types.Base.html#noCascade"><span class="hs-identifier hs-var hs-var">noCascade</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CascadeAction -&gt; Maybe CascadeAction -&gt; FieldCascade
</span><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-var">FieldCascade</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-567"></span><span>
</span><span id="line-568"></span><span class="hs-comment">-- | Renders a 'FieldCascade' value such that it can be used in SQL</span><span>
</span><span id="line-569"></span><span class="hs-comment">-- migrations.</span><span>
</span><span id="line-570"></span><span class="hs-comment">--</span><span>
</span><span id="line-571"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-572"></span><span class="annot"><a href="Database.Persist.Types.Base.html#renderFieldCascade"><span class="hs-identifier hs-type">renderFieldCascade</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-573"></span><span id="renderFieldCascade"><span class="annot"><span class="annottext">renderFieldCascade :: FieldCascade -&gt; Text
</span><a href="Database.Persist.Types.Base.html#renderFieldCascade"><span class="hs-identifier hs-var hs-var">renderFieldCascade</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span> </span><span id="local-6989586621679924458"><span class="annot"><span class="annottext">Maybe CascadeAction
</span><a href="#local-6989586621679924458"><span class="hs-identifier hs-var">onUpdate</span></a></span></span><span> </span><span id="local-6989586621679924457"><span class="annot"><span class="annottext">Maybe CascadeAction
</span><a href="#local-6989586621679924457"><span class="hs-identifier hs-var">onDelete</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-574"></span><span>    </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.unwords</span></span><span>
</span><span id="line-575"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; ON DELETE &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CascadeAction -&gt; Text
</span><a href="Database.Persist.Types.Base.html#renderCascadeAction"><span class="hs-identifier hs-var">renderCascadeAction</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe CascadeAction
</span><a href="#local-6989586621679924457"><span class="hs-identifier hs-var">onDelete</span></a></span><span>
</span><span id="line-576"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; ON UPDATE &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CascadeAction -&gt; Text
</span><a href="Database.Persist.Types.Base.html#renderCascadeAction"><span class="hs-identifier hs-var">renderCascadeAction</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe CascadeAction
</span><a href="#local-6989586621679924458"><span class="hs-identifier hs-var">onUpdate</span></a></span><span>
</span><span id="line-577"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span class="hs-comment">-- | An action that might happen on a deletion or update on a foreign key</span><span>
</span><span id="line-580"></span><span class="hs-comment">-- change.</span><span>
</span><span id="line-581"></span><span class="hs-comment">--</span><span>
</span><span id="line-582"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-583"></span><span class="hs-keyword">data</span><span> </span><span id="CascadeAction"><span class="annot"><a href="Database.Persist.Types.Base.html#CascadeAction"><span class="hs-identifier hs-var">CascadeAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Cascade"><span class="annot"><a href="Database.Persist.Types.Base.html#Cascade"><span class="hs-identifier hs-var">Cascade</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Restrict"><span class="annot"><a href="Database.Persist.Types.Base.html#Restrict"><span class="hs-identifier hs-var">Restrict</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="SetNull"><span class="annot"><a href="Database.Persist.Types.Base.html#SetNull"><span class="hs-identifier hs-var">SetNull</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="SetDefault"><span class="annot"><a href="Database.Persist.Types.Base.html#SetDefault"><span class="hs-identifier hs-var">SetDefault</span></a></span></span><span>
</span><span id="line-584"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924444"><span id="local-6989586621679924446"><span id="local-6989586621679924448"><span class="annot"><span class="annottext">Int -&gt; CascadeAction -&gt; ShowS
[CascadeAction] -&gt; ShowS
CascadeAction -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [CascadeAction] -&gt; ShowS
$cshowList :: [CascadeAction] -&gt; ShowS
show :: CascadeAction -&gt; [Char]
$cshow :: CascadeAction -&gt; [Char]
showsPrec :: Int -&gt; CascadeAction -&gt; ShowS
$cshowsPrec :: Int -&gt; CascadeAction -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924440"><span id="local-6989586621679924442"><span class="annot"><span class="annottext">CascadeAction -&gt; CascadeAction -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c/= :: CascadeAction -&gt; CascadeAction -&gt; Bool
== :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c== :: CascadeAction -&gt; CascadeAction -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924427"><span id="local-6989586621679924433"><span id="local-6989586621679924436"><span id="local-6989586621679924438"><span class="annot"><span class="annottext">ReadPrec [CascadeAction]
ReadPrec CascadeAction
Int -&gt; ReadS CascadeAction
ReadS [CascadeAction]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [CascadeAction]
$creadListPrec :: ReadPrec [CascadeAction]
readPrec :: ReadPrec CascadeAction
$creadPrec :: ReadPrec CascadeAction
readList :: ReadS [CascadeAction]
$creadList :: ReadS [CascadeAction]
readsPrec :: Int -&gt; ReadS CascadeAction
$creadsPrec :: Int -&gt; ReadS CascadeAction
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924407"><span id="local-6989586621679924409"><span id="local-6989586621679924412"><span id="local-6989586621679924415"><span id="local-6989586621679924418"><span id="local-6989586621679924420"><span id="local-6989586621679924422"><span class="annot"><span class="annottext">Eq CascadeAction
CascadeAction -&gt; CascadeAction -&gt; Bool
CascadeAction -&gt; CascadeAction -&gt; Ordering
CascadeAction -&gt; CascadeAction -&gt; CascadeAction
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: CascadeAction -&gt; CascadeAction -&gt; CascadeAction
$cmin :: CascadeAction -&gt; CascadeAction -&gt; CascadeAction
max :: CascadeAction -&gt; CascadeAction -&gt; CascadeAction
$cmax :: CascadeAction -&gt; CascadeAction -&gt; CascadeAction
&gt;= :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c&gt;= :: CascadeAction -&gt; CascadeAction -&gt; Bool
&gt; :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c&gt; :: CascadeAction -&gt; CascadeAction -&gt; Bool
&lt;= :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c&lt;= :: CascadeAction -&gt; CascadeAction -&gt; Bool
&lt; :: CascadeAction -&gt; CascadeAction -&gt; Bool
$c&lt; :: CascadeAction -&gt; CascadeAction -&gt; Bool
compare :: CascadeAction -&gt; CascadeAction -&gt; Ordering
$ccompare :: CascadeAction -&gt; CascadeAction -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924398"><span id="local-6989586621679924405"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; CascadeAction -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
CascadeAction -&gt; Code m CascadeAction
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
CascadeAction -&gt; Code m CascadeAction
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
CascadeAction -&gt; Code m CascadeAction
lift :: forall (m :: * -&gt; *). Quote m =&gt; CascadeAction -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; CascadeAction -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-585"></span><span>
</span><span id="line-586"></span><span class="hs-comment">-- | Render a 'CascadeAction' to 'Text' such that it can be used in a SQL</span><span>
</span><span id="line-587"></span><span class="hs-comment">-- command.</span><span>
</span><span id="line-588"></span><span class="hs-comment">--</span><span>
</span><span id="line-589"></span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-590"></span><span class="annot"><a href="Database.Persist.Types.Base.html#renderCascadeAction"><span class="hs-identifier hs-type">renderCascadeAction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#CascadeAction"><span class="hs-identifier hs-type">CascadeAction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-591"></span><span id="renderCascadeAction"><span class="annot"><span class="annottext">renderCascadeAction :: CascadeAction -&gt; Text
</span><a href="Database.Persist.Types.Base.html#renderCascadeAction"><span class="hs-identifier hs-var hs-var">renderCascadeAction</span></a></span></span><span> </span><span id="local-6989586621679924392"><span class="annot"><span class="annottext">CascadeAction
</span><a href="#local-6989586621679924392"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="#local-6989586621679924392"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-592"></span><span>  </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="Database.Persist.Types.Base.html#Cascade"><span class="hs-identifier hs-var">Cascade</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;CASCADE&quot;</span></span><span>
</span><span id="line-593"></span><span>  </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="Database.Persist.Types.Base.html#Restrict"><span class="hs-identifier hs-var">Restrict</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;RESTRICT&quot;</span></span><span>
</span><span id="line-594"></span><span>  </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="Database.Persist.Types.Base.html#SetNull"><span class="hs-identifier hs-var">SetNull</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SET NULL&quot;</span></span><span>
</span><span id="line-595"></span><span>  </span><span class="annot"><span class="annottext">CascadeAction
</span><a href="Database.Persist.Types.Base.html#SetDefault"><span class="hs-identifier hs-var">SetDefault</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SET DEFAULT&quot;</span></span><span>
</span><span id="line-596"></span><span>
</span><span id="line-597"></span><span class="hs-keyword">data</span><span> </span><span id="PersistException"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistException"><span class="hs-identifier hs-var">PersistException</span></a></span></span><span>
</span><span id="line-598"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PersistError"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistError"><span class="hs-identifier hs-var">PersistError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-comment">-- ^ Generic Exception</span><span>
</span><span id="line-599"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistMarshalError"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistMarshalError"><span class="hs-identifier hs-var">PersistMarshalError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-600"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistInvalidField"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistInvalidField"><span class="hs-identifier hs-var">PersistInvalidField</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-601"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistForeignConstraintUnmet"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistForeignConstraintUnmet"><span class="hs-identifier hs-var">PersistForeignConstraintUnmet</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-602"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistMongoDBError"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistMongoDBError"><span class="hs-identifier hs-var">PersistMongoDBError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-603"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PersistMongoDBUnsupported"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistMongoDBUnsupported"><span class="hs-identifier hs-var">PersistMongoDBUnsupported</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-604"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679924368"><span id="local-6989586621679924370"><span id="local-6989586621679924384"><span class="annot"><span class="annottext">Int -&gt; PersistException -&gt; ShowS
[PersistException] -&gt; ShowS
PersistException -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PersistException] -&gt; ShowS
$cshowList :: [PersistException] -&gt; ShowS
show :: PersistException -&gt; [Char]
$cshow :: PersistException -&gt; [Char]
showsPrec :: Int -&gt; PersistException -&gt; ShowS
$cshowsPrec :: Int -&gt; PersistException -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span>
</span><span id="line-605"></span><span>
</span><span id="line-606"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679924358"><span id="local-6989586621679924360"><span id="local-6989586621679924362"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#PersistException"><span class="hs-identifier hs-type">PersistException</span></a></span></span></span></span><span>
</span><span id="line-607"></span><span>
</span><span id="line-608"></span><span class="hs-comment">-- | A SQL data type. Naming attempts to reflect the underlying Haskell</span><span>
</span><span id="line-609"></span><span class="hs-comment">-- datatypes, eg SqlString instead of SqlVarchar. Different SQL databases may</span><span>
</span><span id="line-610"></span><span class="hs-comment">-- have different translations for these types.</span><span>
</span><span id="line-611"></span><span class="hs-keyword">data</span><span> </span><span id="SqlType"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlType"><span class="hs-identifier hs-var">SqlType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SqlString"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlString"><span class="hs-identifier hs-var">SqlString</span></a></span></span><span>
</span><span id="line-612"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlInt32"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlInt32"><span class="hs-identifier hs-var">SqlInt32</span></a></span></span><span>
</span><span id="line-613"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlInt64"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlInt64"><span class="hs-identifier hs-var">SqlInt64</span></a></span></span><span>
</span><span id="line-614"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlReal"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlReal"><span class="hs-identifier hs-var">SqlReal</span></a></span></span><span>
</span><span id="line-615"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlNumeric"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlNumeric"><span class="hs-identifier hs-var">SqlNumeric</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>
</span><span id="line-616"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlBool"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlBool"><span class="hs-identifier hs-var">SqlBool</span></a></span></span><span>
</span><span id="line-617"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlDay"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlDay"><span class="hs-identifier hs-var">SqlDay</span></a></span></span><span>
</span><span id="line-618"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlTime"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlTime"><span class="hs-identifier hs-var">SqlTime</span></a></span></span><span>
</span><span id="line-619"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlDayTime"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlDayTime"><span class="hs-identifier hs-var">SqlDayTime</span></a></span></span><span> </span><span class="hs-comment">-- ^ Always uses UTC timezone</span><span>
</span><span id="line-620"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlBlob"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlBlob"><span class="hs-identifier hs-var">SqlBlob</span></a></span></span><span>
</span><span id="line-621"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="SqlOther"><span class="annot"><a href="Database.Persist.Types.Base.html#SqlOther"><span class="hs-identifier hs-var">SqlOther</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="hs-comment">-- ^ a backend-specific name</span><span>
</span><span id="line-622"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924334"><span id="local-6989586621679924336"><span id="local-6989586621679924344"><span class="annot"><span class="annottext">Int -&gt; SqlType -&gt; ShowS
[SqlType] -&gt; ShowS
SqlType -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SqlType] -&gt; ShowS
$cshowList :: [SqlType] -&gt; ShowS
show :: SqlType -&gt; [Char]
$cshow :: SqlType -&gt; [Char]
showsPrec :: Int -&gt; SqlType -&gt; ShowS
$cshowsPrec :: Int -&gt; SqlType -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924305"><span id="local-6989586621679924327"><span id="local-6989586621679924330"><span id="local-6989586621679924332"><span class="annot"><span class="annottext">ReadPrec [SqlType]
ReadPrec SqlType
Int -&gt; ReadS SqlType
ReadS [SqlType]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [SqlType]
$creadListPrec :: ReadPrec [SqlType]
readPrec :: ReadPrec SqlType
$creadPrec :: ReadPrec SqlType
readList :: ReadS [SqlType]
$creadList :: ReadS [SqlType]
readsPrec :: Int -&gt; ReadS SqlType
$creadsPrec :: Int -&gt; ReadS SqlType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924296"><span id="local-6989586621679924302"><span class="annot"><span class="annottext">SqlType -&gt; SqlType -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SqlType -&gt; SqlType -&gt; Bool
$c/= :: SqlType -&gt; SqlType -&gt; Bool
== :: SqlType -&gt; SqlType -&gt; Bool
$c== :: SqlType -&gt; SqlType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924276"><span id="local-6989586621679924278"><span id="local-6989586621679924280"><span id="local-6989586621679924282"><span id="local-6989586621679924284"><span id="local-6989586621679924286"><span id="local-6989586621679924292"><span class="annot"><span class="annottext">Eq SqlType
SqlType -&gt; SqlType -&gt; Bool
SqlType -&gt; SqlType -&gt; Ordering
SqlType -&gt; SqlType -&gt; SqlType
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: SqlType -&gt; SqlType -&gt; SqlType
$cmin :: SqlType -&gt; SqlType -&gt; SqlType
max :: SqlType -&gt; SqlType -&gt; SqlType
$cmax :: SqlType -&gt; SqlType -&gt; SqlType
&gt;= :: SqlType -&gt; SqlType -&gt; Bool
$c&gt;= :: SqlType -&gt; SqlType -&gt; Bool
&gt; :: SqlType -&gt; SqlType -&gt; Bool
$c&gt; :: SqlType -&gt; SqlType -&gt; Bool
&lt;= :: SqlType -&gt; SqlType -&gt; Bool
$c&lt;= :: SqlType -&gt; SqlType -&gt; Bool
&lt; :: SqlType -&gt; SqlType -&gt; Bool
$c&lt; :: SqlType -&gt; SqlType -&gt; Bool
compare :: SqlType -&gt; SqlType -&gt; Ordering
$ccompare :: SqlType -&gt; SqlType -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924253"><span id="local-6989586621679924274"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; Code m SqlType
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; Code m SqlType
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; Code m SqlType
lift :: forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; SqlType -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span class="hs-keyword">data</span><span> </span><span id="PersistFilter"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistFilter"><span class="hs-identifier hs-var">PersistFilter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Eq"><span class="annot"><a href="Database.Persist.Types.Base.html#Eq"><span class="hs-identifier hs-var">Eq</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Ne"><span class="annot"><a href="Database.Persist.Types.Base.html#Ne"><span class="hs-identifier hs-var">Ne</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Gt"><span class="annot"><a href="Database.Persist.Types.Base.html#Gt"><span class="hs-identifier hs-var">Gt</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Lt"><span class="annot"><a href="Database.Persist.Types.Base.html#Lt"><span class="hs-identifier hs-var">Lt</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Ge"><span class="annot"><a href="Database.Persist.Types.Base.html#Ge"><span class="hs-identifier hs-var">Ge</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Le"><span class="annot"><a href="Database.Persist.Types.Base.html#Le"><span class="hs-identifier hs-var">Le</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="In"><span class="annot"><a href="Database.Persist.Types.Base.html#In"><span class="hs-identifier hs-var">In</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NotIn"><span class="annot"><a href="Database.Persist.Types.Base.html#NotIn"><span class="hs-identifier hs-var">NotIn</span></a></span></span><span>
</span><span id="line-625"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="BackendSpecificFilter"><span class="annot"><a href="Database.Persist.Types.Base.html#BackendSpecificFilter"><span class="hs-identifier hs-var">BackendSpecificFilter</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-626"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924204"><span id="local-6989586621679924218"><span id="local-6989586621679924221"><span id="local-6989586621679924223"><span class="annot"><span class="annottext">ReadPrec [PersistFilter]
ReadPrec PersistFilter
Int -&gt; ReadS PersistFilter
ReadS [PersistFilter]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [PersistFilter]
$creadListPrec :: ReadPrec [PersistFilter]
readPrec :: ReadPrec PersistFilter
$creadPrec :: ReadPrec PersistFilter
readList :: ReadS [PersistFilter]
$creadList :: ReadS [PersistFilter]
readsPrec :: Int -&gt; ReadS PersistFilter
$creadsPrec :: Int -&gt; ReadS PersistFilter
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924195"><span id="local-6989586621679924197"><span id="local-6989586621679924201"><span class="annot"><span class="annottext">Int -&gt; PersistFilter -&gt; ShowS
[PersistFilter] -&gt; ShowS
PersistFilter -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PersistFilter] -&gt; ShowS
$cshowList :: [PersistFilter] -&gt; ShowS
show :: PersistFilter -&gt; [Char]
$cshow :: PersistFilter -&gt; [Char]
showsPrec :: Int -&gt; PersistFilter -&gt; ShowS
$cshowsPrec :: Int -&gt; PersistFilter -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924179"><span id="local-6989586621679924193"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; PersistFilter -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
PersistFilter -&gt; Code m PersistFilter
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
PersistFilter -&gt; Code m PersistFilter
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
PersistFilter -&gt; Code m PersistFilter
lift :: forall (m :: * -&gt; *). Quote m =&gt; PersistFilter -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; PersistFilter -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span class="hs-keyword">data</span><span> </span><span id="UpdateException"><span class="annot"><a href="Database.Persist.Types.Base.html#UpdateException"><span class="hs-identifier hs-var">UpdateException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="KeyNotFound"><span class="annot"><a href="Database.Persist.Types.Base.html#KeyNotFound"><span class="hs-identifier hs-var">KeyNotFound</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-629"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span id="UpsertError"><span class="annot"><a href="Database.Persist.Types.Base.html#UpsertError"><span class="hs-identifier hs-var">UpsertError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-630"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679924159"><span id="local-6989586621679924162"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#UpdateException"><span class="hs-identifier hs-type">UpdateException</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-631"></span><span>    </span><span id="local-6989586621679924156"><span class="annot"><span class="annottext">show :: UpdateException -&gt; [Char]
</span><a href="#local-6989586621679924156"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#KeyNotFound"><span class="hs-identifier hs-type">KeyNotFound</span></a></span><span> </span><span id="local-6989586621679924155"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679924155"><span class="hs-identifier hs-var">key</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Key not found during updateGet: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679924155"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-632"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#UpsertError"><span class="hs-identifier hs-type">UpsertError</span></a></span><span> </span><span id="local-6989586621679924154"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679924154"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Error during upsert: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679924154"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-633"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679924144"><span id="local-6989586621679924146"><span id="local-6989586621679924148"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#UpdateException"><span class="hs-identifier hs-type">UpdateException</span></a></span></span></span></span><span>
</span><span id="line-634"></span><span>
</span><span id="line-635"></span><span class="hs-keyword">data</span><span> </span><span id="OnlyUniqueException"><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-var">OnlyUniqueException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="OnlyUniqueException"><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-var">OnlyUniqueException</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-636"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679924138"><span id="local-6989586621679924141"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-type">OnlyUniqueException</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-637"></span><span>    </span><span id="local-6989586621679924136"><span class="annot"><span class="annottext">show :: OnlyUniqueException -&gt; [Char]
</span><a href="#local-6989586621679924136"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-type">OnlyUniqueException</span></a></span><span> </span><span id="local-6989586621679924135"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679924135"><span class="hs-identifier hs-var">uniqueMsg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-638"></span><span>      </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Expected only one unique key, got &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679924135"><span class="hs-identifier hs-var">uniqueMsg</span></a></span><span>
</span><span id="line-639"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679924125"><span id="local-6989586621679924127"><span id="local-6989586621679924129"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="Database.Persist.Types.Base.html#OnlyUniqueException"><span class="hs-identifier hs-type">OnlyUniqueException</span></a></span></span></span></span><span>
</span><span id="line-640"></span><span>
</span><span id="line-641"></span><span>
</span><span id="line-642"></span><span class="hs-keyword">data</span><span> </span><span id="PersistUpdate"><span class="annot"><a href="Database.Persist.Types.Base.html#PersistUpdate"><span class="hs-identifier hs-var">PersistUpdate</span></a></span></span><span>
</span><span id="line-643"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Assign"><span class="annot"><a href="Database.Persist.Types.Base.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Add"><span class="annot"><a href="Database.Persist.Types.Base.html#Add"><span class="hs-identifier hs-var">Add</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Subtract"><span class="annot"><a href="Database.Persist.Types.Base.html#Subtract"><span class="hs-identifier hs-var">Subtract</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Multiply"><span class="annot"><a href="Database.Persist.Types.Base.html#Multiply"><span class="hs-identifier hs-var">Multiply</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Divide"><span class="annot"><a href="Database.Persist.Types.Base.html#Divide"><span class="hs-identifier hs-var">Divide</span></a></span></span><span>
</span><span id="line-644"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="BackendSpecificUpdate"><span class="annot"><a href="Database.Persist.Types.Base.html#BackendSpecificUpdate"><span class="hs-identifier hs-var">BackendSpecificUpdate</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-645"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924101"><span id="local-6989586621679924112"><span id="local-6989586621679924115"><span id="local-6989586621679924117"><span class="annot"><span class="annottext">ReadPrec [PersistUpdate]
ReadPrec PersistUpdate
Int -&gt; ReadS PersistUpdate
ReadS [PersistUpdate]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [PersistUpdate]
$creadListPrec :: ReadPrec [PersistUpdate]
readPrec :: ReadPrec PersistUpdate
$creadPrec :: ReadPrec PersistUpdate
readList :: ReadS [PersistUpdate]
$creadList :: ReadS [PersistUpdate]
readsPrec :: Int -&gt; ReadS PersistUpdate
$creadsPrec :: Int -&gt; ReadS PersistUpdate
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924092"><span id="local-6989586621679924094"><span id="local-6989586621679924098"><span class="annot"><span class="annottext">Int -&gt; PersistUpdate -&gt; ShowS
[PersistUpdate] -&gt; ShowS
PersistUpdate -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PersistUpdate] -&gt; ShowS
$cshowList :: [PersistUpdate] -&gt; ShowS
show :: PersistUpdate -&gt; [Char]
$cshow :: PersistUpdate -&gt; [Char]
showsPrec :: Int -&gt; PersistUpdate -&gt; ShowS
$cshowsPrec :: Int -&gt; PersistUpdate -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924079"><span id="local-6989586621679924090"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; PersistUpdate -&gt; m Exp
forall (m :: * -&gt; *).
Quote m =&gt;
PersistUpdate -&gt; Code m PersistUpdate
liftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
PersistUpdate -&gt; Code m PersistUpdate
$cliftTyped :: forall (m :: * -&gt; *).
Quote m =&gt;
PersistUpdate -&gt; Code m PersistUpdate
lift :: forall (m :: * -&gt; *). Quote m =&gt; PersistUpdate -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; PersistUpdate -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-646"></span><span>
</span><span id="line-647"></span><span class="hs-comment">-- | A 'FieldDef' represents the inormation that @persistent@ knows about</span><span>
</span><span id="line-648"></span><span class="hs-comment">-- a field of a datatype. This includes information used to parse the field</span><span>
</span><span id="line-649"></span><span class="hs-comment">-- out of the database and what the field corresponds to.</span><span>
</span><span id="line-650"></span><span class="hs-keyword">data</span><span> </span><span id="FieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-var">FieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FieldDef"><span class="annot"><a href="Database.Persist.Types.Base.html#FieldDef"><span class="hs-identifier hs-var">FieldDef</span></a></span></span><span>
</span><span id="line-651"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="fieldHaskell"><span class="annot"><span class="annottext">FieldDef -&gt; FieldNameHS
</span><a href="Database.Persist.Types.Base.html#fieldHaskell"><span class="hs-identifier hs-var hs-var">fieldHaskell</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#FieldNameHS"><span class="hs-identifier hs-type">FieldNameHS</span></a></span><span>
</span><span id="line-652"></span><span>    </span><span class="hs-comment">-- ^ The name of the field. Note that this does not corresponds to the</span><span>
</span><span id="line-653"></span><span>    </span><span class="hs-comment">-- record labels generated for the particular entity - record labels</span><span>
</span><span id="line-654"></span><span>    </span><span class="hs-comment">-- are generated with the type name prefixed to the field, so</span><span>
</span><span id="line-655"></span><span>    </span><span class="hs-comment">-- a 'FieldDef' that contains a @'FieldNameHS' &quot;name&quot;@ for a type</span><span>
</span><span id="line-656"></span><span>    </span><span class="hs-comment">-- @User@ will have a record field @userName@.</span><span>
</span><span id="line-657"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldDB"><span class="annot"><span class="annottext">FieldDef -&gt; FieldNameDB
</span><a href="Database.Persist.Types.Base.html#fieldDB"><span class="hs-identifier hs-var hs-var">fieldDB</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Names.html#FieldNameDB"><span class="hs-identifier hs-type">FieldNameDB</span></a></span><span>
</span><span id="line-658"></span><span>    </span><span class="hs-comment">-- ^ The name of the field in the database. For SQL databases, this</span><span>
</span><span id="line-659"></span><span>    </span><span class="hs-comment">-- corresponds to the column name.</span><span>
</span><span id="line-660"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldType"><span class="annot"><span class="annottext">FieldDef -&gt; FieldType
</span><a href="Database.Persist.Types.Base.html#fieldType"><span class="hs-identifier hs-var hs-var">fieldType</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span>
</span><span id="line-661"></span><span>    </span><span class="hs-comment">-- ^ The type of the field in Haskell.</span><span>
</span><span id="line-662"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldSqlType"><span class="annot"><span class="annottext">FieldDef -&gt; SqlType
</span><a href="Database.Persist.Types.Base.html#fieldSqlType"><span class="hs-identifier hs-var hs-var">fieldSqlType</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#SqlType"><span class="hs-identifier hs-type">SqlType</span></a></span><span>
</span><span id="line-663"></span><span>    </span><span class="hs-comment">-- ^ The type of the field in a SQL database.</span><span>
</span><span id="line-664"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldAttrs"><span class="annot"><span class="annottext">FieldDef -&gt; [FieldAttr]
</span><a href="Database.Persist.Types.Base.html#fieldAttrs"><span class="hs-identifier hs-var hs-var">fieldAttrs</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldAttr"><span class="hs-identifier hs-type">FieldAttr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-665"></span><span>    </span><span class="hs-comment">-- ^ User annotations for a field. These are provided with the @!@</span><span>
</span><span id="line-666"></span><span>    </span><span class="hs-comment">-- operator.</span><span>
</span><span id="line-667"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldStrict"><span class="annot"><span class="annottext">FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#fieldStrict"><span class="hs-identifier hs-var hs-var">fieldStrict</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-668"></span><span>    </span><span class="hs-comment">-- ^ If this is 'True', then the Haskell datatype will have a strict</span><span>
</span><span id="line-669"></span><span>    </span><span class="hs-comment">-- record field. The default value for this is 'True'.</span><span>
</span><span id="line-670"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldReference"><span class="annot"><span class="annottext">FieldDef -&gt; ReferenceDef
</span><a href="Database.Persist.Types.Base.html#fieldReference"><span class="hs-identifier hs-var hs-var">fieldReference</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#ReferenceDef"><span class="hs-identifier hs-type">ReferenceDef</span></a></span><span>
</span><span id="line-671"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldCascade"><span class="annot"><span class="annottext">FieldDef -&gt; FieldCascade
</span><a href="Database.Persist.Types.Base.html#fieldCascade"><span class="hs-identifier hs-var hs-var">fieldCascade</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Database.Persist.Types.Base.html#FieldCascade"><span class="hs-identifier hs-type">FieldCascade</span></a></span><span>
</span><span id="line-672"></span><span>    </span><span class="hs-comment">-- ^ Defines how operations on the field cascade on to the referenced</span><span>
</span><span id="line-673"></span><span>    </span><span class="hs-comment">-- tables. This doesn't have any meaning if the 'fieldReference' is set</span><span>
</span><span id="line-674"></span><span>    </span><span class="hs-comment">-- to 'NoReference' or 'SelfReference'. The cascade option here should</span><span>
</span><span id="line-675"></span><span>    </span><span class="hs-comment">-- be the same as the one obtained in the 'fieldReference'.</span><span>
</span><span id="line-676"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-677"></span><span>    </span><span class="hs-comment">-- @since 2.11.0</span><span>
</span><span id="line-678"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldComments"><span class="annot"><span class="annottext">FieldDef -&gt; Maybe Text
</span><a href="Database.Persist.Types.Base.html#fieldComments"><span class="hs-identifier hs-var hs-var">fieldComments</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-679"></span><span>    </span><span class="hs-comment">-- ^ Optional comments for a 'Field'. There is not currently a way to</span><span>
</span><span id="line-680"></span><span>    </span><span class="hs-comment">-- attach comments to a field in the quasiquoter.</span><span>
</span><span id="line-681"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-682"></span><span>    </span><span class="hs-comment">-- @since 2.10.0</span><span>
</span><span id="line-683"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldGenerated"><span class="annot"><span class="annottext">FieldDef -&gt; Maybe Text
</span><a href="Database.Persist.Types.Base.html#fieldGenerated"><span class="hs-identifier hs-var hs-var">fieldGenerated</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-684"></span><span>    </span><span class="hs-comment">-- ^ Whether or not the field is a @GENERATED@ column, and additionally</span><span>
</span><span id="line-685"></span><span>    </span><span class="hs-comment">-- the expression to use for generation.</span><span>
</span><span id="line-686"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-687"></span><span>    </span><span class="hs-comment">-- @since 2.11.0.0</span><span>
</span><span id="line-688"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldIsImplicitIdColumn"><span class="annot"><span class="annottext">FieldDef -&gt; Bool
</span><a href="Database.Persist.Types.Base.html#fieldIsImplicitIdColumn"><span class="hs-identifier hs-var hs-var">fieldIsImplicitIdColumn</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-689"></span><span>    </span><span class="hs-comment">-- ^ 'True' if the field is an implicit ID column. 'False' otherwise.</span><span>
</span><span id="line-690"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-691"></span><span>    </span><span class="hs-comment">-- @since 2.13.0.0</span><span>
</span><span id="line-692"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-693"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924042"><span id="local-6989586621679924044"><span id="local-6989586621679924059"><span class="annot"><span class="annottext">Int -&gt; FieldDef -&gt; ShowS
[FieldDef] -&gt; ShowS
FieldDef -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [FieldDef] -&gt; ShowS
$cshowList :: [FieldDef] -&gt; ShowS
show :: FieldDef -&gt; [Char]
$cshow :: FieldDef -&gt; [Char]
showsPrec :: Int -&gt; FieldDef -&gt; ShowS
$cshowsPrec :: Int -&gt; FieldDef -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924027"><span id="local-6989586621679924040"><span class="annot"><span class="annottext">FieldDef -&gt; FieldDef -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: FieldDef -&gt; FieldDef -&gt; Bool
$c/= :: FieldDef -&gt; FieldDef -&gt; Bool
== :: FieldDef -&gt; FieldDef -&gt; Bool
$c== :: FieldDef -&gt; FieldDef -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679923980"><span id="local-6989586621679924020"><span id="local-6989586621679924023"><span id="local-6989586621679924025"><span class="annot"><span class="annottext">ReadPrec [FieldDef]
ReadPrec FieldDef
Int -&gt; ReadS FieldDef
ReadS [FieldDef]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [FieldDef]
$creadListPrec :: ReadPrec [FieldDef]
readPrec :: ReadPrec FieldDef
$creadPrec :: ReadPrec FieldDef
readList :: ReadS [FieldDef]
$creadList :: ReadS [FieldDef]
readsPrec :: Int -&gt; ReadS FieldDef
$creadsPrec :: Int -&gt; ReadS FieldDef
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679923934"><span id="local-6989586621679923936"><span id="local-6989586621679923939"><span id="local-6989586621679923942"><span id="local-6989586621679923945"><span id="local-6989586621679923960"><span id="local-6989586621679923975"><span class="annot"><span class="annottext">Eq FieldDef
FieldDef -&gt; FieldDef -&gt; Bool
FieldDef -&gt; FieldDef -&gt; Ordering
FieldDef -&gt; FieldDef -&gt; FieldDef
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: FieldDef -&gt; FieldDef -&gt; FieldDef
$cmin :: FieldDef -&gt; FieldDef -&gt; FieldDef
max :: FieldDef -&gt; FieldDef -&gt; FieldDef
$cmax :: FieldDef -&gt; FieldDef -&gt; FieldDef
&gt;= :: FieldDef -&gt; FieldDef -&gt; Bool
$c&gt;= :: FieldDef -&gt; FieldDef -&gt; Bool
&gt; :: FieldDef -&gt; FieldDef -&gt; Bool
$c&gt; :: FieldDef -&gt; FieldDef -&gt; Bool
&lt;= :: FieldDef -&gt; FieldDef -&gt; Bool
$c&lt;= :: FieldDef -&gt; FieldDef -&gt; Bool
&lt; :: FieldDef -&gt; FieldDef -&gt; Bool
$c&lt; :: FieldDef -&gt; FieldDef -&gt; Bool
compare :: FieldDef -&gt; FieldDef -&gt; Ordering
$ccompare :: FieldDef -&gt; FieldDef -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679923904"><span id="local-6989586621679923932"><span class="annot"><span class="annottext">forall t.
(forall (m :: * -&gt; *). Quote m =&gt; t -&gt; m Exp)
-&gt; (forall (m :: * -&gt; *). Quote m =&gt; t -&gt; Code m t) -&gt; Lift t
forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; m Exp
forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; Code m FieldDef
liftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; Code m FieldDef
$cliftTyped :: forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; Code m FieldDef
lift :: forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; m Exp
$clift :: forall (m :: * -&gt; *). Quote m =&gt; FieldDef -&gt; m Exp
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lift</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-694"></span></pre></body></html>