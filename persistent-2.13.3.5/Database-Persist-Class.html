<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Database.Persist.Class</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">persistent-2.13.3.5: Type-safe, multi-backend data serialization.</span><ul class="links" id="page-menu"><li><a href="src/Database.Persist.Class.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Database.Persist.Class</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">PersistStore</a></li><li><a href="#g:2">PersistUnique</a></li><li><a href="#g:3">PersistQuery</a></li><li><a href="#g:4">DeleteCascade</a></li><li><a href="#g:5">PersistEntity</a></li><li><a href="#g:6">PersistField</a></li><li><a href="#g:7">PersistConfig</a></li><li><a href="#g:8">Lifting</a></li><li><a href="#g:9">PersistCore</a></li><li><a href="#g:10">JSON utilities</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module exports all of the type classes in <code>persistent</code> for operating
 on the database backends.</p><p><code>persistent</code> offers methods that are abstract in the specific <code>backend</code> type.
 For SQL databases, this wil be <code><a href="Database-Persist-SqlBackend.html#v:SqlBackend" title="Database.Persist.SqlBackend">SqlBackend</a></code>.
 Other database backends will define their own types.</p><p>Methods and functions in this module have examples documented under an
 &quot;Example Usage&quot; thing, that you need to click on to expand.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:PersistStore">PersistStore</a> a = <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> a</li><li class="src short"><span class="keyword">class</span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> backend, <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend)) =&gt; <a href="#t:PersistStoreRead">PersistStoreRead</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:get">get</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record)</li><li><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) record)</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend)) =&gt; <a href="#t:PersistStoreWrite">PersistStoreWrite</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:insert">insert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)</li><li><a href="#v:insert_">insert_</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:insertMany">insertMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record]</li><li><a href="#v:insertMany_">insertMany_</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:insertEntityMany">insertEntityMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:insertKey">insertKey</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:repsert">repsert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:repsertMany">repsertMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [(<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:replace">replace</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:delete">delete</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:update">update</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:updateGet">updateGet</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:PersistRecordBackend">PersistRecordBackend</a> record backend = (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend)</li><li class="src short"><a href="#v:getJust">getJust</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record</li><li class="src short"><a href="#v:getJustEntity">getJustEntity</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li class="src short"><a href="#v:getEntity">getEntity</a> :: <span class="keyword">forall</span> e backend m. (<a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> e backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> e -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> e))</li><li class="src short"><a href="#v:belongsTo">belongsTo</a> :: <span class="keyword">forall</span> ent1 ent2 backend m. (<a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> ent1, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> ent2 backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; (ent1 -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> ent2)) -&gt; ent1 -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ent2)</li><li class="src short"><a href="#v:belongsToJust">belongsToJust</a> :: <span class="keyword">forall</span> ent1 ent2 backend m. (<a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> ent1, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> ent2 backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; (ent1 -&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> ent2) -&gt; ent1 -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ent2</li><li class="src short"><a href="#v:insertEntity">insertEntity</a> :: <span class="keyword">forall</span> e backend m. (<a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> e backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; e -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> e)</li><li class="src short"><a href="#v:insertRecord">insertRecord</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record</li><li class="src short"><span class="keyword">type</span> <a href="#t:PersistUnique">PersistUnique</a> a = <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> a</li><li class="src short"><span class="keyword">class</span> <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend =&gt; <a href="#t:PersistUniqueRead">PersistUniqueRead</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record))</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend, <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend) =&gt; <a href="#t:PersistUniqueWrite">PersistUniqueWrite</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:deleteBy">deleteBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:insertUnique">insertUnique</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record))</li><li><a href="#v:upsert">upsert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a> record) =&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li><a href="#v:upsertBy">upsertBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li><a href="#v:putMany">putMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record =&gt; <a href="#t:OnlyOneUniqueKey">OnlyOneUniqueKey</a> record <span class="keyword">where</span><ul class="subs"><li><a href="#v:onlyUniqueP">onlyUniqueP</a> :: record -&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record =&gt; <a href="#t:AtLeastOneUniqueKey">AtLeastOneUniqueKey</a> record <span class="keyword">where</span><ul class="subs"><li><a href="#v:requireUniquesP">requireUniquesP</a> :: record -&gt; <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record)</li></ul></li><li class="src short"><a href="#v:onlyOneUniqueDef">onlyOneUniqueDef</a> :: (<a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a> record, <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> proxy) =&gt; proxy record -&gt; <a href="Database-Persist-Types.html#t:UniqueDef" title="Database.Persist.Types">UniqueDef</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:NoUniqueKeysError">NoUniqueKeysError</a> ty = (('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The entity &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> ty) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; does not have any unique keys.&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> ('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The function you are trying to call requires a unique key &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;to be defined on the entity.&quot;)</li><li class="src short"><span class="keyword">type</span> <a href="#t:MultipleUniqueKeysError">MultipleUniqueKeysError</a> ty = ((('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The entity &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> ty) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; has multiple unique keys.&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> ('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The function you are trying to call requires only a single &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;unique key.&quot;)) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> (('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;There is probably a variant of the function with 'By' &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;appended that will allow you to select a unique key &quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;for the operation.&quot;)</li><li class="src short"><a href="#v:getByValue">getByValue</a> :: <span class="keyword">forall</span> record m backend. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class">AtLeastOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record))</li><li class="src short"><a href="#v:insertBy">insertBy</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class">AtLeastOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record))</li><li class="src short"><a href="#v:insertUniqueEntity">insertUniqueEntity</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record))</li><li class="src short"><a href="#v:replaceUnique">replaceUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record), <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record))</li><li class="src short"><a href="#v:checkUnique">checkUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record))</li><li class="src short"><a href="#v:checkUniqueUpdateable">checkUniqueUpdateable</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record))</li><li class="src short"><a href="#v:onlyUnique">onlyUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record)</li><li class="src short"><a href="#v:selectList">selectList</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record]</li><li class="src short"><a href="#v:selectKeys">selectKeys</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="../conduit-1.3.4.3/Conduit.html#t:MonadResource" title="Conduit">MonadResource</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> backend m) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) m ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:PersistQuery">PersistQuery</a> a = <a href="Database-Persist-Class.html#t:PersistQueryWrite" title="Database.Persist.Class">PersistQueryWrite</a> a</li><li class="src short"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> backend, <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend) =&gt; <a href="#t:PersistQueryRead">PersistQueryRead</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:selectSourceRes">selectSourceRes</a> :: (<a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) m2 ()))</li><li><a href="#v:selectFirst">selectFirst</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record))</li><li><a href="#v:selectKeysRes">selectKeysRes</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) m2 ()))</li><li><a href="#v:count">count</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:exists">exists</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend) =&gt; <a href="#t:PersistQueryWrite">PersistQueryWrite</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:updateWhere">updateWhere</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:deleteWhere">deleteWhere</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li></ul></li><li class="src short"><a href="#v:selectSource">selectSource</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="../conduit-1.3.4.3/Conduit.html#t:MonadResource" title="Conduit">MonadResource</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> backend m) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) m ()</li><li class="src short"><a href="#v:selectKeysList">selectKeysList</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record]</li><li class="src short"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend ~ <a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record) =&gt; <a href="#t:DeleteCascade">DeleteCascade</a> record backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:deleteCascade">deleteCascade</a> :: <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li></ul></li><li class="src short"><a href="#v:deleteCascadeWhere">deleteCascadeWhere</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:DeleteCascade" title="Database.Persist.Class">DeleteCascade</a> record backend, <a href="Database-Persist-Class.html#t:PersistQueryWrite" title="Database.Persist.Class">PersistQueryWrite</a> backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li class="src short"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)) =&gt; <a href="#t:PersistEntity">PersistEntity</a> record <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:PersistEntityBackend">PersistEntityBackend</a> record</li><li><span class="keyword">data</span> <a href="#t:Key">Key</a> record</li><li><span class="keyword">data</span> <a href="#t:EntityField">EntityField</a> record :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li><span class="keyword">data</span> <a href="#t:Unique">Unique</a> record</li><li><a href="#v:keyToValues">keyToValues</a> :: <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>]</li><li><a href="#v:keyFromValues">keyFromValues</a> :: [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>] -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)</li><li><a href="#v:persistIdField">persistIdField</a> :: <a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a> record (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)</li><li><a href="#v:entityDef">entityDef</a> :: proxy record -&gt; <a href="Database-Persist-EntityDef-Internal.html#t:EntityDef" title="Database.Persist.EntityDef.Internal">EntityDef</a></li><li><a href="#v:persistFieldDef">persistFieldDef</a> :: <a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a> record typ -&gt; <a href="Database-Persist-FieldDef-Internal.html#t:FieldDef" title="Database.Persist.FieldDef.Internal">FieldDef</a></li><li><a href="#v:toPersistFields">toPersistFields</a> :: record -&gt; [<a href="Database-Persist-Class-PersistField.html#t:SomePersistField" title="Database.Persist.Class.PersistField">SomePersistField</a>]</li><li><a href="#v:fromPersistValues">fromPersistValues</a> :: [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>] -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> record</li><li><a href="#v:persistUniqueKeys">persistUniqueKeys</a> :: record -&gt; [<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record]</li><li><a href="#v:persistUniqueToFieldNames">persistUniqueToFieldNames</a> :: <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Database-Persist-Names.html#t:FieldNameHS" title="Database.Persist.Names">FieldNameHS</a>, <a href="Database-Persist-Names.html#t:FieldNameDB" title="Database.Persist.Names">FieldNameDB</a>)</li><li><a href="#v:persistUniqueToValues">persistUniqueToValues</a> :: <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>]</li><li><a href="#v:fieldLens">fieldLens</a> :: <a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a> record field -&gt; <span class="keyword">forall</span> f. <a href="../base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; (field -&gt; f field) -&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; f (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li><a href="#v:keyFromRecordM">keyFromRecordM</a> :: <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (record -&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:SymbolToField">SymbolToField</a> (sym :: <a href="../base-4.16.4.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) rec typ | sym rec -&gt; typ <span class="keyword">where</span><ul class="subs"><li><a href="#v:symbolToField">symbolToField</a> :: <a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a> rec typ</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:PersistField">PersistField</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:toPersistValue">toPersistValue</a> :: a -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a></li><li><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:PersistConfig">PersistConfig</a> c <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:PersistConfigBackend">PersistConfigBackend</a> c :: (<a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li><span class="keyword">type</span> <a href="#t:PersistConfigPool">PersistConfigPool</a> c</li><li><a href="#v:loadConfig">loadConfig</a> :: <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> c</li><li><a href="#v:applyEnv">applyEnv</a> :: c -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> c</li><li><a href="#v:createPoolConfig">createPoolConfig</a> :: c -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> c)</li><li><a href="#v:runPool">runPool</a> :: <a href="../conduit-1.3.4.3/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; c -&gt; <a href="Database-Persist-Class.html#t:PersistConfigBackend" title="Database.Persist.Class">PersistConfigBackend</a> c m a -&gt; <a href="Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> c -&gt; m a</li></ul></li><li class="src short"><a href="#v:entityValues">entityValues</a> :: <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>]</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasPersistBackend">HasPersistBackend</a> backend <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:BaseBackend">BaseBackend</a> backend</li><li><a href="#v:persistBackend">persistBackend</a> :: backend -&gt; <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend</li></ul></li><li class="src short"><a href="#v:withBaseBackend">withBaseBackend</a> :: <a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> backend =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend) m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m a</li><li class="src short"><span class="keyword">class</span> <a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> backend =&gt; <a href="#t:IsPersistBackend">IsPersistBackend</a> backend</li><li class="src short"><a href="#v:liftPersist">liftPersist</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> backend m) =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> b -&gt; m b</li><li class="src short"><span class="keyword">class</span> <a href="#t:BackendCompatible">BackendCompatible</a> sup sub <span class="keyword">where</span><ul class="subs"><li><a href="#v:projectBackend">projectBackend</a> :: sub -&gt; sup</li></ul></li><li class="src short"><a href="#v:withCompatibleBackend">withCompatibleBackend</a> :: <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> sup sub =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> sup m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> sub m a</li><li class="src short"><span class="keyword">class</span> <a href="#t:PersistCore">PersistCore</a> backend <span class="keyword">where</span><ul class="subs"><li><span class="keyword">data</span> <a href="#t:BackendKey">BackendKey</a> backend</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record ~ backend, <a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> backend) =&gt; <a href="#t:ToBackendKey">ToBackendKey</a> backend record <span class="keyword">where</span><ul class="subs"><li><a href="#v:toBackendKey">toBackendKey</a> :: <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend</li><li><a href="#v:fromBackendKey">fromBackendKey</a> :: <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend -&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record</li></ul></li><li class="src short"><a href="#v:keyValueEntityToJSON">keyValueEntityToJSON</a> :: (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> record) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a></li><li class="src short"><a href="#v:keyValueEntityFromJSON">keyValueEntityFromJSON</a> :: (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> record) =&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li class="src short"><a href="#v:entityIdToJSON">entityIdToJSON</a> :: (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> record) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a></li><li class="src short"><a href="#v:entityIdFromJSON">entityIdFromJSON</a> :: (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> record) =&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li class="src short"><a href="#v:toPersistValueJSON">toPersistValueJSON</a> :: <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; a -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a></li><li class="src short"><a href="#v:fromPersistValueJSON">fromPersistValueJSON</a> :: <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a =&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>PersistStore</h1></a><div class="doc"><p>The <code><a href="Database-Persist-Class.html#t:PersistStore" title="Database.Persist.Class">PersistStore</a></code>, <code><a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a></code>, and <code><a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a></code> type
 classes are used to define basic operations on the database. A database
 that implements these classes is capable of being used as a simple
 key-value store.</p><p>All the examples present here will be explained based on these schemas, datasets and functions:</p><h1>schema-1</h1><p><a id="schema-persist-store-1"></a></p><pre>share [mkPersist sqlSettings, mkMigrate &quot;migrateAll&quot;] [persistLowerCase|
User
    name String
    age Int
    deriving Show
|]</pre><h1>dataset-1</h1><p><a id="dataset-persist-store-1"></a></p><pre>+----+-------+-----+
| id | name  | age |
+----+-------+-----+
|  1 | SPJ   |  40 |
+----+-------+-----+
|  2 | Simon |  41 |
+----+-------+-----+</pre></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:PersistStore" class="def">PersistStore</a> a = <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> a <a href="src/Database.Persist.Class.html#PersistStore" class="link">Source</a> <a href="#t:PersistStore" class="selflink">#</a></p><div class="doc"><p>A backwards-compatible alias for those that don't care about distinguishing between read and write queries.
 It signifies the assumption that, by default, a backend can write as well as read.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> backend, <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend)) =&gt; <a id="t:PersistStoreRead" class="def">PersistStoreRead</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#PersistStoreRead" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class.html#v:get" title="Database.Persist.Class">get</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:get" class="def">get</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><div class="doc"><p>Get a record by identifier, if available.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:get0">Example usage</h3><details id="ch:get0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>getSpj :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe User)
getSpj = get spjId</pre><pre>mspj &lt;- getSpj</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get this:</p><pre>+------+-----+
| name | age |
+------+-----+
| SPJ  |  40 |
+------+-----+</pre></details></div><p class="src"><a id="v:getMany" class="def">getMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p><div class="doc"><p>Get many records by their respective identifiers, if available.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getMany0">Example usage</h3><details id="ch:getMany0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>:</p><pre>getUsers :: MonadIO m =&gt; ReaderT SqlBackend m (Map (Key User) User)
getUsers = getMany allkeys</pre><pre>musers &lt;- getUsers</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get these records:</p><pre>+----+-------+-----+
| id | name  | age |
+----+-------+-----+
|  1 | SPJ   |  40 |
+----+-------+-----+
|  2 | Simon |  41 |
+----+-------+-----+</pre></details><p><em>Since: 2.8.1</em></p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistStoreRead">Instances</h4><details id="i:PersistStoreRead" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreRead:PersistStoreRead:1"></span> <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-352" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreRead:PersistStoreRead:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreRead:PersistStoreRead:2"></span> <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-355" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreRead:PersistStoreRead:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreRead:PersistStoreRead:3"></span> <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-323" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreRead:PersistStoreRead:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreRead:PersistStoreRead:4"></span> (<a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> b, <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> b s, <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> b) =&gt; <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-90" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreRead:PersistStoreRead:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend)) =&gt; <a id="t:PersistStoreWrite" class="def">PersistStoreWrite</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#PersistStoreWrite" class="link">Source</a> <a href="#t:PersistStoreWrite" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class.html#v:insert" title="Database.Persist.Class">insert</a>, <a href="Database-Persist-Class.html#v:insertKey" title="Database.Persist.Class">insertKey</a>, <a href="Database-Persist-Class.html#v:repsert" title="Database.Persist.Class">repsert</a>, <a href="Database-Persist-Class.html#v:replace" title="Database.Persist.Class">replace</a>, <a href="Database-Persist-Class.html#v:delete" title="Database.Persist.Class">delete</a>, <a href="Database-Persist-Class.html#v:update" title="Database.Persist.Class">update</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:insert" class="def">insert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) <a href="src/Database.Persist.Class.PersistStore.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><div class="doc"><p>Create a new record in the database, returning an automatically created
 key (in SQL an auto-increment id).</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insert0">Example usage</h3><details id="ch:insert0"><summary class="hide-when-js-enabled">Expand</summary><p>Using <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>, let's insert a new user <code>John</code>.</p><pre>insertJohn :: MonadIO m =&gt; ReaderT SqlBackend m (Key User)
insertJohn = insert $ User &quot;John&quot; 30</pre><pre>johnId &lt;- insertJohn</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |John  |30   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insert_" class="def">insert_</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#insert_" class="link">Source</a> <a href="#v:insert_" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class.html#v:insert" title="Database.Persist.Class">insert</a></code>, but doesn't return a <code>Key</code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insert_0">Example usage</h3><details id="ch:insert_0"><summary class="hide-when-js-enabled">Expand</summary><p>with <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertJohn :: MonadIO m =&gt; ReaderT SqlBackend m (Key User)
insertJohn = insert_ $ User &quot;John&quot; 30</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |John  |30   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertMany" class="def">insertMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] <a href="src/Database.Persist.Class.PersistStore.html#insertMany" class="link">Source</a> <a href="#v:insertMany" class="selflink">#</a></p><div class="doc"><p>Create multiple records in the database and return their <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code>s.</p><p>If you don't need the inserted <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code>s, use <code><a href="Database-Persist-Class.html#v:insertMany_" title="Database.Persist.Class">insertMany_</a></code>.</p><p>The MongoDB and PostgreSQL backends insert all records and
 retrieve their keys in one database query.</p><p>The SQLite and MySQL backends use the slow, default implementation of
 <code>mapM insert</code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertMany0">Example usage</h3><details id="ch:insertMany0"><summary class="hide-when-js-enabled">Expand</summary><p>with <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertUsers :: MonadIO m =&gt; ReaderT SqlBackend m [Key User]
insertUsers = insertMany [User &quot;John&quot; 30, User &quot;Nick&quot; 32, User &quot;Jane&quot; 20]</pre><pre>userIds &lt;- insertUsers</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |John  |30   |
+-----+------+-----+
|4    |Nick  |32   |
+-----+------+-----+
|5    |Jane  |20   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertMany_" class="def">insertMany_</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#insertMany_" class="link">Source</a> <a href="#v:insertMany_" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class.html#v:insertMany" title="Database.Persist.Class">insertMany</a></code>, but doesn't return any <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code>s.</p><p>The MongoDB, PostgreSQL, SQLite and MySQL backends insert all records in
 one database query.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertMany_0">Example usage</h3><details id="ch:insertMany_0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertUsers_ :: MonadIO m =&gt; ReaderT SqlBackend m ()
insertUsers_ = insertMany_ [User &quot;John&quot; 30, User &quot;Nick&quot; 32, User &quot;Jane&quot; 20]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |John  |30   |
+-----+------+-----+
|4    |Nick  |32   |
+-----+------+-----+
|5    |Jane  |20   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertEntityMany" class="def">insertEntityMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#insertEntityMany" class="link">Source</a> <a href="#v:insertEntityMany" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class.html#v:insertMany_" title="Database.Persist.Class">insertMany_</a></code>, but takes an <code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code> instead of just a record.</p><p>Useful when migrating data from one entity to another
 and want to preserve ids.</p><p>The MongoDB, PostgreSQL, SQLite and MySQL backends insert all records in
 one database query.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertEntityMany0">Example usage</h3><details id="ch:insertEntityMany0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertUserEntityMany :: MonadIO m =&gt; ReaderT SqlBackend m ()
insertUserEntityMany = insertEntityMany [SnakeEntity, EvaEntity]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Snake |38   |
+-----+------+-----+
|4    |Eva   |38   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertKey" class="def">insertKey</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#insertKey" class="link">Source</a> <a href="#v:insertKey" class="selflink">#</a></p><div class="doc"><p>Create a new record in the database using the given key.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertKey0">Example usage</h3><details id="ch:insertKey0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertAliceKey :: MonadIO m =&gt; Key User -&gt; ReaderT SqlBackend m ()
insertAliceKey key = insertKey key $ User &quot;Alice&quot; 20</pre><pre>insertAliceKey $ UserKey {unUserKey = SqlBackendKey {unSqlBackendKey = 3}}</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Alice |20   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:repsert" class="def">repsert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#repsert" class="link">Source</a> <a href="#v:repsert" class="selflink">#</a></p><div class="doc"><p>Put the record in the database with the given key.
 Unlike <code><a href="Database-Persist-Class.html#v:replace" title="Database.Persist.Class">replace</a></code>, if a record with the given key does not
 exist then a new record will be inserted.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:repsert0">Example usage</h3><details id="ch:repsert0"><summary class="hide-when-js-enabled">Expand</summary><p>We try to explain <code>upsertBy</code> using <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>.</p><p>First, we insert Philip to <a href="#dataset-persist-store-1">dataset-1</a>.</p><pre>insertPhilip :: MonadIO m =&gt; ReaderT SqlBackend m (Key User)
insertPhilip = insert $ User &quot;Philip&quot; 42</pre><pre>philipId &lt;- insertPhilip</pre><p>This query will produce:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Philip|42   |
+-----+------+-----+</pre><pre>repsertHaskell :: MonadIO m =&gt; Key record -&gt; ReaderT SqlBackend m ()
repsertHaskell id = repsert id $ User &quot;Haskell&quot; 81</pre><pre>repsertHaskell philipId</pre><p>This query will replace Philip's record with Haskell's one:</p><pre>+-----+-----------------+--------+
|id   |name             |age     |
+-----+-----------------+--------+
|1    |SPJ              |40      |
+-----+-----------------+--------+
|2    |Simon            |41      |
+-----+-----------------+--------+
|3    |Philip -&gt; Haskell|42 -&gt; 81|
+-----+-----------------+--------+</pre><p><code><a href="Database-Persist-Class.html#v:repsert" title="Database.Persist.Class">repsert</a></code> inserts the given record if the key doesn't exist.</p><pre>repsertXToUnknown :: MonadIO m =&gt; ReaderT SqlBackend m ()
repsertXToUnknown = repsert unknownId $ User &quot;X&quot; 999</pre><p>For example, applying the above query to <a href="#dataset-persist-store-1">dataset-1</a> will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |X     |999  |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:repsertMany" class="def">repsertMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [(<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#repsertMany" class="link">Source</a> <a href="#v:repsertMany" class="selflink">#</a></p><div class="doc"><p>Put many entities into the database.</p><p>Batch version of <code><a href="Database-Persist-Class.html#v:repsert" title="Database.Persist.Class">repsert</a></code> for SQL backends.</p><p>Useful when migrating data from one entity to another
 and want to preserve ids.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:repsertMany0">Example usage</h3><details id="ch:repsertMany0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>repsertManyUsers :: MonadIO m =&gt;ReaderT SqlBackend m ()
repsertManyusers = repsertMany [(simonId, User &quot;Philip&quot; 20), (unknownId999, User &quot;Mr. X&quot; 999)]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+----------------+---------+
|id   |name            |age      |
+-----+----------------+---------+
|1    |SPJ             |40       |
+-----+----------------+---------+
|2    |Simon -&gt; Philip |41 -&gt; 20 |
+-----+----------------+---------+
|999  |Mr. X           |999      |
+-----+----------------+---------+</pre></details><p><em>Since: 2.8.1</em></p></div><p class="src"><a id="v:replace" class="def">replace</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#replace" class="link">Source</a> <a href="#v:replace" class="selflink">#</a></p><div class="doc"><p>Replace the record in the database with the given
 key. Note that the result is undefined if such record does
 not exist, so you must use <code><a href="Database-Persist-Class.html#v:insertKey" title="Database.Persist.Class">insertKey</a></code> or <code><a href="Database-Persist-Class.html#v:repsert" title="Database.Persist.Class">repsert</a></code> in
 these cases.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:replace0">Example usage</h3><details id="ch:replace0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1 schama-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>replaceSpj :: MonadIO m =&gt; User -&gt; ReaderT SqlBackend m ()
replaceSpj record = replace spjId record</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |Mike  |45   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:delete" class="def">delete</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#delete" class="link">Source</a> <a href="#v:delete" class="selflink">#</a></p><div class="doc"><p>Delete a specific record by identifier. Does nothing if record does
 not exist.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:delete0">Example usage</h3><details id="ch:delete0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>deleteSpj :: MonadIO m =&gt; ReaderT SqlBackend m ()
deleteSpj = delete spjId</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:update" class="def">update</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#update" class="link">Source</a> <a href="#v:update" class="selflink">#</a></p><div class="doc"><p>Update individual fields on a specific record.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:update0">Example usage</h3><details id="ch:update0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>updateSpj :: MonadIO m =&gt; [Update User] -&gt; ReaderT SqlBackend m ()
updateSpj updates = update spjId updates</pre><pre>updateSpj [UserAge +=. 100]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |140  |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:updateGet" class="def">updateGet</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record <a href="src/Database.Persist.Class.PersistStore.html#updateGet" class="link">Source</a> <a href="#v:updateGet" class="selflink">#</a></p><div class="doc"><p>Update individual fields on a specific record, and retrieve the
 updated value from the database.</p><p>Note that this function will throw an exception if the given key is not
 found in the database.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:updateGet0">Example usage</h3><details id="ch:updateGet0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>updateGetSpj :: MonadIO m =&gt; [Update User] -&gt; ReaderT SqlBackend m User
updateGetSpj updates = updateGet spjId updates</pre><pre>spj &lt;- updateGetSpj [UserAge +=. 100]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |140  |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistStoreWrite">Instances</h4><details id="i:PersistStoreWrite" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreWrite:PersistStoreWrite:1"></span> <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-311" class="link">Source</a> <a href="#t:PersistStoreWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreWrite:PersistStoreWrite:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:insert">insert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) <a href="src/Database.Persist.Class.PersistStore.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><p class="src"><a href="#v:insert_">insert_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insert_" class="link">Source</a> <a href="#v:insert_" class="selflink">#</a></p><p class="src"><a href="#v:insertMany">insertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] <a href="src/Database.Persist.Class.PersistStore.html#insertMany" class="link">Source</a> <a href="#v:insertMany" class="selflink">#</a></p><p class="src"><a href="#v:insertMany_">insertMany_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertMany_" class="link">Source</a> <a href="#v:insertMany_" class="selflink">#</a></p><p class="src"><a href="#v:insertEntityMany">insertEntityMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertEntityMany" class="link">Source</a> <a href="#v:insertEntityMany" class="selflink">#</a></p><p class="src"><a href="#v:insertKey">insertKey</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertKey" class="link">Source</a> <a href="#v:insertKey" class="selflink">#</a></p><p class="src"><a href="#v:repsert">repsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#repsert" class="link">Source</a> <a href="#v:repsert" class="selflink">#</a></p><p class="src"><a href="#v:repsertMany">repsertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [(<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#repsertMany" class="link">Source</a> <a href="#v:repsertMany" class="selflink">#</a></p><p class="src"><a href="#v:replace">replace</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#replace" class="link">Source</a> <a href="#v:replace" class="selflink">#</a></p><p class="src"><a href="#v:delete">delete</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#delete" class="link">Source</a> <a href="#v:delete" class="selflink">#</a></p><p class="src"><a href="#v:update">update</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#update" class="link">Source</a> <a href="#v:update" class="selflink">#</a></p><p class="src"><a href="#v:updateGet">updateGet</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m record <a href="src/Database.Persist.Class.PersistStore.html#updateGet" class="link">Source</a> <a href="#v:updateGet" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreWrite:PersistStoreWrite:2"></span> <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-146" class="link">Source</a> <a href="#t:PersistStoreWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreWrite:PersistStoreWrite:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:insert">insert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) <a href="src/Database.Persist.Class.PersistStore.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><p class="src"><a href="#v:insert_">insert_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insert_" class="link">Source</a> <a href="#v:insert_" class="selflink">#</a></p><p class="src"><a href="#v:insertMany">insertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] <a href="src/Database.Persist.Class.PersistStore.html#insertMany" class="link">Source</a> <a href="#v:insertMany" class="selflink">#</a></p><p class="src"><a href="#v:insertMany_">insertMany_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertMany_" class="link">Source</a> <a href="#v:insertMany_" class="selflink">#</a></p><p class="src"><a href="#v:insertEntityMany">insertEntityMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertEntityMany" class="link">Source</a> <a href="#v:insertEntityMany" class="selflink">#</a></p><p class="src"><a href="#v:insertKey">insertKey</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertKey" class="link">Source</a> <a href="#v:insertKey" class="selflink">#</a></p><p class="src"><a href="#v:repsert">repsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#repsert" class="link">Source</a> <a href="#v:repsert" class="selflink">#</a></p><p class="src"><a href="#v:repsertMany">repsertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [(<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#repsertMany" class="link">Source</a> <a href="#v:repsertMany" class="selflink">#</a></p><p class="src"><a href="#v:replace">replace</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#replace" class="link">Source</a> <a href="#v:replace" class="selflink">#</a></p><p class="src"><a href="#v:delete">delete</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#delete" class="link">Source</a> <a href="#v:delete" class="selflink">#</a></p><p class="src"><a href="#v:update">update</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#update" class="link">Source</a> <a href="#v:update" class="selflink">#</a></p><p class="src"><a href="#v:updateGet">updateGet</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m record <a href="src/Database.Persist.Class.PersistStore.html#updateGet" class="link">Source</a> <a href="#v:updateGet" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreWrite:PersistStoreWrite:3"></span> (<a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> b, <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> b s, <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> b) =&gt; <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-108" class="link">Source</a> <a href="#t:PersistStoreWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreWrite:PersistStoreWrite:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:insert">insert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) <a href="src/Database.Persist.Class.PersistStore.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><p class="src"><a href="#v:insert_">insert_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#insert_" class="link">Source</a> <a href="#v:insert_" class="selflink">#</a></p><p class="src"><a href="#v:insertMany">insertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] <a href="src/Database.Persist.Class.PersistStore.html#insertMany" class="link">Source</a> <a href="#v:insertMany" class="selflink">#</a></p><p class="src"><a href="#v:insertMany_">insertMany_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#insertMany_" class="link">Source</a> <a href="#v:insertMany_" class="selflink">#</a></p><p class="src"><a href="#v:insertEntityMany">insertEntityMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#insertEntityMany" class="link">Source</a> <a href="#v:insertEntityMany" class="selflink">#</a></p><p class="src"><a href="#v:insertKey">insertKey</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#insertKey" class="link">Source</a> <a href="#v:insertKey" class="selflink">#</a></p><p class="src"><a href="#v:repsert">repsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#repsert" class="link">Source</a> <a href="#v:repsert" class="selflink">#</a></p><p class="src"><a href="#v:repsertMany">repsertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [(<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#repsertMany" class="link">Source</a> <a href="#v:repsertMany" class="selflink">#</a></p><p class="src"><a href="#v:replace">replace</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#replace" class="link">Source</a> <a href="#v:replace" class="selflink">#</a></p><p class="src"><a href="#v:delete">delete</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#delete" class="link">Source</a> <a href="#v:delete" class="selflink">#</a></p><p class="src"><a href="#v:update">update</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#update" class="link">Source</a> <a href="#v:update" class="selflink">#</a></p><p class="src"><a href="#v:updateGet">updateGet</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m record <a href="src/Database.Persist.Class.PersistStore.html#updateGet" class="link">Source</a> <a href="#v:updateGet" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:PersistRecordBackend" class="def">PersistRecordBackend</a> record backend = (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend) <a href="src/Database.Persist.Class.PersistStore.html#PersistRecordBackend" class="link">Source</a> <a href="#t:PersistRecordBackend" class="selflink">#</a></p><div class="doc"><p>A convenient alias for common type signatures</p></div></div><div class="top"><p class="src"><a id="v:getJust" class="def">getJust</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record <a href="src/Database.Persist.Class.PersistStore.html#getJust" class="link">Source</a> <a href="#v:getJust" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class.html#v:get" title="Database.Persist.Class">get</a></code>, but for a non-null (not Maybe) foreign key.
 Unsafe unless your database is enforcing that the foreign key is valid.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getJust0">Example usage</h3><details id="ch:getJust0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>getJustSpj :: MonadIO m =&gt; ReaderT SqlBackend m User
getJustSpj = getJust spjId</pre><pre>spj &lt;- getJust spjId</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get this record:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre><pre>getJustUnknown :: MonadIO m =&gt; ReaderT SqlBackend m User
getJustUnknown = getJust unknownId</pre><p>mrx &lt;- getJustUnknown</p><p>This just throws an error.</p></details></div></div><div class="top"><p class="src"><a id="v:getJustEntity" class="def">getJustEntity</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistStore.html#getJustEntity" class="link">Source</a> <a href="#v:getJustEntity" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class.html#v:getJust" title="Database.Persist.Class">getJust</a></code>, but returns an <code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code> instead of just the record.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getJustEntity0">Example usage</h3><details id="ch:getJustEntity0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>getJustEntitySpj :: MonadIO m =&gt; ReaderT SqlBackend m (Entity User)
getJustEntitySpj = getJustEntity spjId</pre><pre>spjEnt &lt;- getJustEntitySpj</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get this entity:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre></details><p><em>Since: 2.6.1</em></p></div></div><div class="top"><p class="src"><a id="v:getEntity" class="def">getEntity</a> :: <span class="keyword">forall</span> e backend m. (<a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> e backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> e -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> e)) <a href="src/Database.Persist.Class.PersistStore.html#getEntity" class="link">Source</a> <a href="#v:getEntity" class="selflink">#</a></p><div class="doc"><p>Like <code>get</code>, but returns the complete <code>Entity</code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getEntity0">Example usage</h3><details id="ch:getEntity0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>getSpjEntity :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe (Entity User))
getSpjEntity = getEntity spjId</pre><pre>mSpjEnt &lt;- getSpjEntity</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get this entity:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre></details></div></div><div class="top"><p class="src"><a id="v:belongsTo" class="def">belongsTo</a> :: <span class="keyword">forall</span> ent1 ent2 backend m. (<a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> ent1, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> ent2 backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; (ent1 -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> ent2)) -&gt; ent1 -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ent2) <a href="src/Database.Persist.Class.PersistStore.html#belongsTo" class="link">Source</a> <a href="#v:belongsTo" class="selflink">#</a></p><div class="doc"><p>Curry this to make a convenience function that loads an associated model.</p><pre>foreign = belongsTo foreignId</pre></div></div><div class="top"><p class="src"><a id="v:belongsToJust" class="def">belongsToJust</a> :: <span class="keyword">forall</span> ent1 ent2 backend m. (<a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> ent1, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> ent2 backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; (ent1 -&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> ent2) -&gt; ent1 -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ent2 <a href="src/Database.Persist.Class.PersistStore.html#belongsToJust" class="link">Source</a> <a href="#v:belongsToJust" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class.html#v:belongsTo" title="Database.Persist.Class">belongsTo</a></code>, but uses <code>getJust</code> and therefore is similarly unsafe.</p></div></div><div class="top"><p class="src"><a id="v:insertEntity" class="def">insertEntity</a> :: <span class="keyword">forall</span> e backend m. (<a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> e backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; e -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> e) <a href="src/Database.Persist.Class.PersistStore.html#insertEntity" class="link">Source</a> <a href="#v:insertEntity" class="selflink">#</a></p><div class="doc"><p>Like <code>insert</code>, but returns the complete <code>Entity</code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertEntity0">Example usage</h3><details id="ch:insertEntity0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertHaskellEntity :: MonadIO m =&gt; ReaderT SqlBackend m (Entity User)
insertHaskellEntity = insertEntity $ User &quot;Haskell&quot; 81</pre><pre>haskellEnt &lt;- insertHaskellEntity</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+----+---------+-----+
| id |  name   | age |
+----+---------+-----+
|  1 | SPJ     |  40 |
+----+---------+-----+
|  2 | Simon   |  41 |
+----+---------+-----+
|  3 | Haskell |  81 |
+----+---------+-----+</pre></details></div></div><div class="top"><p class="src"><a id="v:insertRecord" class="def">insertRecord</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record <a href="src/Database.Persist.Class.PersistStore.html#insertRecord" class="link">Source</a> <a href="#v:insertRecord" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Database-Persist-Class.html#v:insertEntity" title="Database.Persist.Class">insertEntity</a></code> but just returns the record instead of <code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertRecord0">Example usage</h3><details id="ch:insertRecord0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertDaveRecord :: MonadIO m =&gt; ReaderT SqlBackend m User
insertDaveRecord = insertRecord $ User &quot;Dave&quot; 50</pre><pre>dave &lt;- insertDaveRecord</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Dave  |50   |
+-----+------+-----+</pre></details><p><em>Since: 2.6.1</em></p></div></div><a href="#g:2" id="g:2"><h1>PersistUnique</h1></a><div class="doc"><p>The <code><a href="Database-Persist-Class.html#t:PersistUnique" title="Database.Persist.Class">PersistUnique</a></code> type class is relevant for database backends that
 offer uniqueness keys. Uniquenes keys allow us to perform operations like
 <code><a href="Database-Persist-Class.html#v:getBy" title="Database.Persist.Class">getBy</a></code>, <code><a href="Database-Persist-Class.html#v:deleteBy" title="Database.Persist.Class">deleteBy</a></code>, as well as <code><a href="Database-Persist-Class.html#v:upsert" title="Database.Persist.Class">upsert</a></code> and <code><a href="Database-Persist-Class.html#v:putMany" title="Database.Persist.Class">putMany</a></code>.</p><p>All the examples present here will be explained based on these two schemas and the dataset:</p><h1>schema-1</h1><p>This schema has single unique constraint.</p><p><a id="schema-persist-unique-1"></a></p><pre>share [mkPersist sqlSettings, mkMigrate &quot;migrateAll&quot;] [persistLowerCase|
User
    name String
    age Int
    UniqueUserName name
    deriving Show
|]</pre><h1>schema-2</h1><p>This schema has two unique constraints.</p><p><a id="schema-persist-unique-2"></a></p><pre>share [mkPersist sqlSettings, mkMigrate &quot;migrateAll&quot;] [persistLowerCase|
User
    name String
    age Int
    UniqueUserName name
    UniqueUserAge age
    deriving Show
|]</pre><h1>dataset-1</h1><p><a id="dataset-persist-unique-1"></a></p><pre>+-----+-----+-----+
|id   |name |age  |
+-----+-----+-----+
|1    |SPJ  |40   |
+-----+-----+-----+
|2    |Simon|41   |
+-----+-----+-----+</pre></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:PersistUnique" class="def">PersistUnique</a> a = <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> a <a href="src/Database.Persist.Class.html#PersistUnique" class="link">Source</a> <a href="#t:PersistUnique" class="selflink">#</a></p><div class="doc"><p>A backwards-compatible alias for those that don't care about distinguishing between read and write queries.
 It signifies the assumption that, by default, a backend can write as well as read.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend =&gt; <a id="t:PersistUniqueRead" class="def">PersistUniqueRead</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistUnique.html#PersistUniqueRead" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></p><div class="doc"><p>Queries against <code><a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a></code> keys (other than the id <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code>).</p><p>Please read the general Persistent documentation to learn how to create
 <code><a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a></code> keys.</p><p>Using this with an Entity without a Unique key leads to undefined
 behavior.  A few of these functions require a <em>single</em> <code><a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a></code>, so using
 an Entity with multiple <code><a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a></code>s is also undefined. In these cases
 persistent's goal is to throw an exception as soon as possible, but
 persistent is still transitioning to that.</p><p>SQL backends automatically create uniqueness constraints, but for MongoDB
 you must manually place a unique index on a field to have a uniqueness
 constraint.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:getBy" class="def">getBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p><div class="doc"><p>Get a record by unique key, if available. Returns also the identifier.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getBy0">Example usage</h3><details id="ch:getBy0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>:</p><pre>getBySpjName :: MonadIO m  =&gt; ReaderT SqlBackend m (Maybe (Entity User))
getBySpjName = getBy $ UniqueUserName &quot;SPJ&quot;</pre><pre>mSpjEnt &lt;- getBySpjName</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will get this entity:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre></details></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistUniqueRead">Instances</h4><details id="i:PersistUniqueRead" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueRead:PersistUniqueRead:1"></span> <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-113" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueRead:PersistUniqueRead:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueRead:PersistUniqueRead:2"></span> <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-116" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueRead:PersistUniqueRead:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueRead:PersistUniqueRead:3"></span> <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-84" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueRead:PersistUniqueRead:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueRead:PersistUniqueRead:4"></span> (<a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> b, <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> b s, <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> b) =&gt; <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-105" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueRead:PersistUniqueRead:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend, <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend) =&gt; <a id="t:PersistUniqueWrite" class="def">PersistUniqueWrite</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistUnique.html#PersistUniqueWrite" class="link">Source</a> <a href="#t:PersistUniqueWrite" class="selflink">#</a></p><div class="doc"><p>Some functions in this module (<code><a href="Database-Persist-Class.html#v:insertUnique" title="Database.Persist.Class">insertUnique</a></code>, <code><a href="Database-Persist-Class.html#v:insertBy" title="Database.Persist.Class">insertBy</a></code>, and
 <code><a href="Database-Persist-Class.html#v:replaceUnique" title="Database.Persist.Class">replaceUnique</a></code>) first query the unique indexes to check for
 conflicts. You could instead optimistically attempt to perform the
 operation (e.g. <code><a href="Database-Persist-Class.html#v:replace" title="Database.Persist.Class">replace</a></code> instead of <code><a href="Database-Persist-Class.html#v:replaceUnique" title="Database.Persist.Class">replaceUnique</a></code>). However,</p><ul><li>there is some fragility to trying to catch the correct exception and
  determing the column of failure;</li><li>an exception will automatically abort the current SQL transaction.</li></ul></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class.html#v:deleteBy" title="Database.Persist.Class">deleteBy</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:deleteBy" class="def">deleteBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistUnique.html#deleteBy" class="link">Source</a> <a href="#v:deleteBy" class="selflink">#</a></p><div class="doc"><p>Delete a specific record by unique key. Does nothing if no record
 matches.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:deleteBy0">Example usage</h3><details id="ch:deleteBy0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>,</p><pre>deleteBySpjName :: MonadIO m =&gt; ReaderT SqlBackend m ()
deleteBySpjName = deleteBy UniqueUserName &quot;SPJ&quot;</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertUnique" class="def">insertUnique</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUnique" class="link">Source</a> <a href="#v:insertUnique" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Database-Persist-Class.html#v:insert" title="Database.Persist.Class">insert</a></code>, but returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> when the record
 couldn't be inserted because of a uniqueness constraint.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertUnique0">Example usage</h3><details id="ch:insertUnique0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>, we try to insert the following two records:</p><pre>linusId &lt;- insertUnique $ User &quot;Linus&quot; 48
spjId   &lt;- insertUnique $ User &quot;SPJ&quot; 90</pre><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Linus |48   |
+-----+------+-----+</pre><p>Linus's record was inserted to <a href="#dataset-persist-unique-1">dataset-1</a>, while SPJ wasn't because SPJ already exists in <a href="#dataset-persist-unique-1">dataset-1</a>.</p></details></div><p class="src"><a id="v:upsert" class="def">upsert</a> <a href="src/Database.Persist.Class.PersistUnique.html#upsert" class="link">Source</a> <a href="#v:upsert" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a> record)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; record</td><td class="doc"><p>new record to insert</p></td></tr><tr><td class="src">-&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record]</td><td class="doc"><p>updates to perform if the record already exists</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</td><td class="doc"><p>the record in the database after the operation</p></td></tr></table></div><div class="doc"><p>Update based on a uniqueness constraint or insert:</p><ul><li>insert the new record if it does not exist;</li><li>If the record exists (matched via it's uniqueness constraint), then update the existing record with the parameters which is passed on as list to the function.</li></ul><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:upsert0">Example usage</h3><details id="ch:upsert0"><summary class="hide-when-js-enabled">Expand</summary><p>First, we try to explain <code><a href="Database-Persist-Class.html#v:upsert" title="Database.Persist.Class">upsert</a></code> using <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>.</p><pre>upsertSpj :: MonadIO m =&gt; [Update User] -&gt; ReaderT SqlBackend m (Maybe (Entity User))
upsertSpj updates = upsert (User &quot;SPJ&quot; 999) upadtes</pre><pre>mSpjEnt &lt;- upsertSpj [UserAge +=. 15]</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will produce this:</p><pre>+-----+-----+--------+
|id   |name |age     |
+-----+-----+--------+
|1    |SPJ  |40 -&gt; 55|
+-----+-----+--------+
|2    |Simon|41      |
+-----+-----+--------+</pre><pre>upsertX :: MonadIO m =&gt; [Update User] -&gt; ReaderT SqlBackend m (Maybe (Entity User))
upsertX updates = upsert (User &quot;X&quot; 999) updates</pre><pre>mXEnt &lt;- upsertX [UserAge +=. 15]</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will produce this:</p><pre>+-----+-----+--------+
|id   |name |age     |
+-----+-----+--------+
|1    |SPJ  |40      |
+-----+-----+--------+
|2    |Simon|41      |
+-----+-----+--------+
|3    |X    |999     |
+-----+-----+--------+</pre><p>Next, what if the schema has two uniqueness constraints?
 Let's check it out using <a href="#schema-persist-unique-2">schema-2</a>:</p><pre>mSpjEnt &lt;- upsertSpj [UserAge +=. 15]</pre><p>This fails with a compile-time type error alerting us to the fact
 that this record has multiple unique keys, and suggests that we look for
 <code><a href="Database-Persist-Class.html#v:upsertBy" title="Database.Persist.Class">upsertBy</a></code> to select the unique key we want.</p></details></div><p class="src"><a id="v:upsertBy" class="def">upsertBy</a> <a href="src/Database.Persist.Class.PersistUnique.html#upsertBy" class="link">Source</a> <a href="#v:upsertBy" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record</td><td class="doc"><p>uniqueness constraint to find by</p></td></tr><tr><td class="src">-&gt; record</td><td class="doc"><p>new record to insert</p></td></tr><tr><td class="src">-&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record]</td><td class="doc"><p>updates to perform if the record already exists</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</td><td class="doc"><p>the record in the database after the operation</p></td></tr></table></div><div class="doc"><p>Update based on a given uniqueness constraint or insert:</p><ul><li>insert the new record if it does not exist;</li><li>update the existing record that matches the given uniqueness constraint.</li></ul><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:upsertBy0">Example usage</h3><details id="ch:upsertBy0"><summary class="hide-when-js-enabled">Expand</summary><p>We try to explain <code><a href="Database-Persist-Class.html#v:upsertBy" title="Database.Persist.Class">upsertBy</a></code> using <a href="#schema-persist-unique-2">schema-2</a> and <a href="#dataset-persist-unique-1">dataset-1</a>.</p><pre>upsertBySpjName :: MonadIO m =&gt; User -&gt; [Update User] -&gt; ReaderT SqlBackend m (Entity User)
upsertBySpjName record updates = upsertBy (UniqueUserName &quot;SPJ&quot;) record updates</pre><pre>mSpjEnt &lt;- upsertBySpjName (Person &quot;X&quot; 999) [PersonAge += .15]</pre><p>The above query will alter <a href="#dataset-persist-unique-1">dataset-1</a> to:</p><pre>+-----+-----+--------+
|id   |name |age     |
+-----+-----+--------+
|1    |SPJ  |40 -&gt; 55|
+-----+-----+--------+
|2    |Simon|41      |
+-----+-----+--------+</pre><pre>upsertBySimonAge :: MonadIO m =&gt; User -&gt; [Update User] -&gt; ReaderT SqlBackend m (Entity User)
upsertBySimonAge record updates = upsertBy (UniqueUserName &quot;SPJ&quot;) record updates</pre><pre>mPhilipEnt &lt;- upsertBySimonAge (User &quot;X&quot; 999) [UserName =. &quot;Philip&quot;]</pre><p>The above query will alter <a href="#dataset-persist-unique-1">dataset-1</a> to:</p><pre>+----+-----------------+-----+
| id |      name       | age |
+----+-----------------+-----+
|  1 | SPJ             |  40 |
+----+-----------------+-----+
|  2 | Simon -&gt; Philip |  41 |
+----+-----------------+-----+</pre><pre>upsertByUnknownName :: MonadIO m =&gt; User -&gt; [Update User] -&gt; ReaderT SqlBackend m (Entity User)
upsertByUnknownName record updates = upsertBy (UniqueUserName &quot;Unknown&quot;) record updates</pre><pre>mXEnt &lt;- upsertByUnknownName (User &quot;X&quot; 999) [UserAge +=. 15]</pre><p>This query will alter <a href="#dataset-persist-unique-1">dataset-1</a> to:</p><pre>+-----+-----+-----+
|id   |name |age  |
+-----+-----+-----+
|1    |SPJ  |40   |
+-----+-----+-----+
|2    |Simon|41   |
+-----+-----+-----+
|3    |X    |999  |
+-----+-----+-----+</pre></details></div><p class="src"><a id="v:putMany" class="def">putMany</a> <a href="src/Database.Persist.Class.PersistUnique.html#putMany" class="link">Source</a> <a href="#v:putMany" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [record]</td><td class="doc"><p>A list of the records you want to insert or replace.</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Put many records into db</p><ul><li>insert new records that do not exist (or violate any unique constraints)</li><li>replace existing records (matching any unique constraint)</li></ul><p><em>Since: 2.8.1</em></p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistUniqueWrite">Instances</h4><details id="i:PersistUniqueWrite" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueWrite:PersistUniqueWrite:1"></span> <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-79" class="link">Source</a> <a href="#t:PersistUniqueWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueWrite:PersistUniqueWrite:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:deleteBy">deleteBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistUnique.html#deleteBy" class="link">Source</a> <a href="#v:deleteBy" class="selflink">#</a></p><p class="src"><a href="#v:insertUnique">insertUnique</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUnique" class="link">Source</a> <a href="#v:insertUnique" class="selflink">#</a></p><p class="src"><a href="#v:upsert">upsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>, <a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a> record) =&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsert" class="link">Source</a> <a href="#v:upsert" class="selflink">#</a></p><p class="src"><a href="#v:upsertBy">upsertBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsertBy" class="link">Source</a> <a href="#v:upsertBy" class="selflink">#</a></p><p class="src"><a href="#v:putMany">putMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistUnique.html#putMany" class="link">Source</a> <a href="#v:putMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueWrite:PersistUniqueWrite:2"></span> <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-24" class="link">Source</a> <a href="#t:PersistUniqueWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueWrite:PersistUniqueWrite:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:deleteBy">deleteBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistUnique.html#deleteBy" class="link">Source</a> <a href="#v:deleteBy" class="selflink">#</a></p><p class="src"><a href="#v:insertUnique">insertUnique</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUnique" class="link">Source</a> <a href="#v:insertUnique" class="selflink">#</a></p><p class="src"><a href="#v:upsert">upsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>, <a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a> record) =&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsert" class="link">Source</a> <a href="#v:upsert" class="selflink">#</a></p><p class="src"><a href="#v:upsertBy">upsertBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsertBy" class="link">Source</a> <a href="#v:upsertBy" class="selflink">#</a></p><p class="src"><a href="#v:putMany">putMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistUnique.html#putMany" class="link">Source</a> <a href="#v:putMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueWrite:PersistUniqueWrite:3"></span> (<a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> b, <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> b s, <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> b) =&gt; <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-122" class="link">Source</a> <a href="#t:PersistUniqueWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueWrite:PersistUniqueWrite:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:deleteBy">deleteBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistUnique.html#deleteBy" class="link">Source</a> <a href="#v:deleteBy" class="selflink">#</a></p><p class="src"><a href="#v:insertUnique">insertUnique</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUnique" class="link">Source</a> <a href="#v:insertUnique" class="selflink">#</a></p><p class="src"><a href="#v:upsert">upsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s), <a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a> record) =&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsert" class="link">Source</a> <a href="#v:upsert" class="selflink">#</a></p><p class="src"><a href="#v:upsertBy">upsertBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsertBy" class="link">Source</a> <a href="#v:upsertBy" class="selflink">#</a></p><p class="src"><a href="#v:putMany">putMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistUnique.html#putMany" class="link">Source</a> <a href="#v:putMany" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record =&gt; <a id="t:OnlyOneUniqueKey" class="def">OnlyOneUniqueKey</a> record <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistUnique.html#OnlyOneUniqueKey" class="link">Source</a> <a href="#t:OnlyOneUniqueKey" class="selflink">#</a></p><div class="doc"><p>This class is used to ensure that <code><a href="Database-Persist-Class.html#v:upsert" title="Database.Persist.Class">upsert</a></code> is only called on records
 that have a single <code><a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a></code> key. The quasiquoter automatically generates
 working instances for appropriate records, and generates <code>TypeError</code>
 instances for records that have 0 or multiple unique keys.</p><p><em>Since: 2.10.0</em></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:onlyUniqueP" class="def">onlyUniqueP</a> :: record -&gt; <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record <a href="src/Database.Persist.Class.PersistUnique.html#onlyUniqueP" class="link">Source</a> <a href="#v:onlyUniqueP" class="selflink">#</a></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record =&gt; <a id="t:AtLeastOneUniqueKey" class="def">AtLeastOneUniqueKey</a> record <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistUnique.html#AtLeastOneUniqueKey" class="link">Source</a> <a href="#t:AtLeastOneUniqueKey" class="selflink">#</a></p><div class="doc"><p>This class is used to ensure that functions requring at least one
 unique key are not called with records that have 0 unique keys. The
 quasiquoter automatically writes working instances for appropriate
 entities, and generates <code>TypeError</code> instances for records that have
 0 unique keys.</p><p><em>Since: 2.10.0</em></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:requireUniquesP" class="def">requireUniquesP</a> :: record -&gt; <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#requireUniquesP" class="link">Source</a> <a href="#v:requireUniquesP" class="selflink">#</a></p></div></div><div class="top"><p class="src"><a id="v:onlyOneUniqueDef" class="def">onlyOneUniqueDef</a> :: (<a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a> record, <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> proxy) =&gt; proxy record -&gt; <a href="Database-Persist-Types.html#t:UniqueDef" title="Database.Persist.Types">UniqueDef</a> <a href="src/Database.Persist.Class.PersistUnique.html#onlyOneUniqueDef" class="link">Source</a> <a href="#v:onlyOneUniqueDef" class="selflink">#</a></p><div class="doc"><p>Given a proxy for a <code><a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a></code> record, this returns the sole
 <code><a href="Database-Persist-Types.html#t:UniqueDef" title="Database.Persist.Types">UniqueDef</a></code> for that entity.</p><p><em>Since: 2.13.0.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:NoUniqueKeysError" class="def">NoUniqueKeysError</a> ty = (('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The entity &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> ty) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; does not have any unique keys.&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> ('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The function you are trying to call requires a unique key &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;to be defined on the entity.&quot;) <a href="src/Database.Persist.Class.PersistUnique.html#NoUniqueKeysError" class="link">Source</a> <a href="#t:NoUniqueKeysError" class="selflink">#</a></p><div class="doc"><p>This is an error message. It is used when writing instances of
 <code><a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a></code> for an entity that has no unique keys.</p><p><em>Since: 2.10.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MultipleUniqueKeysError" class="def">MultipleUniqueKeysError</a> ty = ((('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The entity &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> ty) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; has multiple unique keys.&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> ('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The function you are trying to call requires only a single &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;unique key.&quot;)) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> (('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;There is probably a variant of the function with 'By' &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;appended that will allow you to select a unique key &quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;for the operation.&quot;) <a href="src/Database.Persist.Class.PersistUnique.html#MultipleUniqueKeysError" class="link">Source</a> <a href="#t:MultipleUniqueKeysError" class="selflink">#</a></p><div class="doc"><p>This is an error message. It is used when an entity has multiple
 unique keys, and the function expects a single unique key.</p><p><em>Since: 2.10.0</em></p></div></div><div class="top"><p class="src"><a id="v:getByValue" class="def">getByValue</a> :: <span class="keyword">forall</span> record m backend. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class">AtLeastOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getByValue" class="link">Source</a> <a href="#v:getByValue" class="selflink">#</a></p><div class="doc"><p>A modification of <code><a href="Database-Persist-Class.html#v:getBy" title="Database.Persist.Class">getBy</a></code>, which takes the <code><a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a></code> itself instead
 of a <code><a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a></code> record. Returns a record matching <em>one</em> of the unique keys. This
 function makes the most sense on entities with a single <code><a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a></code>
 constructor.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getByValue0">Example usage</h3><details id="ch:getByValue0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>,</p><p>getBySpjValue :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe (Entity User))
 getBySpjValue = getByValue $ User <a href="SPJ.html">SPJ</a> 999</p><pre>mSpjEnt &lt;- getBySpjValue</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will get this record:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre></details></div></div><div class="top"><p class="src"><a id="v:insertBy" class="def">insertBy</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class">AtLeastOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertBy" class="link">Source</a> <a href="#v:insertBy" class="selflink">#</a></p><div class="doc"><p>Insert a value, checking for conflicts with any unique constraints.  If a
 duplicate exists in the database, it is returned as <code><a href="../base-4.16.4.0/Data-Either.html#v:Left" title="Data.Either">Left</a></code>. Otherwise, the
 new 'Key is returned as <code><a href="../base-4.16.4.0/Data-Either.html#v:Right" title="Data.Either">Right</a></code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertBy0">Example usage</h3><details id="ch:insertBy0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-2">schema-2</a> and <a href="#dataset-persist-unique-1">dataset-1</a>, we have following lines of code:</p><pre>l1 &lt;- insertBy $ User &quot;SPJ&quot; 20
l2 &lt;- insertBy $ User &quot;XXX&quot; 41
l3 &lt;- insertBy $ User &quot;SPJ&quot; 40
r1 &lt;- insertBy $ User &quot;XXX&quot; 100</pre><p>First three lines return <code><a href="../base-4.16.4.0/Data-Either.html#v:Left" title="Data.Either">Left</a></code> because there're duplicates in given record's uniqueness constraints. While the last line returns a new key as <code><a href="../base-4.16.4.0/Data-Either.html#v:Right" title="Data.Either">Right</a></code>.</p></details></div></div><div class="top"><p class="src"><a id="v:insertUniqueEntity" class="def">insertUniqueEntity</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUniqueEntity" class="link">Source</a> <a href="#v:insertUniqueEntity" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Database-Persist-Class.html#v:insertEntity" title="Database.Persist.Class">insertEntity</a></code>, but returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> when the record
 couldn't be inserted because of a uniqueness constraint.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertUniqueEntity0">Example usage</h3><details id="ch:insertUniqueEntity0"><summary class="hide-when-js-enabled">Expand</summary><p>We use <a href="#schema-persist-unique-2">schema-2</a> and <a href="#dataset-persist-unique-1">dataset-1</a> here.</p><pre>insertUniqueSpjEntity :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe (Entity User))
insertUniqueSpjEntity = insertUniqueEntity $ User &quot;SPJ&quot; 50</pre><pre>mSpjEnt &lt;- insertUniqueSpjEntity</pre><p>The above query results <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> as SPJ already exists.</p><pre>insertUniqueAlexaEntity :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe (Entity User))
insertUniqueAlexaEntity = insertUniqueEntity $ User &quot;Alexa&quot; 3</pre><pre>mAlexaEnt &lt;- insertUniqueSpjEntity</pre><p>Because there's no such unique keywords of the given record, the above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will produce this:</p><pre>+----+-------+-----+
| id | name  | age |
+----+-------+-----+
|  1 | SPJ   |  40 |
+----+-------+-----+
|  2 | Simon |  41 |
+----+-------+-----+
|  3 | Alexa |   3 |
+----+-------+-----+</pre></details><p><em>Since: 2.7.1</em></p></div></div><div class="top"><p class="src"><a id="v:replaceUnique" class="def">replaceUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record), <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend) =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#replaceUnique" class="link">Source</a> <a href="#v:replaceUnique" class="selflink">#</a></p><div class="doc"><p>Attempt to replace the record of the given key with the given new record.
 First query the unique fields to make sure the replacement maintains
 uniqueness constraints.</p><p>Return <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the replacement was made.
 If uniqueness is violated, return a <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> with the <code><a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a></code> violation</p><p><em>Since: 1.2.2.0</em></p></div></div><div class="top"><p class="src"><a id="v:checkUnique" class="def">checkUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#checkUnique" class="link">Source</a> <a href="#v:checkUnique" class="selflink">#</a></p><div class="doc"><p>Check whether there are any conflicts for unique keys with this entity and
 existing entities in the database.</p><p>Returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the entity would be unique, and could thus safely be inserted.
 on a conflict returns the conflicting key</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:checkUnique0">Example usage</h3><details id="ch:checkUnique0"><summary class="hide-when-js-enabled">Expand</summary><p>We use <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a> here.</p><p>This would be <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>:</p><pre>mAlanConst &lt;- checkUnique $ User &quot;Alan&quot; 70</pre><p>While this would be <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> because SPJ already exists:</p><pre>mSpjConst &lt;- checkUnique $ User &quot;SPJ&quot; 60</pre></details></div></div><div class="top"><p class="src"><a id="v:checkUniqueUpdateable" class="def">checkUniqueUpdateable</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#checkUniqueUpdateable" class="link">Source</a> <a href="#v:checkUniqueUpdateable" class="selflink">#</a></p><div class="doc"><p>Check whether there are any conflicts for unique keys with this entity and
 existing entities in the database.</p><p>Returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the entity would stay unique, and could thus safely be updated.
 on a conflict returns the conflicting key</p><p>This is similar to <code><a href="Database-Persist-Class.html#v:checkUnique" title="Database.Persist.Class">checkUnique</a></code>, except it's useful for updating - when the
 particular entity already exists, it would normally conflict with itself.
 This variant ignores those conflicts</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:checkUniqueUpdateable0">Example usage</h3><details id="ch:checkUniqueUpdateable0"><summary class="hide-when-js-enabled">Expand</summary><p>We use <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a> here.</p><p>This would be <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>:</p><pre>mAlanConst &lt;- checkUnique $ User &quot;Alan&quot; 70</pre><p>While this would be <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> because SPJ already exists:</p><pre>mSpjConst &lt;- checkUnique $ User &quot;SPJ&quot; 60</pre></details><p><em>Since: 2.11.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:onlyUnique" class="def">onlyUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class.html#t:OnlyOneUniqueKey" title="Database.Persist.Class">OnlyOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#onlyUnique" class="link">Source</a> <a href="#v:onlyUnique" class="selflink">#</a></p><div class="doc"><p>Return the single unique key for a record.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:onlyUnique0">Example usage</h3><details id="ch:onlyUnique0"><summary class="hide-when-js-enabled">Expand</summary><p>We use shcema-1 and <a href="#dataset-persist-unique-1">dataset-1</a> here.</p><pre>onlySimonConst :: MonadIO m =&gt; ReaderT SqlBackend m (Unique User)
onlySimonConst = onlyUnique $ User &quot;Simon&quot; 999</pre><pre>mSimonConst &lt;- onlySimonConst</pre><p><code>mSimonConst</code> would be Simon's uniqueness constraint. Note that
 <code>onlyUnique</code> doesn't work if there're more than two constraints. It will
 fail with a type error instead.</p></details></div></div><a href="#g:3" id="g:3"><h1>PersistQuery</h1></a><div class="doc"><p>The <code><a href="Database-Persist-Class.html#t:PersistQuery" title="Database.Persist.Class">PersistQuery</a></code> type class allows us to select lists and filter
 database models.  <code><a href="Database-Persist-Class.html#v:selectList" title="Database.Persist.Class">selectList</a></code> is the canonical read operation, and we
 can write <code><a href="Database-Persist-Class.html#v:updateWhere" title="Database.Persist.Class">updateWhere</a></code> and <code><a href="Database-Persist-Class.html#v:deleteWhere" title="Database.Persist.Class">deleteWhere</a></code> to modify based on filters.</p></div><div class="top"><p class="src"><a id="v:selectList" class="def">selectList</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] <a href="src/Database.Persist.Class.PersistQuery.html#selectList" class="link">Source</a> <a href="#v:selectList" class="selflink">#</a></p><div class="doc"><p>Returns a <code>[<code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code> record]</code> corresponding to the filters and options
 provided.</p><p>Filters are constructed using the operators defined in <a href="Database-Persist.html">Database.Persist</a>
 (and re-exported from <a href="Database-Persist-Sql.html">Database.Persist.Sql</a>). Let's look at some examples:</p><pre>usersWithAgeOver40 :: <code>SqlPersistT</code> <code><a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a></code> [<code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code> User]
usersWithAgeOver40 =
    <code><a href="Database-Persist-Class.html#v:selectList" title="Database.Persist.Class">selectList</a></code> [UserAge <code><a href="Database-Persist.html#v:-62--61-." title="Database.Persist">&gt;=.</a></code> 40] []
</pre><p>If you provide multiple values in the list, the conditions are <code>AND</code>ed
 together.</p><pre>usersWithAgeBetween30And50 :: <code>SqlPersistT</code> <code><a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a></code> [<code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code> User]
usersWithAgeBetween30And50 =
     <code><a href="Database-Persist-Class.html#v:selectList" title="Database.Persist.Class">selectList</a></code>
         [ UserAge <code><a href="Database-Persist.html#v:-62--61-." title="Database.Persist">&gt;=.</a></code> 30
         , UserAge <code><a href="Database-Persist.html#v:-60--61-." title="Database.Persist">&lt;=.</a></code> 50
         ]
         []
</pre><p>The second list contains the <code><a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a></code> for a record.  We can select the
 first ten records with <code><a href="Database-Persist-Class-PersistEntity.html#v:LimitTo" title="Database.Persist.Class.PersistEntity">LimitTo</a></code></p><pre>firstTenUsers =
    <code><a href="Database-Persist-Class.html#v:selectList" title="Database.Persist.Class">selectList</a></code> [] [<code><a href="Database-Persist-Class-PersistEntity.html#v:LimitTo" title="Database.Persist.Class.PersistEntity">LimitTo</a></code> 10]
</pre><p>And we can select the second ten users with <code><a href="Database-Persist-Class-PersistEntity.html#v:OffsetBy" title="Database.Persist.Class.PersistEntity">OffsetBy</a></code>.</p><pre>secondTenUsers =
    <code><a href="Database-Persist-Class.html#v:selectList" title="Database.Persist.Class">selectList</a></code> [] [<code><a href="Database-Persist-Class-PersistEntity.html#v:LimitTo" title="Database.Persist.Class.PersistEntity">LimitTo</a></code> 10, <code><a href="Database-Persist-Class-PersistEntity.html#v:OffsetBy" title="Database.Persist.Class.PersistEntity">OffsetBy</a></code> 10]
</pre><p><a href="https://use-the-index-luke.com/sql/partial-results/fetch-next-page">Warning that LIMIT/OFFSET is bad for pagination!</a></p><p>With <code><a href="Database-Persist-Class-PersistEntity.html#v:Asc" title="Database.Persist.Class.PersistEntity">Asc</a></code> and <code><a href="Database-Persist-Class-PersistEntity.html#v:Desc" title="Database.Persist.Class.PersistEntity">Desc</a></code>, we can provide the field we want to sort on. We can
 provide multiple sort orders - later ones are used to sort records that are
 equal on the first field.</p><pre>newestUsers =
    selectList [] [<code><a href="Database-Persist-Class-PersistEntity.html#v:Desc" title="Database.Persist.Class.PersistEntity">Desc</a></code> UserCreatedAt, <code><a href="Database-Persist-Class-PersistEntity.html#v:LimitTo" title="Database.Persist.Class.PersistEntity">LimitTo</a></code> 10]

oldestUsers =
    selectList [] [<code><a href="Database-Persist-Class-PersistEntity.html#v:Asc" title="Database.Persist.Class.PersistEntity">Asc</a></code> UserCreatedAt, <code><a href="Database-Persist-Class-PersistEntity.html#v:LimitTo" title="Database.Persist.Class.PersistEntity">LimitTo</a></code> 10]
</pre></div></div><div class="top"><p class="src"><a id="v:selectKeys" class="def">selectKeys</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="../conduit-1.3.4.3/Conduit.html#t:MonadResource" title="Conduit">MonadResource</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> backend m) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) m () <a href="src/Database.Persist.Class.PersistQuery.html#selectKeys" class="link">Source</a> <a href="#v:selectKeys" class="selflink">#</a></p><div class="doc"><p>Get the <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code>s of all records matching the given criterion.</p><p>For an example, see <code><a href="Database-Persist-Class.html#v:selectList" title="Database.Persist.Class">selectList</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:PersistQuery" class="def">PersistQuery</a> a = <a href="Database-Persist-Class.html#t:PersistQueryWrite" title="Database.Persist.Class">PersistQueryWrite</a> a <a href="src/Database.Persist.Class.html#PersistQuery" class="link">Source</a> <a href="#t:PersistQuery" class="selflink">#</a></p><div class="doc"><p>A backwards-compatible alias for those that don't care about distinguishing between read and write queries.
 It signifies the assumption that, by default, a backend can write as well as read.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> backend, <a href="Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend) =&gt; <a id="t:PersistQueryRead" class="def">PersistQueryRead</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistQuery.html#PersistQueryRead" class="link">Source</a> <a href="#t:PersistQueryRead" class="selflink">#</a></p><div class="doc"><p>Backends supporting conditional read operations.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class.html#v:selectSourceRes" title="Database.Persist.Class">selectSourceRes</a>, <a href="Database-Persist-Class.html#v:selectKeysRes" title="Database.Persist.Class">selectKeysRes</a>, <a href="Database-Persist-Class.html#v:count" title="Database.Persist.Class">count</a>, <a href="Database-Persist-Class.html#v:exists" title="Database.Persist.Class">exists</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:selectSourceRes" class="def">selectSourceRes</a> :: (<a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectSourceRes" class="link">Source</a> <a href="#v:selectSourceRes" class="selflink">#</a></p><div class="doc"><p>Get all records matching the given criterion in the specified order.
 Returns also the identifiers.</p><p>NOTE: This function returns an <code><a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a></code> and a <code><a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a></code>, which implies
 that it streams from the database. It does not. Please use <code><a href="Database-Persist-Class.html#v:selectList" title="Database.Persist.Class">selectList</a></code>
 to simplify the code. If you want streaming behavior, consider
 <code>persistent-pagination</code> which efficiently chunks a query into ranges, or
 investigate a backend-specific streaming solution.</p></div><p class="src"><a id="v:selectFirst" class="def">selectFirst</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistQuery.html#selectFirst" class="link">Source</a> <a href="#v:selectFirst" class="selflink">#</a></p><div class="doc"><p>Get just the first record for the criterion.</p></div><p class="src"><a id="v:selectKeysRes" class="def">selectKeysRes</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectKeysRes" class="link">Source</a> <a href="#v:selectKeysRes" class="selflink">#</a></p><div class="doc"><p>Get the <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code>s of all records matching the given criterion.</p></div><p class="src"><a id="v:count" class="def">count</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Database.Persist.Class.PersistQuery.html#count" class="link">Source</a> <a href="#v:count" class="selflink">#</a></p><div class="doc"><p>The total number of records fulfilling the given criterion.</p></div><p class="src"><a id="v:exists" class="def">exists</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Database.Persist.Class.PersistQuery.html#exists" class="link">Source</a> <a href="#v:exists" class="selflink">#</a></p><div class="doc"><p>Check if there is at least one record fulfilling the given criterion.</p><p><em>Since: 2.11</em></p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistQueryRead">Instances</h4><details id="i:PersistQueryRead" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistQueryRead:PersistQueryRead:1"></span> <a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistQuery.html#line-165" class="link">Source</a> <a href="#t:PersistQueryRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistQueryRead:PersistQueryRead:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistQuery.html">Database.Persist.Sql.Orphan.PersistQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:selectSourceRes">selectSourceRes</a> :: <span class="keyword">forall</span> record (m1 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (m2 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectSourceRes" class="link">Source</a> <a href="#v:selectSourceRes" class="selflink">#</a></p><p class="src"><a href="#v:selectFirst">selectFirst</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistQuery.html#selectFirst" class="link">Source</a> <a href="#v:selectFirst" class="selflink">#</a></p><p class="src"><a href="#v:selectKeysRes">selectKeysRes</a> :: <span class="keyword">forall</span> (m1 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (m2 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectKeysRes" class="link">Source</a> <a href="#v:selectKeysRes" class="selflink">#</a></p><p class="src"><a href="#v:count">count</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Database.Persist.Class.PersistQuery.html#count" class="link">Source</a> <a href="#v:count" class="selflink">#</a></p><p class="src"><a href="#v:exists">exists</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Database.Persist.Class.PersistQuery.html#exists" class="link">Source</a> <a href="#v:exists" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistQueryRead:PersistQueryRead:2"></span> <a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistQuery.html#line-170" class="link">Source</a> <a href="#t:PersistQueryRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistQueryRead:PersistQueryRead:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistQuery.html">Database.Persist.Sql.Orphan.PersistQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:selectSourceRes">selectSourceRes</a> :: <span class="keyword">forall</span> record (m1 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (m2 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectSourceRes" class="link">Source</a> <a href="#v:selectSourceRes" class="selflink">#</a></p><p class="src"><a href="#v:selectFirst">selectFirst</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistQuery.html#selectFirst" class="link">Source</a> <a href="#v:selectFirst" class="selflink">#</a></p><p class="src"><a href="#v:selectKeysRes">selectKeysRes</a> :: <span class="keyword">forall</span> (m1 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (m2 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectKeysRes" class="link">Source</a> <a href="#v:selectKeysRes" class="selflink">#</a></p><p class="src"><a href="#v:count">count</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Database.Persist.Class.PersistQuery.html#count" class="link">Source</a> <a href="#v:count" class="selflink">#</a></p><p class="src"><a href="#v:exists">exists</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Database.Persist.Class.PersistQuery.html#exists" class="link">Source</a> <a href="#v:exists" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistQueryRead:PersistQueryRead:3"></span> <a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistQuery.html#line-48" class="link">Source</a> <a href="#t:PersistQueryRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistQueryRead:PersistQueryRead:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistQuery.html">Database.Persist.Sql.Orphan.PersistQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:selectSourceRes">selectSourceRes</a> :: <span class="keyword">forall</span> record (m1 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (m2 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectSourceRes" class="link">Source</a> <a href="#v:selectSourceRes" class="selflink">#</a></p><p class="src"><a href="#v:selectFirst">selectFirst</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistQuery.html#selectFirst" class="link">Source</a> <a href="#v:selectFirst" class="selflink">#</a></p><p class="src"><a href="#v:selectKeysRes">selectKeysRes</a> :: <span class="keyword">forall</span> (m1 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (m2 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectKeysRes" class="link">Source</a> <a href="#v:selectKeysRes" class="selflink">#</a></p><p class="src"><a href="#v:count">count</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Database.Persist.Class.PersistQuery.html#count" class="link">Source</a> <a href="#v:count" class="selflink">#</a></p><p class="src"><a href="#v:exists">exists</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Database.Persist.Class.PersistQuery.html#exists" class="link">Source</a> <a href="#v:exists" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistQueryRead:PersistQueryRead:4"></span> (<a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> b, <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> b s, <a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> b) =&gt; <a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-94" class="link">Source</a> <a href="#t:PersistQueryRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistQueryRead:PersistQueryRead:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:selectSourceRes">selectSourceRes</a> :: <span class="keyword">forall</span> record (m1 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (m2 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s), <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectSourceRes" class="link">Source</a> <a href="#v:selectSourceRes" class="selflink">#</a></p><p class="src"><a href="#v:selectFirst">selectFirst</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistQuery.html#selectFirst" class="link">Source</a> <a href="#v:selectFirst" class="selflink">#</a></p><p class="src"><a href="#v:selectKeysRes">selectKeysRes</a> :: <span class="keyword">forall</span> (m1 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (m2 :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m1, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m2, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m1 (<a href="../conduit-1.3.4.3/Conduit.html#t:Acquire" title="Conduit">Acquire</a> (<a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) m2 ())) <a href="src/Database.Persist.Class.PersistQuery.html#selectKeysRes" class="link">Source</a> <a href="#v:selectKeysRes" class="selflink">#</a></p><p class="src"><a href="#v:count">count</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Database.Persist.Class.PersistQuery.html#count" class="link">Source</a> <a href="#v:count" class="selflink">#</a></p><p class="src"><a href="#v:exists">exists</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Database.Persist.Class.PersistQuery.html#exists" class="link">Source</a> <a href="#v:exists" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend) =&gt; <a id="t:PersistQueryWrite" class="def">PersistQueryWrite</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistQuery.html#PersistQueryWrite" class="link">Source</a> <a href="#t:PersistQueryWrite" class="selflink">#</a></p><div class="doc"><p>Backends supporting conditional write operations</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:updateWhere" class="def">updateWhere</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistQuery.html#updateWhere" class="link">Source</a> <a href="#v:updateWhere" class="selflink">#</a></p><div class="doc"><p>Update individual fields on any record matching the given criterion.</p></div><p class="src"><a id="v:deleteWhere" class="def">deleteWhere</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistQuery.html#deleteWhere" class="link">Source</a> <a href="#v:deleteWhere" class="selflink">#</a></p><div class="doc"><p>Delete all records matching the given criterion.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistQueryWrite">Instances</h4><details id="i:PersistQueryWrite" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistQueryWrite:PersistQueryWrite:1"></span> <a href="Database-Persist-Class.html#t:PersistQueryWrite" title="Database.Persist.Class">PersistQueryWrite</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistQuery.html#line-183" class="link">Source</a> <a href="#t:PersistQueryWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistQueryWrite:PersistQueryWrite:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistQuery.html">Database.Persist.Sql.Orphan.PersistQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:updateWhere">updateWhere</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistQuery.html#updateWhere" class="link">Source</a> <a href="#v:updateWhere" class="selflink">#</a></p><p class="src"><a href="#v:deleteWhere">deleteWhere</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistQuery.html#deleteWhere" class="link">Source</a> <a href="#v:deleteWhere" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistQueryWrite:PersistQueryWrite:2"></span> <a href="Database-Persist-Class.html#t:PersistQueryWrite" title="Database.Persist.Class">PersistQueryWrite</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistQuery.html#line-176" class="link">Source</a> <a href="#t:PersistQueryWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistQueryWrite:PersistQueryWrite:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistQuery.html">Database.Persist.Sql.Orphan.PersistQuery</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:updateWhere">updateWhere</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistQuery.html#updateWhere" class="link">Source</a> <a href="#v:updateWhere" class="selflink">#</a></p><p class="src"><a href="#v:deleteWhere">deleteWhere</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistQuery.html#deleteWhere" class="link">Source</a> <a href="#v:deleteWhere" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistQueryWrite:PersistQueryWrite:3"></span> (<a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> b, <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> b s, <a href="Database-Persist-Class.html#t:PersistQueryWrite" title="Database.Persist.Class">PersistQueryWrite</a> b) =&gt; <a href="Database-Persist-Class.html#t:PersistQueryWrite" title="Database.Persist.Class">PersistQueryWrite</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-101" class="link">Source</a> <a href="#t:PersistQueryWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistQueryWrite:PersistQueryWrite:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:updateWhere">updateWhere</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistQuery.html#updateWhere" class="link">Source</a> <a href="#v:updateWhere" class="selflink">#</a></p><p class="src"><a href="#v:deleteWhere">deleteWhere</a> :: <span class="keyword">forall</span> (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) record. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistQuery.html#deleteWhere" class="link">Source</a> <a href="#v:deleteWhere" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:selectSource" class="def">selectSource</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="../conduit-1.3.4.3/Conduit.html#t:MonadResource" title="Conduit">MonadResource</a> m, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend, <a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> backend m) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a> () (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) m () <a href="src/Database.Persist.Class.PersistQuery.html#selectSource" class="link">Source</a> <a href="#v:selectSource" class="selflink">#</a></p><div class="doc"><p>Get all records matching the given criterion in the specified order.
 Returns also the identifiers.</p><p>WARNING: This function returns a <code><a href="../conduit-1.3.4.3/Data-Conduit.html#t:ConduitM" title="Data.Conduit">ConduitM</a></code>, which implies that it streams
 the results. It does not stream results on most backends. If you need
 streaming, see <code>persistent-pagination</code> for a means of chunking results based
 on indexed ranges.</p></div></div><div class="top"><p class="src"><a id="v:selectKeysList" class="def">selectKeysList</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:PersistQueryRead" title="Database.Persist.Class">PersistQueryRead</a> backend, <a href="Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:SelectOpt" title="Database.Persist.Class.PersistEntity">SelectOpt</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m [<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record] <a href="src/Database.Persist.Class.PersistQuery.html#selectKeysList" class="link">Source</a> <a href="#v:selectKeysList" class="selflink">#</a></p><div class="doc"><p>Call <code><a href="Database-Persist-Class.html#v:selectKeys" title="Database.Persist.Class">selectKeys</a></code> but return the result as a list.</p></div></div><a href="#g:4" id="g:4"><h1>DeleteCascade</h1></a><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistStoreWrite" title="Database.Persist.Class">PersistStoreWrite</a> backend, <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend ~ <a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record) =&gt; <a id="t:DeleteCascade" class="def">DeleteCascade</a> record backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.DeleteCascade.html#DeleteCascade" class="link">Source</a> <a href="#t:DeleteCascade" class="selflink">#</a></p><div class="doc"><p>For combinations of backends and entities that support
 cascade-deletion. &#8220;Cascade-deletion&#8221; means that entries that depend on
 other entries to be deleted will be deleted as well.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:deleteCascade" class="def">deleteCascade</a> :: <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.DeleteCascade.html#deleteCascade" class="link">Source</a> <a href="#v:deleteCascade" class="selflink">#</a></p><div class="doc"><p>Perform cascade-deletion of single database
 entry.</p></div></div></div><div class="top"><p class="src"><a id="v:deleteCascadeWhere" class="def">deleteCascadeWhere</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class.html#t:DeleteCascade" title="Database.Persist.Class">DeleteCascade</a> record backend, <a href="Database-Persist-Class.html#t:PersistQueryWrite" title="Database.Persist.Class">PersistQueryWrite</a> backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Filter" title="Database.Persist.Class.PersistEntity">Filter</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.DeleteCascade.html#deleteCascadeWhere" class="link">Source</a> <a href="#v:deleteCascadeWhere" class="selflink">#</a></p><div class="doc"><p>Cascade-deletion of entries satisfying given filters.</p></div></div><a href="#g:5" id="g:5"><h1>PersistEntity</h1></a><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)) =&gt; <a id="t:PersistEntity" class="def">PersistEntity</a> record <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistEntity.html#PersistEntity" class="link">Source</a> <a href="#t:PersistEntity" class="selflink">#</a></p><div class="doc"><p>Persistent serialized Haskell records to the database.
 A Database <code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code> (A row in SQL, a document in MongoDB, etc)
 corresponds to a <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code> plus a Haskell record.</p><p>For every Haskell record type stored in the database there is a
 corresponding <code><a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a></code> instance. An instance of PersistEntity
 contains meta-data for the record.  PersistEntity also helps abstract
 over different record types. That way the same query interface can return
 a <code><a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a></code>, with each query returning different types of Haskell
 records.</p><p>Some advanced type system capabilities are used to make this process
 type-safe. Persistent users usually don't need to understand the class
 associated data and functions.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class.html#v:keyToValues" title="Database.Persist.Class">keyToValues</a>, <a href="Database-Persist-Class.html#v:keyFromValues" title="Database.Persist.Class">keyFromValues</a>, <a href="Database-Persist-Class.html#v:persistIdField" title="Database.Persist.Class">persistIdField</a>, <a href="Database-Persist-Class.html#v:entityDef" title="Database.Persist.Class">entityDef</a>, <a href="Database-Persist-Class.html#v:persistFieldDef" title="Database.Persist.Class">persistFieldDef</a>, <a href="Database-Persist-Class.html#v:toPersistFields" title="Database.Persist.Class">toPersistFields</a>, <a href="Database-Persist-Class.html#v:fromPersistValues" title="Database.Persist.Class">fromPersistValues</a>, <a href="Database-Persist-Class.html#v:persistUniqueKeys" title="Database.Persist.Class">persistUniqueKeys</a>, <a href="Database-Persist-Class.html#v:persistUniqueToFieldNames" title="Database.Persist.Class">persistUniqueToFieldNames</a>, <a href="Database-Persist-Class.html#v:persistUniqueToValues" title="Database.Persist.Class">persistUniqueToValues</a>, <a href="Database-Persist-Class.html#v:fieldLens" title="Database.Persist.Class">fieldLens</a></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:PersistEntityBackend" class="def">PersistEntityBackend</a> record <a href="src/Database.Persist.Class.PersistEntity.html#PersistEntityBackend" class="link">Source</a> <a href="#t:PersistEntityBackend" class="selflink">#</a></p><div class="doc"><p>Persistent allows multiple different backends (databases).</p></div><p class="src"><span class="keyword">data</span> <a id="t:Key" class="def">Key</a> record <a href="src/Database.Persist.Class.PersistEntity.html#Key" class="link">Source</a> <a href="#t:Key" class="selflink">#</a></p><div class="doc"><p>By default, a backend will automatically generate the key
 Instead you can specify a Primary key made up of unique values.</p></div><p class="src"><span class="keyword">data</span> <a id="t:EntityField" class="def">EntityField</a> record :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Database.Persist.Class.PersistEntity.html#EntityField" class="link">Source</a> <a href="#t:EntityField" class="selflink">#</a></p><div class="doc"><p>An <code><a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a></code> is parameterised by the Haskell record it belongs to
 and the additional type of that field.</p><p>As of <code>persistent-2.11.0.0</code>, it's possible to use the <code>OverloadedLabels</code>
 language extension to refer to <code><a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a></code> values polymorphically. See
 the documentation on <code><a href="Database-Persist-Class.html#t:SymbolToField" title="Database.Persist.Class">SymbolToField</a></code> for more information.</p></div><p class="src"><span class="keyword">data</span> <a id="t:Unique" class="def">Unique</a> record <a href="src/Database.Persist.Class.PersistEntity.html#Unique" class="link">Source</a> <a href="#t:Unique" class="selflink">#</a></p><div class="doc"><p>Unique keys besides the <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code>.</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:keyToValues" class="def">keyToValues</a> :: <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>] <a href="src/Database.Persist.Class.PersistEntity.html#keyToValues" class="link">Source</a> <a href="#v:keyToValues" class="selflink">#</a></p><div class="doc"><p>A lower-level key operation.</p></div><p class="src"><a id="v:keyFromValues" class="def">keyFromValues</a> :: [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>] -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) <a href="src/Database.Persist.Class.PersistEntity.html#keyFromValues" class="link">Source</a> <a href="#v:keyFromValues" class="selflink">#</a></p><div class="doc"><p>A lower-level key operation.</p></div><p class="src"><a id="v:persistIdField" class="def">persistIdField</a> :: <a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a> record (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) <a href="src/Database.Persist.Class.PersistEntity.html#persistIdField" class="link">Source</a> <a href="#v:persistIdField" class="selflink">#</a></p><div class="doc"><p>A meta-operation to retrieve the <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code> <code><a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a></code>.</p></div><p class="src"><a id="v:entityDef" class="def">entityDef</a> :: proxy record -&gt; <a href="Database-Persist-EntityDef-Internal.html#t:EntityDef" title="Database.Persist.EntityDef.Internal">EntityDef</a> <a href="src/Database.Persist.Class.PersistEntity.html#entityDef" class="link">Source</a> <a href="#v:entityDef" class="selflink">#</a></p><div class="doc"><p>Retrieve the <code><a href="Database-Persist-EntityDef-Internal.html#t:EntityDef" title="Database.Persist.EntityDef.Internal">EntityDef</a></code> meta-data for the record.</p></div><p class="src"><a id="v:persistFieldDef" class="def">persistFieldDef</a> :: <a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a> record typ -&gt; <a href="Database-Persist-FieldDef-Internal.html#t:FieldDef" title="Database.Persist.FieldDef.Internal">FieldDef</a> <a href="src/Database.Persist.Class.PersistEntity.html#persistFieldDef" class="link">Source</a> <a href="#v:persistFieldDef" class="selflink">#</a></p><div class="doc"><p>Return meta-data for a given <code><a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a></code>.</p></div><p class="src"><a id="v:toPersistFields" class="def">toPersistFields</a> :: record -&gt; [<a href="Database-Persist-Class-PersistField.html#t:SomePersistField" title="Database.Persist.Class.PersistField">SomePersistField</a>] <a href="src/Database.Persist.Class.PersistEntity.html#toPersistFields" class="link">Source</a> <a href="#v:toPersistFields" class="selflink">#</a></p><div class="doc"><p>A meta-operation to get the database fields of a record.</p></div><p class="src"><a id="v:fromPersistValues" class="def">fromPersistValues</a> :: [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>] -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> record <a href="src/Database.Persist.Class.PersistEntity.html#fromPersistValues" class="link">Source</a> <a href="#v:fromPersistValues" class="selflink">#</a></p><div class="doc"><p>A lower-level operation to convert from database values to a Haskell record.</p></div><p class="src"><a id="v:persistUniqueKeys" class="def">persistUniqueKeys</a> :: record -&gt; [<a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record] <a href="src/Database.Persist.Class.PersistEntity.html#persistUniqueKeys" class="link">Source</a> <a href="#v:persistUniqueKeys" class="selflink">#</a></p><div class="doc"><p>A meta operation to retrieve all the <code><a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a></code> keys.</p></div><p class="src"><a id="v:persistUniqueToFieldNames" class="def">persistUniqueToFieldNames</a> :: <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Database-Persist-Names.html#t:FieldNameHS" title="Database.Persist.Names">FieldNameHS</a>, <a href="Database-Persist-Names.html#t:FieldNameDB" title="Database.Persist.Names">FieldNameDB</a>) <a href="src/Database.Persist.Class.PersistEntity.html#persistUniqueToFieldNames" class="link">Source</a> <a href="#v:persistUniqueToFieldNames" class="selflink">#</a></p><div class="doc"><p>A lower level operation.</p></div><p class="src"><a id="v:persistUniqueToValues" class="def">persistUniqueToValues</a> :: <a href="Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> record -&gt; [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>] <a href="src/Database.Persist.Class.PersistEntity.html#persistUniqueToValues" class="link">Source</a> <a href="#v:persistUniqueToValues" class="selflink">#</a></p><div class="doc"><p>A lower level operation.</p></div><p class="src"><a id="v:fieldLens" class="def">fieldLens</a> :: <a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a> record field -&gt; <span class="keyword">forall</span> f. <a href="../base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; (field -&gt; f field) -&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; f (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistEntity.html#fieldLens" class="link">Source</a> <a href="#v:fieldLens" class="selflink">#</a></p><div class="doc"><p>Use a <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code> as a lens.</p></div><p class="src"><a id="v:keyFromRecordM" class="def">keyFromRecordM</a> :: <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (record -&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record) <a href="src/Database.Persist.Class.PersistEntity.html#keyFromRecordM" class="link">Source</a> <a href="#v:keyFromRecordM" class="selflink">#</a></p><div class="doc"><p>Extract a <code><code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code> record</code> from a <code>record</code> value. Currently, this is
 only defined for entities using the <code>Primary</code> syntax for
 natural/composite keys. In a future version of <code>persistent</code> which
 incorporates the ID directly into the entity, this will always be Just.</p><p><em>Since: 2.11.0.0</em></p></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:SymbolToField" class="def">SymbolToField</a> (sym :: <a href="../base-4.16.4.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) rec typ | sym rec -&gt; typ <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistEntity.html#SymbolToField" class="link">Source</a> <a href="#t:SymbolToField" class="selflink">#</a></p><div class="doc"><p>This type class is used with the <code>OverloadedLabels</code> extension to
 provide a more convenient means of using the <code><a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a></code> type.
 <code><a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a></code> definitions are prefixed with the type name to avoid
 ambiguity, but this ambiguity can result in verbose code.</p><p>If you have a table <code>User</code> with a <code>name Text</code> field, then the
 corresponding <code><a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a></code> is <code>UserName</code>. With this, we can write
 <code>#name :: <code><a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a></code> User Text</code>.</p><p>What's more fun is that the type is more general: it's actually
 <code>
 #name
     :: (<code><a href="Database-Persist-Class.html#t:SymbolToField" title="Database.Persist.Class">SymbolToField</a></code> &quot;name&quot; rec typ)
     =&gt; EntityField rec typ
 </code></p><p>Which means it is *polymorphic* over the actual record. This allows you
 to write code that can be generic over the tables, provided they have
 the right fields.</p><p><em>Since: 2.11.0.0</em></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:symbolToField" class="def">symbolToField</a> :: <a href="Database-Persist-Class.html#t:EntityField" title="Database.Persist.Class">EntityField</a> rec typ <a href="src/Database.Persist.Class.PersistEntity.html#symbolToField" class="link">Source</a> <a href="#v:symbolToField" class="selflink">#</a></p></div></div><a href="#g:6" id="g:6"><h1>PersistField</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:PersistField" class="def">PersistField</a> a <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistField.html#PersistField" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></p><div class="doc"><p>This class teaches Persistent how to take a custom type and marshal it to and from a <code><a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a></code>, allowing it to be stored in a database.</p><h4 class="subheading details-toggle-control details-toggle" data-details-id="ch:PersistField0">Examples</h4><details id="ch:PersistField0"><summary class="hide-when-js-enabled">Expand</summary><h5>Simple Newtype</h5><p>You can use <code>newtype</code> to add more type safety/readability to a basis type like <code><a href="../bytestring-0.11.4.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>. In these cases, just derive <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code> and <code>PersistFieldSql</code>:</p><pre>{-# LANGUAGE GeneralizedNewtypeDeriving #-}

newtype HashedPassword = HashedPassword <code><a href="../bytestring-0.11.4.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>
  deriving (Eq, Show, <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code>, PersistFieldSql)
</pre><h5>Smart Constructor Newtype</h5><p>In this example, we create a <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code> instance for a newtype following the &quot;Smart Constructor&quot; pattern.</p><pre>{-# LANGUAGE GeneralizedNewtypeDeriving #-}
import qualified <a href="../text-1.2.5.0/Data-Text.html">Data.Text</a> as T
import qualified <a href="../base-4.16.4.0/Data-Char.html">Data.Char</a> as C

-- | An American Social Security Number
newtype SSN = SSN <code><a href="../base-4.16.4.0/GHC-TypeLits.html#t:ErrorMessage" title="GHC.TypeLits">ErrorMessage</a></code>
 deriving (Eq, Show, PersistFieldSql)

mkSSN :: <code><a href="../base-4.16.4.0/GHC-TypeLits.html#t:ErrorMessage" title="GHC.TypeLits">ErrorMessage</a></code> -&gt; <code><a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a></code> <code><a href="../base-4.16.4.0/GHC-TypeLits.html#t:ErrorMessage" title="GHC.TypeLits">ErrorMessage</a></code> SSN
mkSSN t = if (T.length t == 9) &amp;&amp; (T.all C.isDigit t)
 then <code><a href="../base-4.16.4.0/Data-Either.html#v:Right" title="Data.Either">Right</a></code> $ SSN t
 else <code><a href="../base-4.16.4.0/Data-Either.html#v:Left" title="Data.Either">Left</a></code> $ &quot;Invalid SSN: &quot; &lt;&gt; t

instance <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code> SSN where
  <code><a href="Database-Persist-Class.html#v:toPersistValue" title="Database.Persist.Class">toPersistValue</a></code> (SSN t) = <code><a href="Database-Persist-PersistValue.html#v:PersistText" title="Database.Persist.PersistValue">PersistText</a></code> t
  <code><a href="Database-Persist-Class.html#v:fromPersistValue" title="Database.Persist.Class">fromPersistValue</a></code> (<code><a href="Database-Persist-PersistValue.html#v:PersistText" title="Database.Persist.PersistValue">PersistText</a></code> t) = mkSSN t
  -- Handle cases where the database does not give us PersistText
  <code><a href="Database-Persist-Class.html#v:fromPersistValue" title="Database.Persist.Class">fromPersistValue</a></code> x = <code><a href="../base-4.16.4.0/Data-Either.html#v:Left" title="Data.Either">Left</a></code> $ &quot;File.hs: When trying to deserialize an SSN: expected PersistText, received: &quot; &lt;&gt; T.pack (show x)
</pre><p>Tips:</p><ul><li>This file contain dozens of <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code> instances you can look at for examples.</li><li>Typically custom <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code> instances will only accept a single <code><a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a></code> constructor in <code><a href="Database-Persist-Class.html#v:fromPersistValue" title="Database.Persist.Class">fromPersistValue</a></code>.</li><li>Internal <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code> instances accept a wide variety of <code><a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a></code>s to accomodate e.g. storing booleans as integers, booleans or strings.</li><li>If you're making a custom instance and using a SQL database, you'll also need <code>PersistFieldSql</code> to specify the type of the database column.</li></ul></details></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:toPersistValue" class="def">toPersistValue</a> :: a -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a id="v:fromPersistValue" class="def">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> a <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistField">Instances</h4><details id="i:PersistField" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:1"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int16" title="Data.Int">Int16</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-153" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int16" title="Data.Int">Int16</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int16" title="Data.Int">Int16</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:2"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int32" title="Data.Int">Int32</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-163" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int32" title="Data.Int">Int32</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int32" title="Data.Int">Int32</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:3"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int64" title="Data.Int">Int64</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-173" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int64" title="Data.Int">Int64</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int64" title="Data.Int">Int64</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:4"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int8" title="Data.Int">Int8</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-143" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int8" title="Data.Int">Int8</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int8" title="Data.Int">Int8</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:5"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Prelude.html#t:Rational" title="Prelude">Rational</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-252" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Prelude.html#t:Rational" title="Prelude">Rational</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Prelude.html#t:Rational" title="Prelude">Rational</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:6"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word16" title="Data.Word">Word16</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-220" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Word.html#t:Word16" title="Data.Word">Word16</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word16" title="Data.Word">Word16</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:7"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-225" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:8"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-230" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:9"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-215" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:10"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../blaze-html-0.9.1.2/Text-Blaze-Html.html#t:Html" title="Text.Blaze.Html">Html</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-133" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../blaze-html-0.9.1.2/Text-Blaze-Html.html#t:Html" title="Text.Blaze.Html">Html</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../blaze-html-0.9.1.2/Text-Blaze-Html.html#t:Html" title="Text.Blaze.Html">Html</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:11"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../bytestring-0.11.4.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-120" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../bytestring-0.11.4.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../bytestring-0.11.4.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:12"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="Database-Persist-Class-PersistField.html#t:OverflowNatural" title="Database.Persist.Class.PersistField">OverflowNatural</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-371" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="Database-Persist-Class-PersistField.html#t:OverflowNatural" title="Database.Persist.Class.PersistField">OverflowNatural</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="Database-Persist-Class-PersistField.html#t:OverflowNatural" title="Database.Persist.Class.PersistField">OverflowNatural</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:13"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="Database-Persist-Class-PersistField.html#t:SomePersistField" title="Database.Persist.Class.PersistField">SomePersistField</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-456" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="Database-Persist-Class-PersistField.html#t:SomePersistField" title="Database.Persist.Class.PersistField">SomePersistField</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="Database-Persist-Class-PersistField.html#t:SomePersistField" title="Database.Persist.Class.PersistField">SomePersistField</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:14"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-426" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:15"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="Database-Persist-Types.html#t:Checkmark" title="Database.Persist.Types">Checkmark</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-460" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="Database-Persist-Types.html#t:Checkmark" title="Database.Persist.Types">Checkmark</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="Database-Persist-Types.html#t:Checkmark" title="Database.Persist.Types">Checkmark</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:16"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-125" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:16"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:17"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../text-1.2.5.0/Data-Text-Lazy.html#t:Text" title="Data.Text.Lazy">Text</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-129" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:17"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../text-1.2.5.0/Data-Text-Lazy.html#t:Text" title="Data.Text.Lazy">Text</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#v:Text0" title="Data.Text">Text0</a> <a href="../text-1.2.5.0/Data-Text-Lazy.html#t:Text" title="Data.Text.Lazy">Text</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:18"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../time-1.11.1.1/Data-Time-Calendar-OrdinalDate.html#t:Day" title="Data.Time.Calendar.OrdinalDate">Day</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-276" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:18"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../time-1.11.1.1/Data-Time-Calendar-OrdinalDate.html#t:Day" title="Data.Time.Calendar.OrdinalDate">Day</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../time-1.11.1.1/Data-Time-Calendar-OrdinalDate.html#t:Day" title="Data.Time.Calendar.OrdinalDate">Day</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:19"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../time-1.11.1.1/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-303" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:19"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../time-1.11.1.1/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../time-1.11.1.1/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:20"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../time-1.11.1.1/Data-Time-LocalTime.html#t:TimeOfDay" title="Data.Time.LocalTime">TimeOfDay</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-290" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:20"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../time-1.11.1.1/Data-Time-LocalTime.html#t:TimeOfDay" title="Data.Time.LocalTime">TimeOfDay</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../time-1.11.1.1/Data-Time-LocalTime.html#t:TimeOfDay" title="Data.Time.LocalTime">TimeOfDay</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:21"></span> (<a href="../base-4.16.4.0/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a> ((((('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The instance of PersistField for the Natural type was removed.&quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;Please see the documentation for OverflowNatural if you want to &quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;continue using the old behavior or want to see documentation on &quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;why the instance was removed.&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;This error instance will be removed in a future release.&quot;) :: <a href="../base-4.16.4.0/Data-Kind.html#t:Constraint" title="Data.Kind">Constraint</a>) =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-357" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:21"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Numeric-Natural.html#t:Natural" title="Numeric.Natural">Natural</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:22"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-266" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:22"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:23"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Prelude.html#t:Double" title="Prelude">Double</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-235" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:23"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Prelude.html#t:Double" title="Prelude">Double</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:24"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-137" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:24"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:25"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a></span> <a href="src/Database.Persist.Class.PersistField.html#line-210" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:25"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="../base-4.16.4.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:26"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> v =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="../containers-0.6.5.1/Data-IntMap-Strict-Internal.html#t:IntMap" title="Data.IntMap.Strict.Internal">IntMap</a> v)</span> <a href="src/Database.Persist.Class.PersistField.html#line-418" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:26"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../containers-0.6.5.1/Data-IntMap-Strict-Internal.html#t:IntMap" title="Data.IntMap.Strict.Internal">IntMap</a> v -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="../containers-0.6.5.1/Data-IntMap-Strict-Internal.html#t:IntMap" title="Data.IntMap.Strict.Internal">IntMap</a> v) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:27"></span> (<a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a, <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> a) =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> a)</span> <a href="src/Database.Persist.Class.PersistField.html#line-399" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:27"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> a -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="../containers-0.6.5.1/Data-Set.html#t:Set" title="Data.Set">Set</a> a) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:28"></span> (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> record, <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record)) =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</span> <a href="src/Database.Persist.Class.PersistEntity.html#line-320" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:28"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistEntity.html">Database.Persist.Class.PersistEntity</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:29"></span> (<a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> b s, <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> b)) =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s))</span> <a href="src/Database.Persist.Compatible.Types.html#line-135" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:29"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:30"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>)</span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-130" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:30"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:31"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>)</span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-135" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:31"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:32"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>)</span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-125" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:32"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:33"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> a =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="../vector-0.12.3.1/Data-Vector.html#t:Vector" title="Data.Vector">Vector</a> a)</span> <a href="src/Database.Persist.Class.PersistField.html#line-394" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:33"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../vector-0.12.3.1/Data-Vector.html#t:Vector" title="Data.Vector">Vector</a> a -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="../vector-0.12.3.1/Data-Vector.html#t:Vector" title="Data.Vector">Vector</a> a) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:34"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> a =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</span> <a href="src/Database.Persist.Class.PersistField.html#line-377" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:34"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:35"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> [<a href="../base-4.16.4.0/Data-Char.html#t:Char" title="Data.Char">Char</a>]</span> <a href="src/Database.Persist.Class.PersistField.html#line-100" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:35"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: [<a href="../base-4.16.4.0/Data-Char.html#t:Char" title="Data.Char">Char</a>] -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> [<a href="../base-4.16.4.0/Data-Char.html#t:Char" title="Data.Char">Char</a>] <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:36"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> a =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> [a]</span> <a href="src/Database.Persist.Class.PersistField.html#line-383" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:36"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: [a] -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> [a] <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:37"></span> <a href="../base-4.16.4.0/Data-Fixed.html#t:HasResolution" title="Data.Fixed">HasResolution</a> a =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="../base-4.16.4.0/Data-Fixed.html#t:Fixed" title="Data.Fixed">Fixed</a> a)</span> <a href="src/Database.Persist.Class.PersistField.html#line-242" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:37"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../base-4.16.4.0/Data-Fixed.html#t:Fixed" title="Data.Fixed">Fixed</a> a -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="../base-4.16.4.0/Data-Fixed.html#t:Fixed" title="Data.Fixed">Fixed</a> a) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:38"></span> <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> v =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> v)</span> <a href="src/Database.Persist.Class.PersistField.html#line-422" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:38"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: <a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> v -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> v) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistField:PersistField:39"></span> (<a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> a, <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> b) =&gt; <a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a> (a, b)</span> <a href="src/Database.Persist.Class.PersistField.html#line-410" class="link">Source</a> <a href="#t:PersistField" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistField:PersistField:39"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistField.html">Database.Persist.Class.PersistField</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toPersistValue">toPersistValue</a> :: (a, b) -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistField.html#toPersistValue" class="link">Source</a> <a href="#v:toPersistValue" class="selflink">#</a></p><p class="src"><a href="#v:fromPersistValue">fromPersistValue</a> :: <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> (a, b) <a href="src/Database.Persist.Class.PersistField.html#fromPersistValue" class="link">Source</a> <a href="#v:fromPersistValue" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:7" id="g:7"><h1>PersistConfig</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:PersistConfig" class="def">PersistConfig</a> c <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistConfig.html#PersistConfig" class="link">Source</a> <a href="#t:PersistConfig" class="selflink">#</a></p><div class="doc"><p>Represents a value containing all the configuration options for a specific
 backend. This abstraction makes it easier to write code that can easily swap
 backends.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class.html#v:loadConfig" title="Database.Persist.Class">loadConfig</a>, <a href="Database-Persist-Class.html#v:createPoolConfig" title="Database.Persist.Class">createPoolConfig</a>, <a href="Database-Persist-Class.html#v:runPool" title="Database.Persist.Class">runPool</a></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:PersistConfigBackend" class="def">PersistConfigBackend</a> c :: (<a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Database.Persist.Class.PersistConfig.html#PersistConfigBackend" class="link">Source</a> <a href="#t:PersistConfigBackend" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a id="t:PersistConfigPool" class="def">PersistConfigPool</a> c <a href="src/Database.Persist.Class.PersistConfig.html#PersistConfigPool" class="link">Source</a> <a href="#t:PersistConfigPool" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:loadConfig" class="def">loadConfig</a> :: <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> c <a href="src/Database.Persist.Class.PersistConfig.html#loadConfig" class="link">Source</a> <a href="#v:loadConfig" class="selflink">#</a></p><div class="doc"><p>Load the config settings from a <code><a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a></code>, most likely taken from a YAML
 config file.</p></div><p class="src"><a id="v:applyEnv" class="def">applyEnv</a> :: c -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> c <a href="src/Database.Persist.Class.PersistConfig.html#applyEnv" class="link">Source</a> <a href="#v:applyEnv" class="selflink">#</a></p><div class="doc"><p>Modify the config settings based on environment variables.</p></div><p class="src"><a id="v:createPoolConfig" class="def">createPoolConfig</a> :: c -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> c) <a href="src/Database.Persist.Class.PersistConfig.html#createPoolConfig" class="link">Source</a> <a href="#v:createPoolConfig" class="selflink">#</a></p><div class="doc"><p>Create a new connection pool based on the given config settings.</p></div><p class="src"><a id="v:runPool" class="def">runPool</a> :: <a href="../conduit-1.3.4.3/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; c -&gt; <a href="Database-Persist-Class.html#t:PersistConfigBackend" title="Database.Persist.Class">PersistConfigBackend</a> c m a -&gt; <a href="Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> c -&gt; m a <a href="src/Database.Persist.Class.PersistConfig.html#runPool" class="link">Source</a> <a href="#v:runPool" class="selflink">#</a></p><div class="doc"><p>Run a database action by taking a connection from the pool.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistConfig">Instances</h4><details id="i:PersistConfig" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistConfig:PersistConfig:1"></span> (<a href="Database-Persist-Class.html#t:PersistConfig" title="Database.Persist.Class">PersistConfig</a> c1, <a href="Database-Persist-Class.html#t:PersistConfig" title="Database.Persist.Class">PersistConfig</a> c2, <a href="Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> c1 ~ <a href="Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> c2, <a href="Database-Persist-Class.html#t:PersistConfigBackend" title="Database.Persist.Class">PersistConfigBackend</a> c1 ~ <a href="Database-Persist-Class.html#t:PersistConfigBackend" title="Database.Persist.Class">PersistConfigBackend</a> c2) =&gt; <a href="Database-Persist-Class.html#t:PersistConfig" title="Database.Persist.Class">PersistConfig</a> (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2)</span> <a href="src/Database.Persist.Class.PersistConfig.html#line-45" class="link">Source</a> <a href="#t:PersistConfig" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistConfig:PersistConfig:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Class-PersistConfig.html">Database.Persist.Class.PersistConfig</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class.html#t:PersistConfigBackend" title="Database.Persist.Class">PersistConfigBackend</a> (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2) :: (<a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Database.Persist.Class.PersistConfig.html#PersistConfigBackend" class="link">Source</a> <a href="#t:PersistConfigBackend" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2) <a href="src/Database.Persist.Class.PersistConfig.html#PersistConfigPool" class="link">Source</a> <a href="#t:PersistConfigPool" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:loadConfig">loadConfig</a> :: <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2) <a href="src/Database.Persist.Class.PersistConfig.html#loadConfig" class="link">Source</a> <a href="#v:loadConfig" class="selflink">#</a></p><p class="src"><a href="#v:applyEnv">applyEnv</a> :: <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2 -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2) <a href="src/Database.Persist.Class.PersistConfig.html#applyEnv" class="link">Source</a> <a href="#v:applyEnv" class="selflink">#</a></p><p class="src"><a href="#v:createPoolConfig">createPoolConfig</a> :: <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2 -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2)) <a href="src/Database.Persist.Class.PersistConfig.html#createPoolConfig" class="link">Source</a> <a href="#v:createPoolConfig" class="selflink">#</a></p><p class="src"><a href="#v:runPool">runPool</a> :: <a href="../conduit-1.3.4.3/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2 -&gt; <a href="Database-Persist-Class.html#t:PersistConfigBackend" title="Database.Persist.Class">PersistConfigBackend</a> (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2) m a -&gt; <a href="Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> c1 c2) -&gt; m a <a href="src/Database.Persist.Class.PersistConfig.html#runPool" class="link">Source</a> <a href="#v:runPool" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:entityValues" class="def">entityValues</a> :: <a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>] <a href="src/Database.Persist.Class.PersistEntity.html#entityValues" class="link">Source</a> <a href="#v:entityValues" class="selflink">#</a></p><div class="doc"><p>Get list of values corresponding to given entity.</p></div></div><a href="#g:8" id="g:8"><h1>Lifting</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasPersistBackend" class="def">HasPersistBackend</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#HasPersistBackend" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></p><div class="doc"><p>Class which allows the plucking of a <code>BaseBackend backend</code> from some larger type.
 For example,
 <code>
 instance HasPersistBackend (SqlReadBackend, Int) where
   type BaseBackend (SqlReadBackend, Int) = SqlBackend
   persistBackend = unSqlReadBackend . fst
 </code></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:BaseBackend" class="def">BaseBackend</a> backend <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:persistBackend" class="def">persistBackend</a> :: backend -&gt; <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasPersistBackend">Instances</h4><details id="i:HasPersistBackend" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPersistBackend:HasPersistBackend:1"></span> <a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Types.Internal.html#line-56" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPersistBackend:HasPersistBackend:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Types-Internal.html">Database.Persist.Sql.Types.Internal</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:persistBackend">persistBackend</a> :: <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> -&gt; <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPersistBackend:HasPersistBackend:2"></span> <a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Types.Internal.html#line-68" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPersistBackend:HasPersistBackend:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Types-Internal.html">Database.Persist.Sql.Types.Internal</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:persistBackend">persistBackend</a> :: <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> -&gt; <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPersistBackend:HasPersistBackend:3"></span> <a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.SqlBackend.Internal.html#line-174" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPersistBackend:HasPersistBackend:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-SqlBackend-Internal.html">Database.Persist.SqlBackend.Internal</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:persistBackend">persistBackend</a> :: <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> -&gt; <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPersistBackend:HasPersistBackend:4"></span> (<a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> b s, <a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> b) =&gt; <a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-58" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPersistBackend:HasPersistBackend:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:persistBackend">persistBackend</a> :: <a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s -&gt; <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withBaseBackend" class="def">withBaseBackend</a> :: <a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> backend =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> backend) m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m a <a href="src/Database.Persist.Class.PersistStore.html#withBaseBackend" class="link">Source</a> <a href="#v:withBaseBackend" class="selflink">#</a></p><div class="doc"><p>Run a query against a larger backend by plucking out <code>BaseBackend backend</code></p><p>This is a helper for reusing existing queries when expanding the backend type.</p><p><em>Since: 2.12.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a> backend =&gt; <a id="t:IsPersistBackend" class="def">IsPersistBackend</a> backend <a href="src/Database.Persist.Class.PersistStore.html#IsPersistBackend" class="link">Source</a> <a href="#t:IsPersistBackend" class="selflink">#</a></p><div class="doc"><p>Class which witnesses that <code>backend</code> is essentially the same as <code>BaseBackend backend</code>.
 That is, they're isomorphic and <code>backend</code> is just some wrapper over <code>BaseBackend backend</code>.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class-PersistStore.html#v:mkPersistBackend" title="Database.Persist.Class.PersistStore">mkPersistBackend</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IsPersistBackend">Instances</h4><details id="i:IsPersistBackend" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsPersistBackend:IsPersistBackend:1"></span> <a href="Database-Persist-Class.html#t:IsPersistBackend" title="Database.Persist.Class">IsPersistBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Types.Internal.html#line-60" class="link">Source</a> <a href="#t:IsPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsPersistBackend:IsPersistBackend:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Types-Internal.html">Database.Persist.Sql.Types.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkPersistBackend">mkPersistBackend</a> :: <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> -&gt; <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#mkPersistBackend" class="link">Source</a> <a href="#v:mkPersistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsPersistBackend:IsPersistBackend:2"></span> <a href="Database-Persist-Class.html#t:IsPersistBackend" title="Database.Persist.Class">IsPersistBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Types.Internal.html#line-72" class="link">Source</a> <a href="#t:IsPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsPersistBackend:IsPersistBackend:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Types-Internal.html">Database.Persist.Sql.Types.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkPersistBackend">mkPersistBackend</a> :: <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> -&gt; <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#mkPersistBackend" class="link">Source</a> <a href="#v:mkPersistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsPersistBackend:IsPersistBackend:3"></span> <a href="Database-Persist-Class.html#t:IsPersistBackend" title="Database.Persist.Class">IsPersistBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.SqlBackend.Internal.html#line-178" class="link">Source</a> <a href="#t:IsPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsPersistBackend:IsPersistBackend:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-SqlBackend-Internal.html">Database.Persist.SqlBackend.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkPersistBackend">mkPersistBackend</a> :: <a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> -&gt; <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#mkPersistBackend" class="link">Source</a> <a href="#v:mkPersistBackend" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:liftPersist" class="def">liftPersist</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> backend m) =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> b -&gt; m b <a href="src/Database.Persist.Class.PersistStore.html#liftPersist" class="link">Source</a> <a href="#v:liftPersist" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:BackendCompatible" class="def">BackendCompatible</a> sup sub <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#BackendCompatible" class="link">Source</a> <a href="#t:BackendCompatible" class="selflink">#</a></p><div class="doc"><p>This class witnesses that two backend are compatible, and that you can
 convert from the <code>sub</code> backend into the <code>sup</code> backend. This is similar
 to the <code><a href="Database-Persist-Class.html#t:HasPersistBackend" title="Database.Persist.Class">HasPersistBackend</a></code> and <code><a href="Database-Persist-Class.html#t:IsPersistBackend" title="Database.Persist.Class">IsPersistBackend</a></code> classes, but where you
 don't want to fix the type associated with the <code><a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a></code> of
 a record.</p><p>Generally speaking, where you might have:</p><pre>foo ::
  ( <code><a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a></code> record
  , <code>PeristEntityBackend</code> record ~ <code><a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a></code> backend
  , <code>IsSqlBackend</code> backend
  )
</pre><p>this can be replaced with:</p><pre>foo ::
  ( <code><a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a></code> record,
  , <code><a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a></code> record ~ backend
  , <code><a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a></code> <code>SqlBackend</code> backend
  )
</pre><p>This works for <code>SqlReadBackend</code> because of the <code>instance <code><a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a></code> <code>SqlBackend</code> <code>SqlReadBackend</code></code>, without needing to go through the <code><a href="Database-Persist-Class.html#t:BaseBackend" title="Database.Persist.Class">BaseBackend</a></code> type family.</p><p>Likewise, functions that are currently hardcoded to use <code>SqlBackend</code> can be generalized:</p><pre>-- before:
asdf :: <code><a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a></code> <code>SqlBackend</code> m ()
asdf = pure ()

-- after:
asdf' :: <code><a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a></code> SqlBackend backend =&gt; ReaderT backend m ()
asdf' = <code><a href="Database-Persist-Class.html#v:withCompatibleBackend" title="Database.Persist.Class">withCompatibleBackend</a></code> asdf
</pre><p><em>Since: 2.7.1</em></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:projectBackend" class="def">projectBackend</a> :: sub -&gt; sup <a href="src/Database.Persist.Class.PersistStore.html#projectBackend" class="link">Source</a> <a href="#v:projectBackend" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:BackendCompatible">Instances</h4><details id="i:BackendCompatible" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:BackendCompatible:BackendCompatible:1"></span> <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-140" class="link">Source</a> <a href="#t:BackendCompatible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:BackendCompatible:BackendCompatible:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:projectBackend">projectBackend</a> :: <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> -&gt; <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#projectBackend" class="link">Source</a> <a href="#v:projectBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:BackendCompatible:BackendCompatible:2"></span> <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-143" class="link">Source</a> <a href="#t:BackendCompatible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:BackendCompatible:BackendCompatible:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:projectBackend">projectBackend</a> :: <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> -&gt; <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#projectBackend" class="link">Source</a> <a href="#v:projectBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:BackendCompatible:BackendCompatible:3"></span> <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-137" class="link">Source</a> <a href="#t:BackendCompatible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:BackendCompatible:BackendCompatible:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:projectBackend">projectBackend</a> :: <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> -&gt; <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#projectBackend" class="link">Source</a> <a href="#v:projectBackend" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withCompatibleBackend" class="def">withCompatibleBackend</a> :: <a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> sup sub =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> sup m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> sub m a <a href="src/Database.Persist.Class.PersistStore.html#withCompatibleBackend" class="link">Source</a> <a href="#v:withCompatibleBackend" class="selflink">#</a></p><div class="doc"><p>Run a query against a compatible backend, by projecting the backend</p><p>This is a helper for using queries which run against a specific backend type
 that your backend is compatible with.</p><p><em>Since: 2.12.0</em></p></div></div><a href="#g:9" id="g:9"><h1>PersistCore</h1></a><div class="doc"><p><code><a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a></code> is a type class that defines a default database
 <code><a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a></code> type. For SQL databases, this is currently an
 auto-incrementing inteer primary key. For MongoDB, it is the default
 ObjectID.</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:PersistCore" class="def">PersistCore</a> backend <a href="src/Database.Persist.Class.PersistStore.html#PersistCore" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></p><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a id="t:BackendKey" class="def">BackendKey</a> backend <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistCore">Instances</h4><details id="i:PersistCore" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistCore:PersistCore:1"></span> <a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-127" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistCore:PersistCore:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistCore:PersistCore:2"></span> <a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-132" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistCore:PersistCore:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistCore:PersistCore:3"></span> <a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-122" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistCore:PersistCore:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistCore:PersistCore:4"></span> (<a href="Database-Persist-Class.html#t:BackendCompatible" title="Database.Persist.Class">BackendCompatible</a> b s, <a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> b) =&gt; <a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-62" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistCore:PersistCore:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="Database-Persist-Class.html#t:PersistEntityBackend" title="Database.Persist.Class">PersistEntityBackend</a> record ~ backend, <a href="Database-Persist-Class.html#t:PersistCore" title="Database.Persist.Class">PersistCore</a> backend) =&gt; <a id="t:ToBackendKey" class="def">ToBackendKey</a> backend record <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#ToBackendKey" class="link">Source</a> <a href="#t:ToBackendKey" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Persist-Class.html#t:ToBackendKey" title="Database.Persist.Class">ToBackendKey</a></code> converts a <code><a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a></code> <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code> into a <code><a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a></code>
 This can be used by each backend to convert between a <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code> and a plain
 Haskell type. For Sql, that is done with <code>toSqlKey</code> and <code>fromSqlKey</code>.</p><p>By default, a <code><a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a></code> uses the default <code><a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a></code> for its Key
 and is an instance of ToBackendKey</p><p>A <code><a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a></code> that instead uses a custom type will not be an instance of
 <code><a href="Database-Persist-Class.html#t:ToBackendKey" title="Database.Persist.Class">ToBackendKey</a></code>.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:toBackendKey" class="def">toBackendKey</a> :: <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record -&gt; <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend <a href="src/Database.Persist.Class.PersistStore.html#toBackendKey" class="link">Source</a> <a href="#v:toBackendKey" class="selflink">#</a></p><p class="src"><a id="v:fromBackendKey" class="def">fromBackendKey</a> :: <a href="Database-Persist-Class.html#t:BackendKey" title="Database.Persist.Class">BackendKey</a> backend -&gt; <a href="Database-Persist-Class.html#t:Key" title="Database.Persist.Class">Key</a> record <a href="src/Database.Persist.Class.PersistStore.html#fromBackendKey" class="link">Source</a> <a href="#v:fromBackendKey" class="selflink">#</a></p></div></div><a href="#g:10" id="g:10"><h1>JSON utilities</h1></a><div class="top"><p class="src"><a id="v:keyValueEntityToJSON" class="def">keyValueEntityToJSON</a> :: (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> record) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> <a href="src/Database.Persist.Class.PersistEntity.html#keyValueEntityToJSON" class="link">Source</a> <a href="#v:keyValueEntityToJSON" class="selflink">#</a></p><div class="doc"><p>Predefined <code>toJSON</code>. The resulting JSON looks like
 <code>{&quot;key&quot;: 1, &quot;value&quot;: {&quot;name&quot;: ...}}</code>.</p><p>The typical usage is:</p><pre>instance ToJSON (Entity User) where
    toJSON = keyValueEntityToJSON
</pre></div></div><div class="top"><p class="src"><a id="v:keyValueEntityFromJSON" class="def">keyValueEntityFromJSON</a> :: (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> record) =&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistEntity.html#keyValueEntityFromJSON" class="link">Source</a> <a href="#v:keyValueEntityFromJSON" class="selflink">#</a></p><div class="doc"><p>Predefined <code>parseJSON</code>. The input JSON looks like
 <code>{&quot;key&quot;: 1, &quot;value&quot;: {&quot;name&quot;: ...}}</code>.</p><p>The typical usage is:</p><pre>instance FromJSON (Entity User) where
    parseJSON = keyValueEntityFromJSON
</pre></div></div><div class="top"><p class="src"><a id="v:entityIdToJSON" class="def">entityIdToJSON</a> :: (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> record) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> <a href="src/Database.Persist.Class.PersistEntity.html#entityIdToJSON" class="link">Source</a> <a href="#v:entityIdToJSON" class="selflink">#</a></p><div class="doc"><p>Predefined <code>toJSON</code>. The resulting JSON looks like
 <code>{&quot;id&quot;: 1, &quot;name&quot;: ...}</code>.</p><p>The typical usage is:</p><pre>instance ToJSON (Entity User) where
    toJSON = entityIdToJSON
</pre></div></div><div class="top"><p class="src"><a id="v:entityIdFromJSON" class="def">entityIdFromJSON</a> :: (<a href="Database-Persist-Class.html#t:PersistEntity" title="Database.Persist.Class">PersistEntity</a> record, <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> record) =&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistEntity.html#entityIdFromJSON" class="link">Source</a> <a href="#v:entityIdFromJSON" class="selflink">#</a></p><div class="doc"><p>Predefined <code>parseJSON</code>. The input JSON looks like
 <code>{&quot;id&quot;: 1, &quot;name&quot;: ...}</code>.</p><p>The typical usage is:</p><pre>instance FromJSON (Entity User) where
    parseJSON = entityIdFromJSON
</pre></div></div><div class="top"><p class="src"><a id="v:toPersistValueJSON" class="def">toPersistValueJSON</a> :: <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a =&gt; a -&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> <a href="src/Database.Persist.Class.PersistEntity.html#toPersistValueJSON" class="link">Source</a> <a href="#v:toPersistValueJSON" class="selflink">#</a></p><div class="doc"><p>Convenience function for getting a free <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code> instance
 from a type with JSON instances.</p><p>Example usage in combination with <code><a href="Database-Persist-Class.html#v:fromPersistValueJSON" title="Database.Persist.Class">fromPersistValueJSON</a></code>:</p><pre>instance PersistField MyData where
  fromPersistValue = fromPersistValueJSON
  toPersistValue = toPersistValueJSON
</pre></div></div><div class="top"><p class="src"><a id="v:fromPersistValueJSON" class="def">fromPersistValueJSON</a> :: <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a =&gt; <a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a> -&gt; <a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> a <a href="src/Database.Persist.Class.PersistEntity.html#fromPersistValueJSON" class="link">Source</a> <a href="#v:fromPersistValueJSON" class="selflink">#</a></p><div class="doc"><p>Convenience function for getting a free <code><a href="Database-Persist-Class.html#t:PersistField" title="Database.Persist.Class">PersistField</a></code> instance
 from a type with JSON instances. The JSON parser used will accept JSON
 values other that object and arrays. So, if your instance serializes the
 data to a JSON string, this will still work.</p><p>Example usage in combination with <code><a href="Database-Persist-Class.html#v:toPersistValueJSON" title="Database.Persist.Class">toPersistValueJSON</a></code>:</p><pre>instance PersistField MyData where
  fromPersistValue = fromPersistValueJSON
  toPersistValue = toPersistValueJSON
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>