<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Database.Persist.Class.PersistStore</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">persistent-2.13.3.5: Type-safe, multi-backend data serialization.</span><ul class="links" id="page-menu"><li><a href="src/Database.Persist.Class.PersistStore.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Database.Persist.Class.PersistStore</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="#t:HasPersistBackend">HasPersistBackend</a> backend <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:BaseBackend">BaseBackend</a> backend</li><li><a href="#v:persistBackend">persistBackend</a> :: backend -&gt; <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend</li></ul></li><li class="src short"><a href="#v:withBaseBackend">withBaseBackend</a> :: <a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> backend =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend) m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m a</li><li class="src short"><span class="keyword">class</span> <a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> backend =&gt; <a href="#t:IsPersistBackend">IsPersistBackend</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:mkPersistBackend">mkPersistBackend</a> :: <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend -&gt; backend</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:PersistRecordBackend">PersistRecordBackend</a> record backend = (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend)</li><li class="src short"><a href="#v:liftPersist">liftPersist</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> backend m) =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> b -&gt; m b</li><li class="src short"><span class="keyword">class</span> <a href="#t:PersistCore">PersistCore</a> backend <span class="keyword">where</span><ul class="subs"><li><span class="keyword">data</span> <a href="#t:BackendKey">BackendKey</a> backend</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="Database-Persist-Class-PersistStore.html#t:PersistCore" title="Database.Persist.Class.PersistStore">PersistCore</a> backend, <a href="Database-Persist-Class-PersistField.html#t:PersistField" title="Database.Persist.Class.PersistField">PersistField</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend)) =&gt; <a href="#t:PersistStoreRead">PersistStoreRead</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:get">get</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record)</li><li><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) record)</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistField.html#t:PersistField" title="Database.Persist.Class.PersistField">PersistField</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend)) =&gt; <a href="#t:PersistStoreWrite">PersistStoreWrite</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:insert">insert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record)</li><li><a href="#v:insert_">insert_</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:insertMany">insertMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record]</li><li><a href="#v:insertMany_">insertMany_</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:insertEntityMany">insertEntityMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:insertKey">insertKey</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:repsert">repsert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:repsertMany">repsertMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [(<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:replace">replace</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:delete">delete</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:update">update</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:updateGet">updateGet</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record</li></ul></li><li class="src short"><a href="#v:getEntity">getEntity</a> :: <span class="keyword">forall</span> e backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> e backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> e -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> e))</li><li class="src short"><a href="#v:getJust">getJust</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record</li><li class="src short"><a href="#v:getJustEntity">getJustEntity</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li class="src short"><a href="#v:belongsTo">belongsTo</a> :: <span class="keyword">forall</span> ent1 ent2 backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> ent1, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> ent2 backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; (ent1 -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> ent2)) -&gt; ent1 -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ent2)</li><li class="src short"><a href="#v:belongsToJust">belongsToJust</a> :: <span class="keyword">forall</span> ent1 ent2 backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> ent1, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> ent2 backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; (ent1 -&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> ent2) -&gt; ent1 -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ent2</li><li class="src short"><a href="#v:insertEntity">insertEntity</a> :: <span class="keyword">forall</span> e backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> e backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; e -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> e)</li><li class="src short"><a href="#v:insertRecord">insertRecord</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record</li><li class="src short"><span class="keyword">class</span> (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistCore" title="Database.Persist.Class.PersistStore">PersistCore</a> backend) =&gt; <a href="#t:ToBackendKey">ToBackendKey</a> backend record <span class="keyword">where</span><ul class="subs"><li><a href="#v:toBackendKey">toBackendKey</a> :: <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend</li><li><a href="#v:fromBackendKey">fromBackendKey</a> :: <a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend -&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:BackendCompatible">BackendCompatible</a> sup sub <span class="keyword">where</span><ul class="subs"><li><a href="#v:projectBackend">projectBackend</a> :: sub -&gt; sup</li></ul></li><li class="src short"><a href="#v:withCompatibleBackend">withCompatibleBackend</a> :: <a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> sup sub =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> sup m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> sub m a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasPersistBackend" class="def">HasPersistBackend</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#HasPersistBackend" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></p><div class="doc"><p>Class which allows the plucking of a <code>BaseBackend backend</code> from some larger type.
 For example,
 <code>
 instance HasPersistBackend (SqlReadBackend, Int) where
   type BaseBackend (SqlReadBackend, Int) = SqlBackend
   persistBackend = unSqlReadBackend . fst
 </code></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:BaseBackend" class="def">BaseBackend</a> backend <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:persistBackend" class="def">persistBackend</a> :: backend -&gt; <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasPersistBackend">Instances</h4><details id="i:HasPersistBackend" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPersistBackend:HasPersistBackend:1"></span> <a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Types.Internal.html#line-56" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPersistBackend:HasPersistBackend:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Types-Internal.html">Database.Persist.Sql.Types.Internal</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:persistBackend">persistBackend</a> :: <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> -&gt; <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPersistBackend:HasPersistBackend:2"></span> <a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Types.Internal.html#line-68" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPersistBackend:HasPersistBackend:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Types-Internal.html">Database.Persist.Sql.Types.Internal</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:persistBackend">persistBackend</a> :: <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> -&gt; <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPersistBackend:HasPersistBackend:3"></span> <a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.SqlBackend.Internal.html#line-174" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPersistBackend:HasPersistBackend:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-SqlBackend-Internal.html">Database.Persist.SqlBackend.Internal</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:persistBackend">persistBackend</a> :: <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> -&gt; <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPersistBackend:HasPersistBackend:4"></span> (<a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> b s, <a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> b) =&gt; <a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-58" class="link">Source</a> <a href="#t:HasPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPersistBackend:HasPersistBackend:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) <a href="src/Database.Persist.Class.PersistStore.html#BaseBackend" class="link">Source</a> <a href="#t:BaseBackend" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:persistBackend">persistBackend</a> :: <a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s -&gt; <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) <a href="src/Database.Persist.Class.PersistStore.html#persistBackend" class="link">Source</a> <a href="#v:persistBackend" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withBaseBackend" class="def">withBaseBackend</a> :: <a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> backend =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend) m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m a <a href="src/Database.Persist.Class.PersistStore.html#withBaseBackend" class="link">Source</a> <a href="#v:withBaseBackend" class="selflink">#</a></p><div class="doc"><p>Run a query against a larger backend by plucking out <code>BaseBackend backend</code></p><p>This is a helper for reusing existing queries when expanding the backend type.</p><p><em>Since: 2.12.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> backend =&gt; <a id="t:IsPersistBackend" class="def">IsPersistBackend</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#IsPersistBackend" class="link">Source</a> <a href="#t:IsPersistBackend" class="selflink">#</a></p><div class="doc"><p>Class which witnesses that <code>backend</code> is essentially the same as <code>BaseBackend backend</code>.
 That is, they're isomorphic and <code>backend</code> is just some wrapper over <code>BaseBackend backend</code>.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:mkPersistBackend" class="def">mkPersistBackend</a> :: <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend -&gt; backend <a href="src/Database.Persist.Class.PersistStore.html#mkPersistBackend" class="link">Source</a> <a href="#v:mkPersistBackend" class="selflink">#</a></p><div class="doc"><p>This function is how we actually construct and tag a backend as having read or write capabilities.
 It should be used carefully and only when actually constructing a <code>backend</code>. Careless use allows us
 to accidentally run a write query against a read-only database.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IsPersistBackend">Instances</h4><details id="i:IsPersistBackend" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsPersistBackend:IsPersistBackend:1"></span> <a href="Database-Persist-Class-PersistStore.html#t:IsPersistBackend" title="Database.Persist.Class.PersistStore">IsPersistBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Types.Internal.html#line-60" class="link">Source</a> <a href="#t:IsPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsPersistBackend:IsPersistBackend:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Types-Internal.html">Database.Persist.Sql.Types.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkPersistBackend">mkPersistBackend</a> :: <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> -&gt; <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#mkPersistBackend" class="link">Source</a> <a href="#v:mkPersistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsPersistBackend:IsPersistBackend:2"></span> <a href="Database-Persist-Class-PersistStore.html#t:IsPersistBackend" title="Database.Persist.Class.PersistStore">IsPersistBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Types.Internal.html#line-72" class="link">Source</a> <a href="#t:IsPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsPersistBackend:IsPersistBackend:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Types-Internal.html">Database.Persist.Sql.Types.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkPersistBackend">mkPersistBackend</a> :: <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> -&gt; <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#mkPersistBackend" class="link">Source</a> <a href="#v:mkPersistBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IsPersistBackend:IsPersistBackend:3"></span> <a href="Database-Persist-Class-PersistStore.html#t:IsPersistBackend" title="Database.Persist.Class.PersistStore">IsPersistBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.SqlBackend.Internal.html#line-178" class="link">Source</a> <a href="#t:IsPersistBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IsPersistBackend:IsPersistBackend:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-SqlBackend-Internal.html">Database.Persist.SqlBackend.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mkPersistBackend">mkPersistBackend</a> :: <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> -&gt; <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#mkPersistBackend" class="link">Source</a> <a href="#v:mkPersistBackend" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:PersistRecordBackend" class="def">PersistRecordBackend</a> record backend = (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend) <a href="src/Database.Persist.Class.PersistStore.html#PersistRecordBackend" class="link">Source</a> <a href="#t:PersistRecordBackend" class="selflink">#</a></p><div class="doc"><p>A convenient alias for common type signatures</p></div></div><div class="top"><p class="src"><a id="v:liftPersist" class="def">liftPersist</a> :: (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> backend m) =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> b -&gt; m b <a href="src/Database.Persist.Class.PersistStore.html#liftPersist" class="link">Source</a> <a href="#v:liftPersist" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:PersistCore" class="def">PersistCore</a> backend <a href="src/Database.Persist.Class.PersistStore.html#PersistCore" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></p><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a id="t:BackendKey" class="def">BackendKey</a> backend <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistCore">Instances</h4><details id="i:PersistCore" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistCore:PersistCore:1"></span> <a href="Database-Persist-Class-PersistStore.html#t:PersistCore" title="Database.Persist.Class.PersistStore">PersistCore</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-127" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistCore:PersistCore:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistCore:PersistCore:2"></span> <a href="Database-Persist-Class-PersistStore.html#t:PersistCore" title="Database.Persist.Class.PersistStore">PersistCore</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-132" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistCore:PersistCore:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistCore:PersistCore:3"></span> <a href="Database-Persist-Class-PersistStore.html#t:PersistCore" title="Database.Persist.Class.PersistStore">PersistCore</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-122" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistCore:PersistCore:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistCore:PersistCore:4"></span> (<a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> b s, <a href="Database-Persist-Class-PersistStore.html#t:PersistCore" title="Database.Persist.Class.PersistStore">PersistCore</a> b) =&gt; <a href="Database-Persist-Class-PersistStore.html#t:PersistCore" title="Database.Persist.Class.PersistStore">PersistCore</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-62" class="link">Source</a> <a href="#t:PersistCore" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistCore:PersistCore:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) <a href="src/Database.Persist.Class.PersistStore.html#BackendKey" class="link">Source</a> <a href="#t:BackendKey" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="Database-Persist-Class-PersistStore.html#t:PersistCore" title="Database.Persist.Class.PersistStore">PersistCore</a> backend, <a href="Database-Persist-Class-PersistField.html#t:PersistField" title="Database.Persist.Class.PersistField">PersistField</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend)) =&gt; <a id="t:PersistStoreRead" class="def">PersistStoreRead</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#PersistStoreRead" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class-PersistStore.html#v:get" title="Database.Persist.Class.PersistStore">get</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:get" class="def">get</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><div class="doc"><p>Get a record by identifier, if available.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:get0">Example usage</h3><details id="ch:get0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>getSpj :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe User)
getSpj = get spjId</pre><pre>mspj &lt;- getSpj</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get this:</p><pre>+------+-----+
| name | age |
+------+-----+
| SPJ  |  40 |
+------+-----+</pre></details></div><p class="src"><a id="v:getMany" class="def">getMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p><div class="doc"><p>Get many records by their respective identifiers, if available.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getMany0">Example usage</h3><details id="ch:getMany0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>:</p><pre>getUsers :: MonadIO m =&gt; ReaderT SqlBackend m (Map (Key User) User)
getUsers = getMany allkeys</pre><pre>musers &lt;- getUsers</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get these records:</p><pre>+----+-------+-----+
| id | name  | age |
+----+-------+-----+
|  1 | SPJ   |  40 |
+----+-------+-----+
|  2 | Simon |  41 |
+----+-------+-----+</pre></details><p><em>Since: 2.8.1</em></p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistStoreRead">Instances</h4><details id="i:PersistStoreRead" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreRead:PersistStoreRead:1"></span> <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-352" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreRead:PersistStoreRead:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreRead:PersistStoreRead:2"></span> <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-355" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreRead:PersistStoreRead:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreRead:PersistStoreRead:3"></span> <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-323" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreRead:PersistStoreRead:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreRead:PersistStoreRead:4"></span> (<a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> b, <a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> b s, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> b) =&gt; <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-90" class="link">Source</a> <a href="#t:PersistStoreRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreRead:PersistStoreRead:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> record) <a href="src/Database.Persist.Class.PersistStore.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:getMany">getMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="../containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) record) <a href="src/Database.Persist.Class.PersistStore.html#getMany" class="link">Source</a> <a href="#v:getMany" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Text-Read.html#t:Read" title="Text.Read">Read</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../base-4.16.4.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistField.html#t:PersistField" title="Database.Persist.Class.PersistField">PersistField</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend), <a href="../aeson-2.0.3.0/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> (<a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend)) =&gt; <a id="t:PersistStoreWrite" class="def">PersistStoreWrite</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#PersistStoreWrite" class="link">Source</a> <a href="#t:PersistStoreWrite" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class-PersistStore.html#v:insert" title="Database.Persist.Class.PersistStore">insert</a>, <a href="Database-Persist-Class-PersistStore.html#v:insertKey" title="Database.Persist.Class.PersistStore">insertKey</a>, <a href="Database-Persist-Class-PersistStore.html#v:repsert" title="Database.Persist.Class.PersistStore">repsert</a>, <a href="Database-Persist-Class-PersistStore.html#v:replace" title="Database.Persist.Class.PersistStore">replace</a>, <a href="Database-Persist-Class-PersistStore.html#v:delete" title="Database.Persist.Class.PersistStore">delete</a>, <a href="Database-Persist-Class-PersistStore.html#v:update" title="Database.Persist.Class.PersistStore">update</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:insert" class="def">insert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) <a href="src/Database.Persist.Class.PersistStore.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><div class="doc"><p>Create a new record in the database, returning an automatically created
 key (in SQL an auto-increment id).</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insert0">Example usage</h3><details id="ch:insert0"><summary class="hide-when-js-enabled">Expand</summary><p>Using <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>, let's insert a new user <code>John</code>.</p><pre>insertJohn :: MonadIO m =&gt; ReaderT SqlBackend m (Key User)
insertJohn = insert $ User &quot;John&quot; 30</pre><pre>johnId &lt;- insertJohn</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |John  |30   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insert_" class="def">insert_</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#insert_" class="link">Source</a> <a href="#v:insert_" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class-PersistStore.html#v:insert" title="Database.Persist.Class.PersistStore">insert</a></code>, but doesn't return a <code>Key</code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insert_0">Example usage</h3><details id="ch:insert_0"><summary class="hide-when-js-enabled">Expand</summary><p>with <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertJohn :: MonadIO m =&gt; ReaderT SqlBackend m (Key User)
insertJohn = insert_ $ User &quot;John&quot; 30</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |John  |30   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertMany" class="def">insertMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] <a href="src/Database.Persist.Class.PersistStore.html#insertMany" class="link">Source</a> <a href="#v:insertMany" class="selflink">#</a></p><div class="doc"><p>Create multiple records in the database and return their <code><a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a></code>s.</p><p>If you don't need the inserted <code><a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a></code>s, use <code><a href="Database-Persist-Class-PersistStore.html#v:insertMany_" title="Database.Persist.Class.PersistStore">insertMany_</a></code>.</p><p>The MongoDB and PostgreSQL backends insert all records and
 retrieve their keys in one database query.</p><p>The SQLite and MySQL backends use the slow, default implementation of
 <code>mapM insert</code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertMany0">Example usage</h3><details id="ch:insertMany0"><summary class="hide-when-js-enabled">Expand</summary><p>with <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertUsers :: MonadIO m =&gt; ReaderT SqlBackend m [Key User]
insertUsers = insertMany [User &quot;John&quot; 30, User &quot;Nick&quot; 32, User &quot;Jane&quot; 20]</pre><pre>userIds &lt;- insertUsers</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |John  |30   |
+-----+------+-----+
|4    |Nick  |32   |
+-----+------+-----+
|5    |Jane  |20   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertMany_" class="def">insertMany_</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#insertMany_" class="link">Source</a> <a href="#v:insertMany_" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class-PersistStore.html#v:insertMany" title="Database.Persist.Class.PersistStore">insertMany</a></code>, but doesn't return any <code><a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a></code>s.</p><p>The MongoDB, PostgreSQL, SQLite and MySQL backends insert all records in
 one database query.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertMany_0">Example usage</h3><details id="ch:insertMany_0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertUsers_ :: MonadIO m =&gt; ReaderT SqlBackend m ()
insertUsers_ = insertMany_ [User &quot;John&quot; 30, User &quot;Nick&quot; 32, User &quot;Jane&quot; 20]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |John  |30   |
+-----+------+-----+
|4    |Nick  |32   |
+-----+------+-----+
|5    |Jane  |20   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertEntityMany" class="def">insertEntityMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#insertEntityMany" class="link">Source</a> <a href="#v:insertEntityMany" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class-PersistStore.html#v:insertMany_" title="Database.Persist.Class.PersistStore">insertMany_</a></code>, but takes an <code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code> instead of just a record.</p><p>Useful when migrating data from one entity to another
 and want to preserve ids.</p><p>The MongoDB, PostgreSQL, SQLite and MySQL backends insert all records in
 one database query.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertEntityMany0">Example usage</h3><details id="ch:insertEntityMany0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertUserEntityMany :: MonadIO m =&gt; ReaderT SqlBackend m ()
insertUserEntityMany = insertEntityMany [SnakeEntity, EvaEntity]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Snake |38   |
+-----+------+-----+
|4    |Eva   |38   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertKey" class="def">insertKey</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#insertKey" class="link">Source</a> <a href="#v:insertKey" class="selflink">#</a></p><div class="doc"><p>Create a new record in the database using the given key.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertKey0">Example usage</h3><details id="ch:insertKey0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertAliceKey :: MonadIO m =&gt; Key User -&gt; ReaderT SqlBackend m ()
insertAliceKey key = insertKey key $ User &quot;Alice&quot; 20</pre><pre>insertAliceKey $ UserKey {unUserKey = SqlBackendKey {unSqlBackendKey = 3}}</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Alice |20   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:repsert" class="def">repsert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#repsert" class="link">Source</a> <a href="#v:repsert" class="selflink">#</a></p><div class="doc"><p>Put the record in the database with the given key.
 Unlike <code><a href="Database-Persist-Class-PersistStore.html#v:replace" title="Database.Persist.Class.PersistStore">replace</a></code>, if a record with the given key does not
 exist then a new record will be inserted.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:repsert0">Example usage</h3><details id="ch:repsert0"><summary class="hide-when-js-enabled">Expand</summary><p>We try to explain <code>upsertBy</code> using <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>.</p><p>First, we insert Philip to <a href="#dataset-persist-store-1">dataset-1</a>.</p><pre>insertPhilip :: MonadIO m =&gt; ReaderT SqlBackend m (Key User)
insertPhilip = insert $ User &quot;Philip&quot; 42</pre><pre>philipId &lt;- insertPhilip</pre><p>This query will produce:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Philip|42   |
+-----+------+-----+</pre><pre>repsertHaskell :: MonadIO m =&gt; Key record -&gt; ReaderT SqlBackend m ()
repsertHaskell id = repsert id $ User &quot;Haskell&quot; 81</pre><pre>repsertHaskell philipId</pre><p>This query will replace Philip's record with Haskell's one:</p><pre>+-----+-----------------+--------+
|id   |name             |age     |
+-----+-----------------+--------+
|1    |SPJ              |40      |
+-----+-----------------+--------+
|2    |Simon            |41      |
+-----+-----------------+--------+
|3    |Philip -&gt; Haskell|42 -&gt; 81|
+-----+-----------------+--------+</pre><p><code><a href="Database-Persist-Class-PersistStore.html#v:repsert" title="Database.Persist.Class.PersistStore">repsert</a></code> inserts the given record if the key doesn't exist.</p><pre>repsertXToUnknown :: MonadIO m =&gt; ReaderT SqlBackend m ()
repsertXToUnknown = repsert unknownId $ User &quot;X&quot; 999</pre><p>For example, applying the above query to <a href="#dataset-persist-store-1">dataset-1</a> will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |X     |999  |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:repsertMany" class="def">repsertMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [(<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#repsertMany" class="link">Source</a> <a href="#v:repsertMany" class="selflink">#</a></p><div class="doc"><p>Put many entities into the database.</p><p>Batch version of <code><a href="Database-Persist-Class-PersistStore.html#v:repsert" title="Database.Persist.Class.PersistStore">repsert</a></code> for SQL backends.</p><p>Useful when migrating data from one entity to another
 and want to preserve ids.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:repsertMany0">Example usage</h3><details id="ch:repsertMany0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>repsertManyUsers :: MonadIO m =&gt;ReaderT SqlBackend m ()
repsertManyusers = repsertMany [(simonId, User &quot;Philip&quot; 20), (unknownId999, User &quot;Mr. X&quot; 999)]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+----------------+---------+
|id   |name            |age      |
+-----+----------------+---------+
|1    |SPJ             |40       |
+-----+----------------+---------+
|2    |Simon -&gt; Philip |41 -&gt; 20 |
+-----+----------------+---------+
|999  |Mr. X           |999      |
+-----+----------------+---------+</pre></details><p><em>Since: 2.8.1</em></p></div><p class="src"><a id="v:replace" class="def">replace</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#replace" class="link">Source</a> <a href="#v:replace" class="selflink">#</a></p><div class="doc"><p>Replace the record in the database with the given
 key. Note that the result is undefined if such record does
 not exist, so you must use <code><a href="Database-Persist-Class-PersistStore.html#v:insertKey" title="Database.Persist.Class.PersistStore">insertKey</a></code> or <code><a href="Database-Persist-Class-PersistStore.html#v:repsert" title="Database.Persist.Class.PersistStore">repsert</a></code> in
 these cases.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:replace0">Example usage</h3><details id="ch:replace0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1 schama-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>replaceSpj :: MonadIO m =&gt; User -&gt; ReaderT SqlBackend m ()
replaceSpj record = replace spjId record</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |Mike  |45   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:delete" class="def">delete</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#delete" class="link">Source</a> <a href="#v:delete" class="selflink">#</a></p><div class="doc"><p>Delete a specific record by identifier. Does nothing if record does
 not exist.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:delete0">Example usage</h3><details id="ch:delete0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>deleteSpj :: MonadIO m =&gt; ReaderT SqlBackend m ()
deleteSpj = delete spjId</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:update" class="def">update</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistStore.html#update" class="link">Source</a> <a href="#v:update" class="selflink">#</a></p><div class="doc"><p>Update individual fields on a specific record.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:update0">Example usage</h3><details id="ch:update0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>updateSpj :: MonadIO m =&gt; [Update User] -&gt; ReaderT SqlBackend m ()
updateSpj updates = update spjId updates</pre><pre>updateSpj [UserAge +=. 100]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |140  |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:updateGet" class="def">updateGet</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record <a href="src/Database.Persist.Class.PersistStore.html#updateGet" class="link">Source</a> <a href="#v:updateGet" class="selflink">#</a></p><div class="doc"><p>Update individual fields on a specific record, and retrieve the
 updated value from the database.</p><p>Note that this function will throw an exception if the given key is not
 found in the database.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:updateGet0">Example usage</h3><details id="ch:updateGet0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>updateGetSpj :: MonadIO m =&gt; [Update User] -&gt; ReaderT SqlBackend m User
updateGetSpj updates = updateGet spjId updates</pre><pre>spj &lt;- updateGetSpj [UserAge +=. 100]</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |140  |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistStoreWrite">Instances</h4><details id="i:PersistStoreWrite" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreWrite:PersistStoreWrite:1"></span> <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-311" class="link">Source</a> <a href="#t:PersistStoreWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreWrite:PersistStoreWrite:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:insert">insert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) <a href="src/Database.Persist.Class.PersistStore.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><p class="src"><a href="#v:insert_">insert_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insert_" class="link">Source</a> <a href="#v:insert_" class="selflink">#</a></p><p class="src"><a href="#v:insertMany">insertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] <a href="src/Database.Persist.Class.PersistStore.html#insertMany" class="link">Source</a> <a href="#v:insertMany" class="selflink">#</a></p><p class="src"><a href="#v:insertMany_">insertMany_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertMany_" class="link">Source</a> <a href="#v:insertMany_" class="selflink">#</a></p><p class="src"><a href="#v:insertEntityMany">insertEntityMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertEntityMany" class="link">Source</a> <a href="#v:insertEntityMany" class="selflink">#</a></p><p class="src"><a href="#v:insertKey">insertKey</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertKey" class="link">Source</a> <a href="#v:insertKey" class="selflink">#</a></p><p class="src"><a href="#v:repsert">repsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#repsert" class="link">Source</a> <a href="#v:repsert" class="selflink">#</a></p><p class="src"><a href="#v:repsertMany">repsertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [(<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#repsertMany" class="link">Source</a> <a href="#v:repsertMany" class="selflink">#</a></p><p class="src"><a href="#v:replace">replace</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#replace" class="link">Source</a> <a href="#v:replace" class="selflink">#</a></p><p class="src"><a href="#v:delete">delete</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#delete" class="link">Source</a> <a href="#v:delete" class="selflink">#</a></p><p class="src"><a href="#v:update">update</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#update" class="link">Source</a> <a href="#v:update" class="selflink">#</a></p><p class="src"><a href="#v:updateGet">updateGet</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m record <a href="src/Database.Persist.Class.PersistStore.html#updateGet" class="link">Source</a> <a href="#v:updateGet" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreWrite:PersistStoreWrite:2"></span> <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-146" class="link">Source</a> <a href="#t:PersistStoreWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreWrite:PersistStoreWrite:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:insert">insert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) <a href="src/Database.Persist.Class.PersistStore.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><p class="src"><a href="#v:insert_">insert_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insert_" class="link">Source</a> <a href="#v:insert_" class="selflink">#</a></p><p class="src"><a href="#v:insertMany">insertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] <a href="src/Database.Persist.Class.PersistStore.html#insertMany" class="link">Source</a> <a href="#v:insertMany" class="selflink">#</a></p><p class="src"><a href="#v:insertMany_">insertMany_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertMany_" class="link">Source</a> <a href="#v:insertMany_" class="selflink">#</a></p><p class="src"><a href="#v:insertEntityMany">insertEntityMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertEntityMany" class="link">Source</a> <a href="#v:insertEntityMany" class="selflink">#</a></p><p class="src"><a href="#v:insertKey">insertKey</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#insertKey" class="link">Source</a> <a href="#v:insertKey" class="selflink">#</a></p><p class="src"><a href="#v:repsert">repsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#repsert" class="link">Source</a> <a href="#v:repsert" class="selflink">#</a></p><p class="src"><a href="#v:repsertMany">repsertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [(<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#repsertMany" class="link">Source</a> <a href="#v:repsertMany" class="selflink">#</a></p><p class="src"><a href="#v:replace">replace</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#replace" class="link">Source</a> <a href="#v:replace" class="selflink">#</a></p><p class="src"><a href="#v:delete">delete</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#delete" class="link">Source</a> <a href="#v:delete" class="selflink">#</a></p><p class="src"><a href="#v:update">update</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistStore.html#update" class="link">Source</a> <a href="#v:update" class="selflink">#</a></p><p class="src"><a href="#v:updateGet">updateGet</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m record <a href="src/Database.Persist.Class.PersistStore.html#updateGet" class="link">Source</a> <a href="#v:updateGet" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistStoreWrite:PersistStoreWrite:3"></span> (<a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> b, <a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> b s, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> b) =&gt; <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-108" class="link">Source</a> <a href="#t:PersistStoreWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistStoreWrite:PersistStoreWrite:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:insert">insert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record) <a href="src/Database.Persist.Class.PersistStore.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><p class="src"><a href="#v:insert_">insert_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#insert_" class="link">Source</a> <a href="#v:insert_" class="selflink">#</a></p><p class="src"><a href="#v:insertMany">insertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m [<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record] <a href="src/Database.Persist.Class.PersistStore.html#insertMany" class="link">Source</a> <a href="#v:insertMany" class="selflink">#</a></p><p class="src"><a href="#v:insertMany_">insertMany_</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#insertMany_" class="link">Source</a> <a href="#v:insertMany_" class="selflink">#</a></p><p class="src"><a href="#v:insertEntityMany">insertEntityMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#insertEntityMany" class="link">Source</a> <a href="#v:insertEntityMany" class="selflink">#</a></p><p class="src"><a href="#v:insertKey">insertKey</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#insertKey" class="link">Source</a> <a href="#v:insertKey" class="selflink">#</a></p><p class="src"><a href="#v:repsert">repsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#repsert" class="link">Source</a> <a href="#v:repsert" class="selflink">#</a></p><p class="src"><a href="#v:repsertMany">repsertMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [(<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record, record)] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#repsertMany" class="link">Source</a> <a href="#v:repsertMany" class="selflink">#</a></p><p class="src"><a href="#v:replace">replace</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#replace" class="link">Source</a> <a href="#v:replace" class="selflink">#</a></p><p class="src"><a href="#v:delete">delete</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#delete" class="link">Source</a> <a href="#v:delete" class="selflink">#</a></p><p class="src"><a href="#v:update">update</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistStore.html#update" class="link">Source</a> <a href="#v:update" class="selflink">#</a></p><p class="src"><a href="#v:updateGet">updateGet</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m record <a href="src/Database.Persist.Class.PersistStore.html#updateGet" class="link">Source</a> <a href="#v:updateGet" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:getEntity" class="def">getEntity</a> :: <span class="keyword">forall</span> e backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> e backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> e -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> e)) <a href="src/Database.Persist.Class.PersistStore.html#getEntity" class="link">Source</a> <a href="#v:getEntity" class="selflink">#</a></p><div class="doc"><p>Like <code>get</code>, but returns the complete <code>Entity</code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getEntity0">Example usage</h3><details id="ch:getEntity0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>getSpjEntity :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe (Entity User))
getSpjEntity = getEntity spjId</pre><pre>mSpjEnt &lt;- getSpjEntity</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get this entity:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre></details></div></div><div class="top"><p class="src"><a id="v:getJust" class="def">getJust</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record <a href="src/Database.Persist.Class.PersistStore.html#getJust" class="link">Source</a> <a href="#v:getJust" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class-PersistStore.html#v:get" title="Database.Persist.Class.PersistStore">get</a></code>, but for a non-null (not Maybe) foreign key.
 Unsafe unless your database is enforcing that the foreign key is valid.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getJust0">Example usage</h3><details id="ch:getJust0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>getJustSpj :: MonadIO m =&gt; ReaderT SqlBackend m User
getJustSpj = getJust spjId</pre><pre>spj &lt;- getJust spjId</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get this record:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre><pre>getJustUnknown :: MonadIO m =&gt; ReaderT SqlBackend m User
getJustUnknown = getJust unknownId</pre><p>mrx &lt;- getJustUnknown</p><p>This just throws an error.</p></details></div></div><div class="top"><p class="src"><a id="v:getJustEntity" class="def">getJustEntity</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistStore.html#getJustEntity" class="link">Source</a> <a href="#v:getJustEntity" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class-PersistStore.html#v:getJust" title="Database.Persist.Class.PersistStore">getJust</a></code>, but returns an <code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code> instead of just the record.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getJustEntity0">Example usage</h3><details id="ch:getJustEntity0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>getJustEntitySpj :: MonadIO m =&gt; ReaderT SqlBackend m (Entity User)
getJustEntitySpj = getJustEntity spjId</pre><pre>spjEnt &lt;- getJustEntitySpj</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will get this entity:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre></details><p><em>Since: 2.6.1</em></p></div></div><div class="top"><p class="src"><a id="v:belongsTo" class="def">belongsTo</a> :: <span class="keyword">forall</span> ent1 ent2 backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> ent1, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> ent2 backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; (ent1 -&gt; <a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> ent2)) -&gt; ent1 -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ent2) <a href="src/Database.Persist.Class.PersistStore.html#belongsTo" class="link">Source</a> <a href="#v:belongsTo" class="selflink">#</a></p><div class="doc"><p>Curry this to make a convenience function that loads an associated model.</p><pre>foreign = belongsTo foreignId</pre></div></div><div class="top"><p class="src"><a id="v:belongsToJust" class="def">belongsToJust</a> :: <span class="keyword">forall</span> ent1 ent2 backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> ent1, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> ent2 backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; (ent1 -&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> ent2) -&gt; ent1 -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ent2 <a href="src/Database.Persist.Class.PersistStore.html#belongsToJust" class="link">Source</a> <a href="#v:belongsToJust" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Database-Persist-Class-PersistStore.html#v:belongsTo" title="Database.Persist.Class.PersistStore">belongsTo</a></code>, but uses <code>getJust</code> and therefore is similarly unsafe.</p></div></div><div class="top"><p class="src"><a id="v:insertEntity" class="def">insertEntity</a> :: <span class="keyword">forall</span> e backend m. (<a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> e backend, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; e -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> e) <a href="src/Database.Persist.Class.PersistStore.html#insertEntity" class="link">Source</a> <a href="#v:insertEntity" class="selflink">#</a></p><div class="doc"><p>Like <code>insert</code>, but returns the complete <code>Entity</code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertEntity0">Example usage</h3><details id="ch:insertEntity0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertHaskellEntity :: MonadIO m =&gt; ReaderT SqlBackend m (Entity User)
insertHaskellEntity = insertEntity $ User &quot;Haskell&quot; 81</pre><pre>haskellEnt &lt;- insertHaskellEntity</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+----+---------+-----+
| id |  name   | age |
+----+---------+-----+
|  1 | SPJ     |  40 |
+----+---------+-----+
|  2 | Simon   |  41 |
+----+---------+-----+
|  3 | Haskell |  81 |
+----+---------+-----+</pre></details></div></div><div class="top"><p class="src"><a id="v:insertRecord" class="def">insertRecord</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m record <a href="src/Database.Persist.Class.PersistStore.html#insertRecord" class="link">Source</a> <a href="#v:insertRecord" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Database-Persist-Class-PersistStore.html#v:insertEntity" title="Database.Persist.Class.PersistStore">insertEntity</a></code> but just returns the record instead of <code><a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a></code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertRecord0">Example usage</h3><details id="ch:insertRecord0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-store-1">schema-1</a> and <a href="#dataset-persist-store-1">dataset-1</a>,</p><pre>insertDaveRecord :: MonadIO m =&gt; ReaderT SqlBackend m User
insertDaveRecord = insertRecord $ User &quot;Dave&quot; 50</pre><pre>dave &lt;- insertDaveRecord</pre><p>The above query when applied on <a href="#dataset-persist-store-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Dave  |50   |
+-----+------+-----+</pre></details><p><em>Since: 2.6.1</em></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistCore" title="Database.Persist.Class.PersistStore">PersistCore</a> backend) =&gt; <a id="t:ToBackendKey" class="def">ToBackendKey</a> backend record <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#ToBackendKey" class="link">Source</a> <a href="#t:ToBackendKey" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Persist-Class-PersistStore.html#t:ToBackendKey" title="Database.Persist.Class.PersistStore">ToBackendKey</a></code> converts a <code><a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a></code> <code><a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a></code> into a <code><a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a></code>
 This can be used by each backend to convert between a <code><a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a></code> and a plain
 Haskell type. For Sql, that is done with <code>toSqlKey</code> and <code>fromSqlKey</code>.</p><p>By default, a <code><a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a></code> uses the default <code><a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a></code> for its Key
 and is an instance of ToBackendKey</p><p>A <code><a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a></code> that instead uses a custom type will not be an instance of
 <code><a href="Database-Persist-Class-PersistStore.html#t:ToBackendKey" title="Database.Persist.Class.PersistStore">ToBackendKey</a></code>.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:toBackendKey" class="def">toBackendKey</a> :: <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; <a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend <a href="src/Database.Persist.Class.PersistStore.html#toBackendKey" class="link">Source</a> <a href="#v:toBackendKey" class="selflink">#</a></p><p class="src"><a id="v:fromBackendKey" class="def">fromBackendKey</a> :: <a href="Database-Persist-Class-PersistStore.html#t:BackendKey" title="Database.Persist.Class.PersistStore">BackendKey</a> backend -&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record <a href="src/Database.Persist.Class.PersistStore.html#fromBackendKey" class="link">Source</a> <a href="#v:fromBackendKey" class="selflink">#</a></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:BackendCompatible" class="def">BackendCompatible</a> sup sub <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistStore.html#BackendCompatible" class="link">Source</a> <a href="#t:BackendCompatible" class="selflink">#</a></p><div class="doc"><p>This class witnesses that two backend are compatible, and that you can
 convert from the <code>sub</code> backend into the <code>sup</code> backend. This is similar
 to the <code><a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a></code> and <code><a href="Database-Persist-Class-PersistStore.html#t:IsPersistBackend" title="Database.Persist.Class.PersistStore">IsPersistBackend</a></code> classes, but where you
 don't want to fix the type associated with the <code><a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a></code> of
 a record.</p><p>Generally speaking, where you might have:</p><pre>foo ::
  ( <code><a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a></code> record
  , <code>PeristEntityBackend</code> record ~ <code><a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a></code> backend
  , <code>IsSqlBackend</code> backend
  )
</pre><p>this can be replaced with:</p><pre>foo ::
  ( <code><a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a></code> record,
  , <code><a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a></code> record ~ backend
  , <code><a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a></code> <code>SqlBackend</code> backend
  )
</pre><p>This works for <code>SqlReadBackend</code> because of the <code>instance <code><a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a></code> <code>SqlBackend</code> <code>SqlReadBackend</code></code>, without needing to go through the <code><a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a></code> type family.</p><p>Likewise, functions that are currently hardcoded to use <code>SqlBackend</code> can be generalized:</p><pre>-- before:
asdf :: <code><a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a></code> <code>SqlBackend</code> m ()
asdf = pure ()

-- after:
asdf' :: <code><a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a></code> SqlBackend backend =&gt; ReaderT backend m ()
asdf' = <code><a href="Database-Persist-Class-PersistStore.html#v:withCompatibleBackend" title="Database.Persist.Class.PersistStore">withCompatibleBackend</a></code> asdf
</pre><p><em>Since: 2.7.1</em></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:projectBackend" class="def">projectBackend</a> :: sub -&gt; sup <a href="src/Database.Persist.Class.PersistStore.html#projectBackend" class="link">Source</a> <a href="#v:projectBackend" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:BackendCompatible">Instances</h4><details id="i:BackendCompatible" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:BackendCompatible:BackendCompatible:1"></span> <a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-140" class="link">Source</a> <a href="#t:BackendCompatible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:BackendCompatible:BackendCompatible:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:projectBackend">projectBackend</a> :: <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> -&gt; <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#projectBackend" class="link">Source</a> <a href="#v:projectBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:BackendCompatible:BackendCompatible:2"></span> <a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-143" class="link">Source</a> <a href="#t:BackendCompatible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:BackendCompatible:BackendCompatible:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:projectBackend">projectBackend</a> :: <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> -&gt; <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#projectBackend" class="link">Source</a> <a href="#v:projectBackend" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:BackendCompatible:BackendCompatible:3"></span> <a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistStore.html#line-137" class="link">Source</a> <a href="#t:BackendCompatible" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:BackendCompatible:BackendCompatible:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistStore.html">Database.Persist.Sql.Orphan.PersistStore</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:projectBackend">projectBackend</a> :: <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> -&gt; <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> <a href="src/Database.Persist.Class.PersistStore.html#projectBackend" class="link">Source</a> <a href="#v:projectBackend" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:withCompatibleBackend" class="def">withCompatibleBackend</a> :: <a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> sup sub =&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> sup m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> sub m a <a href="src/Database.Persist.Class.PersistStore.html#withCompatibleBackend" class="link">Source</a> <a href="#v:withCompatibleBackend" class="selflink">#</a></p><div class="doc"><p>Run a query against a compatible backend, by projecting the backend</p><p>This is a helper for using queries which run against a specific backend type
 that your backend is compatible with.</p><p><em>Since: 2.12.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>