<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Database.Persist.Class.PersistUnique</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">persistent-2.13.3.5: Type-safe, multi-backend data serialization.</span><ul class="links" id="page-menu"><li><a href="src/Database.Persist.Class.PersistUnique.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Database.Persist.Class.PersistUnique</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend =&gt; <a href="#t:PersistUniqueRead">PersistUniqueRead</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record))</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend) =&gt; <a href="#t:PersistUniqueWrite">PersistUniqueWrite</a> backend <span class="keyword">where</span><ul class="subs"><li><a href="#v:deleteBy">deleteBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li><a href="#v:insertUnique">insertUnique</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record))</li><li><a href="#v:upsert">upsert</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a> record) =&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li><a href="#v:upsertBy">upsertBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li><a href="#v:putMany">putMany</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record =&gt; <a href="#t:OnlyOneUniqueKey">OnlyOneUniqueKey</a> record <span class="keyword">where</span><ul class="subs"><li><a href="#v:onlyUniqueP">onlyUniqueP</a> :: record -&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record</li></ul></li><li class="src short"><a href="#v:onlyOneUniqueDef">onlyOneUniqueDef</a> :: (<a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a> record, <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> proxy) =&gt; proxy record -&gt; <a href="Database-Persist-Types.html#t:UniqueDef" title="Database.Persist.Types">UniqueDef</a></li><li class="src short"><span class="keyword">class</span> <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record =&gt; <a href="#t:AtLeastOneUniqueKey">AtLeastOneUniqueKey</a> record <span class="keyword">where</span><ul class="subs"><li><a href="#v:requireUniquesP">requireUniquesP</a> :: record -&gt; <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record)</li></ul></li><li class="src short"><a href="#v:atLeastOneUniqueDef">atLeastOneUniqueDef</a> :: (<a href="Database-Persist-Class-PersistUnique.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class.PersistUnique">AtLeastOneUniqueKey</a> record, <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> proxy) =&gt; proxy record -&gt; <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Database-Persist-Types.html#t:UniqueDef" title="Database.Persist.Types">UniqueDef</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:NoUniqueKeysError">NoUniqueKeysError</a> ty = (('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The entity &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> ty) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; does not have any unique keys.&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> ('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The function you are trying to call requires a unique key &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;to be defined on the entity.&quot;)</li><li class="src short"><span class="keyword">type</span> <a href="#t:MultipleUniqueKeysError">MultipleUniqueKeysError</a> ty = ((('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The entity &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> ty) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; has multiple unique keys.&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> ('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The function you are trying to call requires only a single &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;unique key.&quot;)) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> (('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;There is probably a variant of the function with 'By' &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;appended that will allow you to select a unique key &quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;for the operation.&quot;)</li><li class="src short"><a href="#v:getByValue">getByValue</a> :: <span class="keyword">forall</span> record m backend. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class.PersistUnique">AtLeastOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record))</li><li class="src short"><a href="#v:getByValueUniques">getByValueUniques</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record))</li><li class="src short"><a href="#v:insertBy">insertBy</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class.PersistUnique">AtLeastOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record))</li><li class="src short"><a href="#v:insertUniqueEntity">insertUniqueEntity</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record))</li><li class="src short"><a href="#v:replaceUnique">replaceUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record), <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record))</li><li class="src short"><a href="#v:checkUnique">checkUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record))</li><li class="src short"><a href="#v:checkUniqueUpdateable">checkUniqueUpdateable</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record))</li><li class="src short"><a href="#v:onlyUnique">onlyUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record)</li><li class="src short"><a href="#v:defaultUpsertBy">defaultUpsertBy</a> :: (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</li><li class="src short"><a href="#v:defaultPutMany">defaultPutMany</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li><li class="src short"><a href="#v:persistUniqueKeyValues">persistUniqueKeyValues</a> :: <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record =&gt; record -&gt; [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreRead" title="Database.Persist.Class.PersistStore">PersistStoreRead</a> backend =&gt; <a id="t:PersistUniqueRead" class="def">PersistUniqueRead</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistUnique.html#PersistUniqueRead" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></p><div class="doc"><p>Queries against <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code> keys (other than the id <code><a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a></code>).</p><p>Please read the general Persistent documentation to learn how to create
 <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code> keys.</p><p>Using this with an Entity without a Unique key leads to undefined
 behavior.  A few of these functions require a <em>single</em> <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code>, so using
 an Entity with multiple <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code>s is also undefined. In these cases
 persistent's goal is to throw an exception as soon as possible, but
 persistent is still transitioning to that.</p><p>SQL backends automatically create uniqueness constraints, but for MongoDB
 you must manually place a unique index on a field to have a uniqueness
 constraint.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:getBy" class="def">getBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p><div class="doc"><p>Get a record by unique key, if available. Returns also the identifier.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getBy0">Example usage</h3><details id="ch:getBy0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>:</p><pre>getBySpjName :: MonadIO m  =&gt; ReaderT SqlBackend m (Maybe (Entity User))
getBySpjName = getBy $ UniqueUserName &quot;SPJ&quot;</pre><pre>mSpjEnt &lt;- getBySpjName</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will get this entity:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre></details></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistUniqueRead">Instances</h4><details id="i:PersistUniqueRead" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueRead:PersistUniqueRead:1"></span> <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-113" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueRead:PersistUniqueRead:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlReadBackend" title="Database.Persist.Sql.Types.Internal">SqlReadBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueRead:PersistUniqueRead:2"></span> <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-116" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueRead:PersistUniqueRead:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueRead:PersistUniqueRead:3"></span> <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-84" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueRead:PersistUniqueRead:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueRead:PersistUniqueRead:4"></span> (<a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> b, <a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> b s, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> b) =&gt; <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-105" class="link">Source</a> <a href="#t:PersistUniqueRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueRead:PersistUniqueRead:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getBy">getBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getBy" class="link">Source</a> <a href="#v:getBy" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend) =&gt; <a id="t:PersistUniqueWrite" class="def">PersistUniqueWrite</a> backend <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistUnique.html#PersistUniqueWrite" class="link">Source</a> <a href="#t:PersistUniqueWrite" class="selflink">#</a></p><div class="doc"><p>Some functions in this module (<code><a href="Database-Persist-Class-PersistUnique.html#v:insertUnique" title="Database.Persist.Class.PersistUnique">insertUnique</a></code>, <code><a href="Database-Persist-Class-PersistUnique.html#v:insertBy" title="Database.Persist.Class.PersistUnique">insertBy</a></code>, and
 <code><a href="Database-Persist-Class-PersistUnique.html#v:replaceUnique" title="Database.Persist.Class.PersistUnique">replaceUnique</a></code>) first query the unique indexes to check for
 conflicts. You could instead optimistically attempt to perform the
 operation (e.g. <code><a href="Database-Persist-Class-PersistStore.html#v:replace" title="Database.Persist.Class.PersistStore">replace</a></code> instead of <code><a href="Database-Persist-Class-PersistUnique.html#v:replaceUnique" title="Database.Persist.Class.PersistUnique">replaceUnique</a></code>). However,</p><ul><li>there is some fragility to trying to catch the correct exception and
  determing the column of failure;</li><li>an exception will automatically abort the current SQL transaction.</li></ul></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Database-Persist-Class-PersistUnique.html#v:deleteBy" title="Database.Persist.Class.PersistUnique">deleteBy</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:deleteBy" class="def">deleteBy</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistUnique.html#deleteBy" class="link">Source</a> <a href="#v:deleteBy" class="selflink">#</a></p><div class="doc"><p>Delete a specific record by unique key. Does nothing if no record
 matches.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:deleteBy0">Example usage</h3><details id="ch:deleteBy0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>,</p><pre>deleteBySpjName :: MonadIO m =&gt; ReaderT SqlBackend m ()
deleteBySpjName = deleteBy UniqueUserName &quot;SPJ&quot;</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will produce this:</p><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+</pre></details></div><p class="src"><a id="v:insertUnique" class="def">insertUnique</a> :: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUnique" class="link">Source</a> <a href="#v:insertUnique" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Database-Persist-Class-PersistStore.html#v:insert" title="Database.Persist.Class.PersistStore">insert</a></code>, but returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> when the record
 couldn't be inserted because of a uniqueness constraint.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertUnique0">Example usage</h3><details id="ch:insertUnique0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>, we try to insert the following two records:</p><pre>linusId &lt;- insertUnique $ User &quot;Linus&quot; 48
spjId   &lt;- insertUnique $ User &quot;SPJ&quot; 90</pre><pre>+-----+------+-----+
|id   |name  |age  |
+-----+------+-----+
|1    |SPJ   |40   |
+-----+------+-----+
|2    |Simon |41   |
+-----+------+-----+
|3    |Linus |48   |
+-----+------+-----+</pre><p>Linus's record was inserted to <a href="#dataset-persist-unique-1">dataset-1</a>, while SPJ wasn't because SPJ already exists in <a href="#dataset-persist-unique-1">dataset-1</a>.</p></details></div><p class="src"><a id="v:upsert" class="def">upsert</a> <a href="src/Database.Persist.Class.PersistUnique.html#upsert" class="link">Source</a> <a href="#v:upsert" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a> record)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; record</td><td class="doc"><p>new record to insert</p></td></tr><tr><td class="src">-&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record]</td><td class="doc"><p>updates to perform if the record already exists</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</td><td class="doc"><p>the record in the database after the operation</p></td></tr></table></div><div class="doc"><p>Update based on a uniqueness constraint or insert:</p><ul><li>insert the new record if it does not exist;</li><li>If the record exists (matched via it's uniqueness constraint), then update the existing record with the parameters which is passed on as list to the function.</li></ul><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:upsert0">Example usage</h3><details id="ch:upsert0"><summary class="hide-when-js-enabled">Expand</summary><p>First, we try to explain <code><a href="Database-Persist-Class-PersistUnique.html#v:upsert" title="Database.Persist.Class.PersistUnique">upsert</a></code> using <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>.</p><pre>upsertSpj :: MonadIO m =&gt; [Update User] -&gt; ReaderT SqlBackend m (Maybe (Entity User))
upsertSpj updates = upsert (User &quot;SPJ&quot; 999) upadtes</pre><pre>mSpjEnt &lt;- upsertSpj [UserAge +=. 15]</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will produce this:</p><pre>+-----+-----+--------+
|id   |name |age     |
+-----+-----+--------+
|1    |SPJ  |40 -&gt; 55|
+-----+-----+--------+
|2    |Simon|41      |
+-----+-----+--------+</pre><pre>upsertX :: MonadIO m =&gt; [Update User] -&gt; ReaderT SqlBackend m (Maybe (Entity User))
upsertX updates = upsert (User &quot;X&quot; 999) updates</pre><pre>mXEnt &lt;- upsertX [UserAge +=. 15]</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will produce this:</p><pre>+-----+-----+--------+
|id   |name |age     |
+-----+-----+--------+
|1    |SPJ  |40      |
+-----+-----+--------+
|2    |Simon|41      |
+-----+-----+--------+
|3    |X    |999     |
+-----+-----+--------+</pre><p>Next, what if the schema has two uniqueness constraints?
 Let's check it out using <a href="#schema-persist-unique-2">schema-2</a>:</p><pre>mSpjEnt &lt;- upsertSpj [UserAge +=. 15]</pre><p>This fails with a compile-time type error alerting us to the fact
 that this record has multiple unique keys, and suggests that we look for
 <code><a href="Database-Persist-Class-PersistUnique.html#v:upsertBy" title="Database.Persist.Class.PersistUnique">upsertBy</a></code> to select the unique key we want.</p></details></div><p class="src"><a id="v:upsertBy" class="def">upsertBy</a> <a href="src/Database.Persist.Class.PersistUnique.html#upsertBy" class="link">Source</a> <a href="#v:upsertBy" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record</td><td class="doc"><p>uniqueness constraint to find by</p></td></tr><tr><td class="src">-&gt; record</td><td class="doc"><p>new record to insert</p></td></tr><tr><td class="src">-&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record]</td><td class="doc"><p>updates to perform if the record already exists</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</td><td class="doc"><p>the record in the database after the operation</p></td></tr></table></div><div class="doc"><p>Update based on a given uniqueness constraint or insert:</p><ul><li>insert the new record if it does not exist;</li><li>update the existing record that matches the given uniqueness constraint.</li></ul><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:upsertBy0">Example usage</h3><details id="ch:upsertBy0"><summary class="hide-when-js-enabled">Expand</summary><p>We try to explain <code><a href="Database-Persist-Class-PersistUnique.html#v:upsertBy" title="Database.Persist.Class.PersistUnique">upsertBy</a></code> using <a href="#schema-persist-unique-2">schema-2</a> and <a href="#dataset-persist-unique-1">dataset-1</a>.</p><pre>upsertBySpjName :: MonadIO m =&gt; User -&gt; [Update User] -&gt; ReaderT SqlBackend m (Entity User)
upsertBySpjName record updates = upsertBy (UniqueUserName &quot;SPJ&quot;) record updates</pre><pre>mSpjEnt &lt;- upsertBySpjName (Person &quot;X&quot; 999) [PersonAge += .15]</pre><p>The above query will alter <a href="#dataset-persist-unique-1">dataset-1</a> to:</p><pre>+-----+-----+--------+
|id   |name |age     |
+-----+-----+--------+
|1    |SPJ  |40 -&gt; 55|
+-----+-----+--------+
|2    |Simon|41      |
+-----+-----+--------+</pre><pre>upsertBySimonAge :: MonadIO m =&gt; User -&gt; [Update User] -&gt; ReaderT SqlBackend m (Entity User)
upsertBySimonAge record updates = upsertBy (UniqueUserName &quot;SPJ&quot;) record updates</pre><pre>mPhilipEnt &lt;- upsertBySimonAge (User &quot;X&quot; 999) [UserName =. &quot;Philip&quot;]</pre><p>The above query will alter <a href="#dataset-persist-unique-1">dataset-1</a> to:</p><pre>+----+-----------------+-----+
| id |      name       | age |
+----+-----------------+-----+
|  1 | SPJ             |  40 |
+----+-----------------+-----+
|  2 | Simon -&gt; Philip |  41 |
+----+-----------------+-----+</pre><pre>upsertByUnknownName :: MonadIO m =&gt; User -&gt; [Update User] -&gt; ReaderT SqlBackend m (Entity User)
upsertByUnknownName record updates = upsertBy (UniqueUserName &quot;Unknown&quot;) record updates</pre><pre>mXEnt &lt;- upsertByUnknownName (User &quot;X&quot; 999) [UserAge +=. 15]</pre><p>This query will alter <a href="#dataset-persist-unique-1">dataset-1</a> to:</p><pre>+-----+-----+-----+
|id   |name |age  |
+-----+-----+-----+
|1    |SPJ  |40   |
+-----+-----+-----+
|2    |Simon|41   |
+-----+-----+-----+
|3    |X    |999  |
+-----+-----+-----+</pre></details></div><p class="src"><a id="v:putMany" class="def">putMany</a> <a href="src/Database.Persist.Class.PersistUnique.html#putMany" class="link">Source</a> <a href="#v:putMany" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> record m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [record]</td><td class="doc"><p>A list of the records you want to insert or replace.</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Put many records into db</p><ul><li>insert new records that do not exist (or violate any unique constraints)</li><li>replace existing records (matching any unique constraint)</li></ul><p><em>Since: 2.8.1</em></p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PersistUniqueWrite">Instances</h4><details id="i:PersistUniqueWrite" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueWrite:PersistUniqueWrite:1"></span> <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-79" class="link">Source</a> <a href="#t:PersistUniqueWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueWrite:PersistUniqueWrite:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:deleteBy">deleteBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistUnique.html#deleteBy" class="link">Source</a> <a href="#v:deleteBy" class="selflink">#</a></p><p class="src"><a href="#v:insertUnique">insertUnique</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUnique" class="link">Source</a> <a href="#v:insertUnique" class="selflink">#</a></p><p class="src"><a href="#v:upsert">upsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>, <a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a> record) =&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsert" class="link">Source</a> <a href="#v:upsert" class="selflink">#</a></p><p class="src"><a href="#v:upsertBy">upsertBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsertBy" class="link">Source</a> <a href="#v:upsertBy" class="selflink">#</a></p><p class="src"><a href="#v:putMany">putMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-Sql-Types-Internal.html#t:SqlWriteBackend" title="Database.Persist.Sql.Types.Internal">SqlWriteBackend</a> m () <a href="src/Database.Persist.Class.PersistUnique.html#putMany" class="link">Source</a> <a href="#v:putMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueWrite:PersistUniqueWrite:2"></span> <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a></span> <a href="src/Database.Persist.Sql.Orphan.PersistUnique.html#line-24" class="link">Source</a> <a href="#t:PersistUniqueWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueWrite:PersistUniqueWrite:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Sql-Orphan-PersistUnique.html">Database.Persist.Sql.Orphan.PersistUnique</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:deleteBy">deleteBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistUnique.html#deleteBy" class="link">Source</a> <a href="#v:deleteBy" class="selflink">#</a></p><p class="src"><a href="#v:insertUnique">insertUnique</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUnique" class="link">Source</a> <a href="#v:insertUnique" class="selflink">#</a></p><p class="src"><a href="#v:upsert">upsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>, <a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a> record) =&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsert" class="link">Source</a> <a href="#v:upsert" class="selflink">#</a></p><p class="src"><a href="#v:upsertBy">upsertBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsertBy" class="link">Source</a> <a href="#v:upsertBy" class="selflink">#</a></p><p class="src"><a href="#v:putMany">putMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a>) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Database-Persist-SqlBackend-Internal.html#t:SqlBackend" title="Database.Persist.SqlBackend.Internal">SqlBackend</a> m () <a href="src/Database.Persist.Class.PersistUnique.html#putMany" class="link">Source</a> <a href="#v:putMany" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PersistUniqueWrite:PersistUniqueWrite:3"></span> (<a href="Database-Persist-Class-PersistStore.html#t:HasPersistBackend" title="Database.Persist.Class.PersistStore">HasPersistBackend</a> b, <a href="Database-Persist-Class-PersistStore.html#t:BackendCompatible" title="Database.Persist.Class.PersistStore">BackendCompatible</a> b s, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> b) =&gt; <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)</span> <a href="src/Database.Persist.Compatible.Types.html#line-122" class="link">Source</a> <a href="#t:PersistUniqueWrite" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PersistUniqueWrite:PersistUniqueWrite:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Persist-Compatible-Types.html">Database.Persist.Compatible.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:deleteBy">deleteBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistUnique.html#deleteBy" class="link">Source</a> <a href="#v:deleteBy" class="selflink">#</a></p><p class="src"><a href="#v:insertUnique">insertUnique</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUnique" class="link">Source</a> <a href="#v:insertUnique" class="selflink">#</a></p><p class="src"><a href="#v:upsert">upsert</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s), <a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a> record) =&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsert" class="link">Source</a> <a href="#v:upsert" class="selflink">#</a></p><p class="src"><a href="#v:upsertBy">upsertBy</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record -&gt; record -&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#upsertBy" class="link">Source</a> <a href="#v:upsertBy" class="selflink">#</a></p><p class="src"><a href="#v:putMany">putMany</a> :: <span class="keyword">forall</span> record (m :: <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.16.4.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s)) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Database-Persist-Compatible.html#t:Compatible" title="Database.Persist.Compatible">Compatible</a> b s) m () <a href="src/Database.Persist.Class.PersistUnique.html#putMany" class="link">Source</a> <a href="#v:putMany" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record =&gt; <a id="t:OnlyOneUniqueKey" class="def">OnlyOneUniqueKey</a> record <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistUnique.html#OnlyOneUniqueKey" class="link">Source</a> <a href="#t:OnlyOneUniqueKey" class="selflink">#</a></p><div class="doc"><p>This class is used to ensure that <code><a href="Database-Persist-Class-PersistUnique.html#v:upsert" title="Database.Persist.Class.PersistUnique">upsert</a></code> is only called on records
 that have a single <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code> key. The quasiquoter automatically generates
 working instances for appropriate records, and generates <code>TypeError</code>
 instances for records that have 0 or multiple unique keys.</p><p><em>Since: 2.10.0</em></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:onlyUniqueP" class="def">onlyUniqueP</a> :: record -&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record <a href="src/Database.Persist.Class.PersistUnique.html#onlyUniqueP" class="link">Source</a> <a href="#v:onlyUniqueP" class="selflink">#</a></p></div></div><div class="top"><p class="src"><a id="v:onlyOneUniqueDef" class="def">onlyOneUniqueDef</a> :: (<a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a> record, <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> proxy) =&gt; proxy record -&gt; <a href="Database-Persist-Types.html#t:UniqueDef" title="Database.Persist.Types">UniqueDef</a> <a href="src/Database.Persist.Class.PersistUnique.html#onlyOneUniqueDef" class="link">Source</a> <a href="#v:onlyOneUniqueDef" class="selflink">#</a></p><div class="doc"><p>Given a proxy for a <code><a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a></code> record, this returns the sole
 <code><a href="Database-Persist-Types.html#t:UniqueDef" title="Database.Persist.Types">UniqueDef</a></code> for that entity.</p><p><em>Since: 2.13.0.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record =&gt; <a id="t:AtLeastOneUniqueKey" class="def">AtLeastOneUniqueKey</a> record <span class="keyword">where</span> <a href="src/Database.Persist.Class.PersistUnique.html#AtLeastOneUniqueKey" class="link">Source</a> <a href="#t:AtLeastOneUniqueKey" class="selflink">#</a></p><div class="doc"><p>This class is used to ensure that functions requring at least one
 unique key are not called with records that have 0 unique keys. The
 quasiquoter automatically writes working instances for appropriate
 entities, and generates <code>TypeError</code> instances for records that have
 0 unique keys.</p><p><em>Since: 2.10.0</em></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:requireUniquesP" class="def">requireUniquesP</a> :: record -&gt; <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#requireUniquesP" class="link">Source</a> <a href="#v:requireUniquesP" class="selflink">#</a></p></div></div><div class="top"><p class="src"><a id="v:atLeastOneUniqueDef" class="def">atLeastOneUniqueDef</a> :: (<a href="Database-Persist-Class-PersistUnique.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class.PersistUnique">AtLeastOneUniqueKey</a> record, <a href="../base-4.16.4.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> proxy) =&gt; proxy record -&gt; <a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Database-Persist-Types.html#t:UniqueDef" title="Database.Persist.Types">UniqueDef</a> <a href="src/Database.Persist.Class.PersistUnique.html#atLeastOneUniqueDef" class="link">Source</a> <a href="#v:atLeastOneUniqueDef" class="selflink">#</a></p><div class="doc"><p>Given a proxy for a record that has an instance of
 <code><a href="Database-Persist-Class-PersistUnique.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class.PersistUnique">AtLeastOneUniqueKey</a></code>, this returns a <code><a href="../base-4.16.4.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a></code> list of the
 <code><a href="Database-Persist-Types.html#t:UniqueDef" title="Database.Persist.Types">UniqueDef</a></code>s for that entity.</p><p><em>Since: 2.10.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:NoUniqueKeysError" class="def">NoUniqueKeysError</a> ty = (('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The entity &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> ty) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; does not have any unique keys.&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> ('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The function you are trying to call requires a unique key &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;to be defined on the entity.&quot;) <a href="src/Database.Persist.Class.PersistUnique.html#NoUniqueKeysError" class="link">Source</a> <a href="#t:NoUniqueKeysError" class="selflink">#</a></p><div class="doc"><p>This is an error message. It is used when writing instances of
 <code><a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a></code> for an entity that has no unique keys.</p><p><em>Since: 2.10.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MultipleUniqueKeysError" class="def">MultipleUniqueKeysError</a> ty = ((('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The entity &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> ty) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot; has multiple unique keys.&quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> ('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;The function you are trying to call requires only a single &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;unique key.&quot;)) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> (('<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;There is probably a variant of the function with 'By' &quot; <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;appended that will allow you to select a unique key &quot;) <a href="../base-4.16.4.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../base-4.16.4.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;for the operation.&quot;) <a href="src/Database.Persist.Class.PersistUnique.html#MultipleUniqueKeysError" class="link">Source</a> <a href="#t:MultipleUniqueKeysError" class="selflink">#</a></p><div class="doc"><p>This is an error message. It is used when an entity has multiple
 unique keys, and the function expects a single unique key.</p><p><em>Since: 2.10.0</em></p></div></div><div class="top"><p class="src"><a id="v:getByValue" class="def">getByValue</a> :: <span class="keyword">forall</span> record m backend. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class.PersistUnique">AtLeastOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getByValue" class="link">Source</a> <a href="#v:getByValue" class="selflink">#</a></p><div class="doc"><p>A modification of <code><a href="Database-Persist-Class-PersistUnique.html#v:getBy" title="Database.Persist.Class.PersistUnique">getBy</a></code>, which takes the <code><a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a></code> itself instead
 of a <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code> record. Returns a record matching <em>one</em> of the unique keys. This
 function makes the most sense on entities with a single <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code>
 constructor.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:getByValue0">Example usage</h3><details id="ch:getByValue0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a>,</p><p>getBySpjValue :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe (Entity User))
 getBySpjValue = getByValue $ User <a href="SPJ.html">SPJ</a> 999</p><pre>mSpjEnt &lt;- getBySpjValue</pre><p>The above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will get this record:</p><pre>+----+------+-----+
| id | name | age |
+----+------+-----+
|  1 | SPJ  |  40 |
+----+------+-----+</pre></details></div></div><div class="top"><p class="src"><a id="v:getByValueUniques" class="def">getByValueUniques</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend) =&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#getByValueUniques" class="link">Source</a> <a href="#v:getByValueUniques" class="selflink">#</a></p><div class="doc"><p>Retrieve a record from the database using the given unique keys. It
 will attempt to find a matching record for each <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code> in the list,
 and returns the first one that has a match.</p><p>Returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if you provide an empty list ('[]') or if no value
 matches in the database.</p><p><em>Since: 2.10.0</em></p></div></div><div class="top"><p class="src"><a id="v:insertBy" class="def">insertBy</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:AtLeastOneUniqueKey" title="Database.Persist.Class.PersistUnique">AtLeastOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record) (<a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertBy" class="link">Source</a> <a href="#v:insertBy" class="selflink">#</a></p><div class="doc"><p>Insert a value, checking for conflicts with any unique constraints.  If a
 duplicate exists in the database, it is returned as <code><a href="../base-4.16.4.0/Data-Either.html#v:Left" title="Data.Either">Left</a></code>. Otherwise, the
 new 'Key is returned as <code><a href="../base-4.16.4.0/Data-Either.html#v:Right" title="Data.Either">Right</a></code>.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertBy0">Example usage</h3><details id="ch:insertBy0"><summary class="hide-when-js-enabled">Expand</summary><p>With <a href="#schema-persist-unique-2">schema-2</a> and <a href="#dataset-persist-unique-1">dataset-1</a>, we have following lines of code:</p><pre>l1 &lt;- insertBy $ User &quot;SPJ&quot; 20
l2 &lt;- insertBy $ User &quot;XXX&quot; 41
l3 &lt;- insertBy $ User &quot;SPJ&quot; 40
r1 &lt;- insertBy $ User &quot;XXX&quot; 100</pre><p>First three lines return <code><a href="../base-4.16.4.0/Data-Either.html#v:Left" title="Data.Either">Left</a></code> because there're duplicates in given record's uniqueness constraints. While the last line returns a new key as <code><a href="../base-4.16.4.0/Data-Either.html#v:Right" title="Data.Either">Right</a></code>.</p></details></div></div><div class="top"><p class="src"><a id="v:insertUniqueEntity" class="def">insertUniqueEntity</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#insertUniqueEntity" class="link">Source</a> <a href="#v:insertUniqueEntity" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Database-Persist-Class-PersistStore.html#v:insertEntity" title="Database.Persist.Class.PersistStore">insertEntity</a></code>, but returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> when the record
 couldn't be inserted because of a uniqueness constraint.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insertUniqueEntity0">Example usage</h3><details id="ch:insertUniqueEntity0"><summary class="hide-when-js-enabled">Expand</summary><p>We use <a href="#schema-persist-unique-2">schema-2</a> and <a href="#dataset-persist-unique-1">dataset-1</a> here.</p><pre>insertUniqueSpjEntity :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe (Entity User))
insertUniqueSpjEntity = insertUniqueEntity $ User &quot;SPJ&quot; 50</pre><pre>mSpjEnt &lt;- insertUniqueSpjEntity</pre><p>The above query results <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> as SPJ already exists.</p><pre>insertUniqueAlexaEntity :: MonadIO m =&gt; ReaderT SqlBackend m (Maybe (Entity User))
insertUniqueAlexaEntity = insertUniqueEntity $ User &quot;Alexa&quot; 3</pre><pre>mAlexaEnt &lt;- insertUniqueSpjEntity</pre><p>Because there's no such unique keywords of the given record, the above query when applied on <a href="#dataset-persist-unique-1">dataset-1</a>, will produce this:</p><pre>+----+-------+-----+
| id | name  | age |
+----+-------+-----+
|  1 | SPJ   |  40 |
+----+-------+-----+
|  2 | Simon |  41 |
+----+-------+-----+
|  3 | Alexa |   3 |
+----+-------+-----+</pre></details><p><em>Since: 2.7.1</em></p></div></div><div class="top"><p class="src"><a id="v:replaceUnique" class="def">replaceUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record), <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Key" title="Database.Persist.Class.PersistEntity">Key</a> record -&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#replaceUnique" class="link">Source</a> <a href="#v:replaceUnique" class="selflink">#</a></p><div class="doc"><p>Attempt to replace the record of the given key with the given new record.
 First query the unique fields to make sure the replacement maintains
 uniqueness constraints.</p><p>Return <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the replacement was made.
 If uniqueness is violated, return a <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> with the <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code> violation</p><p><em>Since: 1.2.2.0</em></p></div></div><div class="top"><p class="src"><a id="v:checkUnique" class="def">checkUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#checkUnique" class="link">Source</a> <a href="#v:checkUnique" class="selflink">#</a></p><div class="doc"><p>Check whether there are any conflicts for unique keys with this entity and
 existing entities in the database.</p><p>Returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the entity would be unique, and could thus safely be inserted.
 on a conflict returns the conflicting key</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:checkUnique0">Example usage</h3><details id="ch:checkUnique0"><summary class="hide-when-js-enabled">Expand</summary><p>We use <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a> here.</p><p>This would be <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>:</p><pre>mAlanConst &lt;- checkUnique $ User &quot;Alan&quot; 70</pre><p>While this would be <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> because SPJ already exists:</p><pre>mSpjConst &lt;- checkUnique $ User &quot;SPJ&quot; 60</pre></details></div></div><div class="top"><p class="src"><a id="v:checkUniqueUpdateable" class="def">checkUniqueUpdateable</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend) =&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record)) <a href="src/Database.Persist.Class.PersistUnique.html#checkUniqueUpdateable" class="link">Source</a> <a href="#v:checkUniqueUpdateable" class="selflink">#</a></p><div class="doc"><p>Check whether there are any conflicts for unique keys with this entity and
 existing entities in the database.</p><p>Returns <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the entity would stay unique, and could thus safely be updated.
 on a conflict returns the conflicting key</p><p>This is similar to <code><a href="Database-Persist-Class-PersistUnique.html#v:checkUnique" title="Database.Persist.Class.PersistUnique">checkUnique</a></code>, except it's useful for updating - when the
 particular entity already exists, it would normally conflict with itself.
 This variant ignores those conflicts</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:checkUniqueUpdateable0">Example usage</h3><details id="ch:checkUniqueUpdateable0"><summary class="hide-when-js-enabled">Expand</summary><p>We use <a href="#schema-persist-unique-1">schema-1</a> and <a href="#dataset-persist-unique-1">dataset-1</a> here.</p><p>This would be <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>:</p><pre>mAlanConst &lt;- checkUnique $ User &quot;Alan&quot; 70</pre><p>While this would be <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> because SPJ already exists:</p><pre>mSpjConst &lt;- checkUnique $ User &quot;SPJ&quot; 60</pre></details><p><em>Since: 2.11.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:onlyUnique" class="def">onlyUnique</a> :: <span class="keyword">forall</span> record backend m. (<a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueWrite" title="Database.Persist.Class.PersistUnique">PersistUniqueWrite</a> backend, <a href="Database-Persist-Class-PersistStore.html#t:PersistRecordBackend" title="Database.Persist.Class.PersistStore">PersistRecordBackend</a> record backend, <a href="Database-Persist-Class-PersistUnique.html#t:OnlyOneUniqueKey" title="Database.Persist.Class.PersistUnique">OnlyOneUniqueKey</a> record) =&gt; record -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record) <a href="src/Database.Persist.Class.PersistUnique.html#onlyUnique" class="link">Source</a> <a href="#v:onlyUnique" class="selflink">#</a></p><div class="doc"><p>Return the single unique key for a record.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:onlyUnique0">Example usage</h3><details id="ch:onlyUnique0"><summary class="hide-when-js-enabled">Expand</summary><p>We use shcema-1 and <a href="#dataset-persist-unique-1">dataset-1</a> here.</p><pre>onlySimonConst :: MonadIO m =&gt; ReaderT SqlBackend m (Unique User)
onlySimonConst = onlyUnique $ User &quot;Simon&quot; 999</pre><pre>mSimonConst &lt;- onlySimonConst</pre><p><code>mSimonConst</code> would be Simon's uniqueness constraint. Note that
 <code>onlyUnique</code> doesn't work if there're more than two constraints. It will
 fail with a type error instead.</p></details></div></div><div class="top"><p class="src"><a id="v:defaultUpsertBy" class="def">defaultUpsertBy</a> <a href="src/Database.Persist.Class.PersistUnique.html#defaultUpsertBy" class="link">Source</a> <a href="#v:defaultUpsertBy" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a> record</td><td class="doc"><p>uniqueness constraint to find by</p></td></tr><tr><td class="src">-&gt; record</td><td class="doc"><p>new record to insert</p></td></tr><tr><td class="src">-&gt; [<a href="Database-Persist-Class-PersistEntity.html#t:Update" title="Database.Persist.Class.PersistEntity">Update</a> record]</td><td class="doc"><p>updates to perform if the record already exists</p></td></tr><tr><td class="src">-&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="Database-Persist-Class-PersistEntity.html#t:Entity" title="Database.Persist.Class.PersistEntity">Entity</a> record)</td><td class="doc"><p>the record in the database after the operation</p></td></tr></table></div><div class="doc"><p>The slow but generic <code><a href="Database-Persist-Class-PersistUnique.html#v:upsertBy" title="Database.Persist.Class.PersistUnique">upsertBy</a></code> implementation for any <code><a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a></code>.
 * Lookup corresponding entities (if any) <code><a href="Database-Persist-Class-PersistUnique.html#v:getBy" title="Database.Persist.Class.PersistUnique">getBy</a></code>.
 * If the record exists, update using <code><a href="Database-Persist-Class-PersistStore.html#v:updateGet" title="Database.Persist.Class.PersistStore">updateGet</a></code>.
 * If it does not exist, insert using <code><a href="Database-Persist-Class-PersistStore.html#v:insertEntity" title="Database.Persist.Class.PersistStore">insertEntity</a></code>.
 @since 2.11</p></div></div><div class="top"><p class="src"><a id="v:defaultPutMany" class="def">defaultPutMany</a> :: <span class="keyword">forall</span> record backend m. (<a href="Database-Persist-Class-PersistEntity.html#t:PersistEntityBackend" title="Database.Persist.Class.PersistEntity">PersistEntityBackend</a> record ~ <a href="Database-Persist-Class-PersistStore.html#t:BaseBackend" title="Database.Persist.Class.PersistStore">BaseBackend</a> backend, <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record, <a href="../base-4.16.4.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Database-Persist-Class-PersistStore.html#t:PersistStoreWrite" title="Database.Persist.Class.PersistStore">PersistStoreWrite</a> backend, <a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a> backend) =&gt; [record] -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Database.Persist.Class.PersistUnique.html#defaultPutMany" class="link">Source</a> <a href="#v:defaultPutMany" class="selflink">#</a></p><div class="doc"><p>The slow but generic <code><a href="Database-Persist-Class-PersistUnique.html#v:putMany" title="Database.Persist.Class.PersistUnique">putMany</a></code> implementation for any <code><a href="Database-Persist-Class-PersistUnique.html#t:PersistUniqueRead" title="Database.Persist.Class.PersistUnique">PersistUniqueRead</a></code>.
 * Lookup corresponding entities (if any) for each record using <code><a href="Database-Persist-Class-PersistUnique.html#v:getByValue" title="Database.Persist.Class.PersistUnique">getByValue</a></code>
 * For pre-existing records, issue a <code><a href="Database-Persist-Class-PersistStore.html#v:replace" title="Database.Persist.Class.PersistStore">replace</a></code> for each old key and new record
 * For new records, issue a bulk <code><a href="Database-Persist-Class-PersistStore.html#v:insertMany_" title="Database.Persist.Class.PersistStore">insertMany_</a></code></p></div></div><div class="top"><p class="src"><a id="v:persistUniqueKeyValues" class="def">persistUniqueKeyValues</a> :: <a href="Database-Persist-Class-PersistEntity.html#t:PersistEntity" title="Database.Persist.Class.PersistEntity">PersistEntity</a> record =&gt; record -&gt; [<a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a>] <a href="src/Database.Persist.Class.PersistUnique.html#persistUniqueKeyValues" class="link">Source</a> <a href="#v:persistUniqueKeyValues" class="selflink">#</a></p><div class="doc"><p>This function returns a list of <code><a href="Database-Persist-PersistValue.html#t:PersistValue" title="Database.Persist.PersistValue">PersistValue</a></code> that correspond to the
 <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code> keys on that record. This is useful for comparing two <code>record</code>s
 for equality only on the basis of their <code><a href="Database-Persist-Class-PersistEntity.html#t:Unique" title="Database.Persist.Class.PersistEntity">Unique</a></code> keys.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>