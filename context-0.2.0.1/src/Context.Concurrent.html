<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE NoImplicitPrelude #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Context.Concurrent</span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Introduction</span></span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><span class="hs-comment">-- $intro</span></span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Control.Concurrent wrappers</span></span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Context.Concurrent.html#forkIO"><span class="hs-identifier">forkIO</span></a></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Context.Concurrent.html#forkFinally"><span class="hs-identifier">forkFinally</span></a></span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Context.Concurrent.html#forkIOWithUnmask"><span class="hs-identifier">forkIOWithUnmask</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Context.Concurrent.html#forkOn"><span class="hs-identifier">forkOn</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Context.Concurrent.html#forkOnWithUnmask"><span class="hs-identifier">forkOnWithUnmask</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Context.Concurrent.html#forkOS"><span class="hs-identifier">forkOS</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Context.Concurrent.html#forkOSWithUnmask"><span class="hs-identifier">forkOSWithUnmask</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Context.Concurrent.html#runInBoundThread"><span class="hs-identifier">runInBoundThread</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Context.Concurrent.html#runInUnboundThread"><span class="hs-identifier">runInUnboundThread</span></a></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Control.Concurrent re-exports</span></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ThreadId</span></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">myThreadId</span></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">killThread</span></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">throwTo</span></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">getNumCapabilities</span></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">setNumCapabilities</span></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadCapability</span></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">yield</span></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadDelay</span></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadWaitRead</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadWaitWrite</span></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadWaitReadSTM</span></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadWaitWriteSTM</span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">rtsSupportsBoundThreads</span></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isCurrentThreadBound</span></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkWeakThreadId</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.MVar</span></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.Chan</span></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.QSem</span></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.QSemN</span></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent</span></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">ThreadId</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">getNumCapabilities</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isCurrentThreadBound</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">killThread</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkWeakThreadId</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">myThreadId</span></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">rtsSupportsBoundThreads</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">setNumCapabilities</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadCapability</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadDelay</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadWaitRead</span></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadWaitReadSTM</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadWaitWrite</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">threadWaitWriteSTM</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">throwTo</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">yield</span></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.Chan</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.MVar</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.QSem</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.QSemN</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">SomeException</span></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Context.Internal.html"><span class="hs-identifier">Context.Internal</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Internal</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Concurrent</span></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Exception</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-comment">-- | See 'Concurrent.forkIO'.</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- @since 0.1.0.0</span><span>
</span><span id="line-60"></span><span class="annot"><a href="Context.Concurrent.html#forkIO"><span class="hs-identifier hs-type">forkIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ThreadId</span></span><span>
</span><span id="line-61"></span><span id="forkIO"><span class="annot"><span class="annottext">forkIO :: IO () -&gt; IO ThreadId
</span><a href="Context.Concurrent.html#forkIO"><span class="hs-identifier hs-var hs-var">forkIO</span></a></span></span><span> </span><span id="local-6989586621679052539"><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679052539"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><span class="annottext">((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. ((IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="Context.Internal.html#withPropagator"><span class="hs-identifier hs-var">Internal.withPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">(((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId)
-&gt; ((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052541"><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052541"><span class="hs-identifier hs-var">propagate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; IO ThreadId
</span><span class="hs-identifier hs-var">Concurrent.forkIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ThreadId) -&gt; IO () -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052541"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679052539"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">-- | See 'Concurrent.forkFinally'.</span><span>
</span><span id="line-66"></span><span class="hs-comment">--</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- @since 0.1.0.0</span><span>
</span><span id="line-68"></span><span id="local-6989586621679052498"><span class="annot"><a href="Context.Concurrent.html#forkFinally"><span class="hs-identifier hs-type">forkFinally</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052498"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><a href="#local-6989586621679052498"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ThreadId</span></span></span><span>
</span><span id="line-69"></span><span id="forkFinally"><span class="annot"><span class="annottext">forkFinally :: forall a. IO a -&gt; (Either SomeException a -&gt; IO ()) -&gt; IO ThreadId
</span><a href="Context.Concurrent.html#forkFinally"><span class="hs-identifier hs-var hs-var">forkFinally</span></a></span></span><span> </span><span id="local-6989586621679052547"><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679052547"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621679052548"><span class="annot"><span class="annottext">Either SomeException a -&gt; IO ()
</span><a href="#local-6989586621679052548"><span class="hs-identifier hs-var">and_then</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-comment">-- N.B. We re-implement forkFinally instead of delegating directly to the</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-comment">-- Control.Concurrent function. This enables us to propagate context a single</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-comment">-- time to make it available to both the thread's main action and terminating</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-comment">-- action.</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><span class="annottext">((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. ((IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="Context.Internal.html#withPropagator"><span class="hs-identifier hs-var">Internal.withPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">(((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId)
-&gt; ((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052549"><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052549"><span class="hs-identifier hs-var">propagate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><span class="annottext">((forall a. IO a -&gt; IO a) -&gt; IO ThreadId) -&gt; IO ThreadId
forall b. ((forall a. IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">Exception.mask</span></span><span> </span><span class="annot"><span class="annottext">(((forall a. IO a -&gt; IO a) -&gt; IO ThreadId) -&gt; IO ThreadId)
-&gt; ((forall a. IO a -&gt; IO a) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052551"><span class="annot"><span class="annottext">forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679052551"><span class="hs-identifier hs-var">restore</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-76"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; IO ThreadId
</span><span class="hs-identifier hs-var">Concurrent.forkIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ThreadId) -&gt; IO () -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052549"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-77"></span><span>        </span><span class="annot"><span class="annottext">IO a -&gt; IO (Either SomeException a)
forall e a. Exception e =&gt; IO a -&gt; IO (Either e a)
</span><span class="hs-identifier hs-var">Exception.try</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO a -&gt; IO a
forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679052551"><span class="hs-identifier hs-var">restore</span></a></span><span> </span><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679052547"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO (Either SomeException a)
-&gt; (Either SomeException a -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException a -&gt; IO ()
</span><a href="#local-6989586621679052548"><span class="hs-identifier hs-var">and_then</span></a></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- | See 'Concurrent.forkIOWithUnmask'.</span><span>
</span><span id="line-80"></span><span class="hs-comment">--</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- @since 0.1.0.0</span><span>
</span><span id="line-82"></span><span class="annot"><a href="Context.Concurrent.html#forkIOWithUnmask"><span class="hs-identifier hs-type">forkIOWithUnmask</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679052554"><span class="annot"><a href="#local-6989586621679052554"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052554"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052554"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ThreadId</span></span><span>
</span><span id="line-83"></span><span id="forkIOWithUnmask"><span class="annot"><span class="annottext">forkIOWithUnmask :: ((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId
</span><a href="Context.Concurrent.html#forkIOWithUnmask"><span class="hs-identifier hs-var hs-var">forkIOWithUnmask</span></a></span></span><span> </span><span id="local-6989586621679052555"><span class="annot"><span class="annottext">(forall a. IO a -&gt; IO a) -&gt; IO ()
</span><a href="#local-6989586621679052555"><span class="hs-identifier hs-var">io</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><span class="annottext">((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. ((IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="Context.Internal.html#withPropagator"><span class="hs-identifier hs-var">Internal.withPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">(((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId)
-&gt; ((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052556"><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052556"><span class="hs-identifier hs-var">propagate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><span class="annottext">((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId
</span><span class="hs-identifier hs-var">Concurrent.forkIOWithUnmask</span></span><span> </span><span class="annot"><span class="annottext">(((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId)
-&gt; ((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052557"><span class="annot"><span class="annottext">forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679052557"><span class="hs-identifier hs-var">restore</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-86"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052556"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall a. IO a -&gt; IO a) -&gt; IO ()
</span><a href="#local-6989586621679052555"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">IO a -&gt; IO a
forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679052557"><span class="hs-identifier hs-var">restore</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- | See 'Concurrent.forkOn'.</span><span>
</span><span id="line-89"></span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- @since 0.1.0.0</span><span>
</span><span id="line-91"></span><span class="annot"><a href="Context.Concurrent.html#forkOn"><span class="hs-identifier hs-type">forkOn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ThreadId</span></span><span>
</span><span id="line-92"></span><span id="forkOn"><span class="annot"><span class="annottext">forkOn :: Int -&gt; IO () -&gt; IO ThreadId
</span><a href="Context.Concurrent.html#forkOn"><span class="hs-identifier hs-var hs-var">forkOn</span></a></span></span><span> </span><span id="local-6989586621679052559"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679052559"><span class="hs-identifier hs-var">cpu</span></a></span></span><span> </span><span id="local-6989586621679052560"><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679052560"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-93"></span><span>  </span><span class="annot"><span class="annottext">((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. ((IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="Context.Internal.html#withPropagator"><span class="hs-identifier hs-var">Internal.withPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">(((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId)
-&gt; ((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052561"><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052561"><span class="hs-identifier hs-var">propagate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; IO () -&gt; IO ThreadId
</span><span class="hs-identifier hs-var">Concurrent.forkOn</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679052559"><span class="hs-identifier hs-var">cpu</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ThreadId) -&gt; IO () -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052561"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679052560"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-comment">-- | See 'Concurrent.forkOnWithUnmask'.</span><span>
</span><span id="line-97"></span><span class="hs-comment">--</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- @since 0.1.0.0</span><span>
</span><span id="line-99"></span><span class="annot"><a href="Context.Concurrent.html#forkOnWithUnmask"><span class="hs-identifier hs-type">forkOnWithUnmask</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679052563"><span class="annot"><a href="#local-6989586621679052563"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052563"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052563"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ThreadId</span></span><span>
</span><span id="line-100"></span><span id="forkOnWithUnmask"><span class="annot"><span class="annottext">forkOnWithUnmask :: Int -&gt; ((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId
</span><a href="Context.Concurrent.html#forkOnWithUnmask"><span class="hs-identifier hs-var hs-var">forkOnWithUnmask</span></a></span></span><span> </span><span id="local-6989586621679052564"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679052564"><span class="hs-identifier hs-var">cpu</span></a></span></span><span> </span><span id="local-6989586621679052565"><span class="annot"><span class="annottext">(forall a. IO a -&gt; IO a) -&gt; IO ()
</span><a href="#local-6989586621679052565"><span class="hs-identifier hs-var">io</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-101"></span><span>  </span><span class="annot"><span class="annottext">((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. ((IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="Context.Internal.html#withPropagator"><span class="hs-identifier hs-var">Internal.withPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">(((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId)
-&gt; ((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052566"><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052566"><span class="hs-identifier hs-var">propagate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; ((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId
</span><span class="hs-identifier hs-var">Concurrent.forkOnWithUnmask</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679052564"><span class="hs-identifier hs-var">cpu</span></a></span><span> </span><span class="annot"><span class="annottext">(((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId)
-&gt; ((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052567"><span class="annot"><span class="annottext">forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679052567"><span class="hs-identifier hs-var">restore</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-103"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052566"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall a. IO a -&gt; IO a) -&gt; IO ()
</span><a href="#local-6989586621679052565"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">IO a -&gt; IO a
forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679052567"><span class="hs-identifier hs-var">restore</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">-- | See 'Concurrent.forkOS'.</span><span>
</span><span id="line-106"></span><span class="hs-comment">--</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- @since 0.1.0.0</span><span>
</span><span id="line-108"></span><span class="annot"><a href="Context.Concurrent.html#forkOS"><span class="hs-identifier hs-type">forkOS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ThreadId</span></span><span>
</span><span id="line-109"></span><span id="forkOS"><span class="annot"><span class="annottext">forkOS :: IO () -&gt; IO ThreadId
</span><a href="Context.Concurrent.html#forkOS"><span class="hs-identifier hs-var hs-var">forkOS</span></a></span></span><span> </span><span id="local-6989586621679052569"><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679052569"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><span class="annottext">((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. ((IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="Context.Internal.html#withPropagator"><span class="hs-identifier hs-var">Internal.withPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">(((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId)
-&gt; ((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052570"><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052570"><span class="hs-identifier hs-var">propagate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; IO ThreadId
</span><span class="hs-identifier hs-var">Concurrent.forkOS</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ThreadId) -&gt; IO () -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052570"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679052569"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- | See 'Concurrent.forkOSWithUnmask'.</span><span>
</span><span id="line-114"></span><span class="hs-comment">--</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- @since 0.1.0.0</span><span>
</span><span id="line-116"></span><span class="annot"><a href="Context.Concurrent.html#forkOSWithUnmask"><span class="hs-identifier hs-type">forkOSWithUnmask</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679052572"><span class="annot"><a href="#local-6989586621679052572"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052572"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052572"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ThreadId</span></span><span>
</span><span id="line-117"></span><span id="forkOSWithUnmask"><span class="annot"><span class="annottext">forkOSWithUnmask :: ((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId
</span><a href="Context.Concurrent.html#forkOSWithUnmask"><span class="hs-identifier hs-var hs-var">forkOSWithUnmask</span></a></span></span><span> </span><span id="local-6989586621679052573"><span class="annot"><span class="annottext">(forall a. IO a -&gt; IO a) -&gt; IO ()
</span><a href="#local-6989586621679052573"><span class="hs-identifier hs-var">io</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><span class="annottext">((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. ((IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="Context.Internal.html#withPropagator"><span class="hs-identifier hs-var">Internal.withPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">(((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId)
-&gt; ((IO () -&gt; IO ()) -&gt; IO ThreadId) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052574"><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052574"><span class="hs-identifier hs-var">propagate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-119"></span><span>    </span><span class="annot"><span class="annottext">((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId
</span><span class="hs-identifier hs-var">Concurrent.forkOSWithUnmask</span></span><span> </span><span class="annot"><span class="annottext">(((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId)
-&gt; ((forall a. IO a -&gt; IO a) -&gt; IO ()) -&gt; IO ThreadId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052575"><span class="annot"><span class="annottext">forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679052575"><span class="hs-identifier hs-var">restore</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-120"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
</span><a href="#local-6989586621679052574"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall a. IO a -&gt; IO a) -&gt; IO ()
</span><a href="#local-6989586621679052573"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">IO a -&gt; IO a
forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679052575"><span class="hs-identifier hs-var">restore</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | See 'Concurrent.runInBoundThread'.</span><span>
</span><span id="line-123"></span><span class="hs-comment">--</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- @since 0.1.0.0</span><span>
</span><span id="line-125"></span><span id="local-6989586621679052577"><span class="annot"><a href="Context.Concurrent.html#runInBoundThread"><span class="hs-identifier hs-type">runInBoundThread</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052577"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052577"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-126"></span><span id="runInBoundThread"><span class="annot"><span class="annottext">runInBoundThread :: forall a. IO a -&gt; IO a
</span><a href="Context.Concurrent.html#runInBoundThread"><span class="hs-identifier hs-var hs-var">runInBoundThread</span></a></span></span><span> </span><span id="local-6989586621679052578"><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679052578"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-127"></span><span>  </span><span class="annot"><span class="annottext">((IO a -&gt; IO a) -&gt; IO a) -&gt; IO a
forall a b. ((IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="Context.Internal.html#withPropagator"><span class="hs-identifier hs-var">Internal.withPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">(((IO a -&gt; IO a) -&gt; IO a) -&gt; IO a)
-&gt; ((IO a -&gt; IO a) -&gt; IO a) -&gt; IO a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052579"><span class="annot"><span class="annottext">IO a -&gt; IO a
</span><a href="#local-6989586621679052579"><span class="hs-identifier hs-var">propagate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><span class="annottext">IO a -&gt; IO a
forall a. IO a -&gt; IO a
</span><span class="hs-identifier hs-var">Concurrent.runInBoundThread</span></span><span> </span><span class="annot"><span class="annottext">(IO a -&gt; IO a) -&gt; IO a -&gt; IO a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO a -&gt; IO a
</span><a href="#local-6989586621679052579"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679052578"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-comment">-- | See 'Concurrent.runInUnboundThread'.</span><span>
</span><span id="line-131"></span><span class="hs-comment">--</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- @since 0.1.0.0</span><span>
</span><span id="line-133"></span><span id="local-6989586621679052581"><span class="annot"><a href="Context.Concurrent.html#runInUnboundThread"><span class="hs-identifier hs-type">runInUnboundThread</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052581"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679052581"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-134"></span><span id="runInUnboundThread"><span class="annot"><span class="annottext">runInUnboundThread :: forall a. IO a -&gt; IO a
</span><a href="Context.Concurrent.html#runInUnboundThread"><span class="hs-identifier hs-var hs-var">runInUnboundThread</span></a></span></span><span> </span><span id="local-6989586621679052582"><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679052582"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><span class="annottext">((IO a -&gt; IO a) -&gt; IO a) -&gt; IO a
forall a b. ((IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="Context.Internal.html#withPropagator"><span class="hs-identifier hs-var">Internal.withPropagator</span></a></span><span> </span><span class="annot"><span class="annottext">(((IO a -&gt; IO a) -&gt; IO a) -&gt; IO a)
-&gt; ((IO a -&gt; IO a) -&gt; IO a) -&gt; IO a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679052583"><span class="annot"><span class="annottext">IO a -&gt; IO a
</span><a href="#local-6989586621679052583"><span class="hs-identifier hs-var">propagate</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><span class="annottext">IO a -&gt; IO a
forall a. IO a -&gt; IO a
</span><span class="hs-identifier hs-var">Concurrent.runInUnboundThread</span></span><span> </span><span class="annot"><span class="annottext">(IO a -&gt; IO a) -&gt; IO a -&gt; IO a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO a -&gt; IO a
</span><a href="#local-6989586621679052583"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679052582"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- $intro</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- This module provides a &quot;Context&quot;-compatible interface around</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- &quot;Control.Concurrent&quot;. Depending on the 'Context.Storage.PropagationStrategy'</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- of the 'Context.Store', the @fork*@ and @run*@ functions in this module can</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- automatically propagate the calling thread's latest registered contexts, if</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- any, over so that they are also available to the thread being created.</span><span>
</span><span id="line-145"></span><span class="hs-comment">--</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- This module is designed to be a drop-in replacement for &quot;Control.Concurrent&quot; so</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- that users only have to import this module instead of both this module and</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- &quot;Control.Concurrent&quot;. It is also re-exported from &quot;Context&quot; for convenience.</span><span>
</span><span id="line-149"></span></pre></body></html>