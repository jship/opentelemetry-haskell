<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ApplicativeDo #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE BlockArguments #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DefaultSignatures #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE DisambiguateRecordFields #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE StrictData #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">OTel.API.Trace.Core.Internal</span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Disclaimer</span></span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><span class="hs-comment">-- $disclaimer</span></span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#trace_"><span class="hs-identifier">trace_</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#trace"><span class="hs-identifier">trace</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier">MonadTracing</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier">MonadTracingIO</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TracerProvider"><span class="hs-identifier">TracerProvider</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Tracer"><span class="hs-identifier">Tracer</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#contextBackendSpan"><span class="hs-identifier">contextBackendSpan</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#contextKeySpan"><span class="hs-identifier">contextKeySpan</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier">SpanContext</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#emptySpanContext"><span class="hs-identifier">emptySpanContext</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanContextIsValid"><span class="hs-identifier">spanContextIsValid</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanContextIsSampled"><span class="hs-identifier">spanContextIsSampled</span></a></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier">TraceId</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdToHexText"><span class="hs-identifier">traceIdToHexText</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdToBytesVector"><span class="hs-identifier">traceIdToBytesVector</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdToHexBuilder"><span class="hs-identifier">traceIdToHexBuilder</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdToBytesBuilder"><span class="hs-identifier">traceIdToBytesBuilder</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#emptyTraceId"><span class="hs-identifier">emptyTraceId</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdFromWords"><span class="hs-identifier">traceIdFromWords</span></a></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier">SpanId</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdToHexText"><span class="hs-identifier">spanIdToHexText</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdToBytesVector"><span class="hs-identifier">spanIdToBytesVector</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdToHexBuilder"><span class="hs-identifier">spanIdToHexBuilder</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdToBytesBuilder"><span class="hs-identifier">spanIdToBytesBuilder</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#emptySpanId"><span class="hs-identifier">emptySpanId</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdFromWords"><span class="hs-identifier">spanIdFromWords</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier">TraceFlags</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceFlagsToHexText"><span class="hs-identifier">traceFlagsToHexText</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceFlagsToHexBuilder"><span class="hs-identifier">traceFlagsToHexBuilder</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceFlagsSampled"><span class="hs-identifier">traceFlagsSampled</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#isSampledFlagSet"><span class="hs-identifier">isSampledFlagSet</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier">TraceState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#emptyTraceState"><span class="hs-identifier">emptyTraceState</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#nullTraceState"><span class="hs-identifier">nullTraceState</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#sizeTraceState"><span class="hs-identifier">sizeTraceState</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#memberTraceState"><span class="hs-identifier">memberTraceState</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#lookupTraceState"><span class="hs-identifier">lookupTraceState</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#findWithDefaultTraceState"><span class="hs-identifier">findWithDefaultTraceState</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#deleteTraceState"><span class="hs-identifier">deleteTraceState</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#filterTraceState"><span class="hs-identifier">filterTraceState</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#filterWithKeyTraceState"><span class="hs-identifier">filterWithKeyTraceState</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#foldMapWithKeyTraceState"><span class="hs-identifier">foldMapWithKeyTraceState</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#toListTraceState"><span class="hs-identifier">toListTraceState</span></a></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier">TraceStateBuilder</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#buildTraceState"><span class="hs-identifier">buildTraceState</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#buildTraceStatePure"><span class="hs-identifier">buildTraceStatePure</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier">SpanEvents</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanEventsFromList"><span class="hs-identifier">spanEventsFromList</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanEventsToList"><span class="hs-identifier">spanEventsToList</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeAllSpanEventAttrs"><span class="hs-identifier">freezeAllSpanEventAttrs</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier">SpanEvent</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeSpanEventAttrs"><span class="hs-identifier">freezeSpanEventAttrs</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpecs"><span class="hs-identifier">SpanEventSpecs</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#singletonSpanEventSpecs"><span class="hs-identifier">singletonSpanEventSpecs</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecsFromList"><span class="hs-identifier">spanEventSpecsFromList</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecsToList"><span class="hs-identifier">spanEventSpecsToList</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier">SpanEventSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#defaultSpanEventSpec"><span class="hs-identifier">defaultSpanEventSpec</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventName"><span class="hs-identifier">SpanEventName</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier">SpanLinks</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanLinksFromList"><span class="hs-identifier">spanLinksFromList</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanLinksToList"><span class="hs-identifier">spanLinksToList</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeAllSpanLinkAttrs"><span class="hs-identifier">freezeAllSpanLinkAttrs</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpecs"><span class="hs-identifier">SpanLinkSpecs</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#singletonSpanLinkSpecs"><span class="hs-identifier">singletonSpanLinkSpecs</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecsFromList"><span class="hs-identifier">spanLinkSpecsFromList</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecsToList"><span class="hs-identifier">spanLinkSpecsToList</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier">SpanLink</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeSpanLinkAttrs"><span class="hs-identifier">freezeSpanLinkAttrs</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkName"><span class="hs-identifier">SpanLinkName</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier">SpanLinkSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#defaultSpanLinkSpec"><span class="hs-identifier">defaultSpanLinkSpec</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier">SpanSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#defaultSpanSpec"><span class="hs-identifier">defaultSpanSpec</span></a></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier">UpdateSpanSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#defaultUpdateSpanSpec"><span class="hs-identifier">defaultUpdateSpanSpec</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#buildSpanUpdater"><span class="hs-identifier">buildSpanUpdater</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#recordException"><span class="hs-identifier">recordException</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#exceptionEvent"><span class="hs-identifier">exceptionEvent</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanName"><span class="hs-identifier">SpanName</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier">MutableSpan</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#unsafeNewMutableSpan"><span class="hs-identifier">unsafeNewMutableSpan</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#unsafeReadMutableSpan"><span class="hs-identifier">unsafeReadMutableSpan</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#unsafeModifyMutableSpan"><span class="hs-identifier">unsafeModifyMutableSpan</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier">Span</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIsRemote"><span class="hs-identifier">spanIsRemote</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIsSampled"><span class="hs-identifier">spanIsSampled</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIsRoot"><span class="hs-identifier">spanIsRoot</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIsChildOf"><span class="hs-identifier">spanIsChildOf</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenAt"><span class="hs-identifier">SpanFrozenAt</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestamp"><span class="hs-identifier">SpanFrozenTimestamp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#frozenTimestamp"><span class="hs-identifier">frozenTimestamp</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeSpan"><span class="hs-identifier">freezeSpan</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLineage"><span class="hs-identifier">SpanLineage</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKind"><span class="hs-identifier">SpanKind</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatus"><span class="hs-identifier">SpanStatus</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Applicative</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">SomeException</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Catch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadThrow</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">throwM</span></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadIO</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftIO</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Unlift</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadUnliftIO</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">withRunInIO</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Logger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">LoggingT</span></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadTrans</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">lift</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Control</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadTransControl</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftWith</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">restoreT</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Except</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ExceptT</span></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IdentityT</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MaybeT</span></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Reader</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ReaderT</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Resource</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ResourceT</span></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">KeyValue</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(.=)</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Types</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Pair</span></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bifunctor</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bits</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">testBit</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Ior</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Builder</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Builder</span></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.DList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DList</span></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HashMap</span></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.IORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IORef</span></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Ap</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IsString</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromString</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Word64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Word8</span></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Stack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">CallStack</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">HasCallStack</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">callStack</span></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">OTel.API.Common</span></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">AttrsFor</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">KV</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Key</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TimestampSource</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Attrs</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">AttrsBuilder</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">AttrsLimits</span></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">InstrumentationScope</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">IsTextKV</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Timestamp</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">WithAttrs</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">OTel.API.Common.Internal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">runAttrsBuilder</span></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">OTel.API.Context.Core</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Context</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ContextBackend</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ContextKey</span></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">OTel.API.Context.Core.Internal</span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">ContextBackend</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">contextBackendValueKey</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unsafeNewContextBackend</span></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Attributes.html"><span class="hs-identifier">OTel.API.Trace.Core.Attributes</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Attributes.html#EXCEPTION_ESCAPED"><span class="hs-identifier">EXCEPTION_ESCAPED</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Attributes.html#EXCEPTION_MESSAGE"><span class="hs-identifier">EXCEPTION_MESSAGE</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Attributes.html#EXCEPTION_TYPE"><span class="hs-identifier">EXCEPTION_TYPE</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html"><span class="hs-identifier">OTel.API.Trace.Core.TraceState.Errors</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateError"><span class="hs-identifier">TraceStateError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateErrors"><span class="hs-identifier">TraceStateErrors</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateKeyTypeUnknownError"><span class="hs-identifier">TraceStateKeyTypeUnknownError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyContainsInvalidCharsError"><span class="hs-identifier">TraceStateSimpleKeyContainsInvalidCharsError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyIsEmptyError"><span class="hs-identifier">TraceStateSimpleKeyIsEmptyError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyTooLongError"><span class="hs-identifier">TraceStateSimpleKeyTooLongError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdContainsInvalidCharsError"><span class="hs-identifier">TraceStateSystemIdContainsInvalidCharsError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdIsEmptyError"><span class="hs-identifier">TraceStateSystemIdIsEmptyError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdTooLongError"><span class="hs-identifier">TraceStateSystemIdTooLongError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdContainsInvalidCharsError"><span class="hs-identifier">TraceStateTenantIdContainsInvalidCharsError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdIsEmptyError"><span class="hs-identifier">TraceStateTenantIdIsEmptyError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdTooLongError"><span class="hs-identifier">TraceStateTenantIdTooLongError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueContainsInvalidCharsError"><span class="hs-identifier">TraceStateValueContainsInvalidCharsError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueIsEmptyError"><span class="hs-identifier">TraceStateValueIsEmptyError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueTooLongError"><span class="hs-identifier">TraceStateValueTooLongError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">span</span></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO.Unsafe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unsafePerformIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Exception</span></span><span>
</span><span id="line-178"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.RWS.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">RWS.Lazy</span></span><span>
</span><span id="line-179"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.RWS.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">RWS.Strict</span></span><span>
</span><span id="line-180"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.State.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">State.Lazy</span></span><span>
</span><span id="line-181"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.State.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">State.Strict</span></span><span>
</span><span id="line-182"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Writer.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Writer.Lazy</span></span><span>
</span><span id="line-183"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Writer.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Writer.Strict</span></span><span>
</span><span id="line-184"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-185"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ByteString</span></span><span>
</span><span id="line-186"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Builder</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Builder</span></span><span>
</span><span id="line-187"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ByteString.Lazy</span></span><span>
</span><span id="line-188"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Char</span></span><span>
</span><span id="line-189"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.DList</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">DList</span></span><span>
</span><span id="line-190"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Foldable</span></span><span>
</span><span id="line-191"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashMap</span></span><span>
</span><span id="line-192"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IORef</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IORef</span></span><span>
</span><span id="line-193"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Maybe</span></span><span>
</span><span id="line-194"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-195"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Encoding</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text.Encoding</span></span><span>
</span><span id="line-196"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Traversable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Traversable</span></span><span>
</span><span id="line-197"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Typeable</span></span><span>
</span><span id="line-198"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Unboxed</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Unboxed</span></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span id="local-6989586621679112841"><span id="local-6989586621679112844"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#trace_"><span class="hs-identifier hs-type">trace_</span></a></span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112844"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112844"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112841"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112844"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112841"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-205"></span><span id="trace_"><span class="annot"><span class="annottext">trace_ :: forall (m :: * -&gt; *) a.
(MonadTracing m, HasCallStack) =&gt;
SpanSpec -&gt; m a -&gt; m a
</span><a href="OTel.API.Trace.Core.Internal.html#trace_"><span class="hs-identifier hs-var hs-var">trace_</span></a></span></span><span> </span><span id="local-6989586621679111838"><span class="annot"><span class="annottext">SpanSpec
</span><a href="#local-6989586621679111838"><span class="hs-identifier hs-var">spanSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
MonadTracing m =&gt;
CallStack -&gt; SpanSpec -&gt; (MutableSpan -&gt; m a) -&gt; m a
</span><a href="OTel.API.Trace.Core.Internal.html#traceCS"><span class="hs-identifier hs-var">traceCS</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; CallStack
</span><span class="hs-identifier hs-var">callStack</span></span><span> </span><span class="annot"><span class="annottext">SpanSpec
</span><a href="#local-6989586621679111838"><span class="hs-identifier hs-var">spanSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span id="local-6989586621679112830"><span id="local-6989586621679112831"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#trace"><span class="hs-identifier hs-type">trace</span></a></span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112831"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span>
</span><span id="line-210"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112831"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112830"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112831"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112830"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-212"></span><span id="trace"><span class="annot"><span class="annottext">trace :: forall (m :: * -&gt; *) a.
(MonadTracing m, HasCallStack) =&gt;
SpanSpec -&gt; (MutableSpan -&gt; m a) -&gt; m a
</span><a href="OTel.API.Trace.Core.Internal.html#trace"><span class="hs-identifier hs-var hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
MonadTracing m =&gt;
CallStack -&gt; SpanSpec -&gt; (MutableSpan -&gt; m a) -&gt; m a
</span><a href="OTel.API.Trace.Core.Internal.html#traceCS"><span class="hs-identifier hs-var">traceCS</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; CallStack
</span><span class="hs-identifier hs-var">callStack</span></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MonadTracing"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-var">MonadTracing</span></a></span></span><span> </span><span id="local-6989586621679112838"><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-215"></span><span>  </span><span id="traceCS"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceCS"><span class="hs-identifier hs-type">traceCS</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679112837"><span class="annot"><span class="hs-identifier hs-type">CallStack</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112837"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112837"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-216"></span><span>  </span><span id="getSpanContext"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#getSpanContext"><span class="hs-identifier hs-type">getSpanContext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span id="updateSpan"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#updateSpan"><span class="hs-identifier hs-type">updateSpan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="traceCS"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceCS"><span class="hs-identifier hs-type">traceCS</span></a></span></span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679112826"><span id="local-6989586621679112827"><span id="local-6989586621679112828"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadTransControl</span></span><span> </span><span class="annot"><a href="#local-6989586621679112828"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112827"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679112828"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112827"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CallStack</span></span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112826"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112826"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-225"></span><span>  </span><span id="local-6989586621679111826"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceCS"><span class="hs-identifier hs-var hs-var">traceCS</span></a></span><span> </span><span id="local-6989586621679111808"><span class="annot"><span class="annottext">CallStack
</span><a href="#local-6989586621679111808"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span id="local-6989586621679111807"><span class="annot"><span class="annottext">SpanSpec
</span><a href="#local-6989586621679111807"><span class="hs-identifier hs-var">spanSpec</span></a></span></span><span> </span><span id="local-6989586621679111806"><span class="annot"><span class="annottext">MutableSpan -&gt; m a
</span><a href="#local-6989586621679111806"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-226"></span><span>    </span><span class="annot"><span class="annottext">forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTransControl t, Monad m) =&gt;
m (StT t a) -&gt; t m a
</span><span class="hs-identifier hs-var">restoreT</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-227"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTransControl t, Monad m) =&gt;
(Run t -&gt; m a) -&gt; t m a
</span><span class="hs-identifier hs-var">liftWith</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679111804"><span class="annot"><span class="annottext">Run t
</span><a href="#local-6989586621679111804"><span class="hs-identifier hs-var">run</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
MonadTracing m =&gt;
CallStack -&gt; SpanSpec -&gt; (MutableSpan -&gt; m a) -&gt; m a
</span><a href="OTel.API.Trace.Core.Internal.html#traceCS"><span class="hs-identifier hs-var">traceCS</span></a></span><span> </span><span class="annot"><span class="annottext">CallStack
</span><a href="#local-6989586621679111808"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">SpanSpec
</span><a href="#local-6989586621679111807"><span class="hs-identifier hs-var">spanSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Run t
</span><a href="#local-6989586621679111804"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">MutableSpan -&gt; m a
</span><a href="#local-6989586621679111806"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="getSpanContext"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#getSpanContext"><span class="hs-identifier hs-type">getSpanContext</span></a></span></span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679112808"><span id="local-6989586621679112809"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadTrans</span></span><span> </span><span class="annot"><a href="#local-6989586621679112809"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112808"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679112809"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112808"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span></span></span><span>
</span><span id="line-233"></span><span>  </span><span id="local-6989586621679111803"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#getSpanContext"><span class="hs-identifier hs-var hs-var">getSpanContext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadTracing m =&gt;
MutableSpan -&gt; m SpanContext
</span><a href="OTel.API.Trace.Core.Internal.html#getSpanContext"><span class="hs-identifier hs-var">getSpanContext</span></a></span></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="updateSpan"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#updateSpan"><span class="hs-identifier hs-type">updateSpan</span></a></span></span><span>
</span><span id="line-236"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679112801"><span id="local-6989586621679112802"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadTrans</span></span><span> </span><span class="annot"><a href="#local-6989586621679112802"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112801"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679112802"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112801"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112838"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-240"></span><span>  </span><span id="local-6989586621679111794"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#updateSpan"><span class="hs-identifier hs-var hs-var">updateSpan</span></a></span><span> </span><span id="local-6989586621679111785"><span class="annot"><span class="annottext">MutableSpan
</span><a href="#local-6989586621679111785"><span class="hs-identifier hs-var">mutableSpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadTracing m =&gt;
MutableSpan -&gt; UpdateSpanSpec -&gt; m ()
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpan"><span class="hs-identifier hs-var">updateSpan</span></a></span><span> </span><span class="annot"><span class="annottext">MutableSpan
</span><a href="#local-6989586621679111785"><span class="hs-identifier hs-var">mutableSpan</span></a></span></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111776"><span id="local-6989586621679111778"><span id="local-6989586621679111780"><span id="local-6989586621679112794"><span id="local-6989586621679112795"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112795"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112794"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112795"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111766"><span id="local-6989586621679111768"><span id="local-6989586621679111770"><span id="local-6989586621679112792"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112792"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112792"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-244"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111757"><span id="local-6989586621679111759"><span id="local-6989586621679111761"><span id="local-6989586621679112790"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112790"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MaybeT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112790"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-245"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111748"><span id="local-6989586621679111750"><span id="local-6989586621679111752"><span id="local-6989586621679112786"><span id="local-6989586621679112787"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112787"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112786"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112787"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-246"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111739"><span id="local-6989586621679111741"><span id="local-6989586621679111743"><span id="local-6989586621679112782"><span id="local-6989586621679112783"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112783"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State.Lazy.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112782"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112783"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-247"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111730"><span id="local-6989586621679111732"><span id="local-6989586621679111734"><span id="local-6989586621679112778"><span id="local-6989586621679112779"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112779"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State.Strict.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112778"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112779"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-248"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111721"><span id="local-6989586621679111723"><span id="local-6989586621679111725"><span id="local-6989586621679112770"><span id="local-6989586621679112771"><span id="local-6989586621679112772"><span id="local-6989586621679112773"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112773"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679112772"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RWS.Lazy.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679112771"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112772"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112770"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112773"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-249"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111712"><span id="local-6989586621679111714"><span id="local-6989586621679111716"><span id="local-6989586621679112762"><span id="local-6989586621679112763"><span id="local-6989586621679112764"><span id="local-6989586621679112765"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112765"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679112764"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RWS.Strict.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679112763"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112764"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112762"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112765"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-250"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111703"><span id="local-6989586621679111705"><span id="local-6989586621679111707"><span id="local-6989586621679112758"><span id="local-6989586621679112759"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112759"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679112758"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Writer.Lazy.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112758"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112759"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-251"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111694"><span id="local-6989586621679111696"><span id="local-6989586621679111698"><span id="local-6989586621679112754"><span id="local-6989586621679112755"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112755"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679112754"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Writer.Strict.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112754"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112755"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-252"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111685"><span id="local-6989586621679111687"><span id="local-6989586621679111689"><span id="local-6989586621679112752"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112752"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LoggingT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112752"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-253"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679112747"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112747"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadUnliftIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679112747"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ResourceT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112747"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-254"></span><span>  </span><span id="local-6989586621679111671"><span class="annot"><span class="annottext">traceCS :: forall a.
CallStack
-&gt; SpanSpec -&gt; (MutableSpan -&gt; ResourceT m a) -&gt; ResourceT m a
</span><a href="#local-6989586621679111671"><span class="hs-identifier hs-var hs-var hs-var hs-var">traceCS</span></a></span></span><span> </span><span id="local-6989586621679111670"><span class="annot"><span class="annottext">CallStack
</span><a href="#local-6989586621679111670"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span id="local-6989586621679111669"><span class="annot"><span class="annottext">SpanSpec
</span><a href="#local-6989586621679111669"><span class="hs-identifier hs-var">spanSpec</span></a></span></span><span> </span><span id="local-6989586621679111668"><span class="annot"><span class="annottext">MutableSpan -&gt; ResourceT m a
</span><a href="#local-6989586621679111668"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b.
MonadUnliftIO m =&gt;
((forall a. m a -&gt; IO a) -&gt; IO b) -&gt; m b
</span><span class="hs-identifier hs-var">withRunInIO</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679111667"><span class="annot"><span class="annottext">forall a. ResourceT m a -&gt; IO a
</span><a href="#local-6989586621679111667"><span class="hs-identifier hs-var">runInIO</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-256"></span><span>      </span><span class="annot"><span class="annottext">forall a. ResourceT m a -&gt; IO a
</span><a href="#local-6989586621679111667"><span class="hs-identifier hs-var">runInIO</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
MonadTracing m =&gt;
CallStack -&gt; SpanSpec -&gt; (MutableSpan -&gt; m a) -&gt; m a
</span><a href="OTel.API.Trace.Core.Internal.html#traceCS"><span class="hs-identifier hs-var">traceCS</span></a></span><span> </span><span class="annot"><span class="annottext">CallStack
</span><a href="#local-6989586621679111670"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">SpanSpec
</span><a href="#local-6989586621679111669"><span class="hs-identifier hs-var">spanSpec</span></a></span><span> </span><span class="annot"><span class="annottext">MutableSpan -&gt; ResourceT m a
</span><a href="#local-6989586621679111668"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>  </span><span id="local-6989586621679111664"><span class="annot"><span class="annottext">getSpanContext :: MutableSpan -&gt; ResourceT m SpanContext
</span><a href="#local-6989586621679111664"><span class="hs-identifier hs-var hs-var hs-var hs-var">getSpanContext</span></a></span></span><span> </span><span id="local-6989586621679111663"><span class="annot"><span class="annottext">MutableSpan
</span><a href="#local-6989586621679111663"><span class="hs-identifier hs-var">mutableSpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b.
MonadUnliftIO m =&gt;
((forall a. m a -&gt; IO a) -&gt; IO b) -&gt; m b
</span><span class="hs-identifier hs-var">withRunInIO</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679111662"><span class="annot"><span class="annottext">forall a. ResourceT m a -&gt; IO a
</span><a href="#local-6989586621679111662"><span class="hs-identifier hs-var">runInIO</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-260"></span><span>      </span><span class="annot"><span class="annottext">forall a. ResourceT m a -&gt; IO a
</span><a href="#local-6989586621679111662"><span class="hs-identifier hs-var">runInIO</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadTracing m =&gt;
MutableSpan -&gt; m SpanContext
</span><a href="OTel.API.Trace.Core.Internal.html#getSpanContext"><span class="hs-identifier hs-var">getSpanContext</span></a></span><span> </span><span class="annot"><span class="annottext">MutableSpan
</span><a href="#local-6989586621679111663"><span class="hs-identifier hs-var">mutableSpan</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span>  </span><span id="local-6989586621679111659"><span class="annot"><span class="annottext">updateSpan :: MutableSpan -&gt; UpdateSpanSpec -&gt; ResourceT m ()
</span><a href="#local-6989586621679111659"><span class="hs-identifier hs-var hs-var hs-var hs-var">updateSpan</span></a></span></span><span> </span><span id="local-6989586621679111658"><span class="annot"><span class="annottext">MutableSpan
</span><a href="#local-6989586621679111658"><span class="hs-identifier hs-var">mutableSpan</span></a></span></span><span> </span><span id="local-6989586621679111657"><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="#local-6989586621679111657"><span class="hs-identifier hs-var">updateSpanSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b.
MonadUnliftIO m =&gt;
((forall a. m a -&gt; IO a) -&gt; IO b) -&gt; m b
</span><span class="hs-identifier hs-var">withRunInIO</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679111656"><span class="annot"><span class="annottext">forall a. ResourceT m a -&gt; IO a
</span><a href="#local-6989586621679111656"><span class="hs-identifier hs-var">runInIO</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-264"></span><span>      </span><span class="annot"><span class="annottext">forall a. ResourceT m a -&gt; IO a
</span><a href="#local-6989586621679111656"><span class="hs-identifier hs-var">runInIO</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadTracing m =&gt;
MutableSpan -&gt; UpdateSpanSpec -&gt; m ()
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpan"><span class="hs-identifier hs-var">updateSpan</span></a></span><span> </span><span class="annot"><span class="annottext">MutableSpan
</span><a href="#local-6989586621679111658"><span class="hs-identifier hs-var">mutableSpan</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="#local-6989586621679111657"><span class="hs-identifier hs-var">updateSpanSpec</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracing"><span class="hs-identifier hs-type">MonadTracing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112738"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679112738"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MonadTracingIO"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-var">MonadTracingIO</span></a></span></span><span> </span><span id="local-6989586621679112738"><span class="annot"><a href="#local-6989586621679112738"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-267"></span><span>  </span><span id="askTracerIO"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#askTracerIO"><span class="hs-identifier hs-type">askTracerIO</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679112738"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Tracer"><span class="hs-identifier hs-type">Tracer</span></a></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="askTracerIO"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#askTracerIO"><span class="hs-identifier hs-type">askTracerIO</span></a></span></span><span>
</span><span id="line-270"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679112736"><span id="local-6989586621679112737"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadTrans</span></span><span> </span><span class="annot"><a href="#local-6989586621679112737"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112736"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679112738"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679112737"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112736"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112738"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Tracer"><span class="hs-identifier hs-type">Tracer</span></a></span></span></span><span>
</span><span id="line-272"></span><span>  </span><span id="local-6989586621679111653"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#askTracerIO"><span class="hs-identifier hs-var hs-var">askTracerIO</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadTracingIO m =&gt; m Tracer
</span><a href="OTel.API.Trace.Core.Internal.html#askTracerIO"><span class="hs-identifier hs-var">askTracerIO</span></a></span></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111637"><span id="local-6989586621679112729"><span id="local-6989586621679112730"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112730"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112729"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112730"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-275"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111629"><span id="local-6989586621679112727"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112727"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112727"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-276"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111622"><span id="local-6989586621679112725"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112725"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MaybeT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112725"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-277"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111615"><span id="local-6989586621679112721"><span id="local-6989586621679112722"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112722"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112721"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112722"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-278"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111608"><span id="local-6989586621679112717"><span id="local-6989586621679112718"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112718"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State.Lazy.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112717"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112718"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-279"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111601"><span id="local-6989586621679112713"><span id="local-6989586621679112714"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112714"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State.Strict.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112713"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112714"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-280"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111594"><span id="local-6989586621679112705"><span id="local-6989586621679112706"><span id="local-6989586621679112707"><span id="local-6989586621679112708"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112708"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679112707"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RWS.Lazy.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679112706"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112707"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112705"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112708"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-281"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111587"><span id="local-6989586621679112697"><span id="local-6989586621679112698"><span id="local-6989586621679112699"><span id="local-6989586621679112700"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112700"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679112699"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RWS.Strict.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679112698"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112699"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112697"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112700"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-282"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111580"><span id="local-6989586621679112693"><span id="local-6989586621679112694"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112694"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679112693"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Writer.Lazy.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112693"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112694"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-283"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111573"><span id="local-6989586621679112689"><span id="local-6989586621679112690"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112690"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679112689"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Writer.Strict.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112689"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112690"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-284"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111566"><span id="local-6989586621679112687"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112687"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LoggingT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112687"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-285"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679112684"><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112684"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadUnliftIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679112684"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MonadTracingIO"><span class="hs-identifier hs-type">MonadTracingIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ResourceT</span></span><span> </span><span class="annot"><a href="#local-6989586621679112684"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-286"></span><span>  </span><span id="local-6989586621679111552"><span class="annot"><span class="annottext">askTracerIO :: ResourceT m Tracer
</span><a href="#local-6989586621679111552"><span class="hs-identifier hs-var hs-var hs-var hs-var">askTracerIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b.
MonadUnliftIO m =&gt;
((forall a. m a -&gt; IO a) -&gt; IO b) -&gt; m b
</span><span class="hs-identifier hs-var">withRunInIO</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679111551"><span class="annot"><span class="annottext">forall a. ResourceT m a -&gt; IO a
</span><a href="#local-6989586621679111551"><span class="hs-identifier hs-var">runInIO</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-288"></span><span>      </span><span class="annot"><span class="annottext">forall a. ResourceT m a -&gt; IO a
</span><a href="#local-6989586621679111551"><span class="hs-identifier hs-var">runInIO</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadTracingIO m =&gt; m Tracer
</span><a href="OTel.API.Trace.Core.Internal.html#askTracerIO"><span class="hs-identifier hs-var">askTracerIO</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="hs-keyword">data</span><span> </span><span id="TracerProvider"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TracerProvider"><span class="hs-identifier hs-var">TracerProvider</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TracerProvider"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TracerProvider"><span class="hs-identifier hs-var">TracerProvider</span></a></span></span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="tracerProviderGetTracer"><span class="annot"><span class="annottext">TracerProvider -&gt; InstrumentationScope -&gt; IO Tracer
</span><a href="OTel.API.Trace.Core.Internal.html#tracerProviderGetTracer"><span class="hs-identifier hs-var hs-var">tracerProviderGetTracer</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">InstrumentationScope</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Tracer"><span class="hs-identifier hs-type">Tracer</span></a></span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tracerProviderShutdown"><span class="annot"><span class="annottext">TracerProvider -&gt; IO ()
</span><a href="OTel.API.Trace.Core.Internal.html#tracerProviderShutdown"><span class="hs-identifier hs-var hs-var">tracerProviderShutdown</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tracerProviderForceFlush"><span class="annot"><span class="annottext">TracerProvider -&gt; IO ()
</span><a href="OTel.API.Trace.Core.Internal.html#tracerProviderForceFlush"><span class="hs-identifier hs-var hs-var">tracerProviderForceFlush</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-keyword">data</span><span> </span><span id="Tracer"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Tracer"><span class="hs-identifier hs-var">Tracer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Tracer"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Tracer"><span class="hs-identifier hs-var">Tracer</span></a></span></span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="tracerInstrumentationScope"><span class="annot"><span class="annottext">Tracer -&gt; InstrumentationScope
</span><a href="OTel.API.Trace.Core.Internal.html#tracerInstrumentationScope"><span class="hs-identifier hs-var hs-var">tracerInstrumentationScope</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">InstrumentationScope</span></span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tracerNow"><span class="annot"><span class="annottext">Tracer -&gt; IO Timestamp
</span><a href="OTel.API.Trace.Core.Internal.html#tracerNow"><span class="hs-identifier hs-var hs-var">tracerNow</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Timestamp</span></span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tracerStartSpan"><span class="annot"><span class="annottext">Tracer
-&gt; CallStack -&gt; Context -&gt; SpanSpec -&gt; IO (MutableSpan, [Pair])
</span><a href="OTel.API.Trace.Core.Internal.html#tracerStartSpan"><span class="hs-identifier hs-var hs-var">tracerStartSpan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CallStack</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Context</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Pair</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tracerProcessSpan"><span class="annot"><span class="annottext">Tracer -&gt; Span Attrs -&gt; IO ()
</span><a href="OTel.API.Trace.Core.Internal.html#tracerProcessSpan"><span class="hs-identifier hs-var hs-var">tracerProcessSpan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tracerSpanAttrsLimits"><span class="annot"><span class="annottext">Tracer -&gt; AttrsLimits 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#tracerSpanAttrsLimits"><span class="hs-identifier hs-var hs-var">tracerSpanAttrsLimits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpan</span></span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tracerSpanEventAttrsLimits"><span class="annot"><span class="annottext">Tracer -&gt; AttrsLimits 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#tracerSpanEventAttrsLimits"><span class="hs-identifier hs-var hs-var">tracerSpanEventAttrsLimits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tracerSpanLinkAttrsLimits"><span class="annot"><span class="annottext">Tracer -&gt; AttrsLimits 'AttrsForSpanLink
</span><a href="OTel.API.Trace.Core.Internal.html#tracerSpanLinkAttrsLimits"><span class="hs-identifier hs-var hs-var">tracerSpanLinkAttrsLimits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#contextBackendSpan"><span class="hs-identifier hs-type">contextBackendSpan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ContextBackend</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span>
</span><span id="line-307"></span><span id="contextBackendSpan"><span class="annot"><span class="annottext">contextBackendSpan :: ContextBackend MutableSpan
</span><a href="OTel.API.Trace.Core.Internal.html#contextBackendSpan"><span class="hs-identifier hs-var hs-var">contextBackendSpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(MonadIO m, Typeable a) =&gt;
m (ContextBackend a)
</span><span class="hs-identifier hs-var">unsafeNewContextBackend</span></span><span>
</span><span id="line-308"></span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#contextBackendSpan"><span class="hs-pragma hs-type">contextBackendSpan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#contextKeySpan"><span class="hs-identifier hs-type">contextKeySpan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ContextKey</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span>
</span><span id="line-311"></span><span id="contextKeySpan"><span class="annot"><span class="annottext">contextKeySpan :: ContextKey MutableSpan
</span><a href="OTel.API.Trace.Core.Internal.html#contextKeySpan"><span class="hs-identifier hs-var hs-var">contextKeySpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ContextBackend a -&gt; ContextKey a
</span><span class="hs-identifier hs-var">contextBackendValueKey</span></span><span> </span><span class="annot"><span class="annottext">ContextBackend MutableSpan
</span><a href="OTel.API.Trace.Core.Internal.html#contextBackendSpan"><span class="hs-identifier hs-var">contextBackendSpan</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="hs-keyword">data</span><span> </span><span id="SpanContext"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-var">SpanContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanContext"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-var">SpanContext</span></a></span></span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="spanContextTraceId"><span class="annot"><span class="annottext">SpanContext -&gt; TraceId
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextTraceId"><span class="hs-identifier hs-var hs-var">spanContextTraceId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanContextSpanId"><span class="annot"><span class="annottext">SpanContext -&gt; SpanId
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextSpanId"><span class="hs-identifier hs-var hs-var">spanContextSpanId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span>
</span><span id="line-316"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanContextTraceFlags"><span class="annot"><span class="annottext">SpanContext -&gt; TraceFlags
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextTraceFlags"><span class="hs-identifier hs-var hs-var">spanContextTraceFlags</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier hs-type">TraceFlags</span></a></span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanContextTraceState"><span class="annot"><span class="annottext">SpanContext -&gt; TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextTraceState"><span class="hs-identifier hs-var hs-var">spanContextTraceState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-318"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanContextIsRemote"><span class="annot"><span class="annottext">SpanContext -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextIsRemote"><span class="hs-identifier hs-var hs-var">spanContextIsRemote</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679111523"><span id="local-6989586621679111531"><span class="annot"><span class="annottext">SpanContext -&gt; SpanContext -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SpanContext -&gt; SpanContext -&gt; Bool
$c/= :: SpanContext -&gt; SpanContext -&gt; Bool
== :: SpanContext -&gt; SpanContext -&gt; Bool
$c== :: SpanContext -&gt; SpanContext -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111508"><span id="local-6989586621679111510"><span id="local-6989586621679111520"><span class="annot"><span class="annottext">Int -&gt; SpanContext -&gt; ShowS
[SpanContext] -&gt; ShowS
SpanContext -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SpanContext] -&gt; ShowS
$cshowList :: [SpanContext] -&gt; ShowS
show :: SpanContext -&gt; String
$cshow :: SpanContext -&gt; String
showsPrec :: Int -&gt; SpanContext -&gt; ShowS
$cshowsPrec :: Int -&gt; SpanContext -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111500"><span id="local-6989586621679111502"><span id="local-6989586621679111504"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-322"></span><span>  </span><span id="local-6989586621679111479"><span class="annot"><span class="annottext">toJSON :: SpanContext -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span id="local-6989586621679111477"><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679111477"><span class="hs-identifier hs-var">spanContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-323"></span><span>    </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-324"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;traceId&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111475"><span class="hs-identifier hs-var">spanContextTraceId</span></a></span><span>
</span><span id="line-325"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;spanId&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111474"><span class="hs-identifier hs-var">spanContextSpanId</span></a></span><span>
</span><span id="line-326"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;traceFlags&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">TraceFlags
</span><a href="#local-6989586621679111473"><span class="hs-identifier hs-var">spanContextTraceFlags</span></a></span><span>
</span><span id="line-327"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;traceState&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">TraceState
</span><a href="#local-6989586621679111472"><span class="hs-identifier hs-var">spanContextTraceState</span></a></span><span>
</span><span id="line-328"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;isRemote&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679111471"><span class="hs-identifier hs-var">spanContextIsRemote</span></a></span><span>
</span><span id="line-329"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-330"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span>
</span><span id="line-332"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679111475"><span class="annot"><span class="annottext">TraceId
spanContextTraceId :: TraceId
spanContextTraceId :: SpanContext -&gt; TraceId
</span><a href="#local-6989586621679111475"><span class="hs-identifier hs-var hs-var">spanContextTraceId</span></a></span></span><span>
</span><span id="line-333"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111474"><span class="annot"><span class="annottext">SpanId
spanContextSpanId :: SpanId
spanContextSpanId :: SpanContext -&gt; SpanId
</span><a href="#local-6989586621679111474"><span class="hs-identifier hs-var hs-var">spanContextSpanId</span></a></span></span><span>
</span><span id="line-334"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111473"><span class="annot"><span class="annottext">TraceFlags
spanContextTraceFlags :: TraceFlags
spanContextTraceFlags :: SpanContext -&gt; TraceFlags
</span><a href="#local-6989586621679111473"><span class="hs-identifier hs-var hs-var">spanContextTraceFlags</span></a></span></span><span>
</span><span id="line-335"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111472"><span class="annot"><span class="annottext">TraceState
spanContextTraceState :: TraceState
spanContextTraceState :: SpanContext -&gt; TraceState
</span><a href="#local-6989586621679111472"><span class="hs-identifier hs-var hs-var">spanContextTraceState</span></a></span></span><span>
</span><span id="line-336"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111471"><span class="annot"><span class="annottext">Bool
spanContextIsRemote :: Bool
spanContextIsRemote :: SpanContext -&gt; Bool
</span><a href="#local-6989586621679111471"><span class="hs-identifier hs-var hs-var">spanContextIsRemote</span></a></span></span><span>
</span><span id="line-337"></span><span>      </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679111477"><span class="hs-identifier hs-var">spanContext</span></a></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#emptySpanContext"><span class="hs-identifier hs-type">emptySpanContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span>
</span><span id="line-340"></span><span id="emptySpanContext"><span class="annot"><span class="annottext">emptySpanContext :: SpanContext
</span><a href="OTel.API.Trace.Core.Internal.html#emptySpanContext"><span class="hs-identifier hs-var hs-var">emptySpanContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-341"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span>
</span><span id="line-342"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanContextTraceId :: TraceId
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextTraceId"><span class="hs-identifier hs-var">spanContextTraceId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceId
</span><a href="OTel.API.Trace.Core.Internal.html#emptyTraceId"><span class="hs-identifier hs-var">emptyTraceId</span></a></span><span>
</span><span id="line-343"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanContextSpanId :: SpanId
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextSpanId"><span class="hs-identifier hs-var">spanContextSpanId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanId
</span><a href="OTel.API.Trace.Core.Internal.html#emptySpanId"><span class="hs-identifier hs-var">emptySpanId</span></a></span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanContextTraceFlags :: TraceFlags
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextTraceFlags"><span class="hs-identifier hs-var">spanContextTraceFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-345"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanContextTraceState :: TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextTraceState"><span class="hs-identifier hs-var">spanContextTraceState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#emptyTraceState"><span class="hs-identifier hs-var">emptyTraceState</span></a></span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanContextIsRemote :: Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextIsRemote"><span class="hs-identifier hs-var">spanContextIsRemote</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanContextIsValid"><span class="hs-identifier hs-type">spanContextIsValid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-350"></span><span id="spanContextIsValid"><span class="annot"><span class="annottext">spanContextIsValid :: SpanContext -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextIsValid"><span class="hs-identifier hs-var hs-var">spanContextIsValid</span></a></span></span><span> </span><span id="local-6989586621679111470"><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679111470"><span class="hs-identifier hs-var">spanContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-351"></span><span>  </span><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111469"><span class="hs-identifier hs-var">spanContextTraceId</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">TraceId
</span><a href="OTel.API.Trace.Core.Internal.html#emptyTraceId"><span class="hs-identifier hs-var">emptyTraceId</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111466"><span class="hs-identifier hs-var">spanContextSpanId</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">SpanId
</span><a href="OTel.API.Trace.Core.Internal.html#emptySpanId"><span class="hs-identifier hs-var">emptySpanId</span></a></span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-353"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679111469"><span class="annot"><span class="annottext">TraceId
spanContextTraceId :: TraceId
spanContextTraceId :: SpanContext -&gt; TraceId
</span><a href="#local-6989586621679111469"><span class="hs-identifier hs-var hs-var">spanContextTraceId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111466"><span class="annot"><span class="annottext">SpanId
spanContextSpanId :: SpanId
spanContextSpanId :: SpanContext -&gt; SpanId
</span><a href="#local-6989586621679111466"><span class="hs-identifier hs-var hs-var">spanContextSpanId</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679111470"><span class="hs-identifier hs-var">spanContext</span></a></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanContextIsSampled"><span class="hs-identifier hs-type">spanContextIsSampled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-356"></span><span id="spanContextIsSampled"><span class="annot"><span class="annottext">spanContextIsSampled :: SpanContext -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextIsSampled"><span class="hs-identifier hs-var hs-var">spanContextIsSampled</span></a></span></span><span> </span><span id="local-6989586621679111465"><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679111465"><span class="hs-identifier hs-var">spanContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceFlags -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#isSampledFlagSet"><span class="hs-identifier hs-var">isSampledFlagSet</span></a></span><span> </span><span class="annot"><span class="annottext">TraceFlags
</span><a href="#local-6989586621679111464"><span class="hs-identifier hs-var">spanContextTraceFlags</span></a></span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-358"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679111464"><span class="annot"><span class="annottext">TraceFlags
spanContextTraceFlags :: TraceFlags
spanContextTraceFlags :: SpanContext -&gt; TraceFlags
</span><a href="#local-6989586621679111464"><span class="hs-identifier hs-var hs-var">spanContextTraceFlags</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679111465"><span class="hs-identifier hs-var">spanContext</span></a></span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span class="hs-keyword">data</span><span> </span><span id="TraceId"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-var">TraceId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TraceId"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-var">TraceId</span></a></span></span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="traceIdHi"><span class="annot"><span class="annottext">TraceId -&gt; Word64
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdHi"><span class="hs-identifier hs-var hs-var">traceIdHi</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="traceIdLo"><span class="annot"><span class="annottext">TraceId -&gt; Word64
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdLo"><span class="hs-identifier hs-var hs-var">traceIdLo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-363"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679111454"><span id="local-6989586621679111459"><span class="annot"><span class="annottext">TraceId -&gt; TraceId -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TraceId -&gt; TraceId -&gt; Bool
$c/= :: TraceId -&gt; TraceId -&gt; Bool
== :: TraceId -&gt; TraceId -&gt; Bool
$c== :: TraceId -&gt; TraceId -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111449"><span id="local-6989586621679111452"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-366"></span><span>  </span><span id="local-6989586621679111446"><span class="annot"><span class="annottext">show :: TraceId -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceId -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdToHexText"><span class="hs-identifier hs-var">traceIdToHexText</span></a></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111438"><span id="local-6989586621679111440"><span id="local-6989586621679111442"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-369"></span><span>  </span><span id="local-6989586621679111435"><span class="annot"><span class="annottext">toJSON :: TraceId -&gt; Value
</span><a href="#local-6989586621679111435"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceId -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdToHexText"><span class="hs-identifier hs-var">traceIdToHexText</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdToHexText"><span class="hs-identifier hs-type">traceIdToHexText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-372"></span><span id="traceIdToHexText"><span class="annot"><span class="annottext">traceIdToHexText :: TraceId -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdToHexText"><span class="hs-identifier hs-var hs-var">traceIdToHexText</span></a></span></span><span> </span><span id="local-6989586621679111434"><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111434"><span class="hs-identifier hs-var">traceId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-373"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><span class="hs-identifier hs-var">Text.Encoding.decodeUtf8</span></span><span>
</span><span id="line-374"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">ByteString.toStrict</span></span><span>
</span><span id="line-375"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; ByteString
</span><span class="hs-identifier hs-var">Builder.toLazyByteString</span></span><span>
</span><span id="line-376"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceId -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdToHexBuilder"><span class="hs-identifier hs-var">traceIdToHexBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111434"><span class="hs-identifier hs-var">traceId</span></a></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdToBytesVector"><span class="hs-identifier hs-type">traceIdToBytesVector</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Unboxed.Vector</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-379"></span><span id="traceIdToBytesVector"><span class="annot"><span class="annottext">traceIdToBytesVector :: TraceId -&gt; Vector Word8
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdToBytesVector"><span class="hs-identifier hs-var hs-var">traceIdToBytesVector</span></a></span></span><span> </span><span id="local-6989586621679111430"><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111430"><span class="hs-identifier hs-var">traceId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-380"></span><span>  </span><span class="annot"><span class="annottext">forall a. Unbox a =&gt; [a] -&gt; Vector a
</span><span class="hs-identifier hs-var">Unboxed.fromList</span></span><span>
</span><span id="line-381"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Word8]
</span><span class="hs-identifier hs-var">ByteString.Lazy.unpack</span></span><span>
</span><span id="line-382"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; ByteString
</span><span class="hs-identifier hs-var">Builder.toLazyByteString</span></span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceId -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdToBytesBuilder"><span class="hs-identifier hs-var">traceIdToBytesBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111430"><span class="hs-identifier hs-var">traceId</span></a></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdToHexBuilder"><span class="hs-identifier hs-type">traceIdToHexBuilder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Builder</span></span><span>
</span><span id="line-386"></span><span id="traceIdToHexBuilder"><span class="annot"><span class="annottext">traceIdToHexBuilder :: TraceId -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdToHexBuilder"><span class="hs-identifier hs-var hs-var">traceIdToHexBuilder</span></a></span></span><span> </span><span id="local-6989586621679111427"><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111427"><span class="hs-identifier hs-var">traceId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-387"></span><span>  </span><span class="annot"><span class="annottext">Word64 -&gt; Builder
</span><span class="hs-identifier hs-var">Builder.word64HexFixed</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679111425"><span class="hs-identifier hs-var">traceIdHi</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Builder
</span><span class="hs-identifier hs-var">Builder.word64HexFixed</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679111424"><span class="hs-identifier hs-var">traceIdLo</span></a></span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-389"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679111425"><span class="annot"><span class="annottext">Word64
traceIdHi :: Word64
traceIdHi :: TraceId -&gt; Word64
</span><a href="#local-6989586621679111425"><span class="hs-identifier hs-var hs-var">traceIdHi</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111424"><span class="annot"><span class="annottext">Word64
traceIdLo :: Word64
traceIdLo :: TraceId -&gt; Word64
</span><a href="#local-6989586621679111424"><span class="hs-identifier hs-var hs-var">traceIdLo</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111427"><span class="hs-identifier hs-var">traceId</span></a></span><span>
</span><span id="line-390"></span><span>
</span><span id="line-391"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdToBytesBuilder"><span class="hs-identifier hs-type">traceIdToBytesBuilder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Builder</span></span><span>
</span><span id="line-392"></span><span id="traceIdToBytesBuilder"><span class="annot"><span class="annottext">traceIdToBytesBuilder :: TraceId -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdToBytesBuilder"><span class="hs-identifier hs-var hs-var">traceIdToBytesBuilder</span></a></span></span><span> </span><span id="local-6989586621679111423"><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111423"><span class="hs-identifier hs-var">traceId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-393"></span><span>  </span><span class="annot"><span class="annottext">Word64 -&gt; Builder
</span><span class="hs-identifier hs-var">Builder.word64BE</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679111421"><span class="hs-identifier hs-var">traceIdHi</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Builder
</span><span class="hs-identifier hs-var">Builder.word64BE</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679111420"><span class="hs-identifier hs-var">traceIdLo</span></a></span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679111421"><span class="annot"><span class="annottext">Word64
traceIdHi :: Word64
traceIdHi :: TraceId -&gt; Word64
</span><a href="#local-6989586621679111421"><span class="hs-identifier hs-var hs-var">traceIdHi</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111420"><span class="annot"><span class="annottext">Word64
traceIdLo :: Word64
traceIdLo :: TraceId -&gt; Word64
</span><a href="#local-6989586621679111420"><span class="hs-identifier hs-var hs-var">traceIdLo</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceId
</span><a href="#local-6989586621679111423"><span class="hs-identifier hs-var">traceId</span></a></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#emptyTraceId"><span class="hs-identifier hs-type">emptyTraceId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span>
</span><span id="line-398"></span><span id="emptyTraceId"><span class="annot"><span class="annottext">emptyTraceId :: TraceId
</span><a href="OTel.API.Trace.Core.Internal.html#emptyTraceId"><span class="hs-identifier hs-var hs-var">emptyTraceId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">traceIdHi :: Word64
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdHi"><span class="hs-identifier hs-var">traceIdHi</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">traceIdLo :: Word64
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdLo"><span class="hs-identifier hs-var">traceIdLo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceIdFromWords"><span class="hs-identifier hs-type">traceIdFromWords</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-type">TraceId</span></a></span><span>
</span><span id="line-401"></span><span id="traceIdFromWords"><span class="annot"><span class="annottext">traceIdFromWords :: Word64 -&gt; Word64 -&gt; TraceId
</span><a href="OTel.API.Trace.Core.Internal.html#traceIdFromWords"><span class="hs-identifier hs-var hs-var">traceIdFromWords</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; TraceId
</span><a href="OTel.API.Trace.Core.Internal.html#TraceId"><span class="hs-identifier hs-var">TraceId</span></a></span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="hs-keyword">newtype</span><span> </span><span id="SpanId"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-var">SpanId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanId"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-var">SpanId</span></a></span></span><span>
</span><span id="line-404"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="spanIdLo"><span class="annot"><span class="annottext">SpanId -&gt; Word64
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdLo"><span class="hs-identifier hs-var hs-var">spanIdLo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-405"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679111413"><span id="local-6989586621679111416"><span class="annot"><span class="annottext">SpanId -&gt; SpanId -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SpanId -&gt; SpanId -&gt; Bool
$c/= :: SpanId -&gt; SpanId -&gt; Bool
== :: SpanId -&gt; SpanId -&gt; Bool
$c== :: SpanId -&gt; SpanId -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111408"><span id="local-6989586621679111411"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-408"></span><span>  </span><span id="local-6989586621679111406"><span class="annot"><span class="annottext">show :: SpanId -&gt; String
</span><a href="#local-6989586621679111406"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SpanId -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdToHexText"><span class="hs-identifier hs-var">spanIdToHexText</span></a></span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111399"><span id="local-6989586621679111401"><span id="local-6989586621679111403"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-411"></span><span>  </span><span id="local-6989586621679111397"><span class="annot"><span class="annottext">toJSON :: SpanId -&gt; Value
</span><a href="#local-6989586621679111397"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SpanId -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdToHexText"><span class="hs-identifier hs-var">spanIdToHexText</span></a></span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdToHexText"><span class="hs-identifier hs-type">spanIdToHexText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-414"></span><span id="spanIdToHexText"><span class="annot"><span class="annottext">spanIdToHexText :: SpanId -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdToHexText"><span class="hs-identifier hs-var hs-var">spanIdToHexText</span></a></span></span><span> </span><span id="local-6989586621679111396"><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111396"><span class="hs-identifier hs-var">spanId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-415"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><span class="hs-identifier hs-var">Text.Encoding.decodeUtf8</span></span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">ByteString.toStrict</span></span><span>
</span><span id="line-417"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; ByteString
</span><span class="hs-identifier hs-var">Builder.toLazyByteString</span></span><span>
</span><span id="line-418"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SpanId -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdToHexBuilder"><span class="hs-identifier hs-var">spanIdToHexBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111396"><span class="hs-identifier hs-var">spanId</span></a></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdToBytesVector"><span class="hs-identifier hs-type">spanIdToBytesVector</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Unboxed.Vector</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-421"></span><span id="spanIdToBytesVector"><span class="annot"><span class="annottext">spanIdToBytesVector :: SpanId -&gt; Vector Word8
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdToBytesVector"><span class="hs-identifier hs-var hs-var">spanIdToBytesVector</span></a></span></span><span> </span><span id="local-6989586621679111395"><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111395"><span class="hs-identifier hs-var">spanId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-422"></span><span>  </span><span class="annot"><span class="annottext">forall a. Unbox a =&gt; [a] -&gt; Vector a
</span><span class="hs-identifier hs-var">Unboxed.fromList</span></span><span>
</span><span id="line-423"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Word8]
</span><span class="hs-identifier hs-var">ByteString.Lazy.unpack</span></span><span>
</span><span id="line-424"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; ByteString
</span><span class="hs-identifier hs-var">Builder.toLazyByteString</span></span><span>
</span><span id="line-425"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SpanId -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdToBytesBuilder"><span class="hs-identifier hs-var">spanIdToBytesBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111395"><span class="hs-identifier hs-var">spanId</span></a></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdToHexBuilder"><span class="hs-identifier hs-type">spanIdToHexBuilder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Builder</span></span><span>
</span><span id="line-428"></span><span id="spanIdToHexBuilder"><span class="annot"><span class="annottext">spanIdToHexBuilder :: SpanId -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdToHexBuilder"><span class="hs-identifier hs-var hs-var">spanIdToHexBuilder</span></a></span></span><span> </span><span id="local-6989586621679111394"><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111394"><span class="hs-identifier hs-var">spanId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-429"></span><span>  </span><span class="annot"><span class="annottext">Word64 -&gt; Builder
</span><span class="hs-identifier hs-var">Builder.word64HexFixed</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679111393"><span class="hs-identifier hs-var">spanIdLo</span></a></span><span>
</span><span id="line-430"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679111393"><span class="annot"><span class="annottext">Word64
spanIdLo :: Word64
spanIdLo :: SpanId -&gt; Word64
</span><a href="#local-6989586621679111393"><span class="hs-identifier hs-var hs-var">spanIdLo</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111394"><span class="hs-identifier hs-var">spanId</span></a></span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdToBytesBuilder"><span class="hs-identifier hs-type">spanIdToBytesBuilder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Builder</span></span><span>
</span><span id="line-434"></span><span id="spanIdToBytesBuilder"><span class="annot"><span class="annottext">spanIdToBytesBuilder :: SpanId -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdToBytesBuilder"><span class="hs-identifier hs-var hs-var">spanIdToBytesBuilder</span></a></span></span><span> </span><span id="local-6989586621679111392"><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111392"><span class="hs-identifier hs-var">spanId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-435"></span><span>  </span><span class="annot"><span class="annottext">Word64 -&gt; Builder
</span><span class="hs-identifier hs-var">Builder.word64BE</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679111391"><span class="hs-identifier hs-var">spanIdLo</span></a></span><span>
</span><span id="line-436"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-437"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679111391"><span class="annot"><span class="annottext">Word64
spanIdLo :: Word64
spanIdLo :: SpanId -&gt; Word64
</span><a href="#local-6989586621679111391"><span class="hs-identifier hs-var hs-var">spanIdLo</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanId
</span><a href="#local-6989586621679111392"><span class="hs-identifier hs-var">spanId</span></a></span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#emptySpanId"><span class="hs-identifier hs-type">emptySpanId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span>
</span><span id="line-440"></span><span id="emptySpanId"><span class="annot"><span class="annottext">emptySpanId :: SpanId
</span><a href="OTel.API.Trace.Core.Internal.html#emptySpanId"><span class="hs-identifier hs-var hs-var">emptySpanId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanIdLo :: Word64
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdLo"><span class="hs-identifier hs-var">spanIdLo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIdFromWords"><span class="hs-identifier hs-type">spanIdFromWords</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-type">SpanId</span></a></span><span>
</span><span id="line-443"></span><span id="spanIdFromWords"><span class="annot"><span class="annottext">spanIdFromWords :: Word64 -&gt; SpanId
</span><a href="OTel.API.Trace.Core.Internal.html#spanIdFromWords"><span class="hs-identifier hs-var hs-var">spanIdFromWords</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SpanId
</span><a href="OTel.API.Trace.Core.Internal.html#SpanId"><span class="hs-identifier hs-var">SpanId</span></a></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-keyword">newtype</span><span> </span><span id="TraceFlags"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier hs-var">TraceFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TraceFlags"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier hs-var">TraceFlags</span></a></span></span><span>
</span><span id="line-446"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unTraceFlags"><span class="annot"><span class="annottext">TraceFlags -&gt; Word8
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceFlags"><span class="hs-identifier hs-var hs-var">unTraceFlags</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679111383"><span id="local-6989586621679111387"><span class="annot"><span class="annottext">TraceFlags -&gt; TraceFlags -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TraceFlags -&gt; TraceFlags -&gt; Bool
$c/= :: TraceFlags -&gt; TraceFlags -&gt; Bool
== :: TraceFlags -&gt; TraceFlags -&gt; Bool
$c== :: TraceFlags -&gt; TraceFlags -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111374"><span id="local-6989586621679111376"><span id="local-6989586621679111381"><span class="annot"><span class="annottext">Int -&gt; TraceFlags -&gt; ShowS
[TraceFlags] -&gt; ShowS
TraceFlags -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TraceFlags] -&gt; ShowS
$cshowList :: [TraceFlags] -&gt; ShowS
show :: TraceFlags -&gt; String
$cshow :: TraceFlags -&gt; String
showsPrec :: Int -&gt; TraceFlags -&gt; ShowS
$cshowsPrec :: Int -&gt; TraceFlags -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679111361"><span id="local-6989586621679111367"><span id="local-6989586621679111372"><span class="annot"><span class="annottext">NonEmpty TraceFlags -&gt; TraceFlags
TraceFlags -&gt; TraceFlags -&gt; TraceFlags
forall b. Integral b =&gt; b -&gt; TraceFlags -&gt; TraceFlags
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: forall b. Integral b =&gt; b -&gt; TraceFlags -&gt; TraceFlags
$cstimes :: forall b. Integral b =&gt; b -&gt; TraceFlags -&gt; TraceFlags
sconcat :: NonEmpty TraceFlags -&gt; TraceFlags
$csconcat :: NonEmpty TraceFlags -&gt; TraceFlags
&lt;&gt; :: TraceFlags -&gt; TraceFlags -&gt; TraceFlags
$c&lt;&gt; :: TraceFlags -&gt; TraceFlags -&gt; TraceFlags
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111342"><span id="local-6989586621679111346"><span id="local-6989586621679111351"><span class="annot"><span class="annottext">Semigroup TraceFlags
TraceFlags
[TraceFlags] -&gt; TraceFlags
TraceFlags -&gt; TraceFlags -&gt; TraceFlags
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
mconcat :: [TraceFlags] -&gt; TraceFlags
$cmconcat :: [TraceFlags] -&gt; TraceFlags
mappend :: TraceFlags -&gt; TraceFlags -&gt; TraceFlags
$cmappend :: TraceFlags -&gt; TraceFlags -&gt; TraceFlags
mempty :: TraceFlags
$cmempty :: TraceFlags
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ior</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span class="hs-special">)</span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111332"><span id="local-6989586621679111334"><span id="local-6989586621679111336"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier hs-type">TraceFlags</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-451"></span><span>  </span><span id="local-6989586621679111330"><span class="annot"><span class="annottext">toJSON :: TraceFlags -&gt; Value
</span><a href="#local-6989586621679111330"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceFlags -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#traceFlagsToHexText"><span class="hs-identifier hs-var">traceFlagsToHexText</span></a></span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceFlagsToHexText"><span class="hs-identifier hs-type">traceFlagsToHexText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier hs-type">TraceFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-454"></span><span id="traceFlagsToHexText"><span class="annot"><span class="annottext">traceFlagsToHexText :: TraceFlags -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#traceFlagsToHexText"><span class="hs-identifier hs-var hs-var">traceFlagsToHexText</span></a></span></span><span> </span><span id="local-6989586621679111329"><span class="annot"><span class="annottext">TraceFlags
</span><a href="#local-6989586621679111329"><span class="hs-identifier hs-var">traceFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-455"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><span class="hs-identifier hs-var">Text.Encoding.decodeUtf8</span></span><span>
</span><span id="line-456"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">ByteString.toStrict</span></span><span>
</span><span id="line-457"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; ByteString
</span><span class="hs-identifier hs-var">Builder.toLazyByteString</span></span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceFlags -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#traceFlagsToHexBuilder"><span class="hs-identifier hs-var">traceFlagsToHexBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">TraceFlags
</span><a href="#local-6989586621679111329"><span class="hs-identifier hs-var">traceFlags</span></a></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceFlagsToHexBuilder"><span class="hs-identifier hs-type">traceFlagsToHexBuilder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier hs-type">TraceFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Builder</span></span><span>
</span><span id="line-461"></span><span id="traceFlagsToHexBuilder"><span class="annot"><span class="annottext">traceFlagsToHexBuilder :: TraceFlags -&gt; Builder
</span><a href="OTel.API.Trace.Core.Internal.html#traceFlagsToHexBuilder"><span class="hs-identifier hs-var hs-var">traceFlagsToHexBuilder</span></a></span></span><span> </span><span id="local-6989586621679111328"><span class="annot"><span class="annottext">TraceFlags
</span><a href="#local-6989586621679111328"><span class="hs-identifier hs-var">traceFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-462"></span><span>  </span><span class="annot"><span class="annottext">Word8 -&gt; Builder
</span><span class="hs-identifier hs-var">Builder.word8HexFixed</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceFlags -&gt; Word8
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceFlags"><span class="hs-identifier hs-var">unTraceFlags</span></a></span><span> </span><span class="annot"><span class="annottext">TraceFlags
</span><a href="#local-6989586621679111328"><span class="hs-identifier hs-var">traceFlags</span></a></span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#traceFlagsSampled"><span class="hs-identifier hs-type">traceFlagsSampled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier hs-type">TraceFlags</span></a></span><span>
</span><span id="line-465"></span><span id="traceFlagsSampled"><span class="annot"><span class="annottext">traceFlagsSampled :: TraceFlags
</span><a href="OTel.API.Trace.Core.Internal.html#traceFlagsSampled"><span class="hs-identifier hs-var hs-var">traceFlagsSampled</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier hs-type">TraceFlags</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">unTraceFlags :: Word8
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceFlags"><span class="hs-identifier hs-var">unTraceFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#isSampledFlagSet"><span class="hs-identifier hs-type">isSampledFlagSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceFlags"><span class="hs-identifier hs-type">TraceFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-468"></span><span id="isSampledFlagSet"><span class="annot"><span class="annottext">isSampledFlagSet :: TraceFlags -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#isSampledFlagSet"><span class="hs-identifier hs-var hs-var">isSampledFlagSet</span></a></span></span><span> </span><span id="local-6989586621679111326"><span class="annot"><span class="annottext">TraceFlags
</span><a href="#local-6989586621679111326"><span class="hs-identifier hs-var">traceFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-469"></span><span>  </span><span class="annot"><span class="annottext">TraceFlags -&gt; Word8
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceFlags"><span class="hs-identifier hs-var">unTraceFlags</span></a></span><span> </span><span class="annot"><span class="annottext">TraceFlags
</span><a href="#local-6989586621679111326"><span class="hs-identifier hs-var">traceFlags</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-operator hs-var">`testBit`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span class="hs-keyword">newtype</span><span> </span><span id="TraceState"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-var">TraceState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TraceState"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-var">TraceState</span></a></span></span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unTraceState"><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var hs-var">unTraceState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679111318"><span id="local-6989586621679111322"><span class="annot"><span class="annottext">TraceState -&gt; TraceState -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TraceState -&gt; TraceState -&gt; Bool
$c/= :: TraceState -&gt; TraceState -&gt; Bool
== :: TraceState -&gt; TraceState -&gt; Bool
$c== :: TraceState -&gt; TraceState -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111307"><span id="local-6989586621679111309"><span id="local-6989586621679111316"><span class="annot"><span class="annottext">Int -&gt; TraceState -&gt; ShowS
[TraceState] -&gt; ShowS
TraceState -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TraceState] -&gt; ShowS
$cshowList :: [TraceState] -&gt; ShowS
show :: TraceState -&gt; String
$cshow :: TraceState -&gt; String
showsPrec :: Int -&gt; TraceState -&gt; ShowS
$cshowsPrec :: Int -&gt; TraceState -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-474"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679111286"><span id="local-6989586621679111292"><span id="local-6989586621679111298"><span id="local-6989586621679111305"><span class="annot"><span class="annottext">[TraceState] -&gt; Encoding
[TraceState] -&gt; Value
TraceState -&gt; Encoding
TraceState -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [TraceState] -&gt; Encoding
$ctoEncodingList :: [TraceState] -&gt; Encoding
toJSONList :: [TraceState] -&gt; Value
$ctoJSONList :: [TraceState] -&gt; Value
toEncoding :: TraceState -&gt; Encoding
$ctoEncoding :: TraceState -&gt; Encoding
toJSON :: TraceState -&gt; Value
$ctoJSON :: TraceState -&gt; Value
</span><a href="#local-6989586621679111286"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#emptyTraceState"><span class="hs-identifier hs-type">emptyTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-477"></span><span id="emptyTraceState"><span class="annot"><span class="annottext">emptyTraceState :: TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#emptyTraceState"><span class="hs-identifier hs-var hs-var">emptyTraceState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">unTraceState :: HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#nullTraceState"><span class="hs-identifier hs-type">nullTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-480"></span><span id="nullTraceState"><span class="annot"><span class="annottext">nullTraceState :: TraceState -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#nullTraceState"><span class="hs-identifier hs-var hs-var">nullTraceState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v. HashMap k v -&gt; Bool
</span><span class="hs-identifier hs-var">HashMap.null</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#sizeTraceState"><span class="hs-identifier hs-type">sizeTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-483"></span><span id="sizeTraceState"><span class="annot"><span class="annottext">sizeTraceState :: TraceState -&gt; Int
</span><a href="OTel.API.Trace.Core.Internal.html#sizeTraceState"><span class="hs-identifier hs-var hs-var">sizeTraceState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v. HashMap k v -&gt; Int
</span><span class="hs-identifier hs-var">HashMap.size</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#memberTraceState"><span class="hs-identifier hs-type">memberTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-486"></span><span id="memberTraceState"><span class="annot"><span class="annottext">memberTraceState :: Key Text -&gt; TraceState -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#memberTraceState"><span class="hs-identifier hs-var hs-var">memberTraceState</span></a></span></span><span> </span><span id="local-6989586621679111278"><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111278"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. (Eq k, Hashable k) =&gt; k -&gt; HashMap k a -&gt; Bool
</span><span class="hs-identifier hs-var">HashMap.member</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Key a -&gt; Text
</span><span class="hs-identifier hs-var">unKey</span></span><span> </span><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111278"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#lookupTraceState"><span class="hs-identifier hs-type">lookupTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-489"></span><span id="lookupTraceState"><span class="annot"><span class="annottext">lookupTraceState :: Key Text -&gt; TraceState -&gt; Maybe Text
</span><a href="OTel.API.Trace.Core.Internal.html#lookupTraceState"><span class="hs-identifier hs-var hs-var">lookupTraceState</span></a></span></span><span> </span><span id="local-6989586621679111275"><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111275"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">HashMap.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Key a -&gt; Text
</span><span class="hs-identifier hs-var">unKey</span></span><span> </span><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111275"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#findWithDefaultTraceState"><span class="hs-identifier hs-type">findWithDefaultTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-492"></span><span id="findWithDefaultTraceState"><span class="annot"><span class="annottext">findWithDefaultTraceState :: Text -&gt; Key Text -&gt; TraceState -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#findWithDefaultTraceState"><span class="hs-identifier hs-var hs-var">findWithDefaultTraceState</span></a></span></span><span> </span><span id="local-6989586621679111273"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111273"><span class="hs-identifier hs-var">defVal</span></a></span></span><span> </span><span id="local-6989586621679111272"><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111272"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-493"></span><span>  </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; v -&gt; k -&gt; HashMap k v -&gt; v
</span><span class="hs-identifier hs-var">HashMap.findWithDefault</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111273"><span class="hs-identifier hs-var">defVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Key a -&gt; Text
</span><span class="hs-identifier hs-var">unKey</span></span><span> </span><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111272"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#deleteTraceState"><span class="hs-identifier hs-type">deleteTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-496"></span><span id="deleteTraceState"><span class="annot"><span class="annottext">deleteTraceState :: Key Text -&gt; TraceState -&gt; TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#deleteTraceState"><span class="hs-identifier hs-var hs-var">deleteTraceState</span></a></span></span><span> </span><span id="local-6989586621679111270"><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111270"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Text Text -&gt; TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-var">TraceState</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.delete</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Key a -&gt; Text
</span><span class="hs-identifier hs-var">unKey</span></span><span> </span><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111270"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#filterTraceState"><span class="hs-identifier hs-type">filterTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-499"></span><span id="filterTraceState"><span class="annot"><span class="annottext">filterTraceState :: (Text -&gt; Bool) -&gt; TraceState -&gt; TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#filterTraceState"><span class="hs-identifier hs-var hs-var">filterTraceState</span></a></span></span><span> </span><span id="local-6989586621679111268"><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="#local-6989586621679111268"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Text Text -&gt; TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-var">TraceState</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall v k. (v -&gt; Bool) -&gt; HashMap k v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.filter</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="#local-6989586621679111268"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#filterWithKeyTraceState"><span class="hs-identifier hs-type">filterWithKeyTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-502"></span><span id="filterWithKeyTraceState"><span class="annot"><span class="annottext">filterWithKeyTraceState :: (Key Text -&gt; Text -&gt; Bool) -&gt; TraceState -&gt; TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#filterWithKeyTraceState"><span class="hs-identifier hs-var hs-var">filterWithKeyTraceState</span></a></span></span><span> </span><span id="local-6989586621679111266"><span class="annot"><span class="annottext">Key Text -&gt; Text -&gt; Bool
</span><a href="#local-6989586621679111266"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Text Text -&gt; TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-var">TraceState</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall k v. (k -&gt; v -&gt; Bool) -&gt; HashMap k v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.filterWithKey</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
</span><a href="#local-6989586621679111264"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span>
</span><span id="line-503"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-504"></span><span>  </span><span id="local-6989586621679111264"><span class="annot"><span class="annottext">f' :: Text -&gt; Text -&gt; Bool
</span><a href="#local-6989586621679111264"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679111263"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111263"><span class="hs-identifier hs-var">keyText</span></a></span></span><span> </span><span id="local-6989586621679111262"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111262"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key Text -&gt; Text -&gt; Bool
</span><a href="#local-6989586621679111266"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111263"><span class="hs-identifier hs-var">keyText</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111262"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-505"></span><span>
</span><span id="line-506"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#foldMapWithKeyTraceState"><span class="hs-identifier hs-type">foldMapWithKeyTraceState</span></a></span><span>
</span><span id="line-507"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679112621"><span class="annot"><a href="#local-6989586621679112621"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-508"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679112621"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112621"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-511"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112621"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-512"></span><span id="foldMapWithKeyTraceState"><span class="annot"><span class="annottext">foldMapWithKeyTraceState :: forall m. Monoid m =&gt; (Key Text -&gt; Text -&gt; m) -&gt; TraceState -&gt; m
</span><a href="OTel.API.Trace.Core.Internal.html#foldMapWithKeyTraceState"><span class="hs-identifier hs-var hs-var">foldMapWithKeyTraceState</span></a></span></span><span> </span><span id="local-6989586621679111258"><span class="annot"><span class="annottext">Key Text -&gt; Text -&gt; m
</span><a href="#local-6989586621679111258"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679111257"><span class="annot"><span class="annottext">TraceState
</span><a href="#local-6989586621679111257"><span class="hs-identifier hs-var">traceState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-513"></span><span>  </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">forall m k v. Monoid m =&gt; (k -&gt; v -&gt; m) -&gt; HashMap k v -&gt; m
</span><span class="hs-identifier hs-var">HashMap.foldMapWithKey</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TraceState -&gt; HashMap Text Text
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceState"><span class="hs-identifier hs-var">unTraceState</span></a></span><span> </span><span class="annot"><span class="annottext">TraceState
</span><a href="#local-6989586621679111257"><span class="hs-identifier hs-var">traceState</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679111254"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111254"><span class="hs-identifier hs-var">keyText</span></a></span></span><span> </span><span id="local-6989586621679111253"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111253"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-514"></span><span>    </span><span class="annot"><span class="annottext">Key Text -&gt; Text -&gt; m
</span><a href="#local-6989586621679111258"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111254"><span class="hs-identifier hs-var">keyText</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111253"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#toListTraceState"><span class="hs-identifier hs-type">toListTraceState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-517"></span><span id="toListTraceState"><span class="annot"><span class="annottext">toListTraceState :: TraceState -&gt; [(Key Text, Text)]
</span><a href="OTel.API.Trace.Core.Internal.html#toListTraceState"><span class="hs-identifier hs-var hs-var">toListTraceState</span></a></span></span><span> </span><span id="local-6989586621679111252"><span class="annot"><span class="annottext">TraceState
</span><a href="#local-6989586621679111252"><span class="hs-identifier hs-var">traceState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall m. Monoid m =&gt; (Key Text -&gt; Text -&gt; m) -&gt; TraceState -&gt; m
</span><a href="OTel.API.Trace.Core.Internal.html#foldMapWithKeyTraceState"><span class="hs-identifier hs-var">foldMapWithKeyTraceState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679111251"><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111251"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679111250"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111250"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key Text
</span><a href="#local-6989586621679111251"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111250"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TraceState
</span><a href="#local-6989586621679111252"><span class="hs-identifier hs-var">traceState</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span class="hs-keyword">newtype</span><span> </span><span id="TraceStateBuilder"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-var">TraceStateBuilder</span></a></span></span><span> </span><span id="local-6989586621679112612"><span class="annot"><a href="#local-6989586621679112612"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TraceStateBuilder"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-var">TraceStateBuilder</span></a></span></span><span>
</span><span id="line-520"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unTraceStateBuilder"><span class="annot"><span class="annottext">forall a. TraceStateBuilder a -&gt; Either (DList TraceStateError) a
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceStateBuilder"><span class="hs-identifier hs-var hs-var">unTraceStateBuilder</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateError"><span class="hs-identifier hs-type">TraceStateError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679112612"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-521"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-522"></span><span>      </span><span class="hs-special">(</span><span> </span><span id="local-6989586621679111241"><span id="local-6989586621679111246"><span class="annot"><span class="annottext">forall a b. a -&gt; TraceStateBuilder b -&gt; TraceStateBuilder a
forall a b. (a -&gt; b) -&gt; TraceStateBuilder a -&gt; TraceStateBuilder b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: forall a b. a -&gt; TraceStateBuilder b -&gt; TraceStateBuilder a
$c&lt;$ :: forall a b. a -&gt; TraceStateBuilder b -&gt; TraceStateBuilder a
fmap :: forall a b. (a -&gt; b) -&gt; TraceStateBuilder a -&gt; TraceStateBuilder b
$cfmap :: forall a b. (a -&gt; b) -&gt; TraceStateBuilder a -&gt; TraceStateBuilder b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span> </span><span class="hs-comment">-- @base@</span><span>
</span><span id="line-523"></span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateError"><span class="hs-identifier hs-type">TraceStateError</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span>    </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-525"></span><span>      </span><span class="hs-special">(</span><span> </span><span id="local-6989586621679111221"><span id="local-6989586621679111228"><span id="local-6989586621679111234"><span class="annot"><span class="annottext">NonEmpty (TraceStateBuilder a) -&gt; TraceStateBuilder a
TraceStateBuilder a -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
forall b.
Integral b =&gt;
b -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
forall a.
Semigroup a =&gt;
NonEmpty (TraceStateBuilder a) -&gt; TraceStateBuilder a
forall a.
Semigroup a =&gt;
TraceStateBuilder a -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
forall a b.
(Semigroup a, Integral b) =&gt;
b -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: forall b.
Integral b =&gt;
b -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
$cstimes :: forall a b.
(Semigroup a, Integral b) =&gt;
b -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
sconcat :: NonEmpty (TraceStateBuilder a) -&gt; TraceStateBuilder a
$csconcat :: forall a.
Semigroup a =&gt;
NonEmpty (TraceStateBuilder a) -&gt; TraceStateBuilder a
&lt;&gt; :: TraceStateBuilder a -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
$c&lt;&gt; :: forall a.
Semigroup a =&gt;
TraceStateBuilder a -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111198"><span id="local-6989586621679111203"><span id="local-6989586621679111209"><span class="annot"><span class="annottext">TraceStateBuilder a
[TraceStateBuilder a] -&gt; TraceStateBuilder a
TraceStateBuilder a -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall {a}. Monoid a =&gt; Semigroup (TraceStateBuilder a)
forall a. Monoid a =&gt; TraceStateBuilder a
forall a. Monoid a =&gt; [TraceStateBuilder a] -&gt; TraceStateBuilder a
forall a.
Monoid a =&gt;
TraceStateBuilder a -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
mconcat :: [TraceStateBuilder a] -&gt; TraceStateBuilder a
$cmconcat :: forall a. Monoid a =&gt; [TraceStateBuilder a] -&gt; TraceStateBuilder a
mappend :: TraceStateBuilder a -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
$cmappend :: forall a.
Monoid a =&gt;
TraceStateBuilder a -&gt; TraceStateBuilder a -&gt; TraceStateBuilder a
mempty :: TraceStateBuilder a
$cmempty :: forall a. Monoid a =&gt; TraceStateBuilder a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></span></span></span></span><span> </span><span class="hs-comment">-- @base@</span><span>
</span><span id="line-526"></span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ap</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112612"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679111183"><span id="local-6989586621679111185"><span id="local-6989586621679111188"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-529"></span><span>  </span><span id="local-6989586621679111181"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; TraceStateBuilder a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Either (DList TraceStateError) a -&gt; TraceStateBuilder a
</span><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-var">TraceStateBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span>
</span><span id="line-530"></span><span>  </span><span id="local-6989586621679111178"><span class="annot"><span class="annottext">liftA2 :: forall a b c.
(a -&gt; b -&gt; c)
-&gt; TraceStateBuilder a
-&gt; TraceStateBuilder b
-&gt; TraceStateBuilder c
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">liftA2</span></span></span><span> </span><span id="local-6989586621679111176"><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621679111176"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span id="local-6989586621679111175"><span class="annot"><span class="annottext">Either (DList TraceStateError) a
</span><a href="#local-6989586621679111175"><span class="hs-identifier hs-var">mx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span id="local-6989586621679111174"><span class="annot"><span class="annottext">Either (DList TraceStateError) b
</span><a href="#local-6989586621679111174"><span class="hs-identifier hs-var">my</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-531"></span><span>    </span><span class="annot"><span class="annottext">forall a. Either (DList TraceStateError) a -&gt; TraceStateBuilder a
</span><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-var">TraceStateBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either (DList TraceStateError) a
</span><a href="#local-6989586621679111175"><span class="hs-identifier hs-var">mx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Either (DList TraceStateError) b
</span><a href="#local-6989586621679111174"><span class="hs-identifier hs-var">my</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-532"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679111173"><span class="annot"><span class="annottext">DList TraceStateError
</span><a href="#local-6989586621679111173"><span class="hs-identifier hs-var">ex</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679111172"><span class="annot"><span class="annottext">DList TraceStateError
</span><a href="#local-6989586621679111172"><span class="hs-identifier hs-var">ey</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DList TraceStateError
</span><a href="#local-6989586621679111173"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">DList TraceStateError
</span><a href="#local-6989586621679111172"><span class="hs-identifier hs-var">ey</span></a></span><span>
</span><span id="line-533"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679111171"><span class="annot"><span class="annottext">DList TraceStateError
</span><a href="#local-6989586621679111171"><span class="hs-identifier hs-var">ex</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">DList TraceStateError
</span><a href="#local-6989586621679111171"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-534"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679111170"><span class="annot"><span class="annottext">DList TraceStateError
</span><a href="#local-6989586621679111170"><span class="hs-identifier hs-var">ey</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">DList TraceStateError
</span><a href="#local-6989586621679111170"><span class="hs-identifier hs-var">ey</span></a></span><span>
</span><span id="line-535"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679111169"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679111169"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679111168"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679111168"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621679111176"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679111169"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679111168"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KV</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-538"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="KVConstraints"><span class="annot"><span class="hs-identifier hs-var">KVConstraints</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsTextKV</span></span><span>
</span><span id="line-539"></span><span>  </span><span id="local-6989586621679111102"><span class="annot"><span class="annottext">.@ :: forall from to.
KVConstraints (TraceStateBuilder TraceState) from to =&gt;
Key to -&gt; from -&gt; TraceStateBuilder TraceState
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(.@)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key Text -&gt; Text -&gt; TraceStateBuilder TraceState
</span><a href="#local-6989586621679111100"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-540"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-541"></span><span>    </span><span class="annot"><a href="#local-6989586621679111100"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-542"></span><span>    </span><span id="local-6989586621679111100"><span class="annot"><span class="annottext">go :: Key Text -&gt; Text -&gt; TraceStateBuilder TraceState
</span><a href="#local-6989586621679111100"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span id="local-6989586621679111099"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111099"><span class="hs-identifier hs-var">keyText</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679111098"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-543"></span><span>      </span><span id="local-6989586621679111097"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111097"><span class="hs-identifier hs-var">traceStateKey</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">forall a. Key a -&gt; Text
</span><span class="hs-identifier hs-var">unKey</span></span><span> </span><span class="annot"><span class="annottext">TraceStateBuilder (Key Text)
</span><a href="#local-6989586621679111096"><span class="hs-identifier hs-var">parseKey</span></a></span><span>
</span><span id="line-544"></span><span>      </span><span id="local-6989586621679111095"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111095"><span class="hs-identifier hs-var">traceStateVal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TraceStateBuilder Text
</span><a href="#local-6989586621679111094"><span class="hs-identifier hs-var">parseValue</span></a></span><span>
</span><span id="line-545"></span><span>      </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">HashMap Text Text -&gt; TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-var">TraceState</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall k v. Hashable k =&gt; k -&gt; v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.singleton</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111097"><span class="hs-identifier hs-var">traceStateKey</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111095"><span class="hs-identifier hs-var">traceStateVal</span></a></span><span>
</span><span id="line-546"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-547"></span><span>      </span><span class="annot"><a href="#local-6989586621679111096"><span class="hs-identifier hs-type">parseKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Key</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-548"></span><span>      </span><span id="local-6989586621679111096"><span class="annot"><span class="annottext">parseKey :: TraceStateBuilder (Key Text)
</span><a href="#local-6989586621679111096"><span class="hs-identifier hs-var hs-var">parseKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-549"></span><span>        </span><span class="annot"><span class="annottext">forall a. Either (DList TraceStateError) a -&gt; TraceStateBuilder a
</span><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-var">TraceStateBuilder</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-550"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; [Text]
</span><span class="hs-identifier hs-var">Text.splitOn</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111099"><span class="hs-identifier hs-var">keyText</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-551"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TraceStateBuilder: parseKey - impossible!&quot;</span></span><span>
</span><span id="line-552"></span><span>            </span><span class="hs-special">[</span><span id="local-6989586621679111090"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111090"><span class="hs-identifier hs-var">simpleKeyText</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-553"></span><span>              </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">Text.null</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111090"><span class="hs-identifier hs-var">simpleKeyText</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-554"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateSimpleKeyIsEmptyError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyIsEmpty"><span class="hs-identifier hs-var">TraceStateSimpleKeyIsEmpty</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyIsEmptyError"><span class="hs-identifier hs-type">TraceStateSimpleKeyIsEmptyError</span></a></span><span>
</span><span id="line-555"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateSimpleKeyIsEmptyError :: Text
</span><a href="#local-6989586621679111085"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-556"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-557"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Int
</span><span class="hs-identifier hs-var">Text.length</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111090"><span class="hs-identifier hs-var">simpleKeyText</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">256</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-558"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateSimpleKeyTooLongError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyTooLong"><span class="hs-identifier hs-var">TraceStateSimpleKeyTooLong</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyTooLongError"><span class="hs-identifier hs-type">TraceStateSimpleKeyTooLongError</span></a></span><span>
</span><span id="line-559"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawKey:TraceStateSimpleKeyTooLongError :: Key Text
</span><a href="#local-6989586621679111080"><span class="hs-identifier hs-var">rawKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111090"><span class="hs-identifier hs-var">simpleKeyText</span></a></span><span>
</span><span id="line-560"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateSimpleKeyTooLongError :: Text
</span><a href="#local-6989586621679111079"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-561"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-562"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679111077"><span class="hs-identifier hs-var">isFirstSimpleKeyCharValid</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Char
</span><span class="hs-identifier hs-var">Text.head</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111090"><span class="hs-identifier hs-var">simpleKeyText</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-563"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateSimpleKeyContainsInvalidCharsError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyContainsInvalidChars"><span class="hs-identifier hs-var">TraceStateSimpleKeyContainsInvalidChars</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyContainsInvalidCharsError"><span class="hs-identifier hs-type">TraceStateSimpleKeyContainsInvalidCharsError</span></a></span><span>
</span><span id="line-564"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawKey:TraceStateSimpleKeyContainsInvalidCharsError :: Key Text
</span><a href="#local-6989586621679111073"><span class="hs-identifier hs-var">rawKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111090"><span class="hs-identifier hs-var">simpleKeyText</span></a></span><span>
</span><span id="line-565"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateSimpleKeyContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111072"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-566"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:invalidChars:TraceStateSimpleKeyContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111071"><span class="hs-identifier hs-var">invalidChars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Text
</span><span class="hs-identifier hs-var">Text.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Char
</span><span class="hs-identifier hs-var">Text.head</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111090"><span class="hs-identifier hs-var">simpleKeyText</span></a></span><span>
</span><span id="line-567"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-568"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">Text.null</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111069"><span class="hs-identifier hs-var">invalidChars</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-569"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateSimpleKeyContainsInvalidCharsError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyContainsInvalidChars"><span class="hs-identifier hs-var">TraceStateSimpleKeyContainsInvalidChars</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSimpleKeyContainsInvalidCharsError"><span class="hs-identifier hs-type">TraceStateSimpleKeyContainsInvalidCharsError</span></a></span><span>
</span><span id="line-570"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawKey:TraceStateSimpleKeyContainsInvalidCharsError :: Key Text
</span><a href="#local-6989586621679111073"><span class="hs-identifier hs-var">rawKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111090"><span class="hs-identifier hs-var">simpleKeyText</span></a></span><span>
</span><span id="line-571"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateSimpleKeyContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111072"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-572"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
invalidChars :: Text
$sel:invalidChars:TraceStateSimpleKeyContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111069"><span class="hs-identifier hs-var hs-var">invalidChars</span></a></span><span>
</span><span id="line-573"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-574"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-575"></span><span>                </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111099"><span class="hs-identifier hs-var">keyText</span></a></span><span>
</span><span id="line-576"></span><span>              </span><span class="hs-keyword">where</span><span>
</span><span id="line-577"></span><span>              </span><span id="local-6989586621679111069"><span class="annot"><span class="annottext">invalidChars :: Text
</span><a href="#local-6989586621679111069"><span class="hs-identifier hs-var hs-var">invalidChars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">Text.filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679111067"><span class="hs-identifier hs-var">isValidKeyChar</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111090"><span class="hs-identifier hs-var">simpleKeyText</span></a></span><span>
</span><span id="line-578"></span><span>            </span><span class="hs-special">[</span><span id="local-6989586621679111066"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679111065"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-579"></span><span>              </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">Text.null</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-580"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateTenantIdIsEmptyError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdIsEmpty"><span class="hs-identifier hs-var">TraceStateTenantIdIsEmpty</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdIsEmptyError"><span class="hs-identifier hs-type">TraceStateTenantIdIsEmptyError</span></a></span><span>
</span><span id="line-581"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawSystemId:TraceStateTenantIdIsEmptyError :: Text
</span><a href="#local-6989586621679111062"><span class="hs-identifier hs-var">rawSystemId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-582"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateTenantIdIsEmptyError :: Text
</span><a href="#local-6989586621679111061"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-583"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-584"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Int
</span><span class="hs-identifier hs-var">Text.length</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">241</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-585"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateTenantIdTooLongError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdTooLong"><span class="hs-identifier hs-var">TraceStateTenantIdTooLong</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdTooLongError"><span class="hs-identifier hs-type">TraceStateTenantIdTooLongError</span></a></span><span>
</span><span id="line-586"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawTenantId:TraceStateTenantIdTooLongError :: Text
</span><a href="#local-6989586621679111058"><span class="hs-identifier hs-var">rawTenantId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span><span>
</span><span id="line-587"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawSystemId:TraceStateTenantIdTooLongError :: Text
</span><a href="#local-6989586621679111057"><span class="hs-identifier hs-var">rawSystemId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-588"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateTenantIdTooLongError :: Text
</span><a href="#local-6989586621679111056"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-589"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-590"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679111055"><span class="hs-identifier hs-var">isFirstTenantIdCharValid</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Char
</span><span class="hs-identifier hs-var">Text.head</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-591"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateTenantIdContainsInvalidCharsError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdContainsInvalidChars"><span class="hs-identifier hs-var">TraceStateTenantIdContainsInvalidChars</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdContainsInvalidCharsError"><span class="hs-identifier hs-type">TraceStateTenantIdContainsInvalidCharsError</span></a></span><span>
</span><span id="line-592"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawTenantId:TraceStateTenantIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111052"><span class="hs-identifier hs-var">rawTenantId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span><span>
</span><span id="line-593"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawSystemId:TraceStateTenantIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111051"><span class="hs-identifier hs-var">rawSystemId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-594"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateTenantIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111050"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-595"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:invalidChars:TraceStateTenantIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111049"><span class="hs-identifier hs-var">invalidChars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Text
</span><span class="hs-identifier hs-var">Text.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Char
</span><span class="hs-identifier hs-var">Text.head</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span><span>
</span><span id="line-596"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-597"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">Text.null</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111048"><span class="hs-identifier hs-var">invalidTenantIdChars</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-598"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateTenantIdContainsInvalidCharsError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdContainsInvalidChars"><span class="hs-identifier hs-var">TraceStateTenantIdContainsInvalidChars</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateTenantIdContainsInvalidCharsError"><span class="hs-identifier hs-type">TraceStateTenantIdContainsInvalidCharsError</span></a></span><span>
</span><span id="line-599"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawTenantId:TraceStateTenantIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111052"><span class="hs-identifier hs-var">rawTenantId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span><span>
</span><span id="line-600"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawSystemId:TraceStateTenantIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111051"><span class="hs-identifier hs-var">rawSystemId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-601"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateTenantIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111050"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-602"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:invalidChars:TraceStateTenantIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111049"><span class="hs-identifier hs-var">invalidChars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111048"><span class="hs-identifier hs-var">invalidTenantIdChars</span></a></span><span>
</span><span id="line-603"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-604"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">Text.null</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-605"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateSystemIdIsEmptyError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdIsEmpty"><span class="hs-identifier hs-var">TraceStateSystemIdIsEmpty</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdIsEmptyError"><span class="hs-identifier hs-type">TraceStateSystemIdIsEmptyError</span></a></span><span>
</span><span id="line-606"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawSystemId:TraceStateSystemIdIsEmptyError :: Text
</span><a href="#local-6989586621679111045"><span class="hs-identifier hs-var">rawSystemId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-607"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateSystemIdIsEmptyError :: Text
</span><a href="#local-6989586621679111044"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-608"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-609"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Int
</span><span class="hs-identifier hs-var">Text.length</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">14</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-610"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateSystemIdTooLongError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdTooLong"><span class="hs-identifier hs-var">TraceStateSystemIdTooLong</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdTooLongError"><span class="hs-identifier hs-type">TraceStateSystemIdTooLongError</span></a></span><span>
</span><span id="line-611"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawTenantId:TraceStateSystemIdTooLongError :: Text
</span><a href="#local-6989586621679111041"><span class="hs-identifier hs-var">rawTenantId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span><span>
</span><span id="line-612"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawSystemId:TraceStateSystemIdTooLongError :: Text
</span><a href="#local-6989586621679111040"><span class="hs-identifier hs-var">rawSystemId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-613"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateSystemIdTooLongError :: Text
</span><a href="#local-6989586621679111039"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-614"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-615"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679111038"><span class="hs-identifier hs-var">isFirstSystemIdCharValid</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Char
</span><span class="hs-identifier hs-var">Text.head</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-616"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateSystemIdContainsInvalidCharsError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdContainsInvalidChars"><span class="hs-identifier hs-var">TraceStateSystemIdContainsInvalidChars</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdContainsInvalidCharsError"><span class="hs-identifier hs-type">TraceStateSystemIdContainsInvalidCharsError</span></a></span><span>
</span><span id="line-617"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawTenantId:TraceStateSystemIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111035"><span class="hs-identifier hs-var">rawTenantId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-618"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawSystemId:TraceStateSystemIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111034"><span class="hs-identifier hs-var">rawSystemId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-619"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateSystemIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111033"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-620"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:invalidChars:TraceStateSystemIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111032"><span class="hs-identifier hs-var">invalidChars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Text
</span><span class="hs-identifier hs-var">Text.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Char
</span><span class="hs-identifier hs-var">Text.head</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-621"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-622"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">Text.null</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111031"><span class="hs-identifier hs-var">invalidSystemIdChars</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-623"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateSystemIdContainsInvalidCharsError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdContainsInvalidChars"><span class="hs-identifier hs-var">TraceStateSystemIdContainsInvalidChars</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateSystemIdContainsInvalidCharsError"><span class="hs-identifier hs-type">TraceStateSystemIdContainsInvalidCharsError</span></a></span><span>
</span><span id="line-624"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawTenantId:TraceStateSystemIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111035"><span class="hs-identifier hs-var">rawTenantId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-625"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawSystemId:TraceStateSystemIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111034"><span class="hs-identifier hs-var">rawSystemId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-626"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateSystemIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111033"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-627"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:invalidChars:TraceStateSystemIdContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111032"><span class="hs-identifier hs-var">invalidChars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111031"><span class="hs-identifier hs-var">invalidSystemIdChars</span></a></span><span>
</span><span id="line-628"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-629"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-630"></span><span>                </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111099"><span class="hs-identifier hs-var">keyText</span></a></span><span>
</span><span id="line-631"></span><span>              </span><span class="hs-keyword">where</span><span>
</span><span id="line-632"></span><span>              </span><span id="local-6989586621679111048"><span class="annot"><span class="annottext">invalidTenantIdChars :: Text
</span><a href="#local-6989586621679111048"><span class="hs-identifier hs-var hs-var">invalidTenantIdChars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">Text.filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679111067"><span class="hs-identifier hs-var">isValidKeyChar</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111066"><span class="hs-identifier hs-var">tenantIdText</span></a></span><span>
</span><span id="line-633"></span><span>              </span><span id="local-6989586621679111031"><span class="annot"><span class="annottext">invalidSystemIdChars :: Text
</span><a href="#local-6989586621679111031"><span class="hs-identifier hs-var hs-var">invalidSystemIdChars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">Text.filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679111067"><span class="hs-identifier hs-var">isValidKeyChar</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111065"><span class="hs-identifier hs-var">systemIdText</span></a></span><span>
</span><span id="line-634"></span><span>            </span><span id="local-6989586621679111030"><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679111030"><span class="hs-identifier hs-var">_texts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-635"></span><span>              </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateKeyTypeUnknownError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateKeyTypeUnknown"><span class="hs-identifier hs-var">TraceStateKeyTypeUnknown</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateKeyTypeUnknownError"><span class="hs-identifier hs-type">TraceStateKeyTypeUnknownError</span></a></span><span>
</span><span id="line-636"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawKey:TraceStateKeyTypeUnknownError :: Key Text
</span><a href="#local-6989586621679111027"><span class="hs-identifier hs-var">rawKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111099"><span class="hs-identifier hs-var">keyText</span></a></span><span>
</span><span id="line-637"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateKeyTypeUnknownError :: Text
</span><a href="#local-6989586621679111026"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-638"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-639"></span><span>
</span><span id="line-640"></span><span>      </span><span class="annot"><a href="#local-6989586621679111094"><span class="hs-identifier hs-type">parseValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-641"></span><span>      </span><span id="local-6989586621679111094"><span class="annot"><span class="annottext">parseValue :: TraceStateBuilder Text
</span><a href="#local-6989586621679111094"><span class="hs-identifier hs-var hs-var">parseValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-642"></span><span>        </span><span class="annot"><span class="annottext">forall a. Either (DList TraceStateError) a -&gt; TraceStateBuilder a
</span><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-var">TraceStateBuilder</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-643"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">Text.null</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-644"></span><span>            </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateValueIsEmptyError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueIsEmpty"><span class="hs-identifier hs-var">TraceStateValueIsEmpty</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueIsEmptyError"><span class="hs-identifier hs-type">TraceStateValueIsEmptyError</span></a></span><span>
</span><span id="line-645"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawKey:TraceStateValueIsEmptyError :: Key Text
</span><a href="#local-6989586621679111023"><span class="hs-identifier hs-var">rawKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111099"><span class="hs-identifier hs-var">keyText</span></a></span><span>
</span><span id="line-646"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-647"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Int
</span><span class="hs-identifier hs-var">Text.length</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">256</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-648"></span><span>            </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateValueTooLongError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueTooLong"><span class="hs-identifier hs-var">TraceStateValueTooLong</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueTooLongError"><span class="hs-identifier hs-type">TraceStateValueTooLongError</span></a></span><span>
</span><span id="line-649"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawKey:TraceStateValueTooLongError :: Key Text
</span><a href="#local-6989586621679111020"><span class="hs-identifier hs-var">rawKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111099"><span class="hs-identifier hs-var">keyText</span></a></span><span>
</span><span id="line-650"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateValueTooLongError :: Text
</span><a href="#local-6989586621679111019"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-651"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-652"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679111018"><span class="hs-identifier hs-var">isLastValueCharValid</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Char
</span><span class="hs-identifier hs-var">Text.last</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-653"></span><span>            </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateValueContainsInvalidCharsError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueContainsInvalidChars"><span class="hs-identifier hs-var">TraceStateValueContainsInvalidChars</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueContainsInvalidCharsError"><span class="hs-identifier hs-type">TraceStateValueContainsInvalidCharsError</span></a></span><span>
</span><span id="line-654"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawKey:TraceStateValueContainsInvalidCharsError :: Key Text
</span><a href="#local-6989586621679111014"><span class="hs-identifier hs-var">rawKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111099"><span class="hs-identifier hs-var">keyText</span></a></span><span>
</span><span id="line-655"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateValueContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111013"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-656"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:invalidChars:TraceStateValueContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111012"><span class="hs-identifier hs-var">invalidChars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Text
</span><span class="hs-identifier hs-var">Text.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Char
</span><span class="hs-identifier hs-var">Text.last</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-657"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-658"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">Text.null</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111011"><span class="hs-identifier hs-var">invalidChars</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-659"></span><span>            </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TraceStateValueContainsInvalidCharsError -&gt; TraceStateError
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueContainsInvalidChars"><span class="hs-identifier hs-var">TraceStateValueContainsInvalidChars</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateValueContainsInvalidCharsError"><span class="hs-identifier hs-type">TraceStateValueContainsInvalidCharsError</span></a></span><span>
</span><span id="line-660"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:rawKey:TraceStateValueContainsInvalidCharsError :: Key Text
</span><a href="#local-6989586621679111014"><span class="hs-identifier hs-var">rawKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Text -&gt; Key a
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111099"><span class="hs-identifier hs-var">keyText</span></a></span><span>
</span><span id="line-661"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:rawValue:TraceStateValueContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111013"><span class="hs-identifier hs-var">rawValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-662"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
invalidChars :: Text
$sel:invalidChars:TraceStateValueContainsInvalidCharsError :: Text
</span><a href="#local-6989586621679111011"><span class="hs-identifier hs-var hs-var">invalidChars</span></a></span><span>
</span><span id="line-663"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-664"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-665"></span><span>            </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-666"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-667"></span><span>        </span><span id="local-6989586621679111011"><span class="annot"><span class="annottext">invalidChars :: Text
</span><a href="#local-6989586621679111011"><span class="hs-identifier hs-var hs-var">invalidChars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">Text.filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679111010"><span class="hs-identifier hs-var">isValidValueChar</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679111098"><span class="hs-identifier hs-var">valText</span></a></span><span>
</span><span id="line-668"></span><span>
</span><span id="line-669"></span><span>      </span><span class="annot"><a href="#local-6989586621679111067"><span class="hs-identifier hs-type">isValidKeyChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-670"></span><span>      </span><span id="local-6989586621679111067"><span class="annot"><span class="annottext">isValidKeyChar :: Char -&gt; Bool
</span><a href="#local-6989586621679111067"><span class="hs-identifier hs-var hs-var">isValidKeyChar</span></a></span></span><span> </span><span id="local-6989586621679111009"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111009"><span class="hs-identifier hs-var">c</span></a></span></span><span>
</span><span id="line-671"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111009"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111009"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111009"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'*'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111009"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-672"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679111007"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x61</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679111007"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x7a</span></span><span>
</span><span id="line-673"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-674"></span><span>        </span><span id="local-6989586621679111007"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679111007"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Int
</span><span class="hs-identifier hs-var">Char.ord</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111009"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-675"></span><span>
</span><span id="line-676"></span><span>      </span><span class="annot"><a href="#local-6989586621679111077"><span class="hs-identifier hs-type">isFirstSimpleKeyCharValid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-677"></span><span>      </span><span id="local-6989586621679111077"><span class="annot"><span class="annottext">isFirstSimpleKeyCharValid :: Char -&gt; Bool
</span><a href="#local-6989586621679111077"><span class="hs-identifier hs-var hs-var">isFirstSimpleKeyCharValid</span></a></span></span><span> </span><span id="local-6989586621679111004"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111004"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679111003"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x61</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679111003"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x7a</span></span><span>
</span><span id="line-678"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-679"></span><span>        </span><span id="local-6989586621679111003"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679111003"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Int
</span><span class="hs-identifier hs-var">Char.ord</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111004"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-680"></span><span>
</span><span id="line-681"></span><span>      </span><span class="annot"><a href="#local-6989586621679111055"><span class="hs-identifier hs-type">isFirstTenantIdCharValid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-682"></span><span>      </span><span id="local-6989586621679111055"><span class="annot"><span class="annottext">isFirstTenantIdCharValid :: Char -&gt; Bool
</span><a href="#local-6989586621679111055"><span class="hs-identifier hs-var hs-var">isFirstTenantIdCharValid</span></a></span></span><span> </span><span id="local-6989586621679111002"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111002"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679111001"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x61</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679111001"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x7a</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">Char.isDigit</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111002"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-683"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-684"></span><span>        </span><span id="local-6989586621679111001"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679111001"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Int
</span><span class="hs-identifier hs-var">Char.ord</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679111002"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-685"></span><span>
</span><span id="line-686"></span><span>      </span><span class="annot"><a href="#local-6989586621679111038"><span class="hs-identifier hs-type">isFirstSystemIdCharValid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-687"></span><span>      </span><span id="local-6989586621679111038"><span class="annot"><span class="annottext">isFirstSystemIdCharValid :: Char -&gt; Bool
</span><a href="#local-6989586621679111038"><span class="hs-identifier hs-var hs-var">isFirstSystemIdCharValid</span></a></span></span><span> </span><span id="local-6989586621679110999"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679110999"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679110998"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x61</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679110998"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x7a</span></span><span>
</span><span id="line-688"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-689"></span><span>        </span><span id="local-6989586621679110998"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679110998"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Int
</span><span class="hs-identifier hs-var">Char.ord</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679110999"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-690"></span><span>
</span><span id="line-691"></span><span>      </span><span class="annot"><a href="#local-6989586621679111010"><span class="hs-identifier hs-type">isValidValueChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-692"></span><span>      </span><span id="local-6989586621679111010"><span class="annot"><span class="annottext">isValidValueChar :: Char -&gt; Bool
</span><a href="#local-6989586621679111010"><span class="hs-identifier hs-var hs-var">isValidValueChar</span></a></span></span><span> </span><span id="local-6989586621679110997"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679110997"><span class="hs-identifier hs-var">c</span></a></span></span><span>
</span><span id="line-693"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679110996"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x20</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679110996"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x2b</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-694"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679110996"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x2d</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679110996"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x3c</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-695"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679110996"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x3e</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679110996"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x7e</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-696"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-697"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-698"></span><span>        </span><span id="local-6989586621679110996"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679110996"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Int
</span><span class="hs-identifier hs-var">Char.ord</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679110997"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span>      </span><span class="annot"><a href="#local-6989586621679111018"><span class="hs-identifier hs-type">isLastValueCharValid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-701"></span><span>      </span><span id="local-6989586621679111018"><span class="annot"><span class="annottext">isLastValueCharValid :: Char -&gt; Bool
</span><a href="#local-6989586621679111018"><span class="hs-identifier hs-var hs-var">isLastValueCharValid</span></a></span></span><span> </span><span id="local-6989586621679110995"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679110995"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679111010"><span class="hs-identifier hs-var">isValidValueChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679110995"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679110994"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0x20</span></span><span>
</span><span id="line-702"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-703"></span><span>        </span><span id="local-6989586621679110994"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679110994"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Int
</span><span class="hs-identifier hs-var">Char.ord</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679110995"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-704"></span><span>
</span><span id="line-705"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#buildTraceState"><span class="hs-identifier hs-type">buildTraceState</span></a></span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679112544"><span class="annot"><a href="#local-6989586621679112544"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-707"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadThrow</span></span><span> </span><span class="annot"><a href="#local-6989586621679112544"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-709"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112544"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-710"></span><span id="buildTraceState"><span class="annot"><span class="annottext">buildTraceState :: forall (m :: * -&gt; *).
MonadThrow m =&gt;
TraceStateBuilder TraceState -&gt; m TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#buildTraceState"><span class="hs-identifier hs-var hs-var">buildTraceState</span></a></span></span><span> </span><span id="local-6989586621679110985"><span class="annot"><span class="annottext">TraceStateBuilder TraceState
</span><a href="#local-6989586621679110985"><span class="hs-identifier hs-var">builder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-711"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TraceStateBuilder TraceState -&gt; Either TraceStateErrors TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#buildTraceStatePure"><span class="hs-identifier hs-var">buildTraceStatePure</span></a></span><span> </span><span class="annot"><span class="annottext">TraceStateBuilder TraceState
</span><a href="#local-6989586621679110985"><span class="hs-identifier hs-var">builder</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-712"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679110984"><span class="annot"><span class="annottext">TraceStateErrors
</span><a href="#local-6989586621679110984"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwM</span></span><span> </span><span class="annot"><span class="annottext">TraceStateErrors
</span><a href="#local-6989586621679110984"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-713"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679110983"><span class="annot"><span class="annottext">TraceState
</span><a href="#local-6989586621679110983"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">TraceState
</span><a href="#local-6989586621679110983"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-714"></span><span>
</span><span id="line-715"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#buildTraceStatePure"><span class="hs-identifier hs-type">buildTraceStatePure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceStateBuilder"><span class="hs-identifier hs-type">TraceStateBuilder</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateErrors"><span class="hs-identifier hs-type">TraceStateErrors</span></a></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#TraceState"><span class="hs-identifier hs-type">TraceState</span></a></span><span>
</span><span id="line-716"></span><span id="buildTraceStatePure"><span class="annot"><span class="annottext">buildTraceStatePure :: TraceStateBuilder TraceState -&gt; Either TraceStateErrors TraceState
</span><a href="OTel.API.Trace.Core.Internal.html#buildTraceStatePure"><span class="hs-identifier hs-var hs-var">buildTraceStatePure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TraceStateError] -&gt; TraceStateErrors
</span><a href="OTel.API.Trace.Core.TraceState.Errors.html#TraceStateErrors"><span class="hs-identifier hs-var">TraceStateErrors</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. DList a -&gt; [a]
</span><span class="hs-identifier hs-var">DList.toList</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. TraceStateBuilder a -&gt; Either (DList TraceStateError) a
</span><a href="OTel.API.Trace.Core.Internal.html#unTraceStateBuilder"><span class="hs-identifier hs-var">unTraceStateBuilder</span></a></span><span>
</span><span id="line-717"></span><span>
</span><span id="line-718"></span><span class="hs-keyword">newtype</span><span> </span><span id="SpanEvents"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-var">SpanEvents</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679112531"><span class="annot"><a href="#local-6989586621679112531"><span class="hs-identifier hs-type">attrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsFor</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanEvents"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-var">SpanEvents</span></a></span></span><span>
</span><span id="line-719"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unSpanEvents"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanEvents attrs -&gt; DList (SpanEvent attrs)
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanEvents"><span class="hs-identifier hs-var hs-var">unSpanEvents</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112531"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-720"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-721"></span><span>
</span><span id="line-722"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110971"><span id="local-6989586621679110973"><span id="local-6989586621679110975"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-723"></span><span>  </span><span id="local-6989586621679110967"><span class="annot"><span class="annottext">toJSON :: SpanEvents Attrs -&gt; Value
</span><a href="#local-6989586621679110967"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanEvents attrs -&gt; DList (SpanEvent attrs)
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanEvents"><span class="hs-identifier hs-var">unSpanEvents</span></a></span><span>
</span><span id="line-724"></span><span>
</span><span id="line-725"></span><span id="local-6989586621679110960"><span id="local-6989586621679110965"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679112526"><span class="annot"><a href="#local-6989586621679112526"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679112526"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112526"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-726"></span><span id="local-6989586621679110950"><span id="local-6989586621679110952"><span id="local-6989586621679110958"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679112523"><span class="annot"><a href="#local-6989586621679112523"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679112523"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112523"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-727"></span><span id="local-6989586621679110936"><span id="local-6989586621679110940"><span id="local-6989586621679110945"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span id="local-6989586621679112520"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112520"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112520"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-728"></span><span id="local-6989586621679110921"><span id="local-6989586621679110927"><span id="local-6989586621679110931"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span id="local-6989586621679110916"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679110916"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679110916"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-729"></span><span>
</span><span id="line-730"></span><span id="local-6989586621679112516"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanEventsFromList"><span class="hs-identifier hs-type">spanEventsFromList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112516"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112516"><span class="hs-identifier hs-type">attrs</span></a></span></span><span>
</span><span id="line-731"></span><span id="spanEventsFromList"><span class="annot"><span class="annottext">spanEventsFromList :: forall (attrs :: AttrsFor -&gt; *).
[SpanEvent attrs] -&gt; SpanEvents attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventsFromList"><span class="hs-identifier hs-var hs-var">spanEventsFromList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
DList (SpanEvent attrs) -&gt; SpanEvents attrs
</span><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-var">SpanEvents</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; DList a
</span><span class="hs-identifier hs-var">DList.fromList</span></span><span>
</span><span id="line-732"></span><span>
</span><span id="line-733"></span><span id="local-6989586621679112513"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanEventsToList"><span class="hs-identifier hs-type">spanEventsToList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112513"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112513"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-734"></span><span id="spanEventsToList"><span class="annot"><span class="annottext">spanEventsToList :: forall (attrs :: AttrsFor -&gt; *).
SpanEvents attrs -&gt; [SpanEvent attrs]
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventsToList"><span class="hs-identifier hs-var hs-var">spanEventsToList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">Foldable.toList</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanEvents attrs -&gt; DList (SpanEvent attrs)
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanEvents"><span class="hs-identifier hs-var">unSpanEvents</span></a></span><span>
</span><span id="line-735"></span><span>
</span><span id="line-736"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeAllSpanEventAttrs"><span class="hs-identifier hs-type">freezeAllSpanEventAttrs</span></a></span><span>
</span><span id="line-737"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span>
</span><span id="line-738"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span>
</span><span id="line-739"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span>
</span><span id="line-740"></span><span id="freezeAllSpanEventAttrs"><span class="annot"><span class="annottext">freezeAllSpanEventAttrs :: AttrsLimits 'AttrsForSpanEvent
-&gt; SpanEvents AttrsBuilder -&gt; SpanEvents Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#freezeAllSpanEventAttrs"><span class="hs-identifier hs-var hs-var">freezeAllSpanEventAttrs</span></a></span></span><span> </span><span id="local-6989586621679110912"><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanEvent
</span><a href="#local-6989586621679110912"><span class="hs-identifier hs-var">attrsLimits</span></a></span></span><span> </span><span id="local-6989586621679110911"><span class="annot"><span class="annottext">SpanEvents AttrsBuilder
</span><a href="#local-6989586621679110911"><span class="hs-identifier hs-var">spanEvent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-741"></span><span>  </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
DList (SpanEvent attrs) -&gt; SpanEvents attrs
</span><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-var">SpanEvents</span></a></span><span>
</span><span id="line-742"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanEvent
-&gt; SpanEvent AttrsBuilder -&gt; SpanEvent Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#freezeSpanEventAttrs"><span class="hs-identifier hs-var">freezeSpanEventAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanEvent
</span><a href="#local-6989586621679110912"><span class="hs-identifier hs-var">attrsLimits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-743"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanEvents attrs -&gt; DList (SpanEvent attrs)
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanEvents"><span class="hs-identifier hs-var">unSpanEvents</span></a></span><span> </span><span class="annot"><span class="annottext">SpanEvents AttrsBuilder
</span><a href="#local-6989586621679110911"><span class="hs-identifier hs-var">spanEvent</span></a></span><span>
</span><span id="line-744"></span><span>
</span><span id="line-745"></span><span class="hs-keyword">data</span><span> </span><span id="SpanEvent"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-var">SpanEvent</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679112509"><span class="annot"><a href="#local-6989586621679112509"><span class="hs-identifier hs-type">attrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsFor</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanEvent"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-var">SpanEvent</span></a></span></span><span>
</span><span id="line-746"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="spanEventName"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). SpanEvent attrs -&gt; SpanEventName
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventName"><span class="hs-identifier hs-var hs-var">spanEventName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventName"><span class="hs-identifier hs-type">SpanEventName</span></a></span><span>
</span><span id="line-747"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanEventTimestamp"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). SpanEvent attrs -&gt; Timestamp
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventTimestamp"><span class="hs-identifier hs-var hs-var">spanEventTimestamp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Timestamp</span></span><span>
</span><span id="line-748"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanEventAttrs"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanEvent attrs -&gt; attrs 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventAttrs"><span class="hs-identifier hs-var hs-var">spanEventAttrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679112509"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span>
</span><span id="line-749"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-750"></span><span>
</span><span id="line-751"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110900"><span id="local-6989586621679110902"><span id="local-6989586621679110904"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-752"></span><span>  </span><span id="local-6989586621679110887"><span class="annot"><span class="annottext">toJSON :: SpanEvent Attrs -&gt; Value
</span><a href="#local-6989586621679110887"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621679110886"><span class="annot"><span class="annottext">SpanEvent Attrs
</span><a href="#local-6989586621679110886"><span class="hs-identifier hs-var">spanEvent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-753"></span><span>    </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-754"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanEventName
</span><a href="#local-6989586621679110885"><span class="hs-identifier hs-var">spanEventName</span></a></span><span>
</span><span id="line-755"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;timestamp&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110884"><span class="hs-identifier hs-var">spanEventTimestamp</span></a></span><span>
</span><span id="line-756"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;attributes&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Attrs 'AttrsForSpanEvent
</span><a href="#local-6989586621679110883"><span class="hs-identifier hs-var">spanEventAttrs</span></a></span><span>
</span><span id="line-757"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-758"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-759"></span><span>    </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span>
</span><span id="line-760"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679110885"><span class="annot"><span class="annottext">SpanEventName
spanEventName :: SpanEventName
spanEventName :: forall (attrs :: AttrsFor -&gt; *). SpanEvent attrs -&gt; SpanEventName
</span><a href="#local-6989586621679110885"><span class="hs-identifier hs-var hs-var">spanEventName</span></a></span></span><span>
</span><span id="line-761"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110884"><span class="annot"><span class="annottext">Timestamp
spanEventTimestamp :: Timestamp
spanEventTimestamp :: forall (attrs :: AttrsFor -&gt; *). SpanEvent attrs -&gt; Timestamp
</span><a href="#local-6989586621679110884"><span class="hs-identifier hs-var hs-var">spanEventTimestamp</span></a></span></span><span>
</span><span id="line-762"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110883"><span class="annot"><span class="annottext">Attrs 'AttrsForSpanEvent
spanEventAttrs :: Attrs 'AttrsForSpanEvent
spanEventAttrs :: forall (attrs :: AttrsFor -&gt; *).
SpanEvent attrs -&gt; attrs 'AttrsForSpanEvent
</span><a href="#local-6989586621679110883"><span class="hs-identifier hs-var hs-var">spanEventAttrs</span></a></span></span><span>
</span><span id="line-763"></span><span>      </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanEvent Attrs
</span><a href="#local-6989586621679110886"><span class="hs-identifier hs-var">spanEvent</span></a></span><span>
</span><span id="line-764"></span><span>
</span><span id="line-765"></span><span id="local-6989586621679110875"><span id="local-6989586621679110881"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679112527"><span class="annot"><a href="#local-6989586621679112527"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679112527"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112527"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-766"></span><span id="local-6989586621679110864"><span id="local-6989586621679110866"><span id="local-6989586621679110873"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679112524"><span class="annot"><a href="#local-6989586621679112524"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679112524"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112524"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-767"></span><span>
</span><span id="line-768"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeSpanEventAttrs"><span class="hs-identifier hs-type">freezeSpanEventAttrs</span></a></span><span>
</span><span id="line-769"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span>
</span><span id="line-770"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span>
</span><span id="line-771"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span>
</span><span id="line-772"></span><span id="freezeSpanEventAttrs"><span class="annot"><span class="annottext">freezeSpanEventAttrs :: AttrsLimits 'AttrsForSpanEvent
-&gt; SpanEvent AttrsBuilder -&gt; SpanEvent Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#freezeSpanEventAttrs"><span class="hs-identifier hs-var hs-var">freezeSpanEventAttrs</span></a></span></span><span> </span><span id="local-6989586621679110863"><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanEvent
</span><a href="#local-6989586621679110863"><span class="hs-identifier hs-var">attrsLimits</span></a></span></span><span> </span><span id="local-6989586621679110862"><span class="annot"><span class="annottext">SpanEvent AttrsBuilder
</span><a href="#local-6989586621679110862"><span class="hs-identifier hs-var">spanEvent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-773"></span><span>  </span><span class="annot"><span class="annottext">SpanEvent AttrsBuilder
</span><a href="#local-6989586621679110862"><span class="hs-identifier hs-var">spanEvent</span></a></span><span>
</span><span id="line-774"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanEventAttrs :: Attrs 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventAttrs"><span class="hs-identifier hs-var">spanEventAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (af :: AttrsFor).
AttrsBuilder af -&gt; AttrsLimits af -&gt; Attrs af
</span><span class="hs-identifier hs-var">runAttrsBuilder</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanEvent attrs -&gt; attrs 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventAttrs"><span class="hs-identifier hs-var">spanEventAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">SpanEvent AttrsBuilder
</span><a href="#local-6989586621679110862"><span class="hs-identifier hs-var">spanEvent</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanEvent
</span><a href="#local-6989586621679110863"><span class="hs-identifier hs-var">attrsLimits</span></a></span><span>
</span><span id="line-775"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-776"></span><span>
</span><span id="line-777"></span><span class="hs-keyword">newtype</span><span> </span><span id="SpanEventSpecs"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpecs"><span class="hs-identifier hs-var">SpanEventSpecs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanEventSpecs"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpecs"><span class="hs-identifier hs-var">SpanEventSpecs</span></a></span></span><span>
</span><span id="line-778"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unSpanEventSpecs"><span class="annot"><span class="annottext">SpanEventSpecs -&gt; DList SpanEventSpec
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanEventSpecs"><span class="hs-identifier hs-var hs-var">unSpanEventSpecs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110847"><span id="local-6989586621679110851"><span id="local-6989586621679110855"><span class="annot"><span class="annottext">Semigroup SpanEventSpecs
SpanEventSpecs
[SpanEventSpecs] -&gt; SpanEventSpecs
SpanEventSpecs -&gt; SpanEventSpecs -&gt; SpanEventSpecs
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
mconcat :: [SpanEventSpecs] -&gt; SpanEventSpecs
$cmconcat :: [SpanEventSpecs] -&gt; SpanEventSpecs
mappend :: SpanEventSpecs -&gt; SpanEventSpecs -&gt; SpanEventSpecs
$cmappend :: SpanEventSpecs -&gt; SpanEventSpecs -&gt; SpanEventSpecs
mempty :: SpanEventSpecs
$cmempty :: SpanEventSpecs
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110832"><span id="local-6989586621679110838"><span id="local-6989586621679110842"><span class="annot"><span class="annottext">NonEmpty SpanEventSpecs -&gt; SpanEventSpecs
SpanEventSpecs -&gt; SpanEventSpecs -&gt; SpanEventSpecs
forall b. Integral b =&gt; b -&gt; SpanEventSpecs -&gt; SpanEventSpecs
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: forall b. Integral b =&gt; b -&gt; SpanEventSpecs -&gt; SpanEventSpecs
$cstimes :: forall b. Integral b =&gt; b -&gt; SpanEventSpecs -&gt; SpanEventSpecs
sconcat :: NonEmpty SpanEventSpecs -&gt; SpanEventSpecs
$csconcat :: NonEmpty SpanEventSpecs -&gt; SpanEventSpecs
&lt;&gt; :: SpanEventSpecs -&gt; SpanEventSpecs -&gt; SpanEventSpecs
$c&lt;&gt; :: SpanEventSpecs -&gt; SpanEventSpecs -&gt; SpanEventSpecs
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span>
</span><span id="line-781"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#singletonSpanEventSpecs"><span class="hs-identifier hs-type">singletonSpanEventSpecs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpecs"><span class="hs-identifier hs-type">SpanEventSpecs</span></a></span><span>
</span><span id="line-782"></span><span id="singletonSpanEventSpecs"><span class="annot"><span class="annottext">singletonSpanEventSpecs :: SpanEventSpec -&gt; SpanEventSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#singletonSpanEventSpecs"><span class="hs-identifier hs-var hs-var">singletonSpanEventSpecs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DList SpanEventSpec -&gt; SpanEventSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpecs"><span class="hs-identifier hs-var">SpanEventSpecs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span>
</span><span id="line-783"></span><span>
</span><span id="line-784"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecsFromList"><span class="hs-identifier hs-type">spanEventSpecsFromList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpecs"><span class="hs-identifier hs-type">SpanEventSpecs</span></a></span><span>
</span><span id="line-785"></span><span id="spanEventSpecsFromList"><span class="annot"><span class="annottext">spanEventSpecsFromList :: [SpanEventSpec] -&gt; SpanEventSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecsFromList"><span class="hs-identifier hs-var hs-var">spanEventSpecsFromList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DList SpanEventSpec -&gt; SpanEventSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpecs"><span class="hs-identifier hs-var">SpanEventSpecs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; DList a
</span><span class="hs-identifier hs-var">DList.fromList</span></span><span>
</span><span id="line-786"></span><span>
</span><span id="line-787"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecsToList"><span class="hs-identifier hs-type">spanEventSpecsToList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpecs"><span class="hs-identifier hs-type">SpanEventSpecs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-788"></span><span id="spanEventSpecsToList"><span class="annot"><span class="annottext">spanEventSpecsToList :: SpanEventSpecs -&gt; [SpanEventSpec]
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecsToList"><span class="hs-identifier hs-var hs-var">spanEventSpecsToList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">Foldable.toList</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SpanEventSpecs -&gt; DList SpanEventSpec
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanEventSpecs"><span class="hs-identifier hs-var">unSpanEventSpecs</span></a></span><span>
</span><span id="line-789"></span><span>
</span><span id="line-790"></span><span class="hs-keyword">data</span><span> </span><span id="SpanEventSpec"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-var">SpanEventSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanEventSpec"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-var">SpanEventSpec</span></a></span></span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="spanEventSpecName"><span class="annot"><span class="annottext">SpanEventSpec -&gt; SpanEventName
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecName"><span class="hs-identifier hs-var hs-var">spanEventSpecName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventName"><span class="hs-identifier hs-type">SpanEventName</span></a></span><span>
</span><span id="line-792"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanEventSpecTimestamp"><span class="annot"><span class="annottext">SpanEventSpec -&gt; TimestampSource
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecTimestamp"><span class="hs-identifier hs-var hs-var">spanEventSpecTimestamp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TimestampSource</span></span><span>
</span><span id="line-793"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanEventSpecAttrs"><span class="annot"><span class="annottext">SpanEventSpec -&gt; AttrsBuilder 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecAttrs"><span class="hs-identifier hs-var hs-var">spanEventSpecAttrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span>
</span><span id="line-794"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-795"></span><span>
</span><span id="line-796"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsString</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-797"></span><span>  </span><span id="local-6989586621679110819"><span class="annot"><span class="annottext">fromString :: String -&gt; SpanEventSpec
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></span></span><span> </span><span id="local-6989586621679110818"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679110818"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-798"></span><span>    </span><span class="annot"><span class="annottext">SpanEventSpec
</span><a href="OTel.API.Trace.Core.Internal.html#defaultSpanEventSpec"><span class="hs-identifier hs-var">defaultSpanEventSpec</span></a></span><span>
</span><span id="line-799"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanEventSpecName :: SpanEventName
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecName"><span class="hs-identifier hs-var">spanEventSpecName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679110818"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-800"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-801"></span><span>
</span><span id="line-802"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WithAttrs</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-803"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="WithAttrsAttrType"><span class="annot"><span class="hs-identifier hs-var">WithAttrsAttrType</span></span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span>
</span><span id="line-804"></span><span>  </span><span id="local-6989586621679110812"><span class="annot"><span class="annottext">SpanEventSpec
</span><a href="#local-6989586621679110812"><span class="hs-identifier hs-var">spanEventSpec</span></a></span></span><span> </span><span id="local-6989586621679110811"><span class="annot"><span class="annottext">.:@ :: SpanEventSpec
-&gt; AttrsBuilder (WithAttrsAttrType SpanEventSpec) -&gt; SpanEventSpec
</span><span class="hs-operator hs-var hs-var hs-var hs-var">.:@</span></span></span><span> </span><span id="local-6989586621679110809"><span class="annot"><span class="annottext">AttrsBuilder (WithAttrsAttrType SpanEventSpec)
</span><a href="#local-6989586621679110809"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-805"></span><span>    </span><span class="annot"><span class="annottext">SpanEventSpec
</span><a href="#local-6989586621679110812"><span class="hs-identifier hs-var">spanEventSpec</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanEventSpecAttrs :: AttrsBuilder 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecAttrs"><span class="hs-identifier hs-var">spanEventSpecAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AttrsBuilder (WithAttrsAttrType SpanEventSpec)
</span><a href="#local-6989586621679110809"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">SpanEventSpec -&gt; AttrsBuilder 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecAttrs"><span class="hs-identifier hs-var">spanEventSpecAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">SpanEventSpec
</span><a href="#local-6989586621679110812"><span class="hs-identifier hs-var">spanEventSpec</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-806"></span><span>
</span><span id="line-807"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#defaultSpanEventSpec"><span class="hs-identifier hs-type">defaultSpanEventSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span>
</span><span id="line-808"></span><span id="defaultSpanEventSpec"><span class="annot"><span class="annottext">defaultSpanEventSpec :: SpanEventSpec
</span><a href="OTel.API.Trace.Core.Internal.html#defaultSpanEventSpec"><span class="hs-identifier hs-var hs-var">defaultSpanEventSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-809"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span>
</span><span id="line-810"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanEventSpecName :: SpanEventName
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecName"><span class="hs-identifier hs-var">spanEventSpecName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanEventName
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-811"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanEventSpecTimestamp :: TimestampSource
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecTimestamp"><span class="hs-identifier hs-var">spanEventSpecTimestamp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TimestampSource
</span><span class="hs-identifier hs-var">TimestampSourceNow</span></span><span>
</span><span id="line-812"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanEventSpecAttrs :: AttrsBuilder 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecAttrs"><span class="hs-identifier hs-var">spanEventSpecAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-813"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-814"></span><span>
</span><span id="line-815"></span><span class="hs-keyword">newtype</span><span> </span><span id="SpanEventName"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventName"><span class="hs-identifier hs-var">SpanEventName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanEventName"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventName"><span class="hs-identifier hs-var">SpanEventName</span></a></span></span><span>
</span><span id="line-816"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unSpanEventName"><span class="annot"><span class="annottext">SpanEventName -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanEventName"><span class="hs-identifier hs-var hs-var">unSpanEventName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-817"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110801"><span id="local-6989586621679110804"><span class="annot"><span class="annottext">SpanEventName -&gt; SpanEventName -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SpanEventName -&gt; SpanEventName -&gt; Bool
$c/= :: SpanEventName -&gt; SpanEventName -&gt; Bool
== :: SpanEventName -&gt; SpanEventName -&gt; Bool
$c== :: SpanEventName -&gt; SpanEventName -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110793"><span id="local-6989586621679110795"><span id="local-6989586621679110799"><span class="annot"><span class="annottext">Int -&gt; SpanEventName -&gt; ShowS
[SpanEventName] -&gt; ShowS
SpanEventName -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SpanEventName] -&gt; ShowS
$cshowList :: [SpanEventName] -&gt; ShowS
show :: SpanEventName -&gt; String
$cshow :: SpanEventName -&gt; String
showsPrec :: Int -&gt; SpanEventName -&gt; ShowS
$cshowsPrec :: Int -&gt; SpanEventName -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-818"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110779"><span id="local-6989586621679110783"><span id="local-6989586621679110787"><span id="local-6989586621679110791"><span class="annot"><span class="annottext">[SpanEventName] -&gt; Encoding
[SpanEventName] -&gt; Value
SpanEventName -&gt; Encoding
SpanEventName -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [SpanEventName] -&gt; Encoding
$ctoEncodingList :: [SpanEventName] -&gt; Encoding
toJSONList :: [SpanEventName] -&gt; Value
$ctoJSONList :: [SpanEventName] -&gt; Value
toEncoding :: SpanEventName -&gt; Encoding
$ctoEncoding :: SpanEventName -&gt; Encoding
toJSON :: SpanEventName -&gt; Value
$ctoJSON :: SpanEventName -&gt; Value
</span><a href="#local-6989586621679110779"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-819"></span><span>
</span><span id="line-820"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsString</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventName"><span class="hs-identifier hs-type">SpanEventName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-821"></span><span>  </span><span id="local-6989586621679110775"><span class="annot"><span class="annottext">fromString :: String -&gt; SpanEventName
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; SpanEventName
</span><a href="OTel.API.Trace.Core.Internal.html#SpanEventName"><span class="hs-identifier hs-var">SpanEventName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">Text.pack</span></span><span>
</span><span id="line-822"></span><span>
</span><span id="line-823"></span><span class="hs-keyword">newtype</span><span> </span><span id="SpanLinks"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-var">SpanLinks</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679112493"><span class="annot"><a href="#local-6989586621679112493"><span class="hs-identifier hs-type">attrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsFor</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanLinks"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-var">SpanLinks</span></a></span></span><span>
</span><span id="line-824"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unSpanLinks"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanLinks attrs -&gt; DList (SpanLink attrs)
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanLinks"><span class="hs-identifier hs-var hs-var">unSpanLinks</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112493"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-825"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-826"></span><span>
</span><span id="line-827"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110765"><span id="local-6989586621679110767"><span id="local-6989586621679110769"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-828"></span><span>  </span><span id="local-6989586621679110762"><span class="annot"><span class="annottext">toJSON :: SpanLinks Attrs -&gt; Value
</span><a href="#local-6989586621679110762"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanLinks attrs -&gt; DList (SpanLink attrs)
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanLinks"><span class="hs-identifier hs-var">unSpanLinks</span></a></span><span>
</span><span id="line-829"></span><span>
</span><span id="line-830"></span><span id="local-6989586621679110756"><span id="local-6989586621679110760"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679112490"><span class="annot"><a href="#local-6989586621679112490"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679112490"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112490"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-831"></span><span id="local-6989586621679110747"><span id="local-6989586621679110749"><span id="local-6989586621679110754"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679112488"><span class="annot"><a href="#local-6989586621679112488"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679112488"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112488"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-832"></span><span id="local-6989586621679110734"><span id="local-6989586621679110738"><span id="local-6989586621679110742"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span id="local-6989586621679112486"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112486"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112486"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-833"></span><span id="local-6989586621679110719"><span id="local-6989586621679110725"><span id="local-6989586621679110729"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span id="local-6989586621679110714"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679110714"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679110714"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-834"></span><span>
</span><span id="line-835"></span><span id="local-6989586621679112482"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanLinksFromList"><span class="hs-identifier hs-type">spanLinksFromList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112482"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112482"><span class="hs-identifier hs-type">attrs</span></a></span></span><span>
</span><span id="line-836"></span><span id="spanLinksFromList"><span class="annot"><span class="annottext">spanLinksFromList :: forall (attrs :: AttrsFor -&gt; *).
[SpanLink attrs] -&gt; SpanLinks attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinksFromList"><span class="hs-identifier hs-var hs-var">spanLinksFromList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
DList (SpanLink attrs) -&gt; SpanLinks attrs
</span><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-var">SpanLinks</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; DList a
</span><span class="hs-identifier hs-var">DList.fromList</span></span><span>
</span><span id="line-837"></span><span>
</span><span id="line-838"></span><span id="local-6989586621679112480"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanLinksToList"><span class="hs-identifier hs-type">spanLinksToList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112480"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112480"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-839"></span><span id="spanLinksToList"><span class="annot"><span class="annottext">spanLinksToList :: forall (attrs :: AttrsFor -&gt; *).
SpanLinks attrs -&gt; [SpanLink attrs]
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinksToList"><span class="hs-identifier hs-var hs-var">spanLinksToList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">Foldable.toList</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanLinks attrs -&gt; DList (SpanLink attrs)
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanLinks"><span class="hs-identifier hs-var">unSpanLinks</span></a></span><span>
</span><span id="line-840"></span><span>
</span><span id="line-841"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeAllSpanLinkAttrs"><span class="hs-identifier hs-type">freezeAllSpanLinkAttrs</span></a></span><span>
</span><span id="line-842"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span>
</span><span id="line-843"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span>
</span><span id="line-844"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span>
</span><span id="line-845"></span><span id="freezeAllSpanLinkAttrs"><span class="annot"><span class="annottext">freezeAllSpanLinkAttrs :: AttrsLimits 'AttrsForSpanLink
-&gt; SpanLinks AttrsBuilder -&gt; SpanLinks Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#freezeAllSpanLinkAttrs"><span class="hs-identifier hs-var hs-var">freezeAllSpanLinkAttrs</span></a></span></span><span> </span><span id="local-6989586621679110712"><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanLink
</span><a href="#local-6989586621679110712"><span class="hs-identifier hs-var">attrsLimits</span></a></span></span><span> </span><span id="local-6989586621679110711"><span class="annot"><span class="annottext">SpanLinks AttrsBuilder
</span><a href="#local-6989586621679110711"><span class="hs-identifier hs-var">spanLink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-846"></span><span>  </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
DList (SpanLink attrs) -&gt; SpanLinks attrs
</span><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-var">SpanLinks</span></a></span><span>
</span><span id="line-847"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanLink
-&gt; SpanLink AttrsBuilder -&gt; SpanLink Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#freezeSpanLinkAttrs"><span class="hs-identifier hs-var">freezeSpanLinkAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanLink
</span><a href="#local-6989586621679110712"><span class="hs-identifier hs-var">attrsLimits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-848"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanLinks attrs -&gt; DList (SpanLink attrs)
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanLinks"><span class="hs-identifier hs-var">unSpanLinks</span></a></span><span> </span><span class="annot"><span class="annottext">SpanLinks AttrsBuilder
</span><a href="#local-6989586621679110711"><span class="hs-identifier hs-var">spanLink</span></a></span><span>
</span><span id="line-849"></span><span>
</span><span id="line-850"></span><span class="hs-keyword">newtype</span><span> </span><span id="SpanLinkSpecs"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpecs"><span class="hs-identifier hs-var">SpanLinkSpecs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanLinkSpecs"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpecs"><span class="hs-identifier hs-var">SpanLinkSpecs</span></a></span></span><span>
</span><span id="line-851"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unSpanLinkSpecs"><span class="annot"><span class="annottext">SpanLinkSpecs -&gt; DList SpanLinkSpec
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanLinkSpecs"><span class="hs-identifier hs-var hs-var">unSpanLinkSpecs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-type">SpanLinkSpec</span></a></span><span>
</span><span id="line-852"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110696"><span id="local-6989586621679110700"><span id="local-6989586621679110704"><span class="annot"><span class="annottext">Semigroup SpanLinkSpecs
SpanLinkSpecs
[SpanLinkSpecs] -&gt; SpanLinkSpecs
SpanLinkSpecs -&gt; SpanLinkSpecs -&gt; SpanLinkSpecs
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
mconcat :: [SpanLinkSpecs] -&gt; SpanLinkSpecs
$cmconcat :: [SpanLinkSpecs] -&gt; SpanLinkSpecs
mappend :: SpanLinkSpecs -&gt; SpanLinkSpecs -&gt; SpanLinkSpecs
$cmappend :: SpanLinkSpecs -&gt; SpanLinkSpecs -&gt; SpanLinkSpecs
mempty :: SpanLinkSpecs
$cmempty :: SpanLinkSpecs
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110682"><span id="local-6989586621679110688"><span id="local-6989586621679110692"><span class="annot"><span class="annottext">NonEmpty SpanLinkSpecs -&gt; SpanLinkSpecs
SpanLinkSpecs -&gt; SpanLinkSpecs -&gt; SpanLinkSpecs
forall b. Integral b =&gt; b -&gt; SpanLinkSpecs -&gt; SpanLinkSpecs
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: forall b. Integral b =&gt; b -&gt; SpanLinkSpecs -&gt; SpanLinkSpecs
$cstimes :: forall b. Integral b =&gt; b -&gt; SpanLinkSpecs -&gt; SpanLinkSpecs
sconcat :: NonEmpty SpanLinkSpecs -&gt; SpanLinkSpecs
$csconcat :: NonEmpty SpanLinkSpecs -&gt; SpanLinkSpecs
&lt;&gt; :: SpanLinkSpecs -&gt; SpanLinkSpecs -&gt; SpanLinkSpecs
$c&lt;&gt; :: SpanLinkSpecs -&gt; SpanLinkSpecs -&gt; SpanLinkSpecs
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DList</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-type">SpanLinkSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-853"></span><span>
</span><span id="line-854"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#singletonSpanLinkSpecs"><span class="hs-identifier hs-type">singletonSpanLinkSpecs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-type">SpanLinkSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpecs"><span class="hs-identifier hs-type">SpanLinkSpecs</span></a></span><span>
</span><span id="line-855"></span><span id="singletonSpanLinkSpecs"><span class="annot"><span class="annottext">singletonSpanLinkSpecs :: SpanLinkSpec -&gt; SpanLinkSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#singletonSpanLinkSpecs"><span class="hs-identifier hs-var hs-var">singletonSpanLinkSpecs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DList SpanLinkSpec -&gt; SpanLinkSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpecs"><span class="hs-identifier hs-var">SpanLinkSpecs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; DList a
</span><span class="hs-identifier hs-var">DList.singleton</span></span><span>
</span><span id="line-856"></span><span>
</span><span id="line-857"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecsFromList"><span class="hs-identifier hs-type">spanLinkSpecsFromList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-type">SpanLinkSpec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpecs"><span class="hs-identifier hs-type">SpanLinkSpecs</span></a></span><span>
</span><span id="line-858"></span><span id="spanLinkSpecsFromList"><span class="annot"><span class="annottext">spanLinkSpecsFromList :: [SpanLinkSpec] -&gt; SpanLinkSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecsFromList"><span class="hs-identifier hs-var hs-var">spanLinkSpecsFromList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DList SpanLinkSpec -&gt; SpanLinkSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpecs"><span class="hs-identifier hs-var">SpanLinkSpecs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; DList a
</span><span class="hs-identifier hs-var">DList.fromList</span></span><span>
</span><span id="line-859"></span><span>
</span><span id="line-860"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecsToList"><span class="hs-identifier hs-type">spanLinkSpecsToList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpecs"><span class="hs-identifier hs-type">SpanLinkSpecs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-type">SpanLinkSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-861"></span><span id="spanLinkSpecsToList"><span class="annot"><span class="annottext">spanLinkSpecsToList :: SpanLinkSpecs -&gt; [SpanLinkSpec]
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecsToList"><span class="hs-identifier hs-var hs-var">spanLinkSpecsToList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">Foldable.toList</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SpanLinkSpecs -&gt; DList SpanLinkSpec
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanLinkSpecs"><span class="hs-identifier hs-var">unSpanLinkSpecs</span></a></span><span>
</span><span id="line-862"></span><span>
</span><span id="line-863"></span><span class="hs-keyword">data</span><span> </span><span id="SpanLink"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-var">SpanLink</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679112475"><span class="annot"><a href="#local-6989586621679112475"><span class="hs-identifier hs-type">attrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsFor</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanLink"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-var">SpanLink</span></a></span></span><span>
</span><span id="line-864"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="spanLinkSpanContext"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). SpanLink attrs -&gt; SpanContext
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpanContext"><span class="hs-identifier hs-var hs-var">spanLinkSpanContext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span>
</span><span id="line-865"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanLinkAttrs"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanLink attrs -&gt; attrs 'AttrsForSpanLink
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkAttrs"><span class="hs-identifier hs-var hs-var">spanLinkAttrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679112475"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span>
</span><span id="line-866"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-867"></span><span>
</span><span id="line-868"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110668"><span id="local-6989586621679110670"><span id="local-6989586621679110672"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-869"></span><span>  </span><span id="local-6989586621679110661"><span class="annot"><span class="annottext">toJSON :: SpanLink Attrs -&gt; Value
</span><a href="#local-6989586621679110661"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621679110660"><span class="annot"><span class="annottext">SpanLink Attrs
</span><a href="#local-6989586621679110660"><span class="hs-identifier hs-var">spanLink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-870"></span><span>    </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-871"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;spanContext&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679110659"><span class="hs-identifier hs-var">spanLinkSpanContext</span></a></span><span>
</span><span id="line-872"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;attributes&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Attrs 'AttrsForSpanLink
</span><a href="#local-6989586621679110658"><span class="hs-identifier hs-var">spanLinkAttrs</span></a></span><span>
</span><span id="line-873"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-874"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-875"></span><span>    </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span>
</span><span id="line-876"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679110659"><span class="annot"><span class="annottext">SpanContext
spanLinkSpanContext :: SpanContext
spanLinkSpanContext :: forall (attrs :: AttrsFor -&gt; *). SpanLink attrs -&gt; SpanContext
</span><a href="#local-6989586621679110659"><span class="hs-identifier hs-var hs-var">spanLinkSpanContext</span></a></span></span><span>
</span><span id="line-877"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110658"><span class="annot"><span class="annottext">Attrs 'AttrsForSpanLink
spanLinkAttrs :: Attrs 'AttrsForSpanLink
spanLinkAttrs :: forall (attrs :: AttrsFor -&gt; *).
SpanLink attrs -&gt; attrs 'AttrsForSpanLink
</span><a href="#local-6989586621679110658"><span class="hs-identifier hs-var hs-var">spanLinkAttrs</span></a></span></span><span>
</span><span id="line-878"></span><span>      </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanLink Attrs
</span><a href="#local-6989586621679110660"><span class="hs-identifier hs-var">spanLink</span></a></span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span id="local-6989586621679110652"><span id="local-6989586621679110656"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679112491"><span class="annot"><a href="#local-6989586621679112491"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679112491"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112491"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-881"></span><span id="local-6989586621679110643"><span id="local-6989586621679110645"><span id="local-6989586621679110650"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679112489"><span class="annot"><a href="#local-6989586621679112489"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679112489"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112489"><span class="hs-identifier hs-type">attrs</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-882"></span><span>
</span><span id="line-883"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeSpanLinkAttrs"><span class="hs-identifier hs-type">freezeSpanLinkAttrs</span></a></span><span>
</span><span id="line-884"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span>
</span><span id="line-885"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span>
</span><span id="line-886"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLink"><span class="hs-identifier hs-type">SpanLink</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span>
</span><span id="line-887"></span><span id="freezeSpanLinkAttrs"><span class="annot"><span class="annottext">freezeSpanLinkAttrs :: AttrsLimits 'AttrsForSpanLink
-&gt; SpanLink AttrsBuilder -&gt; SpanLink Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#freezeSpanLinkAttrs"><span class="hs-identifier hs-var hs-var">freezeSpanLinkAttrs</span></a></span></span><span> </span><span id="local-6989586621679110642"><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanLink
</span><a href="#local-6989586621679110642"><span class="hs-identifier hs-var">attrsLimits</span></a></span></span><span> </span><span id="local-6989586621679110641"><span class="annot"><span class="annottext">SpanLink AttrsBuilder
</span><a href="#local-6989586621679110641"><span class="hs-identifier hs-var">spanLink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-888"></span><span>  </span><span class="annot"><span class="annottext">SpanLink AttrsBuilder
</span><a href="#local-6989586621679110641"><span class="hs-identifier hs-var">spanLink</span></a></span><span>
</span><span id="line-889"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanLinkAttrs :: Attrs 'AttrsForSpanLink
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkAttrs"><span class="hs-identifier hs-var">spanLinkAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (af :: AttrsFor).
AttrsBuilder af -&gt; AttrsLimits af -&gt; Attrs af
</span><span class="hs-identifier hs-var">runAttrsBuilder</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
SpanLink attrs -&gt; attrs 'AttrsForSpanLink
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkAttrs"><span class="hs-identifier hs-var">spanLinkAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">SpanLink AttrsBuilder
</span><a href="#local-6989586621679110641"><span class="hs-identifier hs-var">spanLink</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanLink
</span><a href="#local-6989586621679110642"><span class="hs-identifier hs-var">attrsLimits</span></a></span><span>
</span><span id="line-890"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-891"></span><span>
</span><span id="line-892"></span><span class="hs-keyword">newtype</span><span> </span><span id="SpanLinkName"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkName"><span class="hs-identifier hs-var">SpanLinkName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanLinkName"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkName"><span class="hs-identifier hs-var">SpanLinkName</span></a></span></span><span>
</span><span id="line-893"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unSpanLinkName"><span class="annot"><span class="annottext">SpanLinkName -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanLinkName"><span class="hs-identifier hs-var hs-var">unSpanLinkName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-894"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110634"><span id="local-6989586621679110637"><span class="annot"><span class="annottext">SpanLinkName -&gt; SpanLinkName -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SpanLinkName -&gt; SpanLinkName -&gt; Bool
$c/= :: SpanLinkName -&gt; SpanLinkName -&gt; Bool
== :: SpanLinkName -&gt; SpanLinkName -&gt; Bool
$c== :: SpanLinkName -&gt; SpanLinkName -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110626"><span id="local-6989586621679110628"><span id="local-6989586621679110632"><span class="annot"><span class="annottext">Int -&gt; SpanLinkName -&gt; ShowS
[SpanLinkName] -&gt; ShowS
SpanLinkName -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SpanLinkName] -&gt; ShowS
$cshowList :: [SpanLinkName] -&gt; ShowS
show :: SpanLinkName -&gt; String
$cshow :: SpanLinkName -&gt; String
showsPrec :: Int -&gt; SpanLinkName -&gt; ShowS
$cshowsPrec :: Int -&gt; SpanLinkName -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsString</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkName"><span class="hs-identifier hs-type">SpanLinkName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-897"></span><span>  </span><span id="local-6989586621679110623"><span class="annot"><span class="annottext">fromString :: String -&gt; SpanLinkName
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; SpanLinkName
</span><a href="OTel.API.Trace.Core.Internal.html#SpanLinkName"><span class="hs-identifier hs-var">SpanLinkName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">Text.pack</span></span><span>
</span><span id="line-898"></span><span>
</span><span id="line-899"></span><span class="hs-keyword">data</span><span> </span><span id="SpanLinkSpec"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-var">SpanLinkSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanLinkSpec"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-var">SpanLinkSpec</span></a></span></span><span>
</span><span id="line-900"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="spanLinkSpecSpanContext"><span class="annot"><span class="annottext">SpanLinkSpec -&gt; SpanContext
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecSpanContext"><span class="hs-identifier hs-var hs-var">spanLinkSpecSpanContext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span>
</span><span id="line-901"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanLinkSpecAttrs"><span class="annot"><span class="annottext">SpanLinkSpec -&gt; AttrsBuilder 'AttrsForSpanLink
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecAttrs"><span class="hs-identifier hs-var hs-var">spanLinkSpecAttrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span>
</span><span id="line-902"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-903"></span><span>
</span><span id="line-904"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WithAttrs</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-type">SpanLinkSpec</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-905"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="WithAttrsAttrType"><span class="annot"><span class="hs-identifier hs-var">WithAttrsAttrType</span></span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-type">SpanLinkSpec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span>
</span><span id="line-906"></span><span>  </span><span id="local-6989586621679110616"><span class="annot"><span class="annottext">SpanLinkSpec
</span><a href="#local-6989586621679110616"><span class="hs-identifier hs-var">spanLinkSpec</span></a></span></span><span> </span><span id="local-6989586621679110615"><span class="annot"><span class="annottext">.:@ :: SpanLinkSpec
-&gt; AttrsBuilder (WithAttrsAttrType SpanLinkSpec) -&gt; SpanLinkSpec
</span><a href="#local-6989586621679110615"><span class="hs-operator hs-var hs-var hs-var hs-var">.:@</span></a></span></span><span> </span><span id="local-6989586621679110614"><span class="annot"><span class="annottext">AttrsBuilder (WithAttrsAttrType SpanLinkSpec)
</span><a href="#local-6989586621679110614"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-907"></span><span>    </span><span class="annot"><span class="annottext">SpanLinkSpec
</span><a href="#local-6989586621679110616"><span class="hs-identifier hs-var">spanLinkSpec</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanLinkSpecAttrs :: AttrsBuilder 'AttrsForSpanLink
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecAttrs"><span class="hs-identifier hs-var">spanLinkSpecAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AttrsBuilder (WithAttrsAttrType SpanLinkSpec)
</span><a href="#local-6989586621679110614"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">SpanLinkSpec -&gt; AttrsBuilder 'AttrsForSpanLink
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecAttrs"><span class="hs-identifier hs-var">spanLinkSpecAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">SpanLinkSpec
</span><a href="#local-6989586621679110616"><span class="hs-identifier hs-var">spanLinkSpec</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-908"></span><span>
</span><span id="line-909"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#defaultSpanLinkSpec"><span class="hs-identifier hs-type">defaultSpanLinkSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-type">SpanLinkSpec</span></a></span><span>
</span><span id="line-910"></span><span id="defaultSpanLinkSpec"><span class="annot"><span class="annottext">defaultSpanLinkSpec :: SpanLinkSpec
</span><a href="OTel.API.Trace.Core.Internal.html#defaultSpanLinkSpec"><span class="hs-identifier hs-var hs-var">defaultSpanLinkSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-911"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpec"><span class="hs-identifier hs-type">SpanLinkSpec</span></a></span><span>
</span><span id="line-912"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanLinkSpecSpanContext :: SpanContext
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecSpanContext"><span class="hs-identifier hs-var">spanLinkSpecSpanContext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanContext
</span><a href="OTel.API.Trace.Core.Internal.html#emptySpanContext"><span class="hs-identifier hs-var">emptySpanContext</span></a></span><span>
</span><span id="line-913"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanLinkSpecAttrs :: AttrsBuilder 'AttrsForSpanLink
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinkSpecAttrs"><span class="hs-identifier hs-var">spanLinkSpecAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-914"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-915"></span><span>
</span><span id="line-916"></span><span class="hs-keyword">data</span><span> </span><span id="SpanSpec"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-var">SpanSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanSpec"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-var">SpanSpec</span></a></span></span><span>
</span><span id="line-917"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="spanSpecName"><span class="annot"><span class="annottext">SpanSpec -&gt; SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecName"><span class="hs-identifier hs-var hs-var">spanSpecName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanName"><span class="hs-identifier hs-type">SpanName</span></a></span><span>
</span><span id="line-918"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanSpecParentContext"><span class="annot"><span class="annottext">SpanSpec -&gt; Maybe Context
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecParentContext"><span class="hs-identifier hs-var hs-var">spanSpecParentContext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Context</span></span><span>
</span><span id="line-919"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanSpecStart"><span class="annot"><span class="annottext">SpanSpec -&gt; TimestampSource
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecStart"><span class="hs-identifier hs-var hs-var">spanSpecStart</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TimestampSource</span></span><span>
</span><span id="line-920"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanSpecKind"><span class="annot"><span class="annottext">SpanSpec -&gt; SpanKind
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecKind"><span class="hs-identifier hs-var hs-var">spanSpecKind</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKind"><span class="hs-identifier hs-type">SpanKind</span></a></span><span>
</span><span id="line-921"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanSpecAttrs"><span class="annot"><span class="annottext">SpanSpec -&gt; AttrsBuilder 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecAttrs"><span class="hs-identifier hs-var hs-var">spanSpecAttrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpan</span></span><span>
</span><span id="line-922"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanSpecLinks"><span class="annot"><span class="annottext">SpanSpec -&gt; SpanLinkSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecLinks"><span class="hs-identifier hs-var hs-var">spanSpecLinks</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinkSpecs"><span class="hs-identifier hs-type">SpanLinkSpecs</span></a></span><span>
</span><span id="line-923"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-924"></span><span>
</span><span id="line-925"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsString</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-926"></span><span>  </span><span id="local-6989586621679110603"><span class="annot"><span class="annottext">fromString :: String -&gt; SpanSpec
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></span></span><span> </span><span id="local-6989586621679110602"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679110602"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-927"></span><span>    </span><span class="annot"><span class="annottext">SpanSpec
</span><a href="OTel.API.Trace.Core.Internal.html#defaultSpanSpec"><span class="hs-identifier hs-var">defaultSpanSpec</span></a></span><span>
</span><span id="line-928"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanSpecName :: SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecName"><span class="hs-identifier hs-var">spanSpecName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679110602"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-929"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-930"></span><span>
</span><span id="line-931"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WithAttrs</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-932"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="WithAttrsAttrType"><span class="annot"><span class="hs-identifier hs-var">WithAttrsAttrType</span></span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpan</span></span><span>
</span><span id="line-933"></span><span>  </span><span id="local-6989586621679110598"><span class="annot"><span class="annottext">SpanSpec
</span><a href="#local-6989586621679110598"><span class="hs-identifier hs-var">spanSpec</span></a></span></span><span> </span><span id="local-6989586621679110597"><span class="annot"><span class="annottext">.:@ :: SpanSpec -&gt; AttrsBuilder (WithAttrsAttrType SpanSpec) -&gt; SpanSpec
</span><a href="#local-6989586621679110597"><span class="hs-operator hs-var hs-var hs-var hs-var">.:@</span></a></span></span><span> </span><span id="local-6989586621679110596"><span class="annot"><span class="annottext">AttrsBuilder (WithAttrsAttrType SpanSpec)
</span><a href="#local-6989586621679110596"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-934"></span><span>    </span><span class="annot"><span class="annottext">SpanSpec
</span><a href="#local-6989586621679110598"><span class="hs-identifier hs-var">spanSpec</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanSpecAttrs :: AttrsBuilder 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecAttrs"><span class="hs-identifier hs-var">spanSpecAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AttrsBuilder (WithAttrsAttrType SpanSpec)
</span><a href="#local-6989586621679110596"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">SpanSpec -&gt; AttrsBuilder 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecAttrs"><span class="hs-identifier hs-var">spanSpecAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">SpanSpec
</span><a href="#local-6989586621679110598"><span class="hs-identifier hs-var">spanSpec</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-935"></span><span>
</span><span id="line-936"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#defaultSpanSpec"><span class="hs-identifier hs-type">defaultSpanSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span>
</span><span id="line-937"></span><span id="defaultSpanSpec"><span class="annot"><span class="annottext">defaultSpanSpec :: SpanSpec
</span><a href="OTel.API.Trace.Core.Internal.html#defaultSpanSpec"><span class="hs-identifier hs-var hs-var">defaultSpanSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-938"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanSpec"><span class="hs-identifier hs-type">SpanSpec</span></a></span><span>
</span><span id="line-939"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanSpecName :: SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecName"><span class="hs-identifier hs-var">spanSpecName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanName
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-940"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanSpecParentContext :: Maybe Context
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecParentContext"><span class="hs-identifier hs-var">spanSpecParentContext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-941"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanSpecStart :: TimestampSource
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecStart"><span class="hs-identifier hs-var">spanSpecStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TimestampSource
</span><span class="hs-identifier hs-var">TimestampSourceNow</span></span><span>
</span><span id="line-942"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanSpecKind :: SpanKind
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecKind"><span class="hs-identifier hs-var">spanSpecKind</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanKind
</span><a href="OTel.API.Trace.Core.Internal.html#SpanKindInternal"><span class="hs-identifier hs-var">SpanKindInternal</span></a></span><span>
</span><span id="line-943"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanSpecAttrs :: AttrsBuilder 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecAttrs"><span class="hs-identifier hs-var">spanSpecAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-944"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanSpecLinks :: SpanLinkSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#spanSpecLinks"><span class="hs-identifier hs-var">spanSpecLinks</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-945"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-946"></span><span>
</span><span id="line-947"></span><span class="hs-keyword">data</span><span> </span><span id="UpdateSpanSpec"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-var">UpdateSpanSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UpdateSpanSpec"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-var">UpdateSpanSpec</span></a></span></span><span>
</span><span id="line-948"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="updateSpanSpecName"><span class="annot"><span class="annottext">UpdateSpanSpec -&gt; Maybe SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecName"><span class="hs-identifier hs-var hs-var">updateSpanSpecName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanName"><span class="hs-identifier hs-type">SpanName</span></a></span><span>
</span><span id="line-949"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="updateSpanSpecStatus"><span class="annot"><span class="annottext">UpdateSpanSpec -&gt; Maybe SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecStatus"><span class="hs-identifier hs-var hs-var">updateSpanSpecStatus</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatus"><span class="hs-identifier hs-type">SpanStatus</span></a></span><span>
</span><span id="line-950"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="updateSpanSpecAttrs"><span class="annot"><span class="annottext">UpdateSpanSpec -&gt; Maybe (AttrsBuilder 'AttrsForSpan)
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecAttrs"><span class="hs-identifier hs-var hs-var">updateSpanSpecAttrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpan</span></span><span class="hs-special">)</span><span>
</span><span id="line-951"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="updateSpanSpecEvents"><span class="annot"><span class="annottext">UpdateSpanSpec -&gt; Maybe SpanEventSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecEvents"><span class="hs-identifier hs-var hs-var">updateSpanSpecEvents</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpecs"><span class="hs-identifier hs-type">SpanEventSpecs</span></a></span><span>
</span><span id="line-952"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-953"></span><span>
</span><span id="line-954"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsString</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-955"></span><span>  </span><span id="local-6989586621679110586"><span class="annot"><span class="annottext">fromString :: String -&gt; UpdateSpanSpec
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></span></span><span> </span><span id="local-6989586621679110585"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679110585"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-956"></span><span>    </span><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="OTel.API.Trace.Core.Internal.html#defaultUpdateSpanSpec"><span class="hs-identifier hs-var">defaultUpdateSpanSpec</span></a></span><span>
</span><span id="line-957"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">updateSpanSpecName :: Maybe SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecName"><span class="hs-identifier hs-var">updateSpanSpecName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. IsString a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">fromString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679110585"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-958"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-959"></span><span>
</span><span id="line-960"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WithAttrs</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-961"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="WithAttrsAttrType"><span class="annot"><span class="hs-identifier hs-var">WithAttrsAttrType</span></span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpan</span></span><span>
</span><span id="line-962"></span><span>  </span><span id="local-6989586621679110579"><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="#local-6989586621679110579"><span class="hs-identifier hs-var">updateSpanSpec</span></a></span></span><span> </span><span id="local-6989586621679110578"><span class="annot"><span class="annottext">.:@ :: UpdateSpanSpec
-&gt; AttrsBuilder (WithAttrsAttrType UpdateSpanSpec)
-&gt; UpdateSpanSpec
</span><a href="#local-6989586621679110578"><span class="hs-operator hs-var hs-var hs-var hs-var">.:@</span></a></span></span><span> </span><span id="local-6989586621679110577"><span class="annot"><span class="annottext">AttrsBuilder (WithAttrsAttrType UpdateSpanSpec)
</span><a href="#local-6989586621679110577"><span class="hs-identifier hs-var">attrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-963"></span><span>    </span><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="#local-6989586621679110579"><span class="hs-identifier hs-var">updateSpanSpec</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">updateSpanSpecAttrs :: Maybe (AttrsBuilder 'AttrsForSpan)
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecAttrs"><span class="hs-identifier hs-var">updateSpanSpecAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">AttrsBuilder (WithAttrsAttrType UpdateSpanSpec)
</span><a href="#local-6989586621679110577"><span class="hs-identifier hs-var">attrs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">UpdateSpanSpec -&gt; Maybe (AttrsBuilder 'AttrsForSpan)
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecAttrs"><span class="hs-identifier hs-var">updateSpanSpecAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="#local-6989586621679110579"><span class="hs-identifier hs-var">updateSpanSpec</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-964"></span><span>
</span><span id="line-965"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#defaultUpdateSpanSpec"><span class="hs-identifier hs-type">defaultUpdateSpanSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span>
</span><span id="line-966"></span><span id="defaultUpdateSpanSpec"><span class="annot"><span class="annottext">defaultUpdateSpanSpec :: UpdateSpanSpec
</span><a href="OTel.API.Trace.Core.Internal.html#defaultUpdateSpanSpec"><span class="hs-identifier hs-var hs-var">defaultUpdateSpanSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-967"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span>
</span><span id="line-968"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">updateSpanSpecName :: Maybe SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecName"><span class="hs-identifier hs-var">updateSpanSpecName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-969"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">updateSpanSpecStatus :: Maybe SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecStatus"><span class="hs-identifier hs-var">updateSpanSpecStatus</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-970"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">updateSpanSpecAttrs :: Maybe (AttrsBuilder 'AttrsForSpan)
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecAttrs"><span class="hs-identifier hs-var">updateSpanSpecAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-971"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">updateSpanSpecEvents :: Maybe SpanEventSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecEvents"><span class="hs-identifier hs-var">updateSpanSpecEvents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-972"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-973"></span><span>
</span><span id="line-974"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#buildSpanUpdater"><span class="hs-identifier hs-type">buildSpanUpdater</span></a></span><span>
</span><span id="line-975"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679112471"><span class="annot"><a href="#local-6989586621679112471"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-976"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679112471"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112471"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Timestamp</span></span><span>
</span><span id="line-978"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span>
</span><span id="line-979"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679112471"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span class="hs-special">)</span><span>
</span><span id="line-980"></span><span id="buildSpanUpdater"><span class="annot"><span class="annottext">buildSpanUpdater :: forall (m :: * -&gt; *).
Monad m =&gt;
m Timestamp
-&gt; UpdateSpanSpec -&gt; m (Span AttrsBuilder -&gt; Span AttrsBuilder)
</span><a href="OTel.API.Trace.Core.Internal.html#buildSpanUpdater"><span class="hs-identifier hs-var hs-var">buildSpanUpdater</span></a></span></span><span> </span><span id="local-6989586621679110560"><span class="annot"><span class="annottext">m Timestamp
</span><a href="#local-6989586621679110560"><span class="hs-identifier hs-var">getTimestamp</span></a></span></span><span> </span><span id="local-6989586621679110559"><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="#local-6989586621679110559"><span class="hs-identifier hs-var">updateSpanSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-981"></span><span>  </span><span id="local-6989586621679110558"><span class="annot"><span class="annottext">SpanEvents AttrsBuilder
</span><a href="#local-6989586621679110558"><span class="hs-identifier hs-var">newSpanEvents</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-982"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *).
DList (SpanEvent attrs) -&gt; SpanEvents attrs
</span><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-var">SpanEvents</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-983"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe SpanEventSpecs
</span><a href="#local-6989586621679110557"><span class="hs-identifier hs-var">updateSpanSpecEvents</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-984"></span><span>        </span><span class="annot"><span class="annottext">Maybe SpanEventSpecs
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-985"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679110556"><span class="annot"><span class="annottext">SpanEventSpecs
</span><a href="#local-6989586621679110556"><span class="hs-identifier hs-var">spanEventSpecs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-986"></span><span>          </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">Traversable.for</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpanEventSpecs -&gt; DList SpanEventSpec
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanEventSpecs"><span class="hs-identifier hs-var">unSpanEventSpecs</span></a></span><span> </span><span class="annot"><span class="annottext">SpanEventSpecs
</span><a href="#local-6989586621679110556"><span class="hs-identifier hs-var">spanEventSpecs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679110554"><span class="annot"><span class="annottext">SpanEventSpec
</span><a href="#local-6989586621679110554"><span class="hs-identifier hs-var">spanEventSpec</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-987"></span><span>            </span><span id="local-6989586621679110553"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110553"><span class="hs-identifier hs-var">spanEventTimestamp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-988"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SpanEventSpec -&gt; TimestampSource
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecTimestamp"><span class="hs-identifier hs-var">spanEventSpecTimestamp</span></a></span><span> </span><span class="annot"><span class="annottext">SpanEventSpec
</span><a href="#local-6989586621679110554"><span class="hs-identifier hs-var">spanEventSpec</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-989"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">TimestampSourceAt</span></span><span> </span><span id="local-6989586621679110551"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110551"><span class="hs-identifier hs-var">timestamp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110551"><span class="hs-identifier hs-var">timestamp</span></a></span><span>
</span><span id="line-990"></span><span>                </span><span class="annot"><span class="annottext">TimestampSource
</span><span class="hs-identifier hs-var">TimestampSourceNow</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m Timestamp
</span><a href="#local-6989586621679110560"><span class="hs-identifier hs-var">getTimestamp</span></a></span><span>
</span><span id="line-991"></span><span>            </span><span class="hs-identifier">pure</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvent"><span class="hs-identifier hs-type">SpanEvent</span></a></span><span>
</span><span id="line-992"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanEventName :: SpanEventName
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventName"><span class="hs-identifier hs-var">spanEventName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanEventSpec -&gt; SpanEventName
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecName"><span class="hs-identifier hs-var">spanEventSpecName</span></a></span><span> </span><span class="annot"><span class="annottext">SpanEventSpec
</span><a href="#local-6989586621679110554"><span class="hs-identifier hs-var">spanEventSpec</span></a></span><span>
</span><span id="line-993"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Timestamp
spanEventTimestamp :: Timestamp
spanEventTimestamp :: Timestamp
</span><a href="#local-6989586621679110553"><span class="hs-identifier hs-var hs-var">spanEventTimestamp</span></a></span><span>
</span><span id="line-994"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanEventAttrs :: AttrsBuilder 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventAttrs"><span class="hs-identifier hs-var">spanEventAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanEventSpec -&gt; AttrsBuilder 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecAttrs"><span class="hs-identifier hs-var">spanEventSpecAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">SpanEventSpec
</span><a href="#local-6989586621679110554"><span class="hs-identifier hs-var">spanEventSpec</span></a></span><span>
</span><span id="line-995"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-996"></span><span>  </span><span class="hs-identifier">pure</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679110550"><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-997"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanIsRecording"><span class="hs-identifier hs-var">spanIsRecording</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-998"></span><span>      </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-999"></span><span>    </span><span class="hs-keyword">else</span><span>
</span><span id="line-1000"></span><span>      </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1001"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanName :: SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#spanName"><span class="hs-identifier hs-var">spanName</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1002"></span><span>            </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">Maybe.fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#spanName"><span class="hs-identifier hs-var">spanName</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe SpanName
</span><a href="#local-6989586621679110546"><span class="hs-identifier hs-var">updateSpanSpecName</span></a></span><span>
</span><span id="line-1003"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanStatus :: SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#spanStatus"><span class="hs-identifier hs-var">spanStatus</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1004"></span><span>            </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">Maybe.maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#spanStatus"><span class="hs-identifier hs-var">spanStatus</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#spanStatus"><span class="hs-identifier hs-var">spanStatus</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe SpanStatus
</span><a href="#local-6989586621679110542"><span class="hs-identifier hs-var">updateSpanSpecStatus</span></a></span><span>
</span><span id="line-1005"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanAttrs :: AttrsBuilder 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanAttrs"><span class="hs-identifier hs-var">spanAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1006"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (AttrsBuilder 'AttrsForSpan)
</span><a href="#local-6989586621679110540"><span class="hs-identifier hs-var">updateSpanSpecAttrs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1007"></span><span>              </span><span class="annot"><span class="annottext">Maybe (AttrsBuilder 'AttrsForSpan)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; attrs 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanAttrs"><span class="hs-identifier hs-var">spanAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1008"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679110539"><span class="annot"><span class="annottext">AttrsBuilder 'AttrsForSpan
</span><a href="#local-6989586621679110539"><span class="hs-identifier hs-var">attrsBuilder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1009"></span><span>                </span><span class="annot"><span class="annottext">AttrsBuilder 'AttrsForSpan
</span><a href="#local-6989586621679110539"><span class="hs-identifier hs-var">attrsBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; attrs 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanAttrs"><span class="hs-identifier hs-var">spanAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1010"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanEvents :: SpanEvents AttrsBuilder
</span><a href="OTel.API.Trace.Core.Internal.html#spanEvents"><span class="hs-identifier hs-var">spanEvents</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1011"></span><span>            </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanEvents attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanEvents"><span class="hs-identifier hs-var">spanEvents</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110550"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">SpanEvents AttrsBuilder
</span><a href="#local-6989586621679110558"><span class="hs-identifier hs-var">newSpanEvents</span></a></span><span>
</span><span id="line-1012"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-1013"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1014"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span>
</span><span id="line-1015"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679110546"><span class="annot"><span class="annottext">Maybe SpanName
updateSpanSpecName :: Maybe SpanName
updateSpanSpecName :: UpdateSpanSpec -&gt; Maybe SpanName
</span><a href="#local-6989586621679110546"><span class="hs-identifier hs-var hs-var">updateSpanSpecName</span></a></span></span><span>
</span><span id="line-1016"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110542"><span class="annot"><span class="annottext">Maybe SpanStatus
updateSpanSpecStatus :: Maybe SpanStatus
updateSpanSpecStatus :: UpdateSpanSpec -&gt; Maybe SpanStatus
</span><a href="#local-6989586621679110542"><span class="hs-identifier hs-var hs-var">updateSpanSpecStatus</span></a></span></span><span>
</span><span id="line-1017"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110540"><span class="annot"><span class="annottext">Maybe (AttrsBuilder 'AttrsForSpan)
updateSpanSpecAttrs :: Maybe (AttrsBuilder 'AttrsForSpan)
updateSpanSpecAttrs :: UpdateSpanSpec -&gt; Maybe (AttrsBuilder 'AttrsForSpan)
</span><a href="#local-6989586621679110540"><span class="hs-identifier hs-var hs-var">updateSpanSpecAttrs</span></a></span></span><span>
</span><span id="line-1018"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110557"><span class="annot"><span class="annottext">Maybe SpanEventSpecs
updateSpanSpecEvents :: Maybe SpanEventSpecs
updateSpanSpecEvents :: UpdateSpanSpec -&gt; Maybe SpanEventSpecs
</span><a href="#local-6989586621679110557"><span class="hs-identifier hs-var hs-var">updateSpanSpecEvents</span></a></span></span><span>
</span><span id="line-1019"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="#local-6989586621679110559"><span class="hs-identifier hs-var">updateSpanSpec</span></a></span><span>
</span><span id="line-1020"></span><span>
</span><span id="line-1021"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#recordException"><span class="hs-identifier hs-type">recordException</span></a></span><span>
</span><span id="line-1022"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span>
</span><span id="line-1023"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1024"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TimestampSource</span></span><span>
</span><span id="line-1025"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span>
</span><span id="line-1026"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#UpdateSpanSpec"><span class="hs-identifier hs-type">UpdateSpanSpec</span></a></span><span>
</span><span id="line-1027"></span><span id="recordException"><span class="annot"><span class="annottext">recordException :: SomeException
-&gt; Bool
-&gt; TimestampSource
-&gt; AttrsBuilder 'AttrsForSpanEvent
-&gt; UpdateSpanSpec
</span><a href="OTel.API.Trace.Core.Internal.html#recordException"><span class="hs-identifier hs-var hs-var">recordException</span></a></span></span><span> </span><span id="local-6989586621679110537"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679110537"><span class="hs-identifier hs-var">someEx</span></a></span></span><span> </span><span id="local-6989586621679110536"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679110536"><span class="hs-identifier hs-var">escaped</span></a></span></span><span> </span><span id="local-6989586621679110535"><span class="annot"><span class="annottext">TimestampSource
</span><a href="#local-6989586621679110535"><span class="hs-identifier hs-var">timestamp</span></a></span></span><span> </span><span id="local-6989586621679110534"><span class="annot"><span class="annottext">AttrsBuilder 'AttrsForSpanEvent
</span><a href="#local-6989586621679110534"><span class="hs-identifier hs-var">attributes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1028"></span><span>  </span><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="OTel.API.Trace.Core.Internal.html#defaultUpdateSpanSpec"><span class="hs-identifier hs-var">defaultUpdateSpanSpec</span></a></span><span>
</span><span id="line-1029"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">updateSpanSpecEvents :: Maybe SpanEventSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecEvents"><span class="hs-identifier hs-var">updateSpanSpecEvents</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1030"></span><span>        </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SpanEventSpec] -&gt; SpanEventSpecs
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecsFromList"><span class="hs-identifier hs-var">spanEventSpecsFromList</span></a></span><span>
</span><span id="line-1031"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SomeException
-&gt; Bool
-&gt; TimestampSource
-&gt; AttrsBuilder 'AttrsForSpanEvent
-&gt; SpanEventSpec
</span><a href="OTel.API.Trace.Core.Internal.html#exceptionEvent"><span class="hs-identifier hs-var">exceptionEvent</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679110537"><span class="hs-identifier hs-var">someEx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679110536"><span class="hs-identifier hs-var">escaped</span></a></span><span> </span><span class="annot"><span class="annottext">TimestampSource
</span><a href="#local-6989586621679110535"><span class="hs-identifier hs-var">timestamp</span></a></span><span> </span><span class="annot"><span class="annottext">AttrsBuilder 'AttrsForSpanEvent
</span><a href="#local-6989586621679110534"><span class="hs-identifier hs-var">attributes</span></a></span><span>
</span><span id="line-1032"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-1033"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">updateSpanSpecStatus :: Maybe SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecStatus"><span class="hs-identifier hs-var">updateSpanSpecStatus</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1034"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679110536"><span class="hs-identifier hs-var">escaped</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-1035"></span><span>          </span><span class="annot"><span class="annottext">UpdateSpanSpec -&gt; Maybe SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#updateSpanSpecStatus"><span class="hs-identifier hs-var">updateSpanSpecStatus</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateSpanSpec
</span><a href="OTel.API.Trace.Core.Internal.html#defaultUpdateSpanSpec"><span class="hs-identifier hs-var">defaultUpdateSpanSpec</span></a></span><span>
</span><span id="line-1036"></span><span>        </span><span class="hs-keyword">else</span><span>
</span><span id="line-1037"></span><span>          </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#SpanStatusError"><span class="hs-identifier hs-var">SpanStatusError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Exception escaped enclosing scope&quot;</span></span><span>
</span><span id="line-1038"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-1039"></span><span>
</span><span id="line-1040"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#exceptionEvent"><span class="hs-identifier hs-type">exceptionEvent</span></a></span><span>
</span><span id="line-1041"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span>
</span><span id="line-1042"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1043"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TimestampSource</span></span><span>
</span><span id="line-1044"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span>
</span><span id="line-1045"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span>
</span><span id="line-1046"></span><span id="exceptionEvent"><span class="annot"><span class="annottext">exceptionEvent :: SomeException
-&gt; Bool
-&gt; TimestampSource
-&gt; AttrsBuilder 'AttrsForSpanEvent
-&gt; SpanEventSpec
</span><a href="OTel.API.Trace.Core.Internal.html#exceptionEvent"><span class="hs-identifier hs-var hs-var">exceptionEvent</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span id="local-6989586621679110509"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679110509"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679110508"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679110508"><span class="hs-identifier hs-var">escaped</span></a></span></span><span> </span><span id="local-6989586621679110507"><span class="annot"><span class="annottext">TimestampSource
</span><a href="#local-6989586621679110507"><span class="hs-identifier hs-var">timestamp</span></a></span></span><span> </span><span id="local-6989586621679110506"><span class="annot"><span class="annottext">AttrsBuilder 'AttrsForSpanEvent
</span><a href="#local-6989586621679110506"><span class="hs-identifier hs-var">attributes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1047"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEventSpec"><span class="hs-identifier hs-type">SpanEventSpec</span></a></span><span>
</span><span id="line-1048"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanEventSpecName :: SpanEventName
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecName"><span class="hs-identifier hs-var">spanEventSpecName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanEventName
</span><span class="hs-string">&quot;exception&quot;</span></span><span>
</span><span id="line-1049"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanEventSpecTimestamp :: TimestampSource
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecTimestamp"><span class="hs-identifier hs-var">spanEventSpecTimestamp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TimestampSource
</span><a href="#local-6989586621679110507"><span class="hs-identifier hs-var">timestamp</span></a></span><span>
</span><span id="line-1050"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanEventSpecAttrs :: AttrsBuilder 'AttrsForSpanEvent
</span><a href="OTel.API.Trace.Core.Internal.html#spanEventSpecAttrs"><span class="hs-identifier hs-var">spanEventSpecAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1051"></span><span>        </span><span class="annot"><span class="annottext">AttrsBuilder 'AttrsForSpanEvent
</span><a href="#local-6989586621679110506"><span class="hs-identifier hs-var">attributes</span></a></span><span>
</span><span id="line-1052"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Key Text
</span><a href="OTel.API.Trace.Core.Attributes.html#EXCEPTION_TYPE"><span class="hs-identifier hs-var">EXCEPTION_TYPE</span></a></span><span> </span><span class="annot"><span class="annottext">forall kv from to.
(KV kv, KVConstraints kv from to) =&gt;
Key to -&gt; from -&gt; kv
</span><span class="hs-operator hs-var">.@</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Typeable a =&gt; a -&gt; TypeRep
</span><span class="hs-identifier hs-var">Typeable.typeOf</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679110509"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1053"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Key Text
</span><a href="OTel.API.Trace.Core.Attributes.html#EXCEPTION_MESSAGE"><span class="hs-identifier hs-var">EXCEPTION_MESSAGE</span></a></span><span> </span><span class="annot"><span class="annottext">forall kv from to.
(KV kv, KVConstraints kv from to) =&gt;
Key to -&gt; from -&gt; kv
</span><span class="hs-operator hs-var">.@</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; e -&gt; String
</span><span class="hs-identifier hs-var">Exception.displayException</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679110509"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1054"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Key Bool
</span><a href="OTel.API.Trace.Core.Attributes.html#EXCEPTION_ESCAPED"><span class="hs-identifier hs-var">EXCEPTION_ESCAPED</span></a></span><span> </span><span class="annot"><span class="annottext">forall kv from to.
(KV kv, KVConstraints kv from to) =&gt;
Key to -&gt; from -&gt; kv
</span><span class="hs-operator hs-var">.@</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679110508"><span class="hs-identifier hs-var">escaped</span></a></span><span>
</span><span id="line-1055"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-1056"></span><span>
</span><span id="line-1057"></span><span class="hs-keyword">newtype</span><span> </span><span id="SpanName"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanName"><span class="hs-identifier hs-var">SpanName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpanName"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanName"><span class="hs-identifier hs-var">SpanName</span></a></span></span><span>
</span><span id="line-1058"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unSpanName"><span class="annot"><span class="annottext">SpanName -&gt; Text
</span><a href="OTel.API.Trace.Core.Internal.html#unSpanName"><span class="hs-identifier hs-var hs-var">unSpanName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-1059"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110497"><span id="local-6989586621679110500"><span class="annot"><span class="annottext">SpanName -&gt; SpanName -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SpanName -&gt; SpanName -&gt; Bool
$c/= :: SpanName -&gt; SpanName -&gt; Bool
== :: SpanName -&gt; SpanName -&gt; Bool
$c== :: SpanName -&gt; SpanName -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110489"><span id="local-6989586621679110491"><span id="local-6989586621679110495"><span class="annot"><span class="annottext">Int -&gt; SpanName -&gt; ShowS
[SpanName] -&gt; ShowS
SpanName -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SpanName] -&gt; ShowS
$cshowList :: [SpanName] -&gt; ShowS
show :: SpanName -&gt; String
$cshow :: SpanName -&gt; String
showsPrec :: Int -&gt; SpanName -&gt; ShowS
$cshowsPrec :: Int -&gt; SpanName -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1060"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110475"><span id="local-6989586621679110479"><span id="local-6989586621679110483"><span id="local-6989586621679110487"><span class="annot"><span class="annottext">[SpanName] -&gt; Encoding
[SpanName] -&gt; Value
SpanName -&gt; Encoding
SpanName -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [SpanName] -&gt; Encoding
$ctoEncodingList :: [SpanName] -&gt; Encoding
toJSONList :: [SpanName] -&gt; Value
$ctoJSONList :: [SpanName] -&gt; Value
toEncoding :: SpanName -&gt; Encoding
$ctoEncoding :: SpanName -&gt; Encoding
toJSON :: SpanName -&gt; Value
$ctoJSON :: SpanName -&gt; Value
</span><a href="#local-6989586621679110475"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-1061"></span><span>
</span><span id="line-1062"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsString</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanName"><span class="hs-identifier hs-type">SpanName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1063"></span><span>  </span><span id="local-6989586621679110470"><span class="annot"><span class="annottext">fromString :: String -&gt; SpanName
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#SpanName"><span class="hs-identifier hs-var">SpanName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">Text.pack</span></span><span>
</span><span id="line-1064"></span><span>
</span><span id="line-1065"></span><span class="hs-keyword">newtype</span><span> </span><span id="MutableSpan"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-var">MutableSpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MutableSpan"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-var">MutableSpan</span></a></span></span><span>
</span><span id="line-1066"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unMutableSpan"><span class="annot"><span class="annottext">MutableSpan -&gt; IORef (Span AttrsBuilder)
</span><a href="OTel.API.Trace.Core.Internal.html#unMutableSpan"><span class="hs-identifier hs-var hs-var">unMutableSpan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span class="hs-special">)</span><span>
</span><span id="line-1067"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-1068"></span><span>
</span><span id="line-1069"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#unsafeNewMutableSpan"><span class="hs-identifier hs-type">unsafeNewMutableSpan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span>
</span><span id="line-1070"></span><span id="unsafeNewMutableSpan"><span class="annot"><span class="annottext">unsafeNewMutableSpan :: Span AttrsBuilder -&gt; IO MutableSpan
</span><a href="OTel.API.Trace.Core.Internal.html#unsafeNewMutableSpan"><span class="hs-identifier hs-var hs-var">unsafeNewMutableSpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">IORef (Span AttrsBuilder) -&gt; MutableSpan
</span><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-var">MutableSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; IO (IORef a)
</span><span class="hs-identifier hs-var">IORef.newIORef</span></span><span>
</span><span id="line-1071"></span><span>
</span><span id="line-1072"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#unsafeReadMutableSpan"><span class="hs-identifier hs-type">unsafeReadMutableSpan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span class="hs-special">)</span><span>
</span><span id="line-1073"></span><span id="unsafeReadMutableSpan"><span class="annot"><span class="annottext">unsafeReadMutableSpan :: MutableSpan -&gt; IO (Span AttrsBuilder)
</span><a href="OTel.API.Trace.Core.Internal.html#unsafeReadMutableSpan"><span class="hs-identifier hs-var hs-var">unsafeReadMutableSpan</span></a></span></span><span> </span><span id="local-6989586621679110466"><span class="annot"><span class="annottext">MutableSpan
</span><a href="#local-6989586621679110466"><span class="hs-identifier hs-var">mutableSpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1074"></span><span>  </span><span class="annot"><span class="annottext">forall a.
MutableSpan
-&gt; (Span AttrsBuilder -&gt; (Span AttrsBuilder, a)) -&gt; IO a
</span><a href="OTel.API.Trace.Core.Internal.html#unsafeModifyMutableSpan"><span class="hs-identifier hs-var">unsafeModifyMutableSpan</span></a></span><span> </span><span class="annot"><span class="annottext">MutableSpan
</span><a href="#local-6989586621679110466"><span class="hs-identifier hs-var">mutableSpan</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679110465"><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110465"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110465"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110465"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1075"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#unsafeReadMutableSpan"><span class="hs-pragma hs-type">unsafeReadMutableSpan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1076"></span><span>
</span><span id="line-1077"></span><span id="local-6989586621679112452"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#unsafeModifyMutableSpan"><span class="hs-identifier hs-type">unsafeModifyMutableSpan</span></a></span><span>
</span><span id="line-1078"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#MutableSpan"><span class="hs-identifier hs-type">MutableSpan</span></a></span><span>
</span><span id="line-1079"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679112452"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1080"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679112452"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1081"></span><span id="unsafeModifyMutableSpan"><span class="annot"><span class="annottext">unsafeModifyMutableSpan :: forall a.
MutableSpan
-&gt; (Span AttrsBuilder -&gt; (Span AttrsBuilder, a)) -&gt; IO a
</span><a href="OTel.API.Trace.Core.Internal.html#unsafeModifyMutableSpan"><span class="hs-identifier hs-var hs-var">unsafeModifyMutableSpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. IORef a -&gt; (a -&gt; (a, b)) -&gt; IO b
</span><span class="hs-identifier hs-var">IORef.atomicModifyIORef'</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">MutableSpan -&gt; IORef (Span AttrsBuilder)
</span><a href="OTel.API.Trace.Core.Internal.html#unMutableSpan"><span class="hs-identifier hs-var">unMutableSpan</span></a></span><span>
</span><span id="line-1082"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#unsafeModifyMutableSpan"><span class="hs-pragma hs-type">unsafeModifyMutableSpan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1083"></span><span>
</span><span id="line-1084"></span><span class="hs-keyword">data</span><span> </span><span id="Span"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-var">Span</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679112465"><span class="annot"><a href="#local-6989586621679112465"><span class="hs-identifier hs-type">attrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsFor</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Span"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-var">Span</span></a></span></span><span>
</span><span id="line-1085"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="spanLineage"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanLineage
</span><a href="OTel.API.Trace.Core.Internal.html#spanLineage"><span class="hs-identifier hs-var hs-var">spanLineage</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLineage"><span class="hs-identifier hs-type">SpanLineage</span></a></span><span>
</span><span id="line-1086"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanContext"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanContext
</span><a href="OTel.API.Trace.Core.Internal.html#spanContext"><span class="hs-identifier hs-var hs-var">spanContext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span>
</span><span id="line-1087"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanName"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanName
</span><a href="OTel.API.Trace.Core.Internal.html#spanName"><span class="hs-identifier hs-var hs-var">spanName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanName"><span class="hs-identifier hs-type">SpanName</span></a></span><span>
</span><span id="line-1088"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanStatus"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#spanStatus"><span class="hs-identifier hs-var hs-var">spanStatus</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatus"><span class="hs-identifier hs-type">SpanStatus</span></a></span><span>
</span><span id="line-1089"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanStart"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; Timestamp
</span><a href="OTel.API.Trace.Core.Internal.html#spanStart"><span class="hs-identifier hs-var hs-var">spanStart</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Timestamp</span></span><span>
</span><span id="line-1090"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanFrozenAt"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanFrozenAt attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanFrozenAt"><span class="hs-identifier hs-var hs-var">spanFrozenAt</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenAt"><span class="hs-identifier hs-type">SpanFrozenAt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112465"><span class="hs-identifier hs-type">attrs</span></a></span><span>
</span><span id="line-1091"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanKind"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanKind
</span><a href="OTel.API.Trace.Core.Internal.html#spanKind"><span class="hs-identifier hs-var hs-var">spanKind</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKind"><span class="hs-identifier hs-type">SpanKind</span></a></span><span>
</span><span id="line-1092"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanAttrs"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; attrs 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanAttrs"><span class="hs-identifier hs-var hs-var">spanAttrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679112465"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpan</span></span><span>
</span><span id="line-1093"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanLinks"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanLinks attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinks"><span class="hs-identifier hs-var hs-var">spanLinks</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLinks"><span class="hs-identifier hs-type">SpanLinks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112465"><span class="hs-identifier hs-type">attrs</span></a></span><span>
</span><span id="line-1094"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanEvents"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanEvents attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanEvents"><span class="hs-identifier hs-var hs-var">spanEvents</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanEvents"><span class="hs-identifier hs-type">SpanEvents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112465"><span class="hs-identifier hs-type">attrs</span></a></span><span>
</span><span id="line-1095"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanIsRecording"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanIsRecording"><span class="hs-identifier hs-var hs-var">spanIsRecording</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1096"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="spanInstrumentationScope"><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; InstrumentationScope
</span><a href="OTel.API.Trace.Core.Internal.html#spanInstrumentationScope"><span class="hs-identifier hs-var hs-var">spanInstrumentationScope</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">InstrumentationScope</span></span><span>
</span><span id="line-1097"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-1098"></span><span>
</span><span id="line-1099"></span><span id="local-6989586621679110436"><span id="local-6989586621679110454"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1100"></span><span id="local-6989586621679110413"><span id="local-6989586621679110415"><span id="local-6989586621679110434"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1101"></span><span>
</span><span id="line-1102"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110406"><span id="local-6989586621679110408"><span id="local-6989586621679110410"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1103"></span><span>  </span><span id="local-6989586621679110368"><span class="annot"><span class="annottext">toJSON :: Span Attrs -&gt; Value
</span><a href="#local-6989586621679110368"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621679110367"><span class="annot"><span class="annottext">Span Attrs
</span><a href="#local-6989586621679110367"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1104"></span><span>    </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-1105"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;parent&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanLineage
</span><a href="#local-6989586621679110366"><span class="hs-identifier hs-var">spanLineage</span></a></span><span>
</span><span id="line-1106"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;spanContext&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679110365"><span class="hs-identifier hs-var">spanContext</span></a></span><span>
</span><span id="line-1107"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanName
</span><a href="#local-6989586621679110364"><span class="hs-identifier hs-var">spanName</span></a></span><span>
</span><span id="line-1108"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;status&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanStatus
</span><a href="#local-6989586621679110363"><span class="hs-identifier hs-var">spanStatus</span></a></span><span>
</span><span id="line-1109"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;start&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110362"><span class="hs-identifier hs-var">spanStart</span></a></span><span>
</span><span id="line-1110"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;frozenAt&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanFrozenAt Attrs
</span><a href="#local-6989586621679110361"><span class="hs-identifier hs-var">spanFrozenAt</span></a></span><span>
</span><span id="line-1111"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanKind
</span><a href="#local-6989586621679110360"><span class="hs-identifier hs-var">spanKind</span></a></span><span>
</span><span id="line-1112"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;attributes&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Attrs 'AttrsForSpan
</span><a href="#local-6989586621679110359"><span class="hs-identifier hs-var">spanAttrs</span></a></span><span>
</span><span id="line-1113"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;links&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanLinks Attrs
</span><a href="#local-6989586621679110358"><span class="hs-identifier hs-var">spanLinks</span></a></span><span>
</span><span id="line-1114"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;events&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">SpanEvents Attrs
</span><a href="#local-6989586621679110357"><span class="hs-identifier hs-var">spanEvents</span></a></span><span>
</span><span id="line-1115"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;isRecording&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679110356"><span class="hs-identifier hs-var">spanIsRecording</span></a></span><span>
</span><span id="line-1116"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;instrumentationScope&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">InstrumentationScope
</span><a href="#local-6989586621679110355"><span class="hs-identifier hs-var">spanInstrumentationScope</span></a></span><span>
</span><span id="line-1117"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-1118"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-1119"></span><span>    </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span>
</span><span id="line-1120"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679110366"><span class="annot"><span class="annottext">SpanLineage
spanLineage :: SpanLineage
spanLineage :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanLineage
</span><a href="#local-6989586621679110366"><span class="hs-identifier hs-var hs-var">spanLineage</span></a></span></span><span>
</span><span id="line-1121"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110365"><span class="annot"><span class="annottext">SpanContext
spanContext :: SpanContext
spanContext :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanContext
</span><a href="#local-6989586621679110365"><span class="hs-identifier hs-var hs-var">spanContext</span></a></span></span><span>
</span><span id="line-1122"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110364"><span class="annot"><span class="annottext">SpanName
spanName :: SpanName
spanName :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanName
</span><a href="#local-6989586621679110364"><span class="hs-identifier hs-var hs-var">spanName</span></a></span></span><span>
</span><span id="line-1123"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110363"><span class="annot"><span class="annottext">SpanStatus
spanStatus :: SpanStatus
spanStatus :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanStatus
</span><a href="#local-6989586621679110363"><span class="hs-identifier hs-var hs-var">spanStatus</span></a></span></span><span>
</span><span id="line-1124"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110362"><span class="annot"><span class="annottext">Timestamp
spanStart :: Timestamp
spanStart :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; Timestamp
</span><a href="#local-6989586621679110362"><span class="hs-identifier hs-var hs-var">spanStart</span></a></span></span><span>
</span><span id="line-1125"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110361"><span class="annot"><span class="annottext">SpanFrozenAt Attrs
spanFrozenAt :: SpanFrozenAt Attrs
spanFrozenAt :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanFrozenAt attrs
</span><a href="#local-6989586621679110361"><span class="hs-identifier hs-var hs-var">spanFrozenAt</span></a></span></span><span>
</span><span id="line-1126"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110360"><span class="annot"><span class="annottext">SpanKind
spanKind :: SpanKind
spanKind :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanKind
</span><a href="#local-6989586621679110360"><span class="hs-identifier hs-var hs-var">spanKind</span></a></span></span><span>
</span><span id="line-1127"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110359"><span class="annot"><span class="annottext">Attrs 'AttrsForSpan
spanAttrs :: Attrs 'AttrsForSpan
spanAttrs :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; attrs 'AttrsForSpan
</span><a href="#local-6989586621679110359"><span class="hs-identifier hs-var hs-var">spanAttrs</span></a></span></span><span>
</span><span id="line-1128"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110358"><span class="annot"><span class="annottext">SpanLinks Attrs
spanLinks :: SpanLinks Attrs
spanLinks :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanLinks attrs
</span><a href="#local-6989586621679110358"><span class="hs-identifier hs-var hs-var">spanLinks</span></a></span></span><span>
</span><span id="line-1129"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110357"><span class="annot"><span class="annottext">SpanEvents Attrs
spanEvents :: SpanEvents Attrs
spanEvents :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanEvents attrs
</span><a href="#local-6989586621679110357"><span class="hs-identifier hs-var hs-var">spanEvents</span></a></span></span><span>
</span><span id="line-1130"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110356"><span class="annot"><span class="annottext">Bool
spanIsRecording :: Bool
spanIsRecording :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; Bool
</span><a href="#local-6989586621679110356"><span class="hs-identifier hs-var hs-var">spanIsRecording</span></a></span></span><span>
</span><span id="line-1131"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110355"><span class="annot"><span class="annottext">InstrumentationScope
spanInstrumentationScope :: InstrumentationScope
spanInstrumentationScope :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; InstrumentationScope
</span><a href="#local-6989586621679110355"><span class="hs-identifier hs-var hs-var">spanInstrumentationScope</span></a></span></span><span>
</span><span id="line-1132"></span><span>      </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span Attrs
</span><a href="#local-6989586621679110367"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1133"></span><span>
</span><span id="line-1134"></span><span id="local-6989586621679110354"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIsRemote"><span class="hs-identifier hs-type">spanIsRemote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679110354"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-1135"></span><span id="spanIsRemote"><span class="annot"><span class="annottext">spanIsRemote :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanIsRemote"><span class="hs-identifier hs-var hs-var">spanIsRemote</span></a></span></span><span> </span><span id="local-6989586621679110353"><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110353"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanContext -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextIsRemote"><span class="hs-identifier hs-var">spanContextIsRemote</span></a></span><span> </span><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679110352"><span class="hs-identifier hs-var">spanContext</span></a></span><span>
</span><span id="line-1136"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1137"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679110352"><span class="annot"><span class="annottext">SpanContext
spanContext :: SpanContext
spanContext :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanContext
</span><a href="#local-6989586621679110352"><span class="hs-identifier hs-var hs-var">spanContext</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110353"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1138"></span><span>
</span><span id="line-1139"></span><span id="local-6989586621679110351"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIsSampled"><span class="hs-identifier hs-type">spanIsSampled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679110351"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-1140"></span><span id="spanIsSampled"><span class="annot"><span class="annottext">spanIsSampled :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanIsSampled"><span class="hs-identifier hs-var hs-var">spanIsSampled</span></a></span></span><span> </span><span id="local-6989586621679110350"><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110350"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanContext -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanContextIsSampled"><span class="hs-identifier hs-var">spanContextIsSampled</span></a></span><span> </span><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679110349"><span class="hs-identifier hs-var">spanContext</span></a></span><span>
</span><span id="line-1141"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1142"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679110349"><span class="annot"><span class="annottext">SpanContext
spanContext :: SpanContext
spanContext :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanContext
</span><a href="#local-6989586621679110349"><span class="hs-identifier hs-var hs-var">spanContext</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110350"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1143"></span><span>
</span><span id="line-1144"></span><span id="local-6989586621679110348"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIsRoot"><span class="hs-identifier hs-type">spanIsRoot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679110348"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-1145"></span><span id="spanIsRoot"><span class="annot"><span class="annottext">spanIsRoot :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanIsRoot"><span class="hs-identifier hs-var hs-var">spanIsRoot</span></a></span></span><span> </span><span id="local-6989586621679110346"><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110346"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpanLineage
</span><a href="OTel.API.Trace.Core.Internal.html#SpanLineageRoot"><span class="hs-identifier hs-var">SpanLineageRoot</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanLineage
</span><a href="OTel.API.Trace.Core.Internal.html#spanLineage"><span class="hs-identifier hs-var">spanLineage</span></a></span><span> </span><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110346"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1146"></span><span>
</span><span id="line-1147"></span><span id="local-6989586621679112430"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#spanIsChildOf"><span class="hs-identifier hs-type">spanIsChildOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112430"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679112430"><span class="hs-identifier hs-type">attrs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-1148"></span><span id="spanIsChildOf"><span class="annot"><span class="annottext">spanIsChildOf :: forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; Span attrs -&gt; Bool
</span><a href="OTel.API.Trace.Core.Internal.html#spanIsChildOf"><span class="hs-identifier hs-var hs-var">spanIsChildOf</span></a></span></span><span> </span><span id="local-6989586621679110343"><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110343"><span class="hs-identifier hs-var">childSpan</span></a></span></span><span> </span><span id="local-6989586621679110342"><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110342"><span class="hs-identifier hs-var">parentSpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1149"></span><span>  </span><span class="annot"><span class="annottext">SpanContext -&gt; SpanLineage
</span><a href="OTel.API.Trace.Core.Internal.html#SpanLineageChildOf"><span class="hs-identifier hs-var">SpanLineageChildOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanContext
</span><a href="OTel.API.Trace.Core.Internal.html#spanContext"><span class="hs-identifier hs-var">spanContext</span></a></span><span> </span><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110342"><span class="hs-identifier hs-var">parentSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanLineage
</span><a href="OTel.API.Trace.Core.Internal.html#spanLineage"><span class="hs-identifier hs-var">spanLineage</span></a></span><span> </span><span class="annot"><span class="annottext">Span attrs
</span><a href="#local-6989586621679110343"><span class="hs-identifier hs-var">childSpan</span></a></span><span>
</span><span id="line-1150"></span><span>
</span><span id="line-1151"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="SpanFrozenAt"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenAt"><span class="hs-identifier hs-var">SpanFrozenAt</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110340"><span class="annot"><a href="#local-6989586621679110340"><span class="hs-identifier hs-type">attrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsFor</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1152"></span><span>  </span><span id="SpanFrozenAt"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenAt"><span class="hs-identifier hs-var">SpanFrozenAt</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Timestamp</span></span><span>
</span><span id="line-1153"></span><span>  </span><span id="SpanFrozenAt"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenAt"><span class="hs-identifier hs-var">SpanFrozenAt</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestamp"><span class="hs-identifier hs-type">SpanFrozenTimestamp</span></a></span><span>
</span><span id="line-1154"></span><span>
</span><span id="line-1155"></span><span class="hs-keyword">data</span><span> </span><span id="SpanFrozenTimestamp"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestamp"><span class="hs-identifier hs-var">SpanFrozenTimestamp</span></a></span></span><span>
</span><span id="line-1156"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SpanFrozenTimestampFrozen"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestampFrozen"><span class="hs-identifier hs-var">SpanFrozenTimestampFrozen</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Timestamp</span></span><span>
</span><span id="line-1157"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SpanFrozenTimestampEnded"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestampEnded"><span class="hs-identifier hs-var">SpanFrozenTimestampEnded</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Timestamp</span></span><span>
</span><span id="line-1158"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110332"><span id="local-6989586621679110336"><span class="annot"><span class="annottext">SpanFrozenTimestamp -&gt; SpanFrozenTimestamp -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SpanFrozenTimestamp -&gt; SpanFrozenTimestamp -&gt; Bool
$c/= :: SpanFrozenTimestamp -&gt; SpanFrozenTimestamp -&gt; Bool
== :: SpanFrozenTimestamp -&gt; SpanFrozenTimestamp -&gt; Bool
$c== :: SpanFrozenTimestamp -&gt; SpanFrozenTimestamp -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110322"><span id="local-6989586621679110324"><span id="local-6989586621679110330"><span class="annot"><span class="annottext">Int -&gt; SpanFrozenTimestamp -&gt; ShowS
[SpanFrozenTimestamp] -&gt; ShowS
SpanFrozenTimestamp -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SpanFrozenTimestamp] -&gt; ShowS
$cshowList :: [SpanFrozenTimestamp] -&gt; ShowS
show :: SpanFrozenTimestamp -&gt; String
$cshow :: SpanFrozenTimestamp -&gt; String
showsPrec :: Int -&gt; SpanFrozenTimestamp -&gt; ShowS
$cshowsPrec :: Int -&gt; SpanFrozenTimestamp -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1159"></span><span>
</span><span id="line-1160"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110315"><span id="local-6989586621679110317"><span id="local-6989586621679110319"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestamp"><span class="hs-identifier hs-type">SpanFrozenTimestamp</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1161"></span><span>  </span><span id="local-6989586621679110297"><span class="annot"><span class="annottext">toJSON :: SpanFrozenTimestamp -&gt; Value
</span><a href="#local-6989586621679110297"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1162"></span><span>    </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestampFrozen"><span class="hs-identifier hs-type">SpanFrozenTimestampFrozen</span></a></span><span> </span><span id="local-6989586621679110296"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110296"><span class="hs-identifier hs-var">timestamp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1163"></span><span>      </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-1164"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;frozen&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-1165"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;content&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110296"><span class="hs-identifier hs-var">timestamp</span></a></span><span>
</span><span id="line-1166"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1167"></span><span>    </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestampEnded"><span class="hs-identifier hs-type">SpanFrozenTimestampEnded</span></a></span><span> </span><span id="local-6989586621679110295"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110295"><span class="hs-identifier hs-var">timestamp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1168"></span><span>      </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-1169"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ended&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-1170"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;content&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110295"><span class="hs-identifier hs-var">timestamp</span></a></span><span>
</span><span id="line-1171"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1172"></span><span>
</span><span id="line-1173"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#frozenTimestamp"><span class="hs-identifier hs-type">frozenTimestamp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestamp"><span class="hs-identifier hs-type">SpanFrozenTimestamp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Timestamp</span></span><span>
</span><span id="line-1174"></span><span id="frozenTimestamp"><span class="annot"><span class="annottext">frozenTimestamp :: SpanFrozenTimestamp -&gt; Timestamp
</span><a href="OTel.API.Trace.Core.Internal.html#frozenTimestamp"><span class="hs-identifier hs-var hs-var">frozenTimestamp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1175"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestampFrozen"><span class="hs-identifier hs-type">SpanFrozenTimestampFrozen</span></a></span><span> </span><span id="local-6989586621679110294"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110294"><span class="hs-identifier hs-var">timestamp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110294"><span class="hs-identifier hs-var">timestamp</span></a></span><span>
</span><span id="line-1176"></span><span>  </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestampEnded"><span class="hs-identifier hs-type">SpanFrozenTimestampEnded</span></a></span><span> </span><span id="local-6989586621679110293"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110293"><span class="hs-identifier hs-var">timestamp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110293"><span class="hs-identifier hs-var">timestamp</span></a></span><span>
</span><span id="line-1177"></span><span>
</span><span id="line-1178"></span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#freezeSpan"><span class="hs-identifier hs-type">freezeSpan</span></a></span><span>
</span><span id="line-1179"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Timestamp</span></span><span>
</span><span id="line-1180"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanLink</span></span><span>
</span><span id="line-1181"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpanEvent</span></span><span>
</span><span id="line-1182"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsLimits</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">AttrsForSpan</span></span><span>
</span><span id="line-1183"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AttrsBuilder</span></span><span>
</span><span id="line-1184"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Attrs</span></span><span>
</span><span id="line-1185"></span><span id="freezeSpan"><span class="annot"><span class="annottext">freezeSpan :: Timestamp
-&gt; AttrsLimits 'AttrsForSpanLink
-&gt; AttrsLimits 'AttrsForSpanEvent
-&gt; AttrsLimits 'AttrsForSpan
-&gt; Span AttrsBuilder
-&gt; Span Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#freezeSpan"><span class="hs-identifier hs-var hs-var">freezeSpan</span></a></span></span><span> </span><span id="local-6989586621679110292"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110292"><span class="hs-identifier hs-var">defaultSpanFrozenAt</span></a></span></span><span> </span><span id="local-6989586621679110291"><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanLink
</span><a href="#local-6989586621679110291"><span class="hs-identifier hs-var">spanLinkAttrsLimits</span></a></span></span><span> </span><span id="local-6989586621679110290"><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanEvent
</span><a href="#local-6989586621679110290"><span class="hs-identifier hs-var">spanEventAttrsLimits</span></a></span></span><span> </span><span id="local-6989586621679110289"><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpan
</span><a href="#local-6989586621679110289"><span class="hs-identifier hs-var">spanAttrsLimits</span></a></span></span><span> </span><span id="local-6989586621679110288"><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110288"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1186"></span><span>  </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110288"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1187"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">spanFrozenAt :: SpanFrozenAt Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanFrozenAt"><span class="hs-identifier hs-var">spanFrozenAt</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1188"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanFrozenAt attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanFrozenAt"><span class="hs-identifier hs-var">spanFrozenAt</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110288"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1189"></span><span>          </span><span class="annot"><span class="annottext">Maybe Timestamp
SpanFrozenAt AttrsBuilder
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Timestamp -&gt; SpanFrozenTimestamp
</span><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestampFrozen"><span class="hs-identifier hs-var">SpanFrozenTimestampFrozen</span></a></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110292"><span class="hs-identifier hs-var">defaultSpanFrozenAt</span></a></span><span>
</span><span id="line-1190"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679110287"><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110287"><span class="hs-identifier hs-var">timestamp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Timestamp -&gt; SpanFrozenTimestamp
</span><a href="OTel.API.Trace.Core.Internal.html#SpanFrozenTimestampEnded"><span class="hs-identifier hs-var">SpanFrozenTimestampEnded</span></a></span><span> </span><span class="annot"><span class="annottext">Timestamp
</span><a href="#local-6989586621679110287"><span class="hs-identifier hs-var">timestamp</span></a></span><span>
</span><span id="line-1191"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanAttrs :: Attrs 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanAttrs"><span class="hs-identifier hs-var">spanAttrs</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1192"></span><span>        </span><span class="annot"><span class="annottext">forall (af :: AttrsFor).
AttrsBuilder af -&gt; AttrsLimits af -&gt; Attrs af
</span><span class="hs-identifier hs-var">runAttrsBuilder</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; attrs 'AttrsForSpan
</span><a href="OTel.API.Trace.Core.Internal.html#spanAttrs"><span class="hs-identifier hs-var">spanAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110288"><span class="hs-identifier hs-var">span</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpan
</span><a href="#local-6989586621679110289"><span class="hs-identifier hs-var">spanAttrsLimits</span></a></span><span>
</span><span id="line-1193"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanLinks :: SpanLinks Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinks"><span class="hs-identifier hs-var">spanLinks</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1194"></span><span>        </span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanLink
-&gt; SpanLinks AttrsBuilder -&gt; SpanLinks Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#freezeAllSpanLinkAttrs"><span class="hs-identifier hs-var">freezeAllSpanLinkAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanLink
</span><a href="#local-6989586621679110291"><span class="hs-identifier hs-var">spanLinkAttrsLimits</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanLinks attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanLinks"><span class="hs-identifier hs-var">spanLinks</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110288"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1195"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">spanEvents :: SpanEvents Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanEvents"><span class="hs-identifier hs-var">spanEvents</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1196"></span><span>        </span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanEvent
-&gt; SpanEvents AttrsBuilder -&gt; SpanEvents Attrs
</span><a href="OTel.API.Trace.Core.Internal.html#freezeAllSpanEventAttrs"><span class="hs-identifier hs-var">freezeAllSpanEventAttrs</span></a></span><span> </span><span class="annot"><span class="annottext">AttrsLimits 'AttrsForSpanEvent
</span><a href="#local-6989586621679110290"><span class="hs-identifier hs-var">spanEventAttrsLimits</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (attrs :: AttrsFor -&gt; *). Span attrs -&gt; SpanEvents attrs
</span><a href="OTel.API.Trace.Core.Internal.html#spanEvents"><span class="hs-identifier hs-var">spanEvents</span></a></span><span> </span><span class="annot"><span class="annottext">Span AttrsBuilder
</span><a href="#local-6989586621679110288"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-1197"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-1198"></span><span>
</span><span id="line-1199"></span><span class="hs-keyword">data</span><span> </span><span id="SpanLineage"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLineage"><span class="hs-identifier hs-var">SpanLineage</span></a></span></span><span>
</span><span id="line-1200"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SpanLineageRoot"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLineageRoot"><span class="hs-identifier hs-var">SpanLineageRoot</span></a></span></span><span>
</span><span id="line-1201"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SpanLineageChildOf"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLineageChildOf"><span class="hs-identifier hs-var">SpanLineageChildOf</span></a></span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanContext"><span class="hs-identifier hs-type">SpanContext</span></a></span><span>
</span><span id="line-1202"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110282"><span id="local-6989586621679110285"><span class="annot"><span class="annottext">SpanLineage -&gt; SpanLineage -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SpanLineage -&gt; SpanLineage -&gt; Bool
$c/= :: SpanLineage -&gt; SpanLineage -&gt; Bool
== :: SpanLineage -&gt; SpanLineage -&gt; Bool
$c== :: SpanLineage -&gt; SpanLineage -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110274"><span id="local-6989586621679110276"><span id="local-6989586621679110280"><span class="annot"><span class="annottext">Int -&gt; SpanLineage -&gt; ShowS
[SpanLineage] -&gt; ShowS
SpanLineage -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SpanLineage] -&gt; ShowS
$cshowList :: [SpanLineage] -&gt; ShowS
show :: SpanLineage -&gt; String
$cshow :: SpanLineage -&gt; String
showsPrec :: Int -&gt; SpanLineage -&gt; ShowS
$cshowsPrec :: Int -&gt; SpanLineage -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1203"></span><span>
</span><span id="line-1204"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110267"><span id="local-6989586621679110269"><span id="local-6989586621679110271"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLineage"><span class="hs-identifier hs-type">SpanLineage</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1205"></span><span>  </span><span id="local-6989586621679110254"><span class="annot"><span class="annottext">toJSON :: SpanLineage -&gt; Value
</span><a href="#local-6989586621679110254"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1206"></span><span>    </span><span class="annot"><span class="annottext">SpanLineage
</span><a href="OTel.API.Trace.Core.Internal.html#SpanLineageRoot"><span class="hs-identifier hs-var">SpanLineageRoot</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1207"></span><span>      </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-1208"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;root&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-1209"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1210"></span><span>    </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanLineageChildOf"><span class="hs-identifier hs-type">SpanLineageChildOf</span></a></span><span> </span><span id="local-6989586621679110253"><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679110253"><span class="hs-identifier hs-var">spanContext</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1211"></span><span>      </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-1212"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;childOf&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-1213"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;content&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">SpanContext
</span><a href="#local-6989586621679110253"><span class="hs-identifier hs-var">spanContext</span></a></span><span>
</span><span id="line-1214"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1215"></span><span>
</span><span id="line-1216"></span><span class="hs-keyword">data</span><span> </span><span id="SpanKind"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKind"><span class="hs-identifier hs-var">SpanKind</span></a></span></span><span>
</span><span id="line-1217"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SpanKindServer"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKindServer"><span class="hs-identifier hs-var">SpanKindServer</span></a></span></span><span>
</span><span id="line-1218"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SpanKindClient"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKindClient"><span class="hs-identifier hs-var">SpanKindClient</span></a></span></span><span>
</span><span id="line-1219"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SpanKindProducer"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKindProducer"><span class="hs-identifier hs-var">SpanKindProducer</span></a></span></span><span>
</span><span id="line-1220"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SpanKindConsumer"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKindConsumer"><span class="hs-identifier hs-var">SpanKindConsumer</span></a></span></span><span>
</span><span id="line-1221"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SpanKindInternal"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKindInternal"><span class="hs-identifier hs-var">SpanKindInternal</span></a></span></span><span>
</span><span id="line-1222"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110245"><span id="local-6989586621679110247"><span class="annot"><span class="annottext">SpanKind -&gt; SpanKind -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SpanKind -&gt; SpanKind -&gt; Bool
$c/= :: SpanKind -&gt; SpanKind -&gt; Bool
== :: SpanKind -&gt; SpanKind -&gt; Bool
$c== :: SpanKind -&gt; SpanKind -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110239"><span id="local-6989586621679110241"><span id="local-6989586621679110243"><span class="annot"><span class="annottext">Int -&gt; SpanKind -&gt; ShowS
[SpanKind] -&gt; ShowS
SpanKind -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SpanKind] -&gt; ShowS
$cshowList :: [SpanKind] -&gt; ShowS
show :: SpanKind -&gt; String
$cshow :: SpanKind -&gt; String
showsPrec :: Int -&gt; SpanKind -&gt; ShowS
$cshowsPrec :: Int -&gt; SpanKind -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1223"></span><span>
</span><span id="line-1224"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110232"><span id="local-6989586621679110234"><span id="local-6989586621679110236"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanKind"><span class="hs-identifier hs-type">SpanKind</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1225"></span><span>  </span><span id="local-6989586621679110211"><span class="annot"><span class="annottext">toJSON :: SpanKind -&gt; Value
</span><a href="#local-6989586621679110211"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1226"></span><span>    </span><span class="annot"><span class="annottext">SpanKind
</span><a href="OTel.API.Trace.Core.Internal.html#SpanKindServer"><span class="hs-identifier hs-var">SpanKindServer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;server&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1227"></span><span>    </span><span class="annot"><span class="annottext">SpanKind
</span><a href="OTel.API.Trace.Core.Internal.html#SpanKindClient"><span class="hs-identifier hs-var">SpanKindClient</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;client&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1228"></span><span>    </span><span class="annot"><span class="annottext">SpanKind
</span><a href="OTel.API.Trace.Core.Internal.html#SpanKindProducer"><span class="hs-identifier hs-var">SpanKindProducer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;producer&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1229"></span><span>    </span><span class="annot"><span class="annottext">SpanKind
</span><a href="OTel.API.Trace.Core.Internal.html#SpanKindConsumer"><span class="hs-identifier hs-var">SpanKindConsumer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;consumer&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1230"></span><span>    </span><span class="annot"><span class="annottext">SpanKind
</span><a href="OTel.API.Trace.Core.Internal.html#SpanKindInternal"><span class="hs-identifier hs-var">SpanKindInternal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;internal&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1231"></span><span>
</span><span id="line-1232"></span><span class="hs-keyword">data</span><span> </span><span id="SpanStatus"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatus"><span class="hs-identifier hs-var">SpanStatus</span></a></span></span><span>
</span><span id="line-1233"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SpanStatusUnset"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusUnset"><span class="hs-identifier hs-var">SpanStatusUnset</span></a></span></span><span>
</span><span id="line-1234"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SpanStatusError"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusError"><span class="hs-identifier hs-var">SpanStatusError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-1235"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SpanStatusOk"><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusOk"><span class="hs-identifier hs-var">SpanStatusOk</span></a></span></span><span>
</span><span id="line-1236"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679110204"><span id="local-6989586621679110207"><span class="annot"><span class="annottext">SpanStatus -&gt; SpanStatus -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SpanStatus -&gt; SpanStatus -&gt; Bool
$c/= :: SpanStatus -&gt; SpanStatus -&gt; Bool
== :: SpanStatus -&gt; SpanStatus -&gt; Bool
$c== :: SpanStatus -&gt; SpanStatus -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679110196"><span id="local-6989586621679110198"><span id="local-6989586621679110202"><span class="annot"><span class="annottext">Int -&gt; SpanStatus -&gt; ShowS
[SpanStatus] -&gt; ShowS
SpanStatus -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SpanStatus] -&gt; ShowS
$cshowList :: [SpanStatus] -&gt; ShowS
show :: SpanStatus -&gt; String
$cshow :: SpanStatus -&gt; String
showsPrec :: Int -&gt; SpanStatus -&gt; ShowS
$cshowsPrec :: Int -&gt; SpanStatus -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1237"></span><span>
</span><span id="line-1238"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110181"><span id="local-6989586621679110183"><span id="local-6989586621679110185"><span id="local-6989586621679110187"><span id="local-6989586621679110189"><span id="local-6989586621679110191"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatus"><span class="hs-identifier hs-type">SpanStatus</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1239"></span><span>  </span><span id="local-6989586621679110179"><span class="annot"><span class="annottext">compare :: SpanStatus -&gt; SpanStatus -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></span></span><span> </span><span id="local-6989586621679110177"><span class="annot"><span class="annottext">SpanStatus
</span><a href="#local-6989586621679110177"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679110176"><span class="annot"><span class="annottext">SpanStatus
</span><a href="#local-6989586621679110176"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1240"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpanStatus
</span><a href="#local-6989586621679110177"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SpanStatus
</span><a href="#local-6989586621679110176"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1241"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusUnset"><span class="hs-identifier hs-type">SpanStatusUnset</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusUnset"><span class="hs-identifier hs-type">SpanStatusUnset</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-1242"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusUnset"><span class="hs-identifier hs-type">SpanStatusUnset</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusError"><span class="hs-identifier hs-type">SpanStatusError</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-1243"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusUnset"><span class="hs-identifier hs-type">SpanStatusUnset</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusOk"><span class="hs-identifier hs-type">SpanStatusOk</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-1244"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusError"><span class="hs-identifier hs-type">SpanStatusError</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusUnset"><span class="hs-identifier hs-type">SpanStatusUnset</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-1245"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusError"><span class="hs-identifier hs-type">SpanStatusError</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusError"><span class="hs-identifier hs-type">SpanStatusError</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-1246"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusError"><span class="hs-identifier hs-type">SpanStatusError</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusOk"><span class="hs-identifier hs-type">SpanStatusOk</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-1247"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusOk"><span class="hs-identifier hs-type">SpanStatusOk</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusUnset"><span class="hs-identifier hs-type">SpanStatusUnset</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-1248"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusOk"><span class="hs-identifier hs-type">SpanStatusOk</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusError"><span class="hs-identifier hs-type">SpanStatusError</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-1249"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusOk"><span class="hs-identifier hs-type">SpanStatusOk</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusOk"><span class="hs-identifier hs-type">SpanStatusOk</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-1250"></span><span>
</span><span id="line-1251"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679110169"><span id="local-6989586621679110171"><span id="local-6989586621679110173"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatus"><span class="hs-identifier hs-type">SpanStatus</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1252"></span><span>  </span><span id="local-6989586621679110152"><span class="annot"><span class="annottext">toJSON :: SpanStatus -&gt; Value
</span><a href="#local-6989586621679110152"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1253"></span><span>    </span><span class="annot"><span class="annottext">SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#SpanStatusUnset"><span class="hs-identifier hs-var">SpanStatusUnset</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1254"></span><span>      </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-1255"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;unset&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-1256"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1257"></span><span>    </span><span class="annot"><span class="annottext">SpanStatus
</span><a href="OTel.API.Trace.Core.Internal.html#SpanStatusOk"><span class="hs-identifier hs-var">SpanStatusOk</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1258"></span><span>      </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-1259"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ok&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1261"></span><span>    </span><span class="annot"><a href="OTel.API.Trace.Core.Internal.html#SpanStatusError"><span class="hs-identifier hs-type">SpanStatusError</span></a></span><span> </span><span id="local-6989586621679110151"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679110151"><span class="hs-identifier hs-var">errText</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1262"></span><span>      </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-1263"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;error&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-1264"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;content&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679110151"><span class="hs-identifier hs-var">errText</span></a></span><span>
</span><span id="line-1265"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1266"></span><span>
</span><span id="line-1267"></span><span class="hs-comment">-- $disclaimer</span><span>
</span><span id="line-1268"></span><span class="hs-comment">--</span><span>
</span><span id="line-1269"></span><span class="hs-comment">-- In general, changes to this module will not be reflected in the library's</span><span>
</span><span id="line-1270"></span><span class="hs-comment">-- version updates. Direct use of this module should be done with utmost care,</span><span>
</span><span id="line-1271"></span><span class="hs-comment">-- otherwise invariants will easily be violated.</span><span>
</span><span id="line-1272"></span></pre></body></html>