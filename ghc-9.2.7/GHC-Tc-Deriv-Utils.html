<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.Tc.Deriv.Utils</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-9.2.7: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/GHC.Tc.Deriv.Utils.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.Tc.Deriv.Utils</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Error-checking and other utilities for <code>deriving</code> clauses or declarations.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:DerivM">DerivM</a> = <a href="../transformers-0.5.6.2/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> <a href="GHC-Tc-Deriv-Utils.html#t:DerivEnv" title="GHC.Tc.Deriv.Utils">DerivEnv</a> <a href="GHC-Tc-Types.html#t:TcRn" title="GHC.Tc.Types">TcRn</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:DerivEnv">DerivEnv</a> = <a href="#v:DerivEnv">DerivEnv</a> {<ul class="subs"><li><a href="#v:denv_overlap_mode">denv_overlap_mode</a> :: <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> <a href="GHC-Types-Basic.html#t:OverlapMode" title="GHC.Types.Basic">OverlapMode</a></li><li><a href="#v:denv_tvs">denv_tvs</a> :: [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>]</li><li><a href="#v:denv_cls">denv_cls</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a></li><li><a href="#v:denv_inst_tys">denv_inst_tys</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</li><li><a href="#v:denv_ctxt">denv_ctxt</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivContext" title="GHC.Tc.Deriv.Utils">DerivContext</a></li><li><a href="#v:denv_strat">denv_strat</a> :: <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> (<a href="Language-Haskell-Syntax-Decls.html#t:DerivStrategy" title="Language.Haskell.Syntax.Decls">DerivStrategy</a> <a href="GHC-Hs-Extension.html#t:GhcTc" title="GHC.Hs.Extension">GhcTc</a>)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:DerivSpec">DerivSpec</a> theta = <a href="#v:DS">DS</a> {<ul class="subs"><li><a href="#v:ds_loc">ds_loc</a> :: <a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a></li><li><a href="#v:ds_name">ds_name</a> :: <a href="GHC-Types-Name.html#t:Name" title="GHC.Types.Name">Name</a></li><li><a href="#v:ds_tvs">ds_tvs</a> :: [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>]</li><li><a href="#v:ds_theta">ds_theta</a> :: theta</li><li><a href="#v:ds_cls">ds_cls</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a></li><li><a href="#v:ds_tys">ds_tys</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</li><li><a href="#v:ds_overlap">ds_overlap</a> :: <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> <a href="GHC-Types-Basic.html#t:OverlapMode" title="GHC.Types.Basic">OverlapMode</a></li><li><a href="#v:ds_standalone_wildcard">ds_standalone_wildcard</a> :: <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> <a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a></li><li><a href="#v:ds_mechanism">ds_mechanism</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a></li></ul>}</li><li class="src short"><a href="#v:pprDerivSpec">pprDerivSpec</a> :: <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> theta =&gt; <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpec" title="GHC.Tc.Deriv.Utils">DerivSpec</a> theta -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:DerivInstTys">DerivInstTys</a> = <a href="#v:DerivInstTys">DerivInstTys</a> {<ul class="subs"><li><a href="#v:dit_cls_tys">dit_cls_tys</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</li><li><a href="#v:dit_tc">dit_tc</a> :: <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a></li><li><a href="#v:dit_tc_args">dit_tc_args</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</li><li><a href="#v:dit_rep_tc">dit_rep_tc</a> :: <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a></li><li><a href="#v:dit_rep_tc_args">dit_rep_tc_args</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:DerivSpecMechanism">DerivSpecMechanism</a><ul class="subs"><li>= <a href="#v:DerivSpecStock">DerivSpecStock</a> { <ul class="subs"><li><a href="#v:dsm_stock_dit">dsm_stock_dit</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivInstTys" title="GHC.Tc.Deriv.Utils">DerivInstTys</a></li><li><a href="#v:dsm_stock_gen_fn">dsm_stock_gen_fn</a> :: <a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a> -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> (<a href="Language-Haskell-Syntax-Binds.html#t:LHsBinds" title="Language.Haskell.Syntax.Binds">LHsBinds</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>, [<a href="Language-Haskell-Syntax-Binds.html#t:LSig" title="Language.Haskell.Syntax.Binds">LSig</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>], <a href="GHC-Tc-Deriv-Generate.html#t:BagDerivStuff" title="GHC.Tc.Deriv.Generate">BagDerivStuff</a>, [<a href="GHC-Types-Name.html#t:Name" title="GHC.Types.Name">Name</a>])</li></ul> }</li><li>| <a href="#v:DerivSpecNewtype">DerivSpecNewtype</a> { <ul class="subs"><li><a href="#v:dsm_newtype_dit">dsm_newtype_dit</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivInstTys" title="GHC.Tc.Deriv.Utils">DerivInstTys</a></li><li><a href="#v:dsm_newtype_rep_ty">dsm_newtype_rep_ty</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li></ul> }</li><li>| <a href="#v:DerivSpecAnyClass">DerivSpecAnyClass</a></li><li>| <a href="#v:DerivSpecVia">DerivSpecVia</a> { <ul class="subs"><li><a href="#v:dsm_via_cls_tys">dsm_via_cls_tys</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</li><li><a href="#v:dsm_via_inst_ty">dsm_via_inst_ty</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li><a href="#v:dsm_via_ty">dsm_via_ty</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li></ul> }</li></ul></li><li class="src short"><a href="#v:derivSpecMechanismToStrategy">derivSpecMechanismToStrategy</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="Language-Haskell-Syntax-Decls.html#t:DerivStrategy" title="Language.Haskell.Syntax.Decls">DerivStrategy</a> <a href="GHC-Hs-Extension.html#t:GhcTc" title="GHC.Hs.Extension">GhcTc</a></li><li class="src short"><a href="#v:isDerivSpecStock">isDerivSpecStock</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a></li><li class="src short"><a href="#v:isDerivSpecNewtype">isDerivSpecNewtype</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a></li><li class="src short"><a href="#v:isDerivSpecAnyClass">isDerivSpecAnyClass</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a></li><li class="src short"><a href="#v:isDerivSpecVia">isDerivSpecVia</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:DerivContext">DerivContext</a><ul class="subs"><li>= <a href="#v:InferContext">InferContext</a> (<a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> <a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a>)</li><li>| <a href="#v:SupplyContext">SupplyContext</a> <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:OriginativeDerivStatus">OriginativeDerivStatus</a><ul class="subs"><li>= <a href="#v:CanDeriveStock">CanDeriveStock</a> (<a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a> -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> (<a href="Language-Haskell-Syntax-Binds.html#t:LHsBinds" title="Language.Haskell.Syntax.Binds">LHsBinds</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>, [<a href="Language-Haskell-Syntax-Binds.html#t:LSig" title="Language.Haskell.Syntax.Binds">LSig</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>], <a href="GHC-Tc-Deriv-Generate.html#t:BagDerivStuff" title="GHC.Tc.Deriv.Generate">BagDerivStuff</a>, [<a href="GHC-Types-Name.html#t:Name" title="GHC.Types.Name">Name</a>]))</li><li>| <a href="#v:StockClassError">StockClassError</a> <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a></li><li>| <a href="#v:CanDeriveAnyClass">CanDeriveAnyClass</a></li><li>| <a href="#v:NonDerivableClass">NonDerivableClass</a> <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a></li></ul></li><li class="src short"><a href="#v:isStandaloneDeriv">isStandaloneDeriv</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivM" title="GHC.Tc.Deriv.Utils">DerivM</a> <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a></li><li class="src short"><a href="#v:isStandaloneWildcardDeriv">isStandaloneWildcardDeriv</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivM" title="GHC.Tc.Deriv.Utils">DerivM</a> <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a></li><li class="src short"><a href="#v:mkDerivOrigin">mkDerivOrigin</a> :: <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> -&gt; <a href="GHC-Tc-Types-Origin.html#t:CtOrigin" title="GHC.Tc.Types.Origin">CtOrigin</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:PredOrigin">PredOrigin</a> = <a href="#v:PredOrigin">PredOrigin</a> <a href="GHC-Core-Type.html#t:PredType" title="GHC.Core.Type">PredType</a> <a href="GHC-Tc-Types-Origin.html#t:CtOrigin" title="GHC.Tc.Types.Origin">CtOrigin</a> <a href="GHC-Types-Basic.html#t:TypeOrKind" title="GHC.Types.Basic">TypeOrKind</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ThetaOrigin">ThetaOrigin</a> = <a href="#v:ThetaOrigin">ThetaOrigin</a> {<ul class="subs"><li><a href="#v:to_anyclass_skols">to_anyclass_skols</a> :: [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>]</li><li><a href="#v:to_anyclass_metas">to_anyclass_metas</a> :: [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>]</li><li><a href="#v:to_anyclass_givens">to_anyclass_givens</a> :: <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a></li><li><a href="#v:to_wanted_origins">to_wanted_origins</a> :: [<a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a>]</li></ul>}</li><li class="src short"><a href="#v:mkPredOrigin">mkPredOrigin</a> :: <a href="GHC-Tc-Types-Origin.html#t:CtOrigin" title="GHC.Tc.Types.Origin">CtOrigin</a> -&gt; <a href="GHC-Types-Basic.html#t:TypeOrKind" title="GHC.Types.Basic">TypeOrKind</a> -&gt; <a href="GHC-Core-Type.html#t:PredType" title="GHC.Core.Type">PredType</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a></li><li class="src short"><a href="#v:mkThetaOrigin">mkThetaOrigin</a> :: <a href="GHC-Tc-Types-Origin.html#t:CtOrigin" title="GHC.Tc.Types.Origin">CtOrigin</a> -&gt; <a href="GHC-Types-Basic.html#t:TypeOrKind" title="GHC.Types.Basic">TypeOrKind</a> -&gt; [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>] -&gt; [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>] -&gt; <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a> -&gt; <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:ThetaOrigin" title="GHC.Tc.Deriv.Utils">ThetaOrigin</a></li><li class="src short"><a href="#v:mkThetaOriginFromPreds">mkThetaOriginFromPreds</a> :: [<a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a>] -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:ThetaOrigin" title="GHC.Tc.Deriv.Utils">ThetaOrigin</a></li><li class="src short"><a href="#v:substPredOrigin">substPredOrigin</a> :: <a href="GHC-Utils-Misc.html#t:HasCallStack" title="GHC.Utils.Misc">HasCallStack</a> =&gt; <a href="GHC-Core-Type.html#t:TCvSubst" title="GHC.Core.Type">TCvSubst</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a></li><li class="src short"><a href="#v:checkOriginativeSideConditions">checkOriginativeSideConditions</a> :: <a href="GHC-Driver-Session.html#t:DynFlags" title="GHC.Driver.Session">DynFlags</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:DerivContext" title="GHC.Tc.Deriv.Utils">DerivContext</a> -&gt; <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a> -&gt; [<a href="GHC-Tc-Utils-TcType.html#t:TcType" title="GHC.Tc.Utils.TcType">TcType</a>] -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:OriginativeDerivStatus" title="GHC.Tc.Deriv.Utils">OriginativeDerivStatus</a></li><li class="src short"><a href="#v:hasStockDeriving">hasStockDeriving</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a> -&gt; <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> (<a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a> -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> (<a href="Language-Haskell-Syntax-Binds.html#t:LHsBinds" title="Language.Haskell.Syntax.Binds">LHsBinds</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>, [<a href="Language-Haskell-Syntax-Binds.html#t:LSig" title="Language.Haskell.Syntax.Binds">LSig</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>], <a href="GHC-Tc-Deriv-Generate.html#t:BagDerivStuff" title="GHC.Tc.Deriv.Generate">BagDerivStuff</a>, [<a href="GHC-Types-Name.html#t:Name" title="GHC.Types.Name">Name</a>]))</li><li class="src short"><a href="#v:canDeriveAnyClass">canDeriveAnyClass</a> :: <a href="GHC-Driver-Session.html#t:DynFlags" title="GHC.Driver.Session">DynFlags</a> -&gt; <a href="GHC-Utils-Error.html#t:Validity" title="GHC.Utils.Error">Validity</a></li><li class="src short"><a href="#v:std_class_via_coercible">std_class_via_coercible</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a></li><li class="src short"><a href="#v:non_coercible_class">non_coercible_class</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a></li><li class="src short"><a href="#v:newDerivClsInst">newDerivClsInst</a> :: <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpec" title="GHC.Tc.Deriv.Utils">DerivSpec</a> theta -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> <a href="GHC-Core-InstEnv.html#t:ClsInst" title="GHC.Core.InstEnv">ClsInst</a></li><li class="src short"><a href="#v:extendLocalInstEnv">extendLocalInstEnv</a> :: [<a href="GHC-Core-InstEnv.html#t:ClsInst" title="GHC.Core.InstEnv">ClsInst</a>] -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> a -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DerivM" class="def">DerivM</a> = <a href="../transformers-0.5.6.2/Control-Monad-Trans-Reader.html#t:ReaderT" title="Control.Monad.Trans.Reader">ReaderT</a> <a href="GHC-Tc-Deriv-Utils.html#t:DerivEnv" title="GHC.Tc.Deriv.Utils">DerivEnv</a> <a href="GHC-Tc-Types.html#t:TcRn" title="GHC.Tc.Types">TcRn</a> <a href="src/GHC.Tc.Deriv.Utils.html#DerivM" class="link">Source</a> <a href="#t:DerivM" class="selflink">#</a></p><div class="doc"><p>To avoid having to manually plumb everything in <code><a href="GHC-Tc-Deriv-Utils.html#t:DerivEnv" title="GHC.Tc.Deriv.Utils">DerivEnv</a></code> throughout
 various functions in <a href="GHC-Tc-Deriv.html">GHC.Tc.Deriv</a> and <a href="GHC-Tc-Deriv-Infer.html">GHC.Tc.Deriv.Infer</a>, we use <code><a href="GHC-Tc-Deriv-Utils.html#t:DerivM" title="GHC.Tc.Deriv.Utils">DerivM</a></code>, which
 is a simple reader around <code><a href="GHC-Tc-Types.html#t:TcRn" title="GHC.Tc.Types">TcRn</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DerivEnv" class="def">DerivEnv</a> <a href="src/GHC.Tc.Deriv.Utils.html#DerivEnv" class="link">Source</a> <a href="#t:DerivEnv" class="selflink">#</a></p><div class="doc"><p>Contains all of the information known about a derived instance when
 determining what its <code>EarlyDerivSpec</code> should be.
 See <code>Note [DerivEnv and DerivSpecMechanism]</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DerivEnv" class="def">DerivEnv</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:denv_overlap_mode" class="def">denv_overlap_mode</a> :: <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> <a href="GHC-Types-Basic.html#t:OverlapMode" title="GHC.Types.Basic">OverlapMode</a></dfn><div class="doc"><p>Is this an overlapping instance?</p></div></li><li><dfn class="src"><a id="v:denv_tvs" class="def">denv_tvs</a> :: [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>]</dfn><div class="doc"><p>Universally quantified type variables in the instance</p></div></li><li><dfn class="src"><a id="v:denv_cls" class="def">denv_cls</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a></dfn><div class="doc"><p>Class for which we need to derive an instance</p></div></li><li><dfn class="src"><a id="v:denv_inst_tys" class="def">denv_inst_tys</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</dfn><div class="doc"><p>All arguments to <code><a href="GHC-Tc-Deriv-Utils.html#v:denv_cls" title="GHC.Tc.Deriv.Utils">denv_cls</a></code> in the derived instance.</p></div></li><li><dfn class="src"><a id="v:denv_ctxt" class="def">denv_ctxt</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivContext" title="GHC.Tc.Deriv.Utils">DerivContext</a></dfn><div class="doc"><p><code><code><a href="GHC-Tc-Deriv-Utils.html#v:SupplyContext" title="GHC.Tc.Deriv.Utils">SupplyContext</a></code> theta</code> for standalone deriving (where <code>theta</code> is the
   context of the instance).
   <code><a href="GHC-Tc-Deriv-Utils.html#v:InferContext" title="GHC.Tc.Deriv.Utils">InferContext</a></code> for <code>deriving</code> clauses, or for standalone deriving that
   uses a wildcard constraint.
   See <code>Note [Inferring the instance context]</code>.</p></div></li><li><dfn class="src"><a id="v:denv_strat" class="def">denv_strat</a> :: <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> (<a href="Language-Haskell-Syntax-Decls.html#t:DerivStrategy" title="Language.Haskell.Syntax.Decls">DerivStrategy</a> <a href="GHC-Hs-Extension.html#t:GhcTc" title="GHC.Hs.Extension">GhcTc</a>)</dfn><div class="doc"><p><code><a href="GHC-Prelude.html#v:Just" title="GHC.Prelude">Just</a></code> if user requests a particular deriving strategy.
   Otherwise, <code><a href="GHC-Prelude.html#v:Nothing" title="GHC.Prelude">Nothing</a></code>.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DerivEnv">Instances</h4><details id="i:DerivEnv" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DerivEnv:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> <a href="GHC-Tc-Deriv-Utils.html#t:DerivEnv" title="GHC.Tc.Deriv.Utils">DerivEnv</a></span> <a href="src/GHC.Tc.Deriv.Utils.html#line-117" class="link">Source</a> <a href="#t:DerivEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DerivEnv:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Tc-Deriv-Utils.html">GHC.Tc.Deriv.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivEnv" title="GHC.Tc.Deriv.Utils">DerivEnv</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DerivSpec" class="def">DerivSpec</a> theta <a href="src/GHC.Tc.Deriv.Utils.html#DerivSpec" class="link">Source</a> <a href="#t:DerivSpec" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DS" class="def">DS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ds_loc" class="def">ds_loc</a> :: <a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ds_name" class="def">ds_name</a> :: <a href="GHC-Types-Name.html#t:Name" title="GHC.Types.Name">Name</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ds_tvs" class="def">ds_tvs</a> :: [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ds_theta" class="def">ds_theta</a> :: theta</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ds_cls" class="def">ds_cls</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ds_tys" class="def">ds_tys</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ds_overlap" class="def">ds_overlap</a> :: <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> <a href="GHC-Types-Basic.html#t:OverlapMode" title="GHC.Types.Basic">OverlapMode</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ds_standalone_wildcard" class="def">ds_standalone_wildcard</a> :: <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> <a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ds_mechanism" class="def">ds_mechanism</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DerivSpec">Instances</h4><details id="i:DerivSpec" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DerivSpec:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> theta =&gt; <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> (<a href="GHC-Tc-Deriv-Utils.html#t:DerivSpec" title="GHC.Tc.Deriv.Utils">DerivSpec</a> theta)</span> <a href="src/GHC.Tc.Deriv.Utils.html#line-180" class="link">Source</a> <a href="#t:DerivSpec" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DerivSpec:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Tc-Deriv-Utils.html">GHC.Tc.Deriv.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpec" title="GHC.Tc.Deriv.Utils">DerivSpec</a> theta -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:pprDerivSpec" class="def">pprDerivSpec</a> :: <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> theta =&gt; <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpec" title="GHC.Tc.Deriv.Utils">DerivSpec</a> theta -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Tc.Deriv.Utils.html#pprDerivSpec" class="link">Source</a> <a href="#v:pprDerivSpec" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DerivInstTys" class="def">DerivInstTys</a> <a href="src/GHC.Tc.Deriv.Utils.html#DerivInstTys" class="link">Source</a> <a href="#t:DerivInstTys" class="selflink">#</a></p><div class="doc"><p>Information about the arguments to the class in a stock- or
 newtype-derived instance.
 See <code>Note [DerivEnv and DerivSpecMechanism]</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DerivInstTys" class="def">DerivInstTys</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dit_cls_tys" class="def">dit_cls_tys</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</dfn><div class="doc"><p>Other arguments to the class except the last</p></div></li><li><dfn class="src"><a id="v:dit_tc" class="def">dit_tc</a> :: <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a></dfn><div class="doc"><p>Type constructor for which the instance is requested
   (last arguments to the type class)</p></div></li><li><dfn class="src"><a id="v:dit_tc_args" class="def">dit_tc_args</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</dfn><div class="doc"><p>Arguments to the type constructor</p></div></li><li><dfn class="src"><a id="v:dit_rep_tc" class="def">dit_rep_tc</a> :: <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a></dfn><div class="doc"><p>The representation tycon for <code><a href="GHC-Tc-Deriv-Utils.html#v:dit_tc" title="GHC.Tc.Deriv.Utils">dit_tc</a></code>
   (for data family instances). Otherwise the same as <code><a href="GHC-Tc-Deriv-Utils.html#v:dit_tc" title="GHC.Tc.Deriv.Utils">dit_tc</a></code>.</p></div></li><li><dfn class="src"><a id="v:dit_rep_tc_args" class="def">dit_rep_tc_args</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</dfn><div class="doc"><p>The representation types for <code><a href="GHC-Tc-Deriv-Utils.html#v:dit_tc_args" title="GHC.Tc.Deriv.Utils">dit_tc_args</a></code>
   (for data family instances). Otherwise the same as <code><a href="GHC-Tc-Deriv-Utils.html#v:dit_tc_args" title="GHC.Tc.Deriv.Utils">dit_tc_args</a></code>.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DerivInstTys">Instances</h4><details id="i:DerivInstTys" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DerivInstTys:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> <a href="GHC-Tc-Deriv-Utils.html#t:DerivInstTys" title="GHC.Tc.Deriv.Utils">DerivInstTys</a></span> <a href="src/GHC.Tc.Deriv.Utils.html#line-202" class="link">Source</a> <a href="#t:DerivInstTys" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DerivInstTys:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Tc-Deriv-Utils.html">GHC.Tc.Deriv.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivInstTys" title="GHC.Tc.Deriv.Utils">DerivInstTys</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DerivSpecMechanism" class="def">DerivSpecMechanism</a> <a href="src/GHC.Tc.Deriv.Utils.html#DerivSpecMechanism" class="link">Source</a> <a href="#t:DerivSpecMechanism" class="selflink">#</a></p><div class="doc"><p>What action to take in order to derive a class instance.
 See <code>Note [DerivEnv and DerivSpecMechanism]</code>, as well as
 <code>Note [Deriving strategies]</code> in <a href="GHC-Tc-Deriv.html">GHC.Tc.Deriv</a>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DerivSpecStock" class="def">DerivSpecStock</a></td><td class="doc"><p>&quot;Standard&quot; classes</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dsm_stock_dit" class="def">dsm_stock_dit</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivInstTys" title="GHC.Tc.Deriv.Utils">DerivInstTys</a></dfn><div class="doc"><p>Information about the arguments to the class in the derived
 instance, including what type constructor the last argument is
 headed by. See <code>Note [DerivEnv and DerivSpecMechanism]</code>.</p></div></li><li><dfn class="src"><a id="v:dsm_stock_gen_fn" class="def">dsm_stock_gen_fn</a> :: <a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a> -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> (<a href="Language-Haskell-Syntax-Binds.html#t:LHsBinds" title="Language.Haskell.Syntax.Binds">LHsBinds</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>, [<a href="Language-Haskell-Syntax-Binds.html#t:LSig" title="Language.Haskell.Syntax.Binds">LSig</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>], <a href="GHC-Tc-Deriv-Generate.html#t:BagDerivStuff" title="GHC.Tc.Deriv.Generate">BagDerivStuff</a>, [<a href="GHC-Types-Name.html#t:Name" title="GHC.Types.Name">Name</a>])</dfn><div class="doc"><p>This function returns four things:</p><ol><li><code>LHsBinds GhcPs</code>: The derived instance's function bindings
    (e.g., <code>compare (T x) (T y) = compare x y</code>)</li><li><code>[LSig GhcPs]</code>: A list of instance specific signatures/pragmas.
    Most likely INLINE pragmas for class methods.</li><li><code>BagDerivStuff</code>: Auxiliary bindings needed to support the derived
    instance. As examples, derived <code>Generic</code> instances require
    associated type family instances, and derived <code><a href="GHC-Prelude.html#t:Eq" title="GHC.Prelude">Eq</a></code> and <code><a href="GHC-Prelude.html#t:Ord" title="GHC.Prelude">Ord</a></code>
    instances require top-level <code>con2tag</code> functions.
    See <code>Note [Auxiliary binders]</code> in <a href="GHC-Tc-Deriv-Generate.html">GHC.Tc.Deriv.Generate</a>.</li><li><code>[Name]</code>: A list of Names for which <code>-Wunused-binds</code> should be
    suppressed. This is used to suppress unused warnings for record
    selectors when deriving <code><a href="GHC-Prelude.html#t:Read" title="GHC.Prelude">Read</a></code>, <code><a href="GHC-Prelude.html#t:Show" title="GHC.Prelude">Show</a></code>, or <code>Generic</code>.
    See <code>Note [Deriving and unused record selectors]</code>.</li></ol></div></li></ul></div></td></tr><tr><td class="src"><a id="v:DerivSpecNewtype" class="def">DerivSpecNewtype</a></td><td class="doc"><pre>GeneralizedNewtypeDeriving</pre></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dsm_newtype_dit" class="def">dsm_newtype_dit</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivInstTys" title="GHC.Tc.Deriv.Utils">DerivInstTys</a></dfn><div class="doc"><p>Information about the arguments to the class in the derived
 instance, including what type constructor the last argument is
 headed by. See <code>Note [DerivEnv and DerivSpecMechanism]</code>.</p></div></li><li><dfn class="src"><a id="v:dsm_newtype_rep_ty" class="def">dsm_newtype_rep_ty</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></dfn><div class="doc"><p>The newtype rep type.</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:DerivSpecAnyClass" class="def">DerivSpecAnyClass</a></td><td class="doc"><pre>DeriveAnyClass</pre></td></tr><tr><td class="src"><a id="v:DerivSpecVia" class="def">DerivSpecVia</a></td><td class="doc"><pre>DerivingVia</pre></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dsm_via_cls_tys" class="def">dsm_via_cls_tys</a> :: [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</dfn><div class="doc"><p>All arguments to the class besides the last one.</p></div></li><li><dfn class="src"><a id="v:dsm_via_inst_ty" class="def">dsm_via_inst_ty</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></dfn><div class="doc"><p>The last argument to the class.</p></div></li><li><dfn class="src"><a id="v:dsm_via_ty" class="def">dsm_via_ty</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></dfn><div class="doc"><p>The <code>via</code> type</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DerivSpecMechanism">Instances</h4><details id="i:DerivSpecMechanism" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DerivSpecMechanism:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a></span> <a href="src/GHC.Tc.Deriv.Utils.html#line-291" class="link">Source</a> <a href="#t:DerivSpecMechanism" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DerivSpecMechanism:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Tc-Deriv-Utils.html">GHC.Tc.Deriv.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:derivSpecMechanismToStrategy" class="def">derivSpecMechanismToStrategy</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="Language-Haskell-Syntax-Decls.html#t:DerivStrategy" title="Language.Haskell.Syntax.Decls">DerivStrategy</a> <a href="GHC-Hs-Extension.html#t:GhcTc" title="GHC.Hs.Extension">GhcTc</a> <a href="src/GHC.Tc.Deriv.Utils.html#derivSpecMechanismToStrategy" class="link">Source</a> <a href="#v:derivSpecMechanismToStrategy" class="selflink">#</a></p><div class="doc"><p>Convert a <code><a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a></code> to its corresponding <code><a href="Language-Haskell-Syntax-Decls.html#t:DerivStrategy" title="Language.Haskell.Syntax.Decls">DerivStrategy</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:isDerivSpecStock" class="def">isDerivSpecStock</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> <a href="src/GHC.Tc.Deriv.Utils.html#isDerivSpecStock" class="link">Source</a> <a href="#v:isDerivSpecStock" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isDerivSpecNewtype" class="def">isDerivSpecNewtype</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> <a href="src/GHC.Tc.Deriv.Utils.html#isDerivSpecNewtype" class="link">Source</a> <a href="#v:isDerivSpecNewtype" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isDerivSpecAnyClass" class="def">isDerivSpecAnyClass</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> <a href="src/GHC.Tc.Deriv.Utils.html#isDerivSpecAnyClass" class="link">Source</a> <a href="#v:isDerivSpecAnyClass" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isDerivSpecVia" class="def">isDerivSpecVia</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpecMechanism" title="GHC.Tc.Deriv.Utils">DerivSpecMechanism</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> <a href="src/GHC.Tc.Deriv.Utils.html#isDerivSpecVia" class="link">Source</a> <a href="#v:isDerivSpecVia" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DerivContext" class="def">DerivContext</a> <a href="src/GHC.Tc.Deriv.Utils.html#DerivContext" class="link">Source</a> <a href="#t:DerivContext" class="selflink">#</a></p><div class="doc"><p>Whether GHC is processing a <code>deriving</code> clause or a standalone deriving
 declaration.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InferContext" class="def">InferContext</a> (<a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> <a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a>)</td><td class="doc"><p><code>'InferContext mb_wildcard</code> is either:</p><ul><li>A <code>deriving</code> clause (in which case
   <code>mb_wildcard</code> is <code><a href="GHC-Prelude.html#v:Nothing" title="GHC.Prelude">Nothing</a></code>).</li><li>A standalone deriving declaration with
   an extra-constraints wildcard as the
   context (in which case <code>mb_wildcard</code> is
   <code><code><a href="GHC-Prelude.html#v:Just" title="GHC.Prelude">Just</a></code> loc</code>, where <code>loc</code> is the location
   of the wildcard.</li></ul><p>GHC should infer the context.</p></td></tr><tr><td class="src"><a id="v:SupplyContext" class="def">SupplyContext</a> <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a></td><td class="doc"><p><code><code><a href="GHC-Tc-Deriv-Utils.html#v:SupplyContext" title="GHC.Tc.Deriv.Utils">SupplyContext</a></code> theta</code> is a standalone
 deriving declaration, where <code>theta</code> is the
 context supplied by the user.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DerivContext">Instances</h4><details id="i:DerivContext" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DerivContext:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> <a href="GHC-Tc-Deriv-Utils.html#t:DerivContext" title="GHC.Tc.Deriv.Utils">DerivContext</a></span> <a href="src/GHC.Tc.Deriv.Utils.html#line-423" class="link">Source</a> <a href="#t:DerivContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DerivContext:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Tc-Deriv-Utils.html">GHC.Tc.Deriv.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivContext" title="GHC.Tc.Deriv.Utils">DerivContext</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OriginativeDerivStatus" class="def">OriginativeDerivStatus</a> <a href="src/GHC.Tc.Deriv.Utils.html#OriginativeDerivStatus" class="link">Source</a> <a href="#t:OriginativeDerivStatus" class="selflink">#</a></p><div class="doc"><p>Records whether a particular class can be derived by way of an
 <em>originative</em> deriving strategy (i.e., <code>stock</code> or <code>anyclass</code>).</p><p>See <code>Note [Deriving strategies]</code> in <a href="GHC-Tc-Deriv.html">GHC.Tc.Deriv</a>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CanDeriveStock" class="def">CanDeriveStock</a> (<a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a> -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> (<a href="Language-Haskell-Syntax-Binds.html#t:LHsBinds" title="Language.Haskell.Syntax.Binds">LHsBinds</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>, [<a href="Language-Haskell-Syntax-Binds.html#t:LSig" title="Language.Haskell.Syntax.Binds">LSig</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>], <a href="GHC-Tc-Deriv-Generate.html#t:BagDerivStuff" title="GHC.Tc.Deriv.Generate">BagDerivStuff</a>, [<a href="GHC-Types-Name.html#t:Name" title="GHC.Types.Name">Name</a>]))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:StockClassError" class="def">StockClassError</a> <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:CanDeriveAnyClass" class="def">CanDeriveAnyClass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NonDerivableClass" class="def">NonDerivableClass</a> <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:isStandaloneDeriv" class="def">isStandaloneDeriv</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivM" title="GHC.Tc.Deriv.Utils">DerivM</a> <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> <a href="src/GHC.Tc.Deriv.Utils.html#isStandaloneDeriv" class="link">Source</a> <a href="#v:isStandaloneDeriv" class="selflink">#</a></p><div class="doc"><p>Is GHC processing a standalone deriving declaration?</p></div></div><div class="top"><p class="src"><a id="v:isStandaloneWildcardDeriv" class="def">isStandaloneWildcardDeriv</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:DerivM" title="GHC.Tc.Deriv.Utils">DerivM</a> <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> <a href="src/GHC.Tc.Deriv.Utils.html#isStandaloneWildcardDeriv" class="link">Source</a> <a href="#v:isStandaloneWildcardDeriv" class="selflink">#</a></p><div class="doc"><p>Is GHC processing a standalone deriving declaration with an
 extra-constraints wildcard as the context?
 (e.g., <code>deriving instance _ =&gt; Eq (Foo a)</code>)</p></div></div><div class="top"><p class="src"><a id="v:mkDerivOrigin" class="def">mkDerivOrigin</a> :: <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> -&gt; <a href="GHC-Tc-Types-Origin.html#t:CtOrigin" title="GHC.Tc.Types.Origin">CtOrigin</a> <a href="src/GHC.Tc.Deriv.Utils.html#mkDerivOrigin" class="link">Source</a> <a href="#v:mkDerivOrigin" class="selflink">#</a></p><div class="doc"><p><code><code><a href="GHC-Tc-Deriv-Utils.html#v:mkDerivOrigin" title="GHC.Tc.Deriv.Utils">mkDerivOrigin</a></code> wc</code> returns <code><a href="GHC-Tc-Types-Origin.html#v:StandAloneDerivOrigin" title="GHC.Tc.Types.Origin">StandAloneDerivOrigin</a></code> if <code>wc</code> is <code><a href="GHC-Prelude.html#v:True" title="GHC.Prelude">True</a></code>,
 and <code><a href="GHC-Tc-Types-Origin.html#v:DerivClauseOrigin" title="GHC.Tc.Types.Origin">DerivClauseOrigin</a></code> if <code>wc</code> is <code><a href="GHC-Prelude.html#v:False" title="GHC.Prelude">False</a></code>. Useful for error-reporting.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PredOrigin" class="def">PredOrigin</a> <a href="src/GHC.Tc.Deriv.Utils.html#PredOrigin" class="link">Source</a> <a href="#t:PredOrigin" class="selflink">#</a></p><div class="doc"><p>A <code><a href="GHC-Core-Type.html#t:PredType" title="GHC.Core.Type">PredType</a></code> annotated with the origin of the constraint <code><a href="GHC-Tc-Types-Origin.html#t:CtOrigin" title="GHC.Tc.Types.Origin">CtOrigin</a></code>,
 and whether or the constraint deals in types or kinds.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PredOrigin" class="def">PredOrigin</a> <a href="GHC-Core-Type.html#t:PredType" title="GHC.Core.Type">PredType</a> <a href="GHC-Tc-Types-Origin.html#t:CtOrigin" title="GHC.Tc.Types.Origin">CtOrigin</a> <a href="GHC-Types-Basic.html#t:TypeOrKind" title="GHC.Types.Basic">TypeOrKind</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PredOrigin">Instances</h4><details id="i:PredOrigin" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PredOrigin:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> <a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a></span> <a href="src/GHC.Tc.Deriv.Utils.html#line-518" class="link">Source</a> <a href="#t:PredOrigin" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PredOrigin:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Tc-Deriv-Utils.html">GHC.Tc.Deriv.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ThetaOrigin" class="def">ThetaOrigin</a> <a href="src/GHC.Tc.Deriv.Utils.html#ThetaOrigin" class="link">Source</a> <a href="#t:ThetaOrigin" class="selflink">#</a></p><div class="doc"><p>A list of wanted <code><a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a></code> constraints (<code><a href="GHC-Tc-Deriv-Utils.html#v:to_wanted_origins" title="GHC.Tc.Deriv.Utils">to_wanted_origins</a></code>) to
 simplify when inferring a derived instance's context. These are used in all
 deriving strategies, but in the particular case of <code>DeriveAnyClass</code>, we
 need extra information. In particular, we need:</p><ul><li><code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_skols" title="GHC.Tc.Deriv.Utils">to_anyclass_skols</a></code>, the list of type variables bound by a class method's
   regular type signature, which should be rigid.</li><li><code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_metas" title="GHC.Tc.Deriv.Utils">to_anyclass_metas</a></code>, the list of type variables bound by a class method's
   default type signature. These can be unified as necessary.</li><li><code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_givens" title="GHC.Tc.Deriv.Utils">to_anyclass_givens</a></code>, the list of constraints from a class method's
   regular type signature, which can be used to help solve constraints
   in the <code><a href="GHC-Tc-Deriv-Utils.html#v:to_wanted_origins" title="GHC.Tc.Deriv.Utils">to_wanted_origins</a></code>.</li></ul><p>(Note that <code><a href="GHC-Tc-Deriv-Utils.html#v:to_wanted_origins" title="GHC.Tc.Deriv.Utils">to_wanted_origins</a></code> will likely contain type variables from the
 derived type class or data type, neither of which will appear in
 <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_skols" title="GHC.Tc.Deriv.Utils">to_anyclass_skols</a></code> or <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_metas" title="GHC.Tc.Deriv.Utils">to_anyclass_metas</a></code>.)</p><p>For all other deriving strategies, it is always the case that
 <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_skols" title="GHC.Tc.Deriv.Utils">to_anyclass_skols</a></code>, <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_metas" title="GHC.Tc.Deriv.Utils">to_anyclass_metas</a></code>, and <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_givens" title="GHC.Tc.Deriv.Utils">to_anyclass_givens</a></code> are
 empty.</p><p>Here is an example to illustrate this:</p><pre>class Foo a where
  bar :: forall b. Ix b =&gt; a -&gt; b -&gt; String
  default bar :: forall y. (Show a, Ix y) =&gt; a -&gt; y -&gt; String
  bar x y = show x ++ show (range (y, y))

  baz :: Eq a =&gt; a -&gt; a -&gt; Bool
  default baz :: Ord a =&gt; a -&gt; a -&gt; Bool
  baz x y = compare x y == EQ

data Quux q = Quux deriving anyclass Foo
</pre><p>Then it would generate two <code><a href="GHC-Tc-Deriv-Utils.html#t:ThetaOrigin" title="GHC.Tc.Deriv.Utils">ThetaOrigin</a></code>s, one for each method:</p><pre>[ ThetaOrigin { to_anyclass_skols  = [b]
              , to_anyclass_metas  = [y]
              , to_anyclass_givens = [Ix b]
              , to_wanted_origins  = [ Show (Quux q), Ix y
                                     , (Quux q -&gt; b -&gt; String) ~
                                       (Quux q -&gt; y -&gt; String)
                                     ] }
, ThetaOrigin { to_anyclass_skols  = []
              , to_anyclass_metas  = []
              , to_anyclass_givens = [Eq (Quux q)]
              , to_wanted_origins  = [ Ord (Quux q)
                                     , (Quux q -&gt; Quux q -&gt; Bool) ~
                                       (Quux q -&gt; Quux q -&gt; Bool)
                                     ] }
]
</pre><p>(Note that the type variable <code>q</code> is bound by the data type <code>Quux</code>, and thus
 it appears in neither <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_skols" title="GHC.Tc.Deriv.Utils">to_anyclass_skols</a></code> nor <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_metas" title="GHC.Tc.Deriv.Utils">to_anyclass_metas</a></code>.)</p><p>See <code>Note [Gathering and simplifying constraints for DeriveAnyClass]</code>
 in <a href="GHC-Tc-Deriv-Infer.html">GHC.Tc.Deriv.Infer</a> for an explanation of how <code><a href="GHC-Tc-Deriv-Utils.html#v:to_wanted_origins" title="GHC.Tc.Deriv.Utils">to_wanted_origins</a></code> are
 determined in <code>DeriveAnyClass</code>, as well as how <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_skols" title="GHC.Tc.Deriv.Utils">to_anyclass_skols</a></code>,
 <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_metas" title="GHC.Tc.Deriv.Utils">to_anyclass_metas</a></code>, and <code><a href="GHC-Tc-Deriv-Utils.html#v:to_anyclass_givens" title="GHC.Tc.Deriv.Utils">to_anyclass_givens</a></code> are used.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ThetaOrigin" class="def">ThetaOrigin</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:to_anyclass_skols" class="def">to_anyclass_skols</a> :: [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:to_anyclass_metas" class="def">to_anyclass_metas</a> :: [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:to_anyclass_givens" class="def">to_anyclass_givens</a> :: <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:to_wanted_origins" class="def">to_wanted_origins</a> :: [<a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ThetaOrigin">Instances</h4><details id="i:ThetaOrigin" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThetaOrigin:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> <a href="GHC-Tc-Deriv-Utils.html#t:ThetaOrigin" title="GHC.Tc.Deriv.Utils">ThetaOrigin</a></span> <a href="src/GHC.Tc.Deriv.Utils.html#line-521" class="link">Source</a> <a href="#t:ThetaOrigin" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThetaOrigin:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Tc-Deriv-Utils.html">GHC.Tc.Deriv.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Tc-Deriv-Utils.html#t:ThetaOrigin" title="GHC.Tc.Deriv.Utils">ThetaOrigin</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkPredOrigin" class="def">mkPredOrigin</a> :: <a href="GHC-Tc-Types-Origin.html#t:CtOrigin" title="GHC.Tc.Types.Origin">CtOrigin</a> -&gt; <a href="GHC-Types-Basic.html#t:TypeOrKind" title="GHC.Types.Basic">TypeOrKind</a> -&gt; <a href="GHC-Core-Type.html#t:PredType" title="GHC.Core.Type">PredType</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a> <a href="src/GHC.Tc.Deriv.Utils.html#mkPredOrigin" class="link">Source</a> <a href="#v:mkPredOrigin" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkThetaOrigin" class="def">mkThetaOrigin</a> :: <a href="GHC-Tc-Types-Origin.html#t:CtOrigin" title="GHC.Tc.Types.Origin">CtOrigin</a> -&gt; <a href="GHC-Types-Basic.html#t:TypeOrKind" title="GHC.Types.Basic">TypeOrKind</a> -&gt; [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>] -&gt; [<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>] -&gt; <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a> -&gt; <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:ThetaOrigin" title="GHC.Tc.Deriv.Utils">ThetaOrigin</a> <a href="src/GHC.Tc.Deriv.Utils.html#mkThetaOrigin" class="link">Source</a> <a href="#v:mkThetaOrigin" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkThetaOriginFromPreds" class="def">mkThetaOriginFromPreds</a> :: [<a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a>] -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:ThetaOrigin" title="GHC.Tc.Deriv.Utils">ThetaOrigin</a> <a href="src/GHC.Tc.Deriv.Utils.html#mkThetaOriginFromPreds" class="link">Source</a> <a href="#v:mkThetaOriginFromPreds" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substPredOrigin" class="def">substPredOrigin</a> :: <a href="GHC-Utils-Misc.html#t:HasCallStack" title="GHC.Utils.Misc">HasCallStack</a> =&gt; <a href="GHC-Core-Type.html#t:TCvSubst" title="GHC.Core.Type">TCvSubst</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:PredOrigin" title="GHC.Tc.Deriv.Utils">PredOrigin</a> <a href="src/GHC.Tc.Deriv.Utils.html#substPredOrigin" class="link">Source</a> <a href="#v:substPredOrigin" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:checkOriginativeSideConditions" class="def">checkOriginativeSideConditions</a> :: <a href="GHC-Driver-Session.html#t:DynFlags" title="GHC.Driver.Session">DynFlags</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:DerivContext" title="GHC.Tc.Deriv.Utils">DerivContext</a> -&gt; <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a> -&gt; [<a href="GHC-Tc-Utils-TcType.html#t:TcType" title="GHC.Tc.Utils.TcType">TcType</a>] -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:OriginativeDerivStatus" title="GHC.Tc.Deriv.Utils">OriginativeDerivStatus</a> <a href="src/GHC.Tc.Deriv.Utils.html#checkOriginativeSideConditions" class="link">Source</a> <a href="#v:checkOriginativeSideConditions" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hasStockDeriving" class="def">hasStockDeriving</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a> -&gt; <a href="GHC-Prelude.html#t:Maybe" title="GHC.Prelude">Maybe</a> (<a href="GHC-Types-SrcLoc.html#t:SrcSpan" title="GHC.Types.SrcLoc">SrcSpan</a> -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> (<a href="Language-Haskell-Syntax-Binds.html#t:LHsBinds" title="Language.Haskell.Syntax.Binds">LHsBinds</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>, [<a href="Language-Haskell-Syntax-Binds.html#t:LSig" title="Language.Haskell.Syntax.Binds">LSig</a> <a href="GHC-Hs-Extension.html#t:GhcPs" title="GHC.Hs.Extension">GhcPs</a>], <a href="GHC-Tc-Deriv-Generate.html#t:BagDerivStuff" title="GHC.Tc.Deriv.Generate">BagDerivStuff</a>, [<a href="GHC-Types-Name.html#t:Name" title="GHC.Types.Name">Name</a>])) <a href="src/GHC.Tc.Deriv.Utils.html#hasStockDeriving" class="link">Source</a> <a href="#v:hasStockDeriving" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:canDeriveAnyClass" class="def">canDeriveAnyClass</a> :: <a href="GHC-Driver-Session.html#t:DynFlags" title="GHC.Driver.Session">DynFlags</a> -&gt; <a href="GHC-Utils-Error.html#t:Validity" title="GHC.Utils.Error">Validity</a> <a href="src/GHC.Tc.Deriv.Utils.html#canDeriveAnyClass" class="link">Source</a> <a href="#v:canDeriveAnyClass" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:std_class_via_coercible" class="def">std_class_via_coercible</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> <a href="src/GHC.Tc.Deriv.Utils.html#std_class_via_coercible" class="link">Source</a> <a href="#v:std_class_via_coercible" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:non_coercible_class" class="def">non_coercible_class</a> :: <a href="GHC-Core-Class.html#t:Class" title="GHC.Core.Class">Class</a> -&gt; <a href="GHC-Prelude.html#t:Bool" title="GHC.Prelude">Bool</a> <a href="src/GHC.Tc.Deriv.Utils.html#non_coercible_class" class="link">Source</a> <a href="#v:non_coercible_class" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newDerivClsInst" class="def">newDerivClsInst</a> :: <a href="GHC-Core-Type.html#t:ThetaType" title="GHC.Core.Type">ThetaType</a> -&gt; <a href="GHC-Tc-Deriv-Utils.html#t:DerivSpec" title="GHC.Tc.Deriv.Utils">DerivSpec</a> theta -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> <a href="GHC-Core-InstEnv.html#t:ClsInst" title="GHC.Core.InstEnv">ClsInst</a> <a href="src/GHC.Tc.Deriv.Utils.html#newDerivClsInst" class="link">Source</a> <a href="#v:newDerivClsInst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendLocalInstEnv" class="def">extendLocalInstEnv</a> :: [<a href="GHC-Core-InstEnv.html#t:ClsInst" title="GHC.Core.InstEnv">ClsInst</a>] -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> a -&gt; <a href="GHC-Tc-Types.html#t:TcM" title="GHC.Tc.Types">TcM</a> a <a href="src/GHC.Tc.Deriv.Utils.html#extendLocalInstEnv" class="link">Source</a> <a href="#v:extendLocalInstEnv" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>