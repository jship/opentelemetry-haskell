<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998
-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Core.Map.Type</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-11"></span><span>     </span><span class="annot"><span class="hs-comment">-- * Re-export generic interface</span></span><span>
</span><span id="line-12"></span><span>   </span><span class="annot"><a href="GHC.Data.TrieMap.html#TrieMap"><span class="hs-identifier">TrieMap</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-identifier">XT</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span>     </span><span class="annot"><span class="hs-comment">-- * Maps over 'Type's</span></span><span>
</span><span id="line-15"></span><span>   </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier">TypeMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#emptyTypeMap"><span class="hs-identifier">emptyTypeMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#extendTypeMap"><span class="hs-identifier">extendTypeMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#lookupTypeMap"><span class="hs-identifier">lookupTypeMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#foldTypeMap"><span class="hs-identifier">foldTypeMap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>   </span><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier">LooseTypeMap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>   </span><span class="annot"><span class="hs-comment">-- ** With explicit scoping</span></span><span>
</span><span id="line-18"></span><span>   </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier">CmEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#lookupCME"><span class="hs-identifier">lookupCME</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#extendTypeMapWithScope"><span class="hs-identifier">extendTypeMapWithScope</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#lookupTypeMapWithScope"><span class="hs-identifier">lookupTypeMapWithScope</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>   </span><span class="annot"><a href="GHC.Core.Map.Type.html#mkDeBruijnContext"><span class="hs-identifier">mkDeBruijnContext</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#extendCME"><span class="hs-identifier">extendCME</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#extendCMEs"><span class="hs-identifier">extendCMEs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#emptyCME"><span class="hs-identifier">emptyCME</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Utilities for use by friends only</span></span><span>
</span><span id="line-22"></span><span>   </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier">TypeMapG</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapG"><span class="hs-identifier">CoercionMapG</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>   </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier">DeBruijn</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#deBruijnize"><span class="hs-identifier">deBruijnize</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span>   </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier">BndrMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#xtBndr"><span class="hs-identifier">xtBndr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#lkBndr"><span class="hs-identifier">lkBndr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>   </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier">VarMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#xtVar"><span class="hs-identifier">xtVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#lkVar"><span class="hs-identifier">lkVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#lkDFreeVar"><span class="hs-identifier">lkDFreeVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#xtDFreeVar"><span class="hs-identifier">xtDFreeVar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>   </span><span class="annot"><a href="GHC.Core.Map.Type.html#xtDNamed"><span class="hs-identifier">xtDNamed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#lkDNamed"><span class="hs-identifier">lkDNamed</span></a></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span>   </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-comment">-- This module is separate from GHC.Core.Map.Expr to avoid a module loop</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- between GHC.Core.Unify (which depends on this module) and GHC.Core</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.html"><span class="hs-identifier">GHC.Core.Coercion</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html"><span class="hs-identifier">GHC.Core.TyCo.Rep</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html"><span class="hs-identifier">GHC.Data.TrieMap</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html"><span class="hs-identifier">GHC.Types.Name.Env</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.html"><span class="hs-identifier">GHC.Types.Var</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html"><span class="hs-identifier">GHC.Types.Var.Env</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html"><span class="hs-identifier">GHC.Types.Unique.FM</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map.html#"><span class="hs-identifier">Data.Map</span></a></span><span>    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap.html#"><span class="hs-identifier">Data.IntMap</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IntMap</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Control-Monad.html#"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Control-Monad.html#%3E%3D%3E"><span class="hs-operator">(&gt;=&gt;)</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-comment">-- NB: Be careful about RULES and type families (#5821).  So we should make sure</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- to specify @Key TypeMapX@ (and not @DeBruijn Type@, the reduced form)</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-pragma hs-type">lkG</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621681032385"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-pragma hs-type">Key</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-pragma hs-type">TypeMapX</span></a></span><span>     </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-pragma hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032385"><span class="hs-pragma hs-type">a</span></a></span><span>     </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-pragma hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032385"><span class="hs-pragma hs-type">a</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-63"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-pragma hs-type">lkG</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621681032384"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-pragma hs-type">Key</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-pragma hs-type">CoercionMapX</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapG"><span class="hs-pragma hs-type">CoercionMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032384"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-pragma hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032384"><span class="hs-pragma hs-type">a</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-pragma hs-type">xtG</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621681032382"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-pragma hs-type">Key</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-pragma hs-type">TypeMapX</span></a></span><span>     </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-pragma hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032382"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-pragma hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032382"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-pragma hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032382"><span class="hs-pragma hs-type">a</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-66"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-pragma hs-type">xtG</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621681032381"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-pragma hs-type">Key</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-pragma hs-type">CoercionMapX</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-pragma hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032381"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapG"><span class="hs-pragma hs-type">CoercionMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032381"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapG"><span class="hs-pragma hs-type">CoercionMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032381"><span class="hs-pragma hs-type">a</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#mapG"><span class="hs-pragma hs-type">mapG</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621681032378"><span id="local-6989586621681032379"><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621681032379"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032378"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-pragma hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032379"><span class="hs-pragma hs-type">a</span></a></span><span>     </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-pragma hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032378"><span class="hs-pragma hs-type">b</span></a></span></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-69"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#mapG"><span class="hs-pragma hs-type">mapG</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621681032376"><span id="local-6989586621681032377"><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621681032377"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032376"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapG"><span class="hs-pragma hs-type">CoercionMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032377"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapG"><span class="hs-pragma hs-type">CoercionMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032376"><span class="hs-pragma hs-type">b</span></a></span></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#fdG"><span class="hs-pragma hs-type">fdG</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621681032373"><span id="local-6989586621681032374"><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621681032374"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032373"><span class="hs-pragma hs-type">b</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032373"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-pragma hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032374"><span class="hs-pragma hs-type">a</span></a></span><span>     </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032373"><span class="hs-pragma hs-type">b</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032373"><span class="hs-pragma hs-type">b</span></a></span></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-72"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#fdG"><span class="hs-pragma hs-type">fdG</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621681032371"><span id="local-6989586621681032372"><span class="hs-pragma">(</span><span class="annot"><a href="#local-6989586621681032372"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032371"><span class="hs-pragma hs-type">b</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032371"><span class="hs-pragma hs-type">b</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapG"><span class="hs-pragma hs-type">CoercionMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032372"><span class="hs-pragma hs-type">a</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032371"><span class="hs-pragma hs-type">b</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032371"><span class="hs-pragma hs-type">b</span></a></span></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                   Coercions
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">-- We should really never care about the contents of a coercion. Instead,</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- just look up the coercion's type.</span><span>
</span><span id="line-84"></span><span class="hs-keyword">newtype</span><span> </span><span id="CoercionMap"><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-var">CoercionMap</span></a></span></span><span> </span><span id="local-6989586621681032672"><span class="annot"><a href="#local-6989586621681032672"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CoercionMap"><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-var">CoercionMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapG"><span class="hs-identifier hs-type">CoercionMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032672"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#TrieMap"><span class="hs-identifier hs-type">TrieMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-type">CoercionMap</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Key"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-identifier hs-var">Key</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-type">CoercionMap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Coercion"><span class="hs-identifier hs-type">Coercion</span></a></span><span>
</span><span id="line-88"></span><span>   </span><span id="local-6989586621681032355"><span class="annot"><span class="annottext">emptyTM :: forall a. CoercionMap a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var hs-var hs-var hs-var">emptyTM</span></a></span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CoercionMapG a -&gt; CoercionMap a
</span><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-var">CoercionMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-89"></span><span>   </span><span id="local-6989586621681032349"><span class="annot"><span class="annottext">lookupTM :: forall b. Key CoercionMap -&gt; CoercionMap b -&gt; Maybe b
</span><a href="GHC.Data.TrieMap.html#lookupTM"><span class="hs-identifier hs-var hs-var hs-var hs-var">lookupTM</span></a></span></span><span> </span><span id="local-6989586621681032347"><span class="annot"><span class="annottext">Key CoercionMap
</span><a href="#local-6989586621681032347"><span class="hs-identifier hs-var">k</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-type">CoercionMap</span></a></span><span> </span><span id="local-6989586621681032346"><span class="annot"><span class="annottext">CoercionMapG b
</span><a href="#local-6989586621681032346"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; m b -&gt; Maybe b
</span><a href="GHC.Data.TrieMap.html#lookupTM"><span class="hs-identifier hs-var">lookupTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#deBruijnize"><span class="hs-identifier hs-var">deBruijnize</span></a></span><span> </span><span class="annot"><span class="annottext">Key CoercionMap
</span><a href="#local-6989586621681032347"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CoercionMapG b
</span><a href="#local-6989586621681032346"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-90"></span><span>   </span><span id="local-6989586621681032341"><span class="annot"><span class="annottext">alterTM :: forall b. Key CoercionMap -&gt; XT b -&gt; CoercionMap b -&gt; CoercionMap b
</span><a href="GHC.Data.TrieMap.html#alterTM"><span class="hs-identifier hs-var hs-var hs-var hs-var">alterTM</span></a></span></span><span> </span><span id="local-6989586621681032339"><span class="annot"><span class="annottext">Key CoercionMap
</span><a href="#local-6989586621681032339"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681032338"><span class="annot"><span class="annottext">XT b
</span><a href="#local-6989586621681032338"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-type">CoercionMap</span></a></span><span> </span><span id="local-6989586621681032337"><span class="annot"><span class="annottext">CoercionMapG b
</span><a href="#local-6989586621681032337"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CoercionMapG a -&gt; CoercionMap a
</span><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-var">CoercionMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; XT b -&gt; m b -&gt; m b
</span><a href="GHC.Data.TrieMap.html#alterTM"><span class="hs-identifier hs-var">alterTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#deBruijnize"><span class="hs-identifier hs-var">deBruijnize</span></a></span><span> </span><span class="annot"><span class="annottext">Key CoercionMap
</span><a href="#local-6989586621681032339"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT b
</span><a href="#local-6989586621681032338"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">CoercionMapG b
</span><a href="#local-6989586621681032337"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>   </span><span id="local-6989586621681032332"><span class="annot"><span class="annottext">foldTM :: forall a b. (a -&gt; b -&gt; b) -&gt; CoercionMap a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldTM</span></a></span></span><span> </span><span id="local-6989586621681032330"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681032330"><span class="hs-identifier hs-var">k</span></a></span></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-type">CoercionMap</span></a></span><span> </span><span id="local-6989586621681032329"><span class="annot"><span class="annottext">CoercionMapG a
</span><a href="#local-6989586621681032329"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681032330"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">CoercionMapG a
</span><a href="#local-6989586621681032329"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-92"></span><span>   </span><span id="local-6989586621681032324"><span class="annot"><span class="annottext">mapTM :: forall a b. (a -&gt; b) -&gt; CoercionMap a -&gt; CoercionMap b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var hs-var hs-var hs-var">mapTM</span></a></span></span><span> </span><span id="local-6989586621681032322"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032322"><span class="hs-identifier hs-var">f</span></a></span></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-type">CoercionMap</span></a></span><span> </span><span id="local-6989586621681032321"><span class="annot"><span class="annottext">CoercionMapG a
</span><a href="#local-6989586621681032321"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CoercionMapG a -&gt; CoercionMap a
</span><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-var">CoercionMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032322"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">CoercionMapG a
</span><a href="#local-6989586621681032321"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>   </span><span id="local-6989586621681032316"><span class="annot"><span class="annottext">filterTM :: forall a. (a -&gt; Bool) -&gt; CoercionMap a -&gt; CoercionMap a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var hs-var hs-var hs-var">filterTM</span></a></span></span><span> </span><span id="local-6989586621681032314"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681032314"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-type">CoercionMap</span></a></span><span> </span><span id="local-6989586621681032313"><span class="annot"><span class="annottext">CoercionMapG a
</span><a href="#local-6989586621681032313"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CoercionMapG a -&gt; CoercionMap a
</span><a href="GHC.Core.Map.Type.html#CoercionMap"><span class="hs-identifier hs-var">CoercionMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681032314"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">CoercionMapG a
</span><a href="#local-6989586621681032313"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">type</span><span> </span><span id="CoercionMapG"><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapG"><span class="hs-identifier hs-var">CoercionMapG</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#GenMap"><span class="hs-identifier hs-type">GenMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span>
</span><span id="line-96"></span><span class="hs-keyword">newtype</span><span> </span><span id="CoercionMapX"><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-var">CoercionMapX</span></a></span></span><span> </span><span id="local-6989586621681032661"><span class="annot"><a href="#local-6989586621681032661"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CoercionMapX"><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-var">CoercionMapX</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032661"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#TrieMap"><span class="hs-identifier hs-type">TrieMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Key"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-identifier hs-var">Key</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Coercion"><span class="hs-identifier hs-type">Coercion</span></a></span><span>
</span><span id="line-100"></span><span>  </span><span id="local-6989586621681032303"><span class="annot"><span class="annottext">emptyTM :: forall a. CoercionMapX a
</span><a href="#local-6989586621681032303"><span class="hs-identifier hs-var hs-var hs-var hs-var">emptyTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; CoercionMapX a
</span><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-var">CoercionMapX</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span id="local-6989586621681032302"><span class="annot"><span class="annottext">lookupTM :: forall b. Key CoercionMapX -&gt; CoercionMapX b -&gt; Maybe b
</span><a href="#local-6989586621681032302"><span class="hs-identifier hs-var hs-var hs-var hs-var">lookupTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Coercion -&gt; CoercionMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkC"><span class="hs-identifier hs-var">lkC</span></a></span><span>
</span><span id="line-102"></span><span>  </span><span id="local-6989586621681032300"><span class="annot"><span class="annottext">alterTM :: forall b.
Key CoercionMapX -&gt; XT b -&gt; CoercionMapX b -&gt; CoercionMapX b
</span><a href="#local-6989586621681032300"><span class="hs-identifier hs-var hs-var hs-var hs-var">alterTM</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a.
DeBruijn Coercion -&gt; XT a -&gt; CoercionMapX a -&gt; CoercionMapX a
</span><a href="GHC.Core.Map.Type.html#xtC"><span class="hs-identifier hs-var">xtC</span></a></span><span>
</span><span id="line-103"></span><span>  </span><span id="local-6989586621681032297"><span class="annot"><span class="annottext">foldTM :: forall a b. (a -&gt; b -&gt; b) -&gt; CoercionMapX a -&gt; b -&gt; b
</span><a href="#local-6989586621681032297"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldTM</span></a></span></span><span> </span><span id="local-6989586621681032296"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681032296"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span id="local-6989586621681032295"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032295"><span class="hs-identifier hs-var">core_tm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681032296"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032295"><span class="hs-identifier hs-var">core_tm</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span id="local-6989586621681032293"><span class="annot"><span class="annottext">mapTM :: forall a b. (a -&gt; b) -&gt; CoercionMapX a -&gt; CoercionMapX b
</span><a href="#local-6989586621681032293"><span class="hs-identifier hs-var hs-var hs-var hs-var">mapTM</span></a></span></span><span> </span><span id="local-6989586621681032292"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032292"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span id="local-6989586621681032291"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032291"><span class="hs-identifier hs-var">core_tm</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; CoercionMapX a
</span><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-var">CoercionMapX</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032292"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032291"><span class="hs-identifier hs-var">core_tm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>  </span><span id="local-6989586621681032289"><span class="annot"><span class="annottext">filterTM :: forall a. (a -&gt; Bool) -&gt; CoercionMapX a -&gt; CoercionMapX a
</span><a href="#local-6989586621681032289"><span class="hs-identifier hs-var hs-var hs-var hs-var">filterTM</span></a></span></span><span> </span><span id="local-6989586621681032288"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681032288"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span id="local-6989586621681032287"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032287"><span class="hs-identifier hs-var">core_tm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; CoercionMapX a
</span><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-var">CoercionMapX</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681032288"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032287"><span class="hs-identifier hs-var">core_tm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681032284"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Coercion"><span class="hs-identifier hs-type">Coercion</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032280"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032280"><span class="hs-identifier hs-var">env1</span></a></span></span><span> </span><span id="local-6989586621681032279"><span class="annot"><span class="annottext">Coercion
</span><a href="#local-6989586621681032279"><span class="hs-identifier hs-var">co1</span></a></span></span><span> </span><span id="local-6989586621681032278"><span class="annot"><span class="annottext">== :: DeBruijn Coercion -&gt; DeBruijn Coercion -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032277"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032277"><span class="hs-identifier hs-var">env2</span></a></span></span><span> </span><span id="local-6989586621681032276"><span class="annot"><span class="annottext">Coercion
</span><a href="#local-6989586621681032276"><span class="hs-identifier hs-var">co2</span></a></span></span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032280"><span class="hs-identifier hs-var">env1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Coercion -&gt; Type
</span><a href="GHC.Core.Coercion.html#coercionType"><span class="hs-identifier hs-var">coercionType</span></a></span><span> </span><span class="annot"><span class="annottext">Coercion
</span><a href="#local-6989586621681032279"><span class="hs-identifier hs-var">co1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span>
</span><span id="line-110"></span><span>      </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032277"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Coercion -&gt; Type
</span><a href="GHC.Core.Coercion.html#coercionType"><span class="hs-identifier hs-var">coercionType</span></a></span><span> </span><span class="annot"><span class="annottext">Coercion
</span><a href="#local-6989586621681032276"><span class="hs-identifier hs-var">co2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span id="local-6989586621681032660"><span class="annot"><a href="GHC.Core.Map.Type.html#lkC"><span class="hs-identifier hs-type">lkC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Coercion"><span class="hs-identifier hs-type">Coercion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032660"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032660"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-113"></span><span id="lkC"><span class="annot"><span class="annottext">lkC :: forall a. DeBruijn Coercion -&gt; CoercionMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkC"><span class="hs-identifier hs-var hs-var">lkC</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032274"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032274"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681032273"><span class="annot"><span class="annottext">Coercion
</span><a href="#local-6989586621681032273"><span class="hs-identifier hs-var">co</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span id="local-6989586621681032272"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032272"><span class="hs-identifier hs-var">core_tm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; TypeMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkT"><span class="hs-identifier hs-var">lkT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032274"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Coercion -&gt; Type
</span><a href="GHC.Core.Coercion.html#coercionType"><span class="hs-identifier hs-var">coercionType</span></a></span><span> </span><span class="annot"><span class="annottext">Coercion
</span><a href="#local-6989586621681032273"><span class="hs-identifier hs-var">co</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>                                        </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032272"><span class="hs-identifier hs-var">core_tm</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span id="local-6989586621681032659"><span class="annot"><a href="GHC.Core.Map.Type.html#xtC"><span class="hs-identifier hs-type">xtC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Coercion"><span class="hs-identifier hs-type">Coercion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-identifier hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032659"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032659"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032659"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-117"></span><span id="xtC"><span class="annot"><span class="annottext">xtC :: forall a.
DeBruijn Coercion -&gt; XT a -&gt; CoercionMapX a -&gt; CoercionMapX a
</span><a href="GHC.Core.Map.Type.html#xtC"><span class="hs-identifier hs-var hs-var">xtC</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032270"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032270"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681032269"><span class="annot"><span class="annottext">Coercion
</span><a href="#local-6989586621681032269"><span class="hs-identifier hs-var">co</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681032268"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681032268"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-type">CoercionMapX</span></a></span><span> </span><span id="local-6989586621681032267"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032267"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; CoercionMapX a
</span><a href="GHC.Core.Map.Type.html#CoercionMapX"><span class="hs-identifier hs-var">CoercionMapX</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; XT a -&gt; TypeMapX a -&gt; TypeMapX a
</span><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032270"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Coercion -&gt; Type
</span><a href="GHC.Core.Coercion.html#coercionType"><span class="hs-identifier hs-var">coercionType</span></a></span><span> </span><span class="annot"><span class="annottext">Coercion
</span><a href="#local-6989586621681032269"><span class="hs-identifier hs-var">co</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681032268"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032267"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                   Types
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">-- | @TypeMapG a@ is a map from @DeBruijn Type@ to @a@.  The extended</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- key makes it suitable for recursive traversal, since it can track binders,</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- but it is strictly internal to this module.  If you are including a 'TypeMap'</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- inside another 'TrieMap', this is the type you want. Note that this</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- lookup does not do a kind-check. Thus, all keys in this map must have</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- the same kind. Also note that this map respects the distinction between</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- @Type@ and @Constraint@, despite the fact that they are equivalent type</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- synonyms in Core.</span><span>
</span><span id="line-136"></span><span class="hs-keyword">type</span><span> </span><span id="TypeMapG"><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-var">TypeMapG</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#GenMap"><span class="hs-identifier hs-type">GenMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- | @TypeMapX a@ is the base map from @DeBruijn Type@ to @a@, but without the</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- 'GenMap' optimization. See Note [Computing equality on types] in GHC.Core.Type.</span><span>
</span><span id="line-140"></span><span class="hs-keyword">data</span><span> </span><span id="TypeMapX"><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-var">TypeMapX</span></a></span></span><span> </span><span id="local-6989586621681032643"><span class="annot"><a href="#local-6989586621681032643"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TM"><span class="annot"><a href="GHC.Core.Map.Type.html#TM"><span class="hs-identifier hs-var">TM</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="tm_var"><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var hs-var">tm_var</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032643"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-142"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="tm_app"><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (TypeMapG a)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var hs-var">tm_app</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032643"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Note [Equality on AppTys] in GHC.Core.Type</span><span>
</span><span id="line-143"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="tm_tycon"><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; DNameEnv a
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var hs-var">tm_tycon</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html#DNameEnv"><span class="hs-identifier hs-type">DNameEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032643"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span>         </span><span class="hs-comment">-- only InvisArg arrows here</span><span>
</span><span id="line-146"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="tm_funty"><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (TypeMapG (TypeMapG a))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var hs-var">tm_funty</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032643"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>                       </span><span class="hs-comment">-- keyed on the argument, result rep, and result</span><span>
</span><span id="line-148"></span><span>                       </span><span class="hs-comment">-- constraints are never linear-restricted and are always lifted</span><span>
</span><span id="line-149"></span><span>                       </span><span class="hs-comment">-- See also Note [Equality on FunTys] in GHC.Core.TyCo.Rep</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="tm_forall"><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (BndrMap a)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var hs-var">tm_forall</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032643"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- See Note [Binders] in GHC.Core.Map.Expr</span><span>
</span><span id="line-152"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="tm_tylit"><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var hs-var">tm_tylit</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032643"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-153"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="tm_coerce"><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var hs-var">tm_coerce</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032643"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-154"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-comment">-- Note that there is no tyconapp case; see Note [Equality on AppTys] in GHC.Core.Type</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-comment">-- | Squeeze out any synonyms, and change TyConApps to nested AppTys. Why the</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- last one? See Note [Equality on AppTys] in GHC.Core.Type</span><span>
</span><span id="line-159"></span><span class="hs-comment">--</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- Note, however, that we keep Constraint and Type apart here, despite the fact</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- that they are both synonyms of TYPE 'LiftedRep (see #11715).</span><span>
</span><span id="line-162"></span><span class="hs-comment">--</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- We also keep (Eq a =&gt; a) as a FunTy, distinct from ((-&gt;) (Eq a) a).</span><span>
</span><span id="line-164"></span><span class="annot"><a href="GHC.Core.Map.Type.html#trieMapView"><span class="hs-identifier hs-type">trieMapView</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-165"></span><span id="trieMapView"><span class="annot"><span class="annottext">trieMapView :: Type -&gt; Maybe Type
</span><a href="GHC.Core.Map.Type.html#trieMapView"><span class="hs-identifier hs-var hs-var">trieMapView</span></a></span></span><span> </span><span id="local-6989586621681032256"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032256"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-comment">-- First check for TyConApps that need to be expanded to</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-comment">-- AppTy chains.</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681032255"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681032255"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681032254"><span class="annot"><span class="annottext">tys :: [Type]
</span><a href="#local-6989586621681032254"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Type]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; Type -&gt; Maybe (TyCon, [Type])
</span><a href="GHC.Core.Type.html#tcSplitTyConApp_maybe"><span class="hs-identifier hs-var">tcSplitTyConApp_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032256"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><a href="GHC.Core.TyCo.Rep.html#AppTy"><span class="hs-identifier hs-var">AppTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Type
</span><a href="GHC.Core.Type.html#mkTyConTy"><span class="hs-identifier hs-var">mkTyConTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681032255"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621681032254"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-comment">-- Then resolve any remaining nullary synonyms.</span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681032249"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032249"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Maybe Type
</span><a href="GHC.Core.Type.html#tcView"><span class="hs-identifier hs-var">tcView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032256"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032249"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-173"></span><span class="annot"><a href="GHC.Core.Map.Type.html#trieMapView"><span class="hs-identifier hs-var">trieMapView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#TrieMap"><span class="hs-identifier hs-type">TrieMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-176"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Key"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-identifier hs-var">Key</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-177"></span><span>   </span><span id="local-6989586621681032241"><span class="annot"><span class="annottext">emptyTM :: forall a. TypeMapX a
</span><a href="#local-6989586621681032241"><span class="hs-identifier hs-var hs-var hs-var hs-var">emptyTM</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a
</span><a href="GHC.Core.Map.Type.html#emptyT"><span class="hs-identifier hs-var">emptyT</span></a></span><span>
</span><span id="line-178"></span><span>   </span><span id="local-6989586621681032239"><span class="annot"><span class="annottext">lookupTM :: forall b. Key TypeMapX -&gt; TypeMapX b -&gt; Maybe b
</span><a href="#local-6989586621681032239"><span class="hs-identifier hs-var hs-var hs-var hs-var">lookupTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; TypeMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkT"><span class="hs-identifier hs-var">lkT</span></a></span><span>
</span><span id="line-179"></span><span>   </span><span id="local-6989586621681032238"><span class="annot"><span class="annottext">alterTM :: forall b. Key TypeMapX -&gt; XT b -&gt; TypeMapX b -&gt; TypeMapX b
</span><a href="#local-6989586621681032238"><span class="hs-identifier hs-var hs-var hs-var hs-var">alterTM</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; XT a -&gt; TypeMapX a -&gt; TypeMapX a
</span><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span>
</span><span id="line-180"></span><span>   </span><span id="local-6989586621681032237"><span class="annot"><span class="annottext">foldTM :: forall a b. (a -&gt; b -&gt; b) -&gt; TypeMapX a -&gt; b -&gt; b
</span><a href="#local-6989586621681032237"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldTM</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b -&gt; b) -&gt; TypeMapX a -&gt; b -&gt; b
</span><a href="GHC.Core.Map.Type.html#fdT"><span class="hs-identifier hs-var">fdT</span></a></span><span>
</span><span id="line-181"></span><span>   </span><span id="local-6989586621681032235"><span class="annot"><span class="annottext">mapTM :: forall a b. (a -&gt; b) -&gt; TypeMapX a -&gt; TypeMapX b
</span><a href="#local-6989586621681032235"><span class="hs-identifier hs-var hs-var hs-var hs-var">mapTM</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; TypeMapX a -&gt; TypeMapX b
</span><a href="GHC.Core.Map.Type.html#mapT"><span class="hs-identifier hs-var">mapT</span></a></span><span>
</span><span id="line-182"></span><span>   </span><span id="local-6989586621681032233"><span class="annot"><span class="annottext">filterTM :: forall a. (a -&gt; Bool) -&gt; TypeMapX a -&gt; TypeMapX a
</span><a href="#local-6989586621681032233"><span class="hs-identifier hs-var hs-var hs-var hs-var">filterTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; TypeMapX a -&gt; TypeMapX a
</span><a href="GHC.Core.Map.Type.html#filterT"><span class="hs-identifier hs-var">filterT</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681032229"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>  </span><span id="local-6989586621681032202"><span class="annot"><span class="annottext">env_t :: DeBruijn Type
</span><a href="#local-6989586621681032202"><span class="hs-identifier hs-var">env_t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032201"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681032200"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032200"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681032199"><span class="annot"><span class="annottext">== :: DeBruijn Type -&gt; DeBruijn Type -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span id="local-6989586621681032198"><span class="annot"><span class="annottext">env_t' :: DeBruijn Type
</span><a href="#local-6989586621681032198"><span class="hs-identifier hs-var">env_t'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032197"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span></span><span> </span><span id="local-6989586621681032196"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032196"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681032195"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032195"><span class="hs-identifier hs-var">new_t</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Maybe Type
</span><a href="GHC.Core.Type.html#tcView"><span class="hs-identifier hs-var">tcView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032200"><span class="hs-identifier hs-var">t</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032195"><span class="hs-identifier hs-var">new_t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">DeBruijn Type
</span><a href="#local-6989586621681032198"><span class="hs-identifier hs-var">env_t'</span></a></span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681032194"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032194"><span class="hs-identifier hs-var">new_t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Maybe Type
</span><a href="GHC.Core.Type.html#tcView"><span class="hs-identifier hs-var">tcView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032196"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DeBruijn Type
</span><a href="#local-6989586621681032202"><span class="hs-identifier hs-var">env_t</span></a></span><span>       </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032194"><span class="hs-identifier hs-var">new_t'</span></a></span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-189"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032200"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032196"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-190"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CastTy"><span class="hs-identifier hs-type">CastTy</span></a></span><span> </span><span id="local-6989586621681032192"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032192"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span class="annot"><span class="annottext">Coercion
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032192"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032196"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-191"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CastTy"><span class="hs-identifier hs-type">CastTy</span></a></span><span> </span><span id="local-6989586621681032191"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032191"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Coercion
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032200"><span class="hs-identifier hs-var">t</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032191"><span class="hs-identifier hs-var">t1'</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyVarTy"><span class="hs-identifier hs-type">TyVarTy</span></a></span><span> </span><span id="local-6989586621681032189"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032189"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyVarTy"><span class="hs-identifier hs-type">TyVarTy</span></a></span><span> </span><span id="local-6989586621681032188"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032188"><span class="hs-identifier hs-var">v'</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmEnv -&gt; Var -&gt; Maybe BoundVar
</span><a href="GHC.Core.Map.Type.html#lookupCME"><span class="hs-identifier hs-var">lookupCME</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032189"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmEnv -&gt; Var -&gt; Maybe BoundVar
</span><a href="GHC.Core.Map.Type.html#lookupCME"><span class="hs-identifier hs-var">lookupCME</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032188"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-195"></span><span>                </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681032187"><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681032187"><span class="hs-identifier hs-var">bv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681032186"><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681032186"><span class="hs-identifier hs-var">bv'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681032187"><span class="hs-identifier hs-var">bv</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681032186"><span class="hs-identifier hs-var">bv'</span></a></span><span>
</span><span id="line-196"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe BoundVar
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe BoundVar
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032189"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032188"><span class="hs-identifier hs-var">v'</span></a></span><span>
</span><span id="line-197"></span><span>                </span><span class="annot"><span class="annottext">(Maybe BoundVar, Maybe BoundVar)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-198"></span><span>                </span><span class="hs-comment">-- See Note [Equality on AppTys] in GHC.Core.Type</span><span>
</span><span id="line-199"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#AppTy"><span class="hs-identifier hs-type">AppTy</span></a></span><span> </span><span id="local-6989586621681032185"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032185"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681032184"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032184"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681032183"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032183"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681032182"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032182"><span class="hs-identifier hs-var">t1'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681032181"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032181"><span class="hs-identifier hs-var">t2'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Maybe (Type, Type)
</span><a href="GHC.Core.Type.html#repSplitAppTy_maybe"><span class="hs-identifier hs-var">repSplitAppTy_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032183"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-200"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032185"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032182"><span class="hs-identifier hs-var">t1'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032184"><span class="hs-identifier hs-var">t2</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032181"><span class="hs-identifier hs-var">t2'</span></a></span><span>
</span><span id="line-201"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681032178"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032178"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#AppTy"><span class="hs-identifier hs-type">AppTy</span></a></span><span> </span><span id="local-6989586621681032177"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032177"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span id="local-6989586621681032176"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032176"><span class="hs-identifier hs-var">t2'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681032175"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032175"><span class="hs-identifier hs-var">t1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681032174"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032174"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Maybe (Type, Type)
</span><a href="GHC.Core.Type.html#repSplitAppTy_maybe"><span class="hs-identifier hs-var">repSplitAppTy_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032178"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-202"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032175"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032177"><span class="hs-identifier hs-var">t1'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032174"><span class="hs-identifier hs-var">t2</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032176"><span class="hs-identifier hs-var">t2'</span></a></span><span>
</span><span id="line-203"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#FunTy"><span class="hs-identifier hs-type">FunTy</span></a></span><span> </span><span id="local-6989586621681032172"><span class="annot"><span class="annottext">AnonArgFlag
</span><a href="#local-6989586621681032172"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span id="local-6989586621681032171"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032171"><span class="hs-identifier hs-var">w1</span></a></span></span><span> </span><span id="local-6989586621681032170"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032170"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681032169"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032169"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#FunTy"><span class="hs-identifier hs-type">FunTy</span></a></span><span> </span><span id="local-6989586621681032168"><span class="annot"><span class="annottext">AnonArgFlag
</span><a href="#local-6989586621681032168"><span class="hs-identifier hs-var">v1'</span></a></span></span><span> </span><span id="local-6989586621681032167"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032167"><span class="hs-identifier hs-var">w1'</span></a></span></span><span> </span><span id="local-6989586621681032166"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032166"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span id="local-6989586621681032165"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032165"><span class="hs-identifier hs-var">t2'</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnonArgFlag
</span><a href="#local-6989586621681032172"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">AnonArgFlag
</span><a href="#local-6989586621681032168"><span class="hs-identifier hs-var">v1'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-205"></span><span>               </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032171"><span class="hs-identifier hs-var">w1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032167"><span class="hs-identifier hs-var">w1'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-206"></span><span>               </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032170"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032166"><span class="hs-identifier hs-var">t1'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-207"></span><span>               </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032169"><span class="hs-identifier hs-var">t2</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032165"><span class="hs-identifier hs-var">t2'</span></a></span><span>
</span><span id="line-208"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyConApp"><span class="hs-identifier hs-type">TyConApp</span></a></span><span> </span><span id="local-6989586621681032163"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681032163"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621681032162"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621681032162"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyConApp"><span class="hs-identifier hs-type">TyConApp</span></a></span><span> </span><span id="local-6989586621681032161"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681032161"><span class="hs-identifier hs-var">tc'</span></a></span></span><span> </span><span id="local-6989586621681032160"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621681032160"><span class="hs-identifier hs-var">tys'</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681032163"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681032161"><span class="hs-identifier hs-var">tc'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621681032162"><span class="hs-identifier hs-var">tys</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621681032160"><span class="hs-identifier hs-var">tys'</span></a></span><span>
</span><span id="line-210"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#LitTy"><span class="hs-identifier hs-type">LitTy</span></a></span><span> </span><span id="local-6989586621681032158"><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681032158"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#LitTy"><span class="hs-identifier hs-type">LitTy</span></a></span><span> </span><span id="local-6989586621681032157"><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681032157"><span class="hs-identifier hs-var">l'</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681032158"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681032157"><span class="hs-identifier hs-var">l'</span></a></span><span>
</span><span id="line-212"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#ForAllTy"><span class="hs-identifier hs-type">ForAllTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-type">Bndr</span></a></span><span> </span><span id="local-6989586621681032154"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032154"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span class="annot"><span class="annottext">ArgFlag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681032153"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032153"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#ForAllTy"><span class="hs-identifier hs-type">ForAllTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-type">Bndr</span></a></span><span> </span><span id="local-6989586621681032152"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032152"><span class="hs-identifier hs-var">tv'</span></a></span></span><span> </span><span class="annot"><span class="annottext">ArgFlag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681032151"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032151"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Type
</span><a href="GHC.Types.Var.html#varType"><span class="hs-identifier hs-var">varType</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032154"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span>      </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Type
</span><a href="GHC.Types.Var.html#varType"><span class="hs-identifier hs-var">varType</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032152"><span class="hs-identifier hs-var">tv'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-214"></span><span>               </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmEnv -&gt; Var -&gt; CmEnv
</span><a href="GHC.Core.Map.Type.html#extendCME"><span class="hs-identifier hs-var">extendCME</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032201"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032154"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032153"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmEnv -&gt; Var -&gt; CmEnv
</span><a href="GHC.Core.Map.Type.html#extendCME"><span class="hs-identifier hs-var">extendCME</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032197"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032152"><span class="hs-identifier hs-var">tv'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032151"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-215"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CoercionTy"><span class="hs-identifier hs-type">CoercionTy</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CoercionTy"><span class="hs-identifier hs-type">CoercionTy</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-217"></span><span>        </span><span class="annot"><span class="annottext">(Type, Type)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-220"></span><span>         </span><span id="local-6989586621681032614"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032614"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032614"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>  </span><span id="local-6989586621681032138"><span class="annot"><span class="annottext">ppr :: TypeMapG a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621681032136"><span class="annot"><span class="annottext">TypeMapG a
</span><a href="#local-6989586621681032136"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TypeMap elts&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG a
</span><a href="#local-6989586621681032136"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span id="local-6989586621681032133"><span class="annot"><a href="GHC.Core.Map.Type.html#emptyT"><span class="hs-identifier hs-type">emptyT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032133"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-224"></span><span id="emptyT"><span class="annot"><span class="annottext">emptyT :: forall a. TypeMapX a
</span><a href="GHC.Core.Map.Type.html#emptyT"><span class="hs-identifier hs-var hs-var">emptyT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_var :: VarMap a
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var">tm_var</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-225"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_app :: TypeMapG (TypeMapG a)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var">tm_app</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-226"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tycon :: DNameEnv a
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var">tm_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DNameEnv a
</span><a href="GHC.Types.Name.Env.html#emptyDNameEnv"><span class="hs-identifier hs-var">emptyDNameEnv</span></a></span><span>
</span><span id="line-227"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_funty :: TypeMapG (TypeMapG (TypeMapG a))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var">tm_funty</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-228"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_forall :: TypeMapG (BndrMap a)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var">tm_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-229"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tylit :: TyLitMap a
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var">tm_tylit</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TyLitMap a
</span><a href="GHC.Core.Map.Type.html#emptyTyLitMap"><span class="hs-identifier hs-var">emptyTyLitMap</span></a></span><span>
</span><span id="line-230"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_coerce :: Maybe a
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var">tm_coerce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span id="local-6989586621681032121"><span id="local-6989586621681032122"><span class="annot"><a href="GHC.Core.Map.Type.html#mapT"><span class="hs-identifier hs-type">mapT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681032122"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="#local-6989586621681032121"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032122"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032121"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-233"></span><span id="mapT"><span class="annot"><span class="annottext">mapT :: forall a b. (a -&gt; b) -&gt; TypeMapX a -&gt; TypeMapX b
</span><a href="GHC.Core.Map.Type.html#mapT"><span class="hs-identifier hs-var hs-var">mapT</span></a></span></span><span> </span><span id="local-6989586621681032100"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032100"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_var :: forall a. TypeMapX a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var">tm_var</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681032099"><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681032099"><span class="hs-identifier hs-var">tvar</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_app :: forall a. TypeMapX a -&gt; TypeMapG (TypeMapG a)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var">tm_app</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681032098"><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681032098"><span class="hs-identifier hs-var">tapp</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tycon :: forall a. TypeMapX a -&gt; DNameEnv a
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var">tm_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681032097"><span class="annot"><span class="annottext">DNameEnv a
</span><a href="#local-6989586621681032097"><span class="hs-identifier hs-var">ttycon</span></a></span></span><span>
</span><span id="line-234"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_funty :: forall a. TypeMapX a -&gt; TypeMapG (TypeMapG (TypeMapG a))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var">tm_funty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681032096"><span class="annot"><span class="annottext">TypeMapG (TypeMapG (TypeMapG a))
</span><a href="#local-6989586621681032096"><span class="hs-identifier hs-var">tfunty</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_forall :: forall a. TypeMapX a -&gt; TypeMapG (BndrMap a)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var">tm_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681032095"><span class="annot"><span class="annottext">TypeMapG (BndrMap a)
</span><a href="#local-6989586621681032095"><span class="hs-identifier hs-var">tforall</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tylit :: forall a. TypeMapX a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var">tm_tylit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681032094"><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681032094"><span class="hs-identifier hs-var">tlit</span></a></span></span><span>
</span><span id="line-235"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_coerce :: forall a. TypeMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var">tm_coerce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681032093"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621681032093"><span class="hs-identifier hs-var">tcoerce</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_var :: VarMap b
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var">tm_var</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032100"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681032099"><span class="hs-identifier hs-var">tvar</span></a></span><span>
</span><span id="line-237"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_app :: TypeMapG (TypeMapG b)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var">tm_app</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032100"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681032098"><span class="hs-identifier hs-var">tapp</span></a></span><span>
</span><span id="line-238"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tycon :: DNameEnv b
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var">tm_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032100"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">DNameEnv a
</span><a href="#local-6989586621681032097"><span class="hs-identifier hs-var">ttycon</span></a></span><span>
</span><span id="line-239"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_funty :: TypeMapG (TypeMapG (TypeMapG b))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var">tm_funty</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032100"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (TypeMapG (TypeMapG a))
</span><a href="#local-6989586621681032096"><span class="hs-identifier hs-var">tfunty</span></a></span><span>
</span><span id="line-240"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_forall :: TypeMapG (BndrMap b)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var">tm_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032100"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (BndrMap a)
</span><a href="#local-6989586621681032095"><span class="hs-identifier hs-var">tforall</span></a></span><span>
</span><span id="line-241"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tylit :: TyLitMap b
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var">tm_tylit</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032100"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681032094"><span class="hs-identifier hs-var">tlit</span></a></span><span>
</span><span id="line-242"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_coerce :: Maybe b
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var">tm_coerce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681032100"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621681032093"><span class="hs-identifier hs-var">tcoerce</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-----------------</span><span>
</span><span id="line-245"></span><span id="local-6989586621681032649"><span class="annot"><a href="GHC.Core.Map.Type.html#lkT"><span class="hs-identifier hs-type">lkT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032649"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032649"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-246"></span><span id="lkT"><span class="annot"><span class="annottext">lkT :: forall a. DeBruijn Type -&gt; TypeMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkT"><span class="hs-identifier hs-var hs-var">lkT</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032064"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032064"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681032063"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032063"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681032062"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032062"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeMapX a -&gt; Maybe a
</span><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032063"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032062"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-248"></span><span>    </span><span id="local-6989586621681032061"><span class="annot"><span class="annottext">go :: Type -&gt; TypeMapX a -&gt; Maybe a
</span><a href="#local-6989586621681032061"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621681032060"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032060"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681032059"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032059"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Maybe Type
</span><a href="GHC.Core.Map.Type.html#trieMapView"><span class="hs-identifier hs-var">trieMapView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032060"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeMapX a -&gt; Maybe a
</span><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032059"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyVarTy"><span class="hs-identifier hs-type">TyVarTy</span></a></span><span> </span><span id="local-6989586621681032058"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032058"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var">tm_var</span></a></span><span>    </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; Var -&gt; VarMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkVar"><span class="hs-identifier hs-var">lkVar</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032064"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032058"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#AppTy"><span class="hs-identifier hs-type">AppTy</span></a></span><span> </span><span id="local-6989586621681032056"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032056"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681032055"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032055"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (TypeMapG a)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var">tm_app</span></a></span><span>    </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; GenMap m a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-identifier hs-var">lkG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032064"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032056"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>                                               </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#%3E%3D%3E"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; GenMap m a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-identifier hs-var">lkG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032064"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032055"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyConApp"><span class="hs-identifier hs-type">TyConApp</span></a></span><span> </span><span id="local-6989586621681032054"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681032054"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; DNameEnv a
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var">tm_tycon</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall n a. NamedThing n =&gt; n -&gt; DNameEnv a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkDNamed"><span class="hs-identifier hs-var">lkDNamed</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681032054"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681032053"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621681032053"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyConApp"><span class="hs-identifier hs-type">TyConApp</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Type]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lkT TyConApp&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032053"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#LitTy"><span class="hs-identifier hs-type">LitTy</span></a></span><span> </span><span id="local-6989586621681032051"><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681032051"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var">tm_tylit</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. TyLit -&gt; TyLitMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkTyLit"><span class="hs-identifier hs-var">lkTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681032051"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#ForAllTy"><span class="hs-identifier hs-type">ForAllTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-type">Bndr</span></a></span><span> </span><span id="local-6989586621681032049"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032049"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span class="annot"><span class="annottext">ArgFlag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681032048"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032048"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (BndrMap a)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var">tm_forall</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; GenMap m a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-identifier hs-var">lkG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmEnv -&gt; Var -&gt; CmEnv
</span><a href="GHC.Core.Map.Type.html#extendCME"><span class="hs-identifier hs-var">extendCME</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032064"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032049"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032048"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>                                               </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#%3E%3D%3E"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; Var -&gt; BndrMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkBndr"><span class="hs-identifier hs-var">lkBndr</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032064"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032049"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#FunTy"><span class="hs-identifier hs-type">FunTy</span></a></span><span> </span><span class="annot"><span class="annottext">AnonArgFlag
</span><a href="GHC.Types.Var.html#InvisArg"><span class="hs-identifier hs-var">InvisArg</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681032046"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032046"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681032045"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032045"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681032044"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032044"><span class="hs-identifier hs-var">res_rep</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Maybe Type
</span><a href="GHC.Core.Type.html#getRuntimeRep_maybe"><span class="hs-identifier hs-var">getRuntimeRep_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032045"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-259"></span><span>                                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (TypeMapG (TypeMapG a))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var">tm_funty</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; GenMap m a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-identifier hs-var">lkG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032064"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032046"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>                                              </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#%3E%3D%3E"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; GenMap m a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-identifier hs-var">lkG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032064"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032044"><span class="hs-identifier hs-var">res_rep</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>                                              </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#%3E%3D%3E"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; GenMap m a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-identifier hs-var">lkG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032064"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032045"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681032042"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621681032042"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#FunTy"><span class="hs-identifier hs-type">FunTy</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lkT FunTy&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032042"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CastTy"><span class="hs-identifier hs-type">CastTy</span></a></span><span> </span><span id="local-6989586621681032041"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032041"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">Coercion
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeMapX a -&gt; Maybe a
</span><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032041"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-264"></span><span>    </span><span class="annot"><a href="#local-6989586621681032061"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CoercionTy"><span class="hs-identifier hs-type">CoercionTy</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var">tm_coerce</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-----------------</span><span>
</span><span id="line-267"></span><span id="local-6989586621681032644"><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-type">xtT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-identifier hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032644"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032644"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032644"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-268"></span><span id="xtT"><span class="annot"><span class="annottext">xtT :: forall a. DeBruijn Type -&gt; XT a -&gt; TypeMapX a -&gt; TypeMapX a
</span><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var hs-var">xtT</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032011"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032011"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681032010"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032010"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681032009"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681032009"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681032008"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032008"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681032007"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032007"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Maybe Type
</span><a href="GHC.Core.Map.Type.html#trieMapView"><span class="hs-identifier hs-var">trieMapView</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032010"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; XT a -&gt; TypeMapX a -&gt; TypeMapX a
</span><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032011"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032007"><span class="hs-identifier hs-var">ty'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681032009"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032008"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032006"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032006"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyVarTy"><span class="hs-identifier hs-type">TyVarTy</span></a></span><span> </span><span id="local-6989586621681032005"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032005"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>       </span><span id="local-6989586621681032004"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681032004"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681032003"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032003"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032003"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_var :: VarMap a
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var">tm_var</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var">tm_var</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681032003"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; Var -&gt; XT a -&gt; VarMap a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#xtVar"><span class="hs-identifier hs-var">xtVar</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032006"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681032005"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681032004"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-271"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681032001"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032001"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#AppTy"><span class="hs-identifier hs-type">AppTy</span></a></span><span> </span><span id="local-6989586621681032000"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032000"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681031999"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031999"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span id="local-6989586621681031998"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031998"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031997"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031997"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031997"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_app :: TypeMapG (TypeMapG a)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var">tm_app</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (TypeMapG a)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var">tm_app</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031997"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; XT a -&gt; GenMap m a -&gt; GenMap m a
</span><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-identifier hs-var">xtG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032001"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681032000"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>                                                            </span><span class="annot"><span class="annottext">forall (m2 :: * -&gt; *) a (m1 :: * -&gt; *).
TrieMap m2 =&gt;
(XT (m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a))
-&gt; (m2 a -&gt; m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a)
</span><a href="GHC.Data.TrieMap.html#%7C%3E%3E"><span class="hs-operator hs-var">|&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; XT a -&gt; GenMap m a -&gt; GenMap m a
</span><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-identifier hs-var">xtG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681032001"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031999"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031998"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-273"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyConApp"><span class="hs-identifier hs-type">TyConApp</span></a></span><span> </span><span id="local-6989586621681031995"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681031995"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span id="local-6989586621681031994"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031994"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031993"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031993"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031993"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_tycon :: DNameEnv a
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var">tm_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; DNameEnv a
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var">tm_tycon</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031993"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall n a. NamedThing n =&gt; n -&gt; XT a -&gt; DNameEnv a -&gt; DNameEnv a
</span><a href="GHC.Core.Map.Type.html#xtDNamed"><span class="hs-identifier hs-var">xtDNamed</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681031995"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031994"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-274"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681031992"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031992"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#FunTy"><span class="hs-identifier hs-type">FunTy</span></a></span><span> </span><span class="annot"><span class="annottext">AnonArgFlag
</span><a href="GHC.Types.Var.html#InvisArg"><span class="hs-identifier hs-var">InvisArg</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681031991"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031991"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681031990"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031990"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681031989"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031989"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031988"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031988"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031988"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_funty :: TypeMapG (TypeMapG (TypeMapG a))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var">tm_funty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (TypeMapG (TypeMapG a))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var">tm_funty</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031988"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; XT a -&gt; GenMap m a -&gt; GenMap m a
</span><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-identifier hs-var">xtG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031992"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031991"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>                                                                    </span><span class="annot"><span class="annottext">forall (m2 :: * -&gt; *) a (m1 :: * -&gt; *).
TrieMap m2 =&gt;
(XT (m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a))
-&gt; (m2 a -&gt; m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a)
</span><a href="GHC.Data.TrieMap.html#%7C%3E%3E"><span class="hs-operator hs-var">|&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; XT a -&gt; GenMap m a -&gt; GenMap m a
</span><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-identifier hs-var">xtG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031992"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031987"><span class="hs-identifier hs-var">t2_rep</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>                                                                    </span><span class="annot"><span class="annottext">forall (m2 :: * -&gt; *) a (m1 :: * -&gt; *).
TrieMap m2 =&gt;
(XT (m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a))
-&gt; (m2 a -&gt; m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a)
</span><a href="GHC.Data.TrieMap.html#%7C%3E%3E"><span class="hs-operator hs-var">|&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; XT a -&gt; GenMap m a -&gt; GenMap m a
</span><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-identifier hs-var">xtG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031992"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031990"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031989"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681031987"><span class="annot"><span class="annottext">t2_rep :: Type
</span><a href="#local-6989586621681031987"><span class="hs-identifier hs-var hs-var">t2_rep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; Maybe a -&gt; a
</span><a href="GHC.Data.Maybe.html#expectJust"><span class="hs-identifier hs-var">expectJust</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;xtT FunTy InvisArg&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Maybe Type
</span><a href="GHC.Core.Type.html#getRuntimeRep_maybe"><span class="hs-identifier hs-var">getRuntimeRep_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031990"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#LitTy"><span class="hs-identifier hs-type">LitTy</span></a></span><span> </span><span id="local-6989586621681031985"><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681031985"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>         </span><span id="local-6989586621681031984"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031984"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031983"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031983"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031983"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_tylit :: TyLitMap a
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var">tm_tylit</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var">tm_tylit</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031983"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. TyLit -&gt; XT a -&gt; TyLitMap a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#xtTyLit"><span class="hs-identifier hs-var">xtTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681031985"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031984"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-279"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681031981"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031981"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CastTy"><span class="hs-identifier hs-type">CastTy</span></a></span><span> </span><span id="local-6989586621681031980"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031980"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">Coercion
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>      </span><span id="local-6989586621681031979"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031979"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031978"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031978"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; XT a -&gt; TypeMapX a -&gt; TypeMapX a
</span><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031981"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031980"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031979"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031978"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-280"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CoercionTy"><span class="hs-identifier hs-type">CoercionTy</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span id="local-6989586621681031977"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031977"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031976"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031976"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031976"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_coerce :: Maybe a
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var">tm_coerce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var">tm_coerce</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031976"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031977"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-281"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681031975"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031975"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#ForAllTy"><span class="hs-identifier hs-type">ForAllTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Bndr"><span class="hs-identifier hs-type">Bndr</span></a></span><span> </span><span id="local-6989586621681031974"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031974"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span class="annot"><span class="annottext">ArgFlag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681031973"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031973"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span id="local-6989586621681031972"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031972"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031971"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031971"><span class="hs-identifier hs-var">m</span></a></span></span><span>
</span><span id="line-282"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031971"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_forall :: TypeMapG (BndrMap a)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var">tm_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (BndrMap a)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var">tm_forall</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031971"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; XT a -&gt; GenMap m a -&gt; GenMap m a
</span><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-identifier hs-var">xtG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmEnv -&gt; Var -&gt; CmEnv
</span><a href="GHC.Core.Map.Type.html#extendCME"><span class="hs-identifier hs-var">extendCME</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031975"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031974"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031973"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>                                </span><span class="annot"><span class="annottext">forall (m2 :: * -&gt; *) a (m1 :: * -&gt; *).
TrieMap m2 =&gt;
(XT (m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a))
-&gt; (m2 a -&gt; m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a)
</span><a href="GHC.Data.TrieMap.html#%7C%3E%3E"><span class="hs-operator hs-var">|&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; Var -&gt; XT a -&gt; BndrMap a -&gt; BndrMap a
</span><a href="GHC.Core.Map.Type.html#xtBndr"><span class="hs-identifier hs-var">xtBndr</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031975"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031974"><span class="hs-identifier hs-var">tv</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031972"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-284"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621681031970"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621681031970"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyConApp"><span class="hs-identifier hs-type">TyConApp</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Type]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;xtT TyConApp&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031970"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtT"><span class="hs-identifier hs-var">xtT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621681031969"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621681031969"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#FunTy"><span class="hs-identifier hs-type">FunTy</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>         </span><span class="annot"><span class="annottext">XT a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;xtT FunTy&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031969"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span id="local-6989586621681031967"><span id="local-6989586621681031968"><span class="annot"><a href="GHC.Core.Map.Type.html#fdT"><span class="hs-identifier hs-type">fdT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031968"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031967"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031967"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031968"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031967"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031967"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-288"></span><span id="fdT"><span class="annot"><span class="annottext">fdT :: forall a b. (a -&gt; b -&gt; b) -&gt; TypeMapX a -&gt; b -&gt; b
</span><a href="GHC.Core.Map.Type.html#fdT"><span class="hs-identifier hs-var hs-var">fdT</span></a></span></span><span> </span><span id="local-6989586621681031953"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031953"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681031952"><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031952"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031953"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var">tm_var</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031952"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>        </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031953"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (TypeMapG a)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var">tm_app</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031952"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>        </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031953"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; DNameEnv a
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var">tm_tycon</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031952"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>        </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031953"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (TypeMapG (TypeMapG a))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var">tm_funty</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031952"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>        </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031953"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TypeMapG (BndrMap a)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var">tm_forall</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031952"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>        </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b -&gt; b) -&gt; TyLitMap a -&gt; b -&gt; b
</span><a href="GHC.Core.Map.Type.html#foldTyLit"><span class="hs-identifier hs-var">foldTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031953"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var">tm_tylit</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031952"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>        </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b -&gt; b) -&gt; Maybe a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldMaybe"><span class="hs-identifier hs-var">foldMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031953"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TypeMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var">tm_coerce</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapX a
</span><a href="#local-6989586621681031952"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span id="local-6989586621681031948"><span class="annot"><a href="GHC.Core.Map.Type.html#filterT"><span class="hs-identifier hs-type">filterT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031948"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031948"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapX"><span class="hs-identifier hs-type">TypeMapX</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031948"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-297"></span><span id="filterT"><span class="annot"><span class="annottext">filterT :: forall a. (a -&gt; Bool) -&gt; TypeMapX a -&gt; TypeMapX a
</span><a href="GHC.Core.Map.Type.html#filterT"><span class="hs-identifier hs-var hs-var">filterT</span></a></span></span><span> </span><span id="local-6989586621681031933"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031933"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_var :: forall a. TypeMapX a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var">tm_var</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031932"><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031932"><span class="hs-identifier hs-var">tvar</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_app :: forall a. TypeMapX a -&gt; TypeMapG (TypeMapG a)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var">tm_app</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031931"><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031931"><span class="hs-identifier hs-var">tapp</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tycon :: forall a. TypeMapX a -&gt; DNameEnv a
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var">tm_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031930"><span class="annot"><span class="annottext">DNameEnv a
</span><a href="#local-6989586621681031930"><span class="hs-identifier hs-var">ttycon</span></a></span></span><span>
</span><span id="line-298"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_funty :: forall a. TypeMapX a -&gt; TypeMapG (TypeMapG (TypeMapG a))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var">tm_funty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031929"><span class="annot"><span class="annottext">TypeMapG (TypeMapG (TypeMapG a))
</span><a href="#local-6989586621681031929"><span class="hs-identifier hs-var">tfunty</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_forall :: forall a. TypeMapX a -&gt; TypeMapG (BndrMap a)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var">tm_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031928"><span class="annot"><span class="annottext">TypeMapG (BndrMap a)
</span><a href="#local-6989586621681031928"><span class="hs-identifier hs-var">tforall</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tylit :: forall a. TypeMapX a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var">tm_tylit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031927"><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031927"><span class="hs-identifier hs-var">tlit</span></a></span></span><span>
</span><span id="line-299"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_coerce :: forall a. TypeMapX a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var">tm_coerce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031926"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621681031926"><span class="hs-identifier hs-var">tcoerce</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tm_var :: VarMap a
</span><a href="GHC.Core.Map.Type.html#tm_var"><span class="hs-identifier hs-var">tm_var</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031933"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031932"><span class="hs-identifier hs-var">tvar</span></a></span><span>
</span><span id="line-301"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_app :: TypeMapG (TypeMapG a)
</span><a href="GHC.Core.Map.Type.html#tm_app"><span class="hs-identifier hs-var">tm_app</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031933"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031931"><span class="hs-identifier hs-var">tapp</span></a></span><span>
</span><span id="line-302"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tycon :: DNameEnv a
</span><a href="GHC.Core.Map.Type.html#tm_tycon"><span class="hs-identifier hs-var">tm_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031933"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">DNameEnv a
</span><a href="#local-6989586621681031930"><span class="hs-identifier hs-var">ttycon</span></a></span><span>
</span><span id="line-303"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_funty :: TypeMapG (TypeMapG (TypeMapG a))
</span><a href="GHC.Core.Map.Type.html#tm_funty"><span class="hs-identifier hs-var">tm_funty</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031933"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (TypeMapG (TypeMapG a))
</span><a href="#local-6989586621681031929"><span class="hs-identifier hs-var">tfunty</span></a></span><span>
</span><span id="line-304"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_forall :: TypeMapG (BndrMap a)
</span><a href="GHC.Core.Map.Type.html#tm_forall"><span class="hs-identifier hs-var">tm_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031933"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (BndrMap a)
</span><a href="#local-6989586621681031928"><span class="hs-identifier hs-var">tforall</span></a></span><span>
</span><span id="line-305"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_tylit :: TyLitMap a
</span><a href="GHC.Core.Map.Type.html#tm_tylit"><span class="hs-identifier hs-var">tm_tylit</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031933"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031927"><span class="hs-identifier hs-var">tlit</span></a></span><span>
</span><span id="line-306"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tm_coerce :: Maybe a
</span><a href="GHC.Core.Map.Type.html#tm_coerce"><span class="hs-identifier hs-var">tm_coerce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; Maybe a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#filterMaybe"><span class="hs-identifier hs-var">filterMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031933"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621681031926"><span class="hs-identifier hs-var">tcoerce</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="hs-comment">------------------------</span><span>
</span><span id="line-309"></span><span class="hs-keyword">data</span><span> </span><span id="TyLitMap"><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-var">TyLitMap</span></a></span></span><span> </span><span id="local-6989586621681032558"><span class="annot"><a href="#local-6989586621681032558"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TLM"><span class="annot"><a href="GHC.Core.Map.Type.html#TLM"><span class="hs-identifier hs-var">TLM</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="tlm_number"><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; Map Integer a
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var hs-var">tlm_number</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map.Map</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="annot"><a href="#local-6989586621681032558"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-310"></span><span>                      </span><span class="hs-special">,</span><span> </span><span id="tlm_string"><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; UniqFM FastString a
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var hs-var">tlm_string</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span>  </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032558"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-311"></span><span>                      </span><span class="hs-special">,</span><span> </span><span id="tlm_char"><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; Map Char a
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var hs-var">tlm_char</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map.Map</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="annot"><a href="#local-6989586621681032558"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-312"></span><span>                      </span><span class="hs-special">}</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#TrieMap"><span class="hs-identifier hs-type">TrieMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Key"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-identifier hs-var">Key</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyLit"><span class="hs-identifier hs-type">TyLit</span></a></span><span>
</span><span id="line-316"></span><span>   </span><span id="local-6989586621681031914"><span class="annot"><span class="annottext">emptyTM :: forall a. TyLitMap a
</span><a href="#local-6989586621681031914"><span class="hs-identifier hs-var hs-var hs-var hs-var">emptyTM</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TyLitMap a
</span><a href="GHC.Core.Map.Type.html#emptyTyLitMap"><span class="hs-identifier hs-var">emptyTyLitMap</span></a></span><span>
</span><span id="line-317"></span><span>   </span><span id="local-6989586621681031913"><span class="annot"><span class="annottext">lookupTM :: forall b. Key TyLitMap -&gt; TyLitMap b -&gt; Maybe b
</span><a href="#local-6989586621681031913"><span class="hs-identifier hs-var hs-var hs-var hs-var">lookupTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TyLit -&gt; TyLitMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkTyLit"><span class="hs-identifier hs-var">lkTyLit</span></a></span><span>
</span><span id="line-318"></span><span>   </span><span id="local-6989586621681031912"><span class="annot"><span class="annottext">alterTM :: forall b. Key TyLitMap -&gt; XT b -&gt; TyLitMap b -&gt; TyLitMap b
</span><a href="#local-6989586621681031912"><span class="hs-identifier hs-var hs-var hs-var hs-var">alterTM</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TyLit -&gt; XT a -&gt; TyLitMap a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#xtTyLit"><span class="hs-identifier hs-var">xtTyLit</span></a></span><span>
</span><span id="line-319"></span><span>   </span><span id="local-6989586621681031911"><span class="annot"><span class="annottext">foldTM :: forall a b. (a -&gt; b -&gt; b) -&gt; TyLitMap a -&gt; b -&gt; b
</span><a href="#local-6989586621681031911"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldTM</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b -&gt; b) -&gt; TyLitMap a -&gt; b -&gt; b
</span><a href="GHC.Core.Map.Type.html#foldTyLit"><span class="hs-identifier hs-var">foldTyLit</span></a></span><span>
</span><span id="line-320"></span><span>   </span><span id="local-6989586621681031910"><span class="annot"><span class="annottext">mapTM :: forall a b. (a -&gt; b) -&gt; TyLitMap a -&gt; TyLitMap b
</span><a href="#local-6989586621681031910"><span class="hs-identifier hs-var hs-var hs-var hs-var">mapTM</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; TyLitMap a -&gt; TyLitMap b
</span><a href="GHC.Core.Map.Type.html#mapTyLit"><span class="hs-identifier hs-var">mapTyLit</span></a></span><span>
</span><span id="line-321"></span><span>   </span><span id="local-6989586621681031908"><span class="annot"><span class="annottext">filterTM :: forall a. (a -&gt; Bool) -&gt; TyLitMap a -&gt; TyLitMap a
</span><a href="#local-6989586621681031908"><span class="hs-identifier hs-var hs-var hs-var hs-var">filterTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; TyLitMap a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#filterTyLit"><span class="hs-identifier hs-var">filterTyLit</span></a></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span id="local-6989586621681032610"><span class="annot"><a href="GHC.Core.Map.Type.html#emptyTyLitMap"><span class="hs-identifier hs-type">emptyTyLitMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032610"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-324"></span><span id="emptyTyLitMap"><span class="annot"><span class="annottext">emptyTyLitMap :: forall a. TyLitMap a
</span><a href="GHC.Core.Map.Type.html#emptyTyLitMap"><span class="hs-identifier hs-var hs-var">emptyTyLitMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TLM"><span class="hs-identifier hs-type">TLM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tlm_number :: Map Integer a
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var">tlm_number</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#empty"><span class="hs-identifier hs-var">Map.empty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_string :: UniqFM FastString a
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var">tlm_string</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall key elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_char :: Map Char a
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var">tlm_char</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#empty"><span class="hs-identifier hs-var">Map.empty</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span id="local-6989586621681031903"><span id="local-6989586621681031904"><span class="annot"><a href="GHC.Core.Map.Type.html#mapTyLit"><span class="hs-identifier hs-type">mapTyLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031904"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="#local-6989586621681031903"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031904"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031903"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-327"></span><span id="mapTyLit"><span class="annot"><span class="annottext">mapTyLit :: forall a b. (a -&gt; b) -&gt; TyLitMap a -&gt; TyLitMap b
</span><a href="GHC.Core.Map.Type.html#mapTyLit"><span class="hs-identifier hs-var hs-var">mapTyLit</span></a></span></span><span> </span><span id="local-6989586621681031902"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031902"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TLM"><span class="hs-identifier hs-type">TLM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tlm_number :: forall a. TyLitMap a -&gt; Map Integer a
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var">tlm_number</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031901"><span class="annot"><span class="annottext">Map Integer a
</span><a href="#local-6989586621681031901"><span class="hs-identifier hs-var">tn</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_string :: forall a. TyLitMap a -&gt; UniqFM FastString a
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var">tlm_string</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031900"><span class="annot"><span class="annottext">UniqFM FastString a
</span><a href="#local-6989586621681031900"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_char :: forall a. TyLitMap a -&gt; Map Char a
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var">tlm_char</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031899"><span class="annot"><span class="annottext">Map Char a
</span><a href="#local-6989586621681031899"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TLM"><span class="hs-identifier hs-type">TLM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tlm_number :: Map Integer b
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var">tlm_number</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#map"><span class="hs-identifier hs-var">Map.map</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031902"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Map Integer a
</span><a href="#local-6989586621681031901"><span class="hs-identifier hs-var">tn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_string :: UniqFM FastString b
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var">tlm_string</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall elt1 elt2 key.
(elt1 -&gt; elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#mapUFM"><span class="hs-identifier hs-var">mapUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031902"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString a
</span><a href="#local-6989586621681031900"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_char :: Map Char b
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var">tlm_char</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#map"><span class="hs-identifier hs-var">Map.map</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031902"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Map Char a
</span><a href="#local-6989586621681031899"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span id="local-6989586621681032585"><span class="annot"><a href="GHC.Core.Map.Type.html#lkTyLit"><span class="hs-identifier hs-type">lkTyLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyLit"><span class="hs-identifier hs-type">TyLit</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032585"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032585"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-331"></span><span id="lkTyLit"><span class="annot"><span class="annottext">lkTyLit :: forall a. TyLit -&gt; TyLitMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkTyLit"><span class="hs-identifier hs-var hs-var">lkTyLit</span></a></span></span><span> </span><span id="local-6989586621681031890"><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681031890"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681031890"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-333"></span><span>    </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#NumTyLit"><span class="hs-identifier hs-type">NumTyLit</span></a></span><span> </span><span id="local-6989586621681031888"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681031888"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; Map Integer a
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var">tlm_number</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681031888"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-334"></span><span>    </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#StrTyLit"><span class="hs-identifier hs-type">StrTyLit</span></a></span><span> </span><span id="local-6989586621681031885"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681031885"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; UniqFM FastString a
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var">tlm_string</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall key elt. Uniquable key =&gt; UniqFM key elt -&gt; key -&gt; Maybe elt
</span><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-operator hs-var">`lookupUFM`</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681031885"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>    </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CharTyLit"><span class="hs-identifier hs-type">CharTyLit</span></a></span><span> </span><span id="local-6989586621681031882"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681031882"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; Map Char a
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var">tlm_char</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681031882"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span id="local-6989586621681032571"><span class="annot"><a href="GHC.Core.Map.Type.html#xtTyLit"><span class="hs-identifier hs-type">xtTyLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyLit"><span class="hs-identifier hs-type">TyLit</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-identifier hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032571"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032571"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032571"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-338"></span><span id="xtTyLit"><span class="annot"><span class="annottext">xtTyLit :: forall a. TyLit -&gt; XT a -&gt; TyLitMap a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#xtTyLit"><span class="hs-identifier hs-var hs-var">xtTyLit</span></a></span></span><span> </span><span id="local-6989586621681031878"><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681031878"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681031877"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031877"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031876"><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031876"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-339"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyLit
</span><a href="#local-6989586621681031878"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-340"></span><span>    </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#NumTyLit"><span class="hs-identifier hs-type">NumTyLit</span></a></span><span> </span><span id="local-6989586621681031875"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681031875"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031876"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tlm_number :: Map Integer a
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var">tlm_number</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a.
Ord k =&gt;
(Maybe a -&gt; Maybe a) -&gt; k -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#alter"><span class="hs-identifier hs-var">Map.alter</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031877"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681031875"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; Map Integer a
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var">tlm_number</span></a></span><span> </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031876"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#StrTyLit"><span class="hs-identifier hs-type">StrTyLit</span></a></span><span> </span><span id="local-6989586621681031873"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681031873"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031876"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tlm_string :: UniqFM FastString a
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var">tlm_string</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall key elt.
Uniquable key =&gt;
(Maybe elt -&gt; Maybe elt) -&gt; UniqFM key elt -&gt; key -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#alterUFM"><span class="hs-identifier hs-var">alterUFM</span></a></span><span>  </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031877"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; UniqFM FastString a
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var">tlm_string</span></a></span><span> </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031876"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681031873"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#CharTyLit"><span class="hs-identifier hs-type">CharTyLit</span></a></span><span> </span><span id="local-6989586621681031871"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681031871"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031876"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tlm_char :: Map Char a
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var">tlm_char</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a.
Ord k =&gt;
(Maybe a -&gt; Maybe a) -&gt; k -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#alter"><span class="hs-identifier hs-var">Map.alter</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031877"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681031871"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; Map Char a
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var">tlm_char</span></a></span><span> </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031876"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span id="local-6989586621681032563"><span id="local-6989586621681032564"><span class="annot"><a href="GHC.Core.Map.Type.html#foldTyLit"><span class="hs-identifier hs-type">foldTyLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681032564"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032563"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032563"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032564"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032563"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032563"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-345"></span><span id="foldTyLit"><span class="annot"><span class="annottext">foldTyLit :: forall a b. (a -&gt; b -&gt; b) -&gt; TyLitMap a -&gt; b -&gt; b
</span><a href="GHC.Core.Map.Type.html#foldTyLit"><span class="hs-identifier hs-var hs-var">foldTyLit</span></a></span></span><span> </span><span id="local-6989586621681031870"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031870"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681031869"><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031869"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall elt a key. (elt -&gt; a -&gt; a) -&gt; a -&gt; UniqFM key elt -&gt; a
</span><a href="GHC.Types.Unique.FM.html#foldUFM"><span class="hs-identifier hs-var">foldUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031870"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; UniqFM FastString a
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var">tlm_string</span></a></span><span> </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031869"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>              </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b k. (a -&gt; b -&gt; b) -&gt; b -&gt; Map k a -&gt; b
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#foldr"><span class="hs-identifier hs-var">Map.foldr</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031870"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; Map Integer a
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var">tlm_number</span></a></span><span> </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031869"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>              </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b k. (a -&gt; b -&gt; b) -&gt; b -&gt; Map k a -&gt; b
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#foldr"><span class="hs-identifier hs-var">Map.foldr</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031870"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. TyLitMap a -&gt; Map Char a
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var">tlm_char</span></a></span><span> </span><span class="annot"><span class="annottext">TyLitMap a
</span><a href="#local-6989586621681031869"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span id="local-6989586621681031865"><span class="annot"><a href="GHC.Core.Map.Type.html#filterTyLit"><span class="hs-identifier hs-type">filterTyLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031865"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031865"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TyLitMap"><span class="hs-identifier hs-type">TyLitMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031865"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-350"></span><span id="filterTyLit"><span class="annot"><span class="annottext">filterTyLit :: forall a. (a -&gt; Bool) -&gt; TyLitMap a -&gt; TyLitMap a
</span><a href="GHC.Core.Map.Type.html#filterTyLit"><span class="hs-identifier hs-var hs-var">filterTyLit</span></a></span></span><span> </span><span id="local-6989586621681031864"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031864"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TLM"><span class="hs-identifier hs-type">TLM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tlm_number :: forall a. TyLitMap a -&gt; Map Integer a
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var">tlm_number</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031863"><span class="annot"><span class="annottext">Map Integer a
</span><a href="#local-6989586621681031863"><span class="hs-identifier hs-var">tn</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_string :: forall a. TyLitMap a -&gt; UniqFM FastString a
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var">tlm_string</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031862"><span class="annot"><span class="annottext">UniqFM FastString a
</span><a href="#local-6989586621681031862"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_char :: forall a. TyLitMap a -&gt; Map Char a
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var">tlm_char</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031861"><span class="annot"><span class="annottext">Map Char a
</span><a href="#local-6989586621681031861"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TLM"><span class="hs-identifier hs-type">TLM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tlm_number :: Map Integer a
</span><a href="GHC.Core.Map.Type.html#tlm_number"><span class="hs-identifier hs-var">tlm_number</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a k. (a -&gt; Bool) -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#filter"><span class="hs-identifier hs-var">Map.filter</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031864"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Map Integer a
</span><a href="#local-6989586621681031863"><span class="hs-identifier hs-var">tn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_string :: UniqFM FastString a
</span><a href="GHC.Core.Map.Type.html#tlm_string"><span class="hs-identifier hs-var">tlm_string</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall elt key. (elt -&gt; Bool) -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#filterUFM"><span class="hs-identifier hs-var">filterUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031864"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString a
</span><a href="#local-6989586621681031862"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tlm_char :: Map Char a
</span><a href="GHC.Core.Map.Type.html#tlm_char"><span class="hs-identifier hs-var">tlm_char</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a k. (a -&gt; Bool) -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#filter"><span class="hs-identifier hs-var">Map.filter</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031864"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Map Char a
</span><a href="#local-6989586621681031861"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="hs-comment">-------------------------------------------------</span><span>
</span><span id="line-354"></span><span class="hs-comment">-- | @TypeMap a@ is a map from 'Type' to @a@.  If you are a client, this</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- is the type you want. The keys in this map may have different kinds.</span><span>
</span><span id="line-356"></span><span class="hs-keyword">newtype</span><span> </span><span id="TypeMap"><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-var">TypeMap</span></a></span></span><span> </span><span id="local-6989586621681032504"><span class="annot"><a href="#local-6989586621681032504"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TypeMap"><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-var">TypeMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032504"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span id="local-6989586621681032512"><span class="annot"><a href="GHC.Core.Map.Type.html#lkTT"><span class="hs-identifier hs-type">lkTT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032512"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032512"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-359"></span><span id="lkTT"><span class="annot"><span class="annottext">lkTT :: forall a. DeBruijn Type -&gt; TypeMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkTT"><span class="hs-identifier hs-var hs-var">lkTT</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681031849"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031849"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681031848"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031848"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span id="local-6989586621681031847"><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031847"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; GenMap m a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-identifier hs-var">lkG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031849"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Type
</span><a href="GHC.Core.Type.html#typeKind"><span class="hs-identifier hs-var">typeKind</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031848"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031847"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-360"></span><span>                          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; GenMap m a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-identifier hs-var">lkG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031849"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031848"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span id="local-6989586621681032506"><span class="annot"><a href="GHC.Core.Map.Type.html#xtTT"><span class="hs-identifier hs-type">xtTT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-identifier hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032506"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032506"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032506"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-363"></span><span id="xtTT"><span class="annot"><span class="annottext">xtTT :: forall a. DeBruijn Type -&gt; XT a -&gt; TypeMap a -&gt; TypeMap a
</span><a href="GHC.Core.Map.Type.html#xtTT"><span class="hs-identifier hs-var hs-var">xtTT</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681031835"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031835"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681031834"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031834"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681031833"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031833"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span id="local-6989586621681031832"><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031832"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG (TypeMapG a) -&gt; TypeMap a
</span><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-var">TypeMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031832"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; XT a -&gt; GenMap m a -&gt; GenMap m a
</span><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-identifier hs-var">xtG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031835"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Type -&gt; Type
</span><a href="GHC.Core.Type.html#typeKind"><span class="hs-identifier hs-var">typeKind</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031834"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-365"></span><span>               </span><span class="annot"><span class="annottext">forall (m2 :: * -&gt; *) a (m1 :: * -&gt; *).
TrieMap m2 =&gt;
(XT (m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a))
-&gt; (m2 a -&gt; m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a)
</span><a href="GHC.Data.TrieMap.html#%7C%3E%3E"><span class="hs-operator hs-var">|&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; XT a -&gt; GenMap m a -&gt; GenMap m a
</span><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-identifier hs-var">xtG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031835"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031834"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031833"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="hs-comment">-- Below are some client-oriented functions which operate on 'TypeMap'.</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#TrieMap"><span class="hs-identifier hs-type">TrieMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-370"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Key"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-identifier hs-var">Key</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-371"></span><span>    </span><span id="local-6989586621681031820"><span class="annot"><span class="annottext">emptyTM :: forall a. TypeMap a
</span><a href="#local-6989586621681031820"><span class="hs-identifier hs-var hs-var hs-var hs-var">emptyTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG (TypeMapG a) -&gt; TypeMap a
</span><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-var">TypeMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-372"></span><span>    </span><span id="local-6989586621681031819"><span class="annot"><span class="annottext">lookupTM :: forall b. Key TypeMap -&gt; TypeMap b -&gt; Maybe b
</span><a href="#local-6989586621681031819"><span class="hs-identifier hs-var hs-var hs-var hs-var">lookupTM</span></a></span></span><span> </span><span id="local-6989586621681031818"><span class="annot"><span class="annottext">Key TypeMap
</span><a href="#local-6989586621681031818"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681031817"><span class="annot"><span class="annottext">TypeMap b
</span><a href="#local-6989586621681031817"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; TypeMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkTT"><span class="hs-identifier hs-var">lkTT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#deBruijnize"><span class="hs-identifier hs-var">deBruijnize</span></a></span><span> </span><span class="annot"><span class="annottext">Key TypeMap
</span><a href="#local-6989586621681031818"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMap b
</span><a href="#local-6989586621681031817"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-373"></span><span>    </span><span id="local-6989586621681031816"><span class="annot"><span class="annottext">alterTM :: forall b. Key TypeMap -&gt; XT b -&gt; TypeMap b -&gt; TypeMap b
</span><a href="#local-6989586621681031816"><span class="hs-identifier hs-var hs-var hs-var hs-var">alterTM</span></a></span></span><span> </span><span id="local-6989586621681031815"><span class="annot"><span class="annottext">Key TypeMap
</span><a href="#local-6989586621681031815"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681031814"><span class="annot"><span class="annottext">XT b
</span><a href="#local-6989586621681031814"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031813"><span class="annot"><span class="annottext">TypeMap b
</span><a href="#local-6989586621681031813"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; XT a -&gt; TypeMap a -&gt; TypeMap a
</span><a href="GHC.Core.Map.Type.html#xtTT"><span class="hs-identifier hs-var">xtTT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#deBruijnize"><span class="hs-identifier hs-var">deBruijnize</span></a></span><span> </span><span class="annot"><span class="annottext">Key TypeMap
</span><a href="#local-6989586621681031815"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT b
</span><a href="#local-6989586621681031814"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMap b
</span><a href="#local-6989586621681031813"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-374"></span><span>    </span><span id="local-6989586621681031807"><span class="annot"><span class="annottext">foldTM :: forall a b. (a -&gt; b -&gt; b) -&gt; TypeMap a -&gt; b -&gt; b
</span><a href="#local-6989586621681031807"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldTM</span></a></span></span><span> </span><span id="local-6989586621681031806"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031806"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span id="local-6989586621681031805"><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031805"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031806"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031805"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-375"></span><span>    </span><span id="local-6989586621681031799"><span class="annot"><span class="annottext">mapTM :: forall a b. (a -&gt; b) -&gt; TypeMap a -&gt; TypeMap b
</span><a href="#local-6989586621681031799"><span class="hs-identifier hs-var hs-var hs-var hs-var">mapTM</span></a></span></span><span> </span><span id="local-6989586621681031798"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031798"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span id="local-6989586621681031797"><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031797"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG (TypeMapG a) -&gt; TypeMap a
</span><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-var">TypeMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031798"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031797"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>    </span><span id="local-6989586621681031791"><span class="annot"><span class="annottext">filterTM :: forall a. (a -&gt; Bool) -&gt; TypeMap a -&gt; TypeMap a
</span><a href="#local-6989586621681031791"><span class="hs-identifier hs-var hs-var hs-var hs-var">filterTM</span></a></span></span><span> </span><span id="local-6989586621681031790"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031790"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span id="local-6989586621681031789"><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031789"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG (TypeMapG a) -&gt; TypeMap a
</span><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-var">TypeMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031790"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (TypeMapG a)
</span><a href="#local-6989586621681031789"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span id="local-6989586621681032495"><span id="local-6989586621681032496"><span class="annot"><a href="GHC.Core.Map.Type.html#foldTypeMap"><span class="hs-identifier hs-type">foldTypeMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681032496"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032495"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032495"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032495"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032496"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032495"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-379"></span><span id="foldTypeMap"><span class="annot"><span class="annottext">foldTypeMap :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; TypeMap a -&gt; b
</span><a href="GHC.Core.Map.Type.html#foldTypeMap"><span class="hs-identifier hs-var hs-var">foldTypeMap</span></a></span></span><span> </span><span id="local-6989586621681031787"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031787"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681031786"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681031786"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621681031785"><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031785"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031787"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031785"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681031786"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span id="local-6989586621681031784"><span class="annot"><a href="GHC.Core.Map.Type.html#emptyTypeMap"><span class="hs-identifier hs-type">emptyTypeMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031784"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-382"></span><span id="emptyTypeMap"><span class="annot"><span class="annottext">emptyTypeMap :: forall a. TypeMap a
</span><a href="GHC.Core.Map.Type.html#emptyTypeMap"><span class="hs-identifier hs-var hs-var">emptyTypeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span id="local-6989586621681032492"><span class="annot"><a href="GHC.Core.Map.Type.html#lookupTypeMap"><span class="hs-identifier hs-type">lookupTypeMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032492"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032492"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-385"></span><span id="lookupTypeMap"><span class="annot"><span class="annottext">lookupTypeMap :: forall a. TypeMap a -&gt; Type -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lookupTypeMap"><span class="hs-identifier hs-var hs-var">lookupTypeMap</span></a></span></span><span> </span><span id="local-6989586621681031781"><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031781"><span class="hs-identifier hs-var">cm</span></a></span></span><span> </span><span id="local-6989586621681031780"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031780"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; m b -&gt; Maybe b
</span><a href="GHC.Data.TrieMap.html#lookupTM"><span class="hs-identifier hs-var">lookupTM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031780"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031781"><span class="hs-identifier hs-var">cm</span></a></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span id="local-6989586621681032490"><span class="annot"><a href="GHC.Core.Map.Type.html#extendTypeMap"><span class="hs-identifier hs-type">extendTypeMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032490"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032490"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032490"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-388"></span><span id="extendTypeMap"><span class="annot"><span class="annottext">extendTypeMap :: forall a. TypeMap a -&gt; Type -&gt; a -&gt; TypeMap a
</span><a href="GHC.Core.Map.Type.html#extendTypeMap"><span class="hs-identifier hs-var hs-var">extendTypeMap</span></a></span></span><span> </span><span id="local-6989586621681031778"><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031778"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681031777"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031777"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681031776"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031776"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; XT b -&gt; m b -&gt; m b
</span><a href="GHC.Data.TrieMap.html#alterTM"><span class="hs-identifier hs-var">alterTM</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031777"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031776"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031778"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span id="local-6989586621681032486"><span class="annot"><a href="GHC.Core.Map.Type.html#lookupTypeMapWithScope"><span class="hs-identifier hs-type">lookupTypeMapWithScope</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032486"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032486"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-391"></span><span id="lookupTypeMapWithScope"><span class="annot"><span class="annottext">lookupTypeMapWithScope :: forall a. TypeMap a -&gt; CmEnv -&gt; Type -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lookupTypeMapWithScope"><span class="hs-identifier hs-var hs-var">lookupTypeMapWithScope</span></a></span></span><span> </span><span id="local-6989586621681031774"><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031774"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681031773"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031773"><span class="hs-identifier hs-var">cm</span></a></span></span><span> </span><span id="local-6989586621681031772"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031772"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; TypeMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkTT"><span class="hs-identifier hs-var">lkTT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031773"><span class="hs-identifier hs-var">cm</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031772"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031774"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="hs-comment">-- | Extend a 'TypeMap' with a type in the given context.</span><span>
</span><span id="line-394"></span><span class="hs-comment">-- @extendTypeMapWithScope m (mkDeBruijnContext [a,b,c]) t v@ is equivalent to</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- @extendTypeMap m (forall a b c. t) v@, but allows reuse of the context over</span><span>
</span><span id="line-396"></span><span class="hs-comment">-- multiple insertions.</span><span>
</span><span id="line-397"></span><span id="local-6989586621681032484"><span class="annot"><a href="GHC.Core.Map.Type.html#extendTypeMapWithScope"><span class="hs-identifier hs-type">extendTypeMapWithScope</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032484"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032484"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMap"><span class="hs-identifier hs-type">TypeMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032484"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-398"></span><span id="extendTypeMapWithScope"><span class="annot"><span class="annottext">extendTypeMapWithScope :: forall a. TypeMap a -&gt; CmEnv -&gt; Type -&gt; a -&gt; TypeMap a
</span><a href="GHC.Core.Map.Type.html#extendTypeMapWithScope"><span class="hs-identifier hs-var hs-var">extendTypeMapWithScope</span></a></span></span><span> </span><span id="local-6989586621681031771"><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031771"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681031770"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031770"><span class="hs-identifier hs-var">cm</span></a></span></span><span> </span><span id="local-6989586621681031769"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031769"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681031768"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031768"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DeBruijn Type -&gt; XT a -&gt; TypeMap a -&gt; TypeMap a
</span><a href="GHC.Core.Map.Type.html#xtTT"><span class="hs-identifier hs-var">xtTT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031770"><span class="hs-identifier hs-var">cm</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681031769"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031768"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMap a
</span><a href="#local-6989586621681031771"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-comment">-- | Construct a deBruijn environment with the given variables in scope.</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- e.g. @mkDeBruijnEnv [a,b,c]@ constructs a context @forall a b c.@</span><span>
</span><span id="line-402"></span><span class="annot"><a href="GHC.Core.Map.Type.html#mkDeBruijnContext"><span class="hs-identifier hs-type">mkDeBruijnContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span>
</span><span id="line-403"></span><span id="mkDeBruijnContext"><span class="annot"><span class="annottext">mkDeBruijnContext :: [Var] -&gt; CmEnv
</span><a href="GHC.Core.Map.Type.html#mkDeBruijnContext"><span class="hs-identifier hs-var hs-var">mkDeBruijnContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmEnv -&gt; [Var] -&gt; CmEnv
</span><a href="GHC.Core.Map.Type.html#extendCMEs"><span class="hs-identifier hs-var">extendCMEs</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="GHC.Core.Map.Type.html#emptyCME"><span class="hs-identifier hs-var">emptyCME</span></a></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span class="hs-comment">-- | A 'LooseTypeMap' doesn't do a kind-check. Thus, when lookup up (t |&gt; g),</span><span>
</span><span id="line-406"></span><span class="hs-comment">-- you'll find entries inserted under (t), even if (g) is non-reflexive.</span><span>
</span><span id="line-407"></span><span class="hs-keyword">newtype</span><span> </span><span id="LooseTypeMap"><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-var">LooseTypeMap</span></a></span></span><span> </span><span id="local-6989586621681032481"><span class="annot"><a href="#local-6989586621681032481"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="LooseTypeMap"><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-var">LooseTypeMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032481"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#TrieMap"><span class="hs-identifier hs-type">TrieMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-type">LooseTypeMap</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-411"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Key"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-identifier hs-var">Key</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-type">LooseTypeMap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-412"></span><span>  </span><span id="local-6989586621681031755"><span class="annot"><span class="annottext">emptyTM :: forall a. LooseTypeMap a
</span><a href="#local-6989586621681031755"><span class="hs-identifier hs-var hs-var hs-var hs-var">emptyTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG a -&gt; LooseTypeMap a
</span><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-var">LooseTypeMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-413"></span><span>  </span><span id="local-6989586621681031750"><span class="annot"><span class="annottext">lookupTM :: forall b. Key LooseTypeMap -&gt; LooseTypeMap b -&gt; Maybe b
</span><a href="#local-6989586621681031750"><span class="hs-identifier hs-var hs-var hs-var hs-var">lookupTM</span></a></span></span><span> </span><span id="local-6989586621681031749"><span class="annot"><span class="annottext">Key LooseTypeMap
</span><a href="#local-6989586621681031749"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-type">LooseTypeMap</span></a></span><span> </span><span id="local-6989586621681031748"><span class="annot"><span class="annottext">TypeMapG b
</span><a href="#local-6989586621681031748"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; m b -&gt; Maybe b
</span><a href="GHC.Data.TrieMap.html#lookupTM"><span class="hs-identifier hs-var">lookupTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#deBruijnize"><span class="hs-identifier hs-var">deBruijnize</span></a></span><span> </span><span class="annot"><span class="annottext">Key LooseTypeMap
</span><a href="#local-6989586621681031749"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG b
</span><a href="#local-6989586621681031748"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621681031743"><span class="annot"><span class="annottext">alterTM :: forall b.
Key LooseTypeMap -&gt; XT b -&gt; LooseTypeMap b -&gt; LooseTypeMap b
</span><a href="#local-6989586621681031743"><span class="hs-identifier hs-var hs-var hs-var hs-var">alterTM</span></a></span></span><span> </span><span id="local-6989586621681031742"><span class="annot"><span class="annottext">Key LooseTypeMap
</span><a href="#local-6989586621681031742"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681031741"><span class="annot"><span class="annottext">XT b
</span><a href="#local-6989586621681031741"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-type">LooseTypeMap</span></a></span><span> </span><span id="local-6989586621681031740"><span class="annot"><span class="annottext">TypeMapG b
</span><a href="#local-6989586621681031740"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG a -&gt; LooseTypeMap a
</span><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-var">LooseTypeMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; XT b -&gt; m b -&gt; m b
</span><a href="GHC.Data.TrieMap.html#alterTM"><span class="hs-identifier hs-var">alterTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#deBruijnize"><span class="hs-identifier hs-var">deBruijnize</span></a></span><span> </span><span class="annot"><span class="annottext">Key LooseTypeMap
</span><a href="#local-6989586621681031742"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT b
</span><a href="#local-6989586621681031741"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapG b
</span><a href="#local-6989586621681031740"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>  </span><span id="local-6989586621681031735"><span class="annot"><span class="annottext">foldTM :: forall a b. (a -&gt; b -&gt; b) -&gt; LooseTypeMap a -&gt; b -&gt; b
</span><a href="#local-6989586621681031735"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldTM</span></a></span></span><span> </span><span id="local-6989586621681031734"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031734"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-type">LooseTypeMap</span></a></span><span> </span><span id="local-6989586621681031733"><span class="annot"><span class="annottext">TypeMapG a
</span><a href="#local-6989586621681031733"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031734"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapG a
</span><a href="#local-6989586621681031733"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-416"></span><span>  </span><span id="local-6989586621681031728"><span class="annot"><span class="annottext">mapTM :: forall a b. (a -&gt; b) -&gt; LooseTypeMap a -&gt; LooseTypeMap b
</span><a href="#local-6989586621681031728"><span class="hs-identifier hs-var hs-var hs-var hs-var">mapTM</span></a></span></span><span> </span><span id="local-6989586621681031727"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031727"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-type">LooseTypeMap</span></a></span><span> </span><span id="local-6989586621681031726"><span class="annot"><span class="annottext">TypeMapG a
</span><a href="#local-6989586621681031726"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG a -&gt; LooseTypeMap a
</span><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-var">LooseTypeMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031727"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapG a
</span><a href="#local-6989586621681031726"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>  </span><span id="local-6989586621681031721"><span class="annot"><span class="annottext">filterTM :: forall a. (a -&gt; Bool) -&gt; LooseTypeMap a -&gt; LooseTypeMap a
</span><a href="#local-6989586621681031721"><span class="hs-identifier hs-var hs-var hs-var hs-var">filterTM</span></a></span></span><span> </span><span id="local-6989586621681031720"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031720"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-type">LooseTypeMap</span></a></span><span> </span><span id="local-6989586621681031719"><span class="annot"><span class="annottext">TypeMapG a
</span><a href="#local-6989586621681031719"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG a -&gt; LooseTypeMap a
</span><a href="GHC.Core.Map.Type.html#LooseTypeMap"><span class="hs-identifier hs-var">LooseTypeMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031720"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TypeMapG a
</span><a href="#local-6989586621681031719"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                   Variables
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span class="hs-keyword">type</span><span> </span><span id="BoundVar"><span class="annot"><a href="GHC.Core.Map.Type.html#BoundVar"><span class="hs-identifier hs-var">BoundVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>  </span><span class="hs-comment">-- Bound variables are deBruijn numbered</span><span>
</span><span id="line-428"></span><span class="hs-keyword">type</span><span> </span><span id="BoundVarMap"><span class="annot"><a href="GHC.Core.Map.Type.html#BoundVarMap"><span class="hs-identifier hs-var">BoundVarMap</span></a></span></span><span> </span><span id="local-6989586621681031718"><span class="annot"><a href="#local-6989586621681031718"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap.IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031718"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-keyword">data</span><span> </span><span id="CmEnv"><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-var">CmEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CME"><span class="annot"><a href="GHC.Core.Map.Type.html#CME"><span class="hs-identifier hs-var">CME</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="cme_next"><span class="annot"><span class="annottext">CmEnv -&gt; BoundVar
</span><a href="GHC.Core.Map.Type.html#cme_next"><span class="hs-identifier hs-var hs-var">cme_next</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Core.Map.Type.html#BoundVar"><span class="hs-identifier hs-type">BoundVar</span></a></span><span>
</span><span id="line-431"></span><span>                 </span><span class="hs-special">,</span><span> </span><span id="cme_env"><span class="annot"><span class="annottext">CmEnv -&gt; VarEnv BoundVar
</span><a href="GHC.Core.Map.Type.html#cme_env"><span class="hs-identifier hs-var hs-var">cme_env</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#VarEnv"><span class="hs-identifier hs-type">VarEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BoundVar"><span class="hs-identifier hs-type">BoundVar</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="annot"><a href="GHC.Core.Map.Type.html#emptyCME"><span class="hs-identifier hs-type">emptyCME</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span>
</span><span id="line-434"></span><span id="emptyCME"><span class="annot"><span class="annottext">emptyCME :: CmEnv
</span><a href="GHC.Core.Map.Type.html#emptyCME"><span class="hs-identifier hs-var hs-var">emptyCME</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CME"><span class="hs-identifier hs-type">CME</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cme_next :: BoundVar
</span><a href="GHC.Core.Map.Type.html#cme_next"><span class="hs-identifier hs-var">cme_next</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BoundVar
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cme_env :: VarEnv BoundVar
</span><a href="GHC.Core.Map.Type.html#cme_env"><span class="hs-identifier hs-var">cme_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. VarEnv a
</span><a href="GHC.Types.Var.Env.html#emptyVarEnv"><span class="hs-identifier hs-var">emptyVarEnv</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="annot"><a href="GHC.Core.Map.Type.html#extendCME"><span class="hs-identifier hs-type">extendCME</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span>
</span><span id="line-437"></span><span id="extendCME"><span class="annot"><span class="annottext">extendCME :: CmEnv -&gt; Var -&gt; CmEnv
</span><a href="GHC.Core.Map.Type.html#extendCME"><span class="hs-identifier hs-var hs-var">extendCME</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CME"><span class="hs-identifier hs-type">CME</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cme_next :: CmEnv -&gt; BoundVar
</span><a href="GHC.Core.Map.Type.html#cme_next"><span class="hs-identifier hs-var">cme_next</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031713"><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681031713"><span class="hs-identifier hs-var">bv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cme_env :: CmEnv -&gt; VarEnv BoundVar
</span><a href="GHC.Core.Map.Type.html#cme_env"><span class="hs-identifier hs-var">cme_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031712"><span class="annot"><span class="annottext">VarEnv BoundVar
</span><a href="#local-6989586621681031712"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681031711"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031711"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CME"><span class="hs-identifier hs-type">CME</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cme_next :: BoundVar
</span><a href="GHC.Core.Map.Type.html#cme_next"><span class="hs-identifier hs-var">cme_next</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681031713"><span class="hs-identifier hs-var">bv</span></a></span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span class="annot"><span class="annottext">BoundVar
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cme_env :: VarEnv BoundVar
</span><a href="GHC.Core.Map.Type.html#cme_env"><span class="hs-identifier hs-var">cme_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. VarEnv a -&gt; Var -&gt; a -&gt; VarEnv a
</span><a href="GHC.Types.Var.Env.html#extendVarEnv"><span class="hs-identifier hs-var">extendVarEnv</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv BoundVar
</span><a href="#local-6989586621681031712"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031711"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681031713"><span class="hs-identifier hs-var">bv</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="annot"><a href="GHC.Core.Map.Type.html#extendCMEs"><span class="hs-identifier hs-type">extendCMEs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span>
</span><span id="line-441"></span><span id="extendCMEs"><span class="annot"><span class="annottext">extendCMEs :: CmEnv -&gt; [Var] -&gt; CmEnv
</span><a href="GHC.Core.Map.Type.html#extendCMEs"><span class="hs-identifier hs-var hs-var">extendCMEs</span></a></span></span><span> </span><span id="local-6989586621681031708"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031708"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681031707"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621681031707"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv -&gt; Var -&gt; CmEnv
</span><a href="GHC.Core.Map.Type.html#extendCME"><span class="hs-identifier hs-var">extendCME</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031708"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621681031707"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="annot"><a href="GHC.Core.Map.Type.html#lookupCME"><span class="hs-identifier hs-type">lookupCME</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BoundVar"><span class="hs-identifier hs-type">BoundVar</span></a></span><span>
</span><span id="line-444"></span><span id="lookupCME"><span class="annot"><span class="annottext">lookupCME :: CmEnv -&gt; Var -&gt; Maybe BoundVar
</span><a href="GHC.Core.Map.Type.html#lookupCME"><span class="hs-identifier hs-var hs-var">lookupCME</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#CME"><span class="hs-identifier hs-type">CME</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cme_env :: CmEnv -&gt; VarEnv BoundVar
</span><a href="GHC.Core.Map.Type.html#cme_env"><span class="hs-identifier hs-var">cme_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031706"><span class="annot"><span class="annottext">VarEnv BoundVar
</span><a href="#local-6989586621681031706"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681031705"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031705"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. VarEnv a -&gt; Var -&gt; Maybe a
</span><a href="GHC.Types.Var.Env.html#lookupVarEnv"><span class="hs-identifier hs-var">lookupVarEnv</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv BoundVar
</span><a href="#local-6989586621681031706"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031705"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span class="hs-comment">-- | @DeBruijn a@ represents @a@ modulo alpha-renaming.  This is achieved</span><span>
</span><span id="line-447"></span><span class="hs-comment">-- by equipping the value with a 'CmEnv', which tracks an on-the-fly deBruijn</span><span>
</span><span id="line-448"></span><span class="hs-comment">-- numbering.  This allows us to define an 'Eq' instance for @DeBruijn a@, even</span><span>
</span><span id="line-449"></span><span class="hs-comment">-- if this was not (easily) possible for @a@.  Note: we purposely don't</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- export the constructor.  Make a helper function if you find yourself</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- needing it.</span><span>
</span><span id="line-452"></span><span class="hs-keyword">data</span><span> </span><span id="DeBruijn"><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-var">DeBruijn</span></a></span></span><span> </span><span id="local-6989586621681032651"><span class="annot"><a href="#local-6989586621681032651"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="D"><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032651"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-comment">-- | Synthesizes a @DeBruijn a@ from an @a@, by assuming that there are no</span><span>
</span><span id="line-455"></span><span class="hs-comment">-- bound binders (an empty 'CmEnv').  This is usually what you want if there</span><span>
</span><span id="line-456"></span><span class="hs-comment">-- isn't already a 'CmEnv' in scope.</span><span>
</span><span id="line-457"></span><span id="local-6989586621681032669"><span class="annot"><a href="GHC.Core.Map.Type.html#deBruijnize"><span class="hs-identifier hs-type">deBruijnize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681032669"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032669"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-458"></span><span id="deBruijnize"><span class="annot"><span class="annottext">deBruijnize :: forall a. a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#deBruijnize"><span class="hs-identifier hs-var hs-var">deBruijnize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="GHC.Core.Map.Type.html#emptyCME"><span class="hs-identifier hs-var">emptyCME</span></a></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681031701"><span id="local-6989586621681032621"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032621"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681032621"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-461"></span><span>    </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span id="local-6989586621681031698"><span class="annot"><span class="annottext">== :: DeBruijn [a] -&gt; DeBruijn [a] -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-462"></span><span>    </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681031697"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031697"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681031696"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031696"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681031695"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681031695"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681031694"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031694"><span class="hs-identifier hs-var">env'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681031693"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031693"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681031692"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681031692"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031697"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031696"><span class="hs-identifier hs-var">x</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031694"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031693"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-463"></span><span>                                      </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031697"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681031695"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031694"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681031692"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-464"></span><span>    </span><span class="annot"><span class="annottext">DeBruijn [a]
</span><span class="hs-identifier">_</span></span><span>            </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">DeBruijn [a]
</span><span class="hs-identifier">_</span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681031689"><span id="local-6989586621681032468"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032468"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032468"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-467"></span><span>    </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><span class="hs-identifier">_</span></span><span>   </span><span class="annot"><span class="annottext">Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span id="local-6989586621681031687"><span class="annot"><span class="annottext">== :: DeBruijn (Maybe a) -&gt; DeBruijn (Maybe a) -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><span class="hs-identifier">_</span></span><span>    </span><span class="annot"><span class="annottext">Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-468"></span><span>    </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681031686"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031686"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681031685"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031685"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-type">D</span></a></span><span> </span><span id="local-6989586621681031684"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031684"><span class="hs-identifier hs-var">env'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681031683"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031683"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031686"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031685"><span class="hs-identifier hs-var">x</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031684"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681031683"><span class="hs-identifier hs-var">x'</span></a></span><span>
</span><span id="line-469"></span><span>    </span><span class="annot"><span class="annottext">DeBruijn (Maybe a)
</span><span class="hs-identifier">_</span></span><span>              </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">DeBruijn (Maybe a)
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span class="hs-comment">--------- Variable binders -------------</span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-comment">-- | A 'BndrMap' is a 'TypeMapG' which allows us to distinguish between</span><span>
</span><span id="line-474"></span><span class="hs-comment">-- binding forms whose binders have different types.  For example,</span><span>
</span><span id="line-475"></span><span class="hs-comment">-- if we are doing a 'TrieMap' lookup on @\(x :: Int) -&gt; ()@, we should</span><span>
</span><span id="line-476"></span><span class="hs-comment">-- not pick up an entry in the 'TrieMap' for @\(x :: Bool) -&gt; ()@:</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- we can disambiguate this by matching on the type (or kind, if this</span><span>
</span><span id="line-478"></span><span class="hs-comment">-- a binder in a type) of the binder.</span><span>
</span><span id="line-479"></span><span class="hs-comment">--</span><span>
</span><span id="line-480"></span><span class="hs-comment">-- We also need to do the same for multiplicity! Which, since multiplicities are</span><span>
</span><span id="line-481"></span><span class="hs-comment">-- encoded simply as a 'Type', amounts to have a Trie for a pair of types. Tries</span><span>
</span><span id="line-482"></span><span class="hs-comment">-- of pairs are composition.</span><span>
</span><span id="line-483"></span><span class="hs-keyword">data</span><span> </span><span id="BndrMap"><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-var">BndrMap</span></a></span></span><span> </span><span id="local-6989586621681032467"><span class="annot"><a href="#local-6989586621681032467"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BndrMap"><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-var">BndrMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.TrieMap.html#MaybeMap"><span class="hs-identifier hs-type">MaybeMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#TypeMapG"><span class="hs-identifier hs-type">TypeMapG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032467"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#TrieMap"><span class="hs-identifier hs-type">TrieMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-486"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Key"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-identifier hs-var">Key</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-487"></span><span>   </span><span id="local-6989586621681031671"><span class="annot"><span class="annottext">emptyTM :: forall a. BndrMap a
</span><a href="#local-6989586621681031671"><span class="hs-identifier hs-var hs-var hs-var hs-var">emptyTM</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG (MaybeMap (GenMap TypeMapX) a) -&gt; BndrMap a
</span><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-var">BndrMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; m a
</span><a href="GHC.Data.TrieMap.html#emptyTM"><span class="hs-identifier hs-var">emptyTM</span></a></span><span>
</span><span id="line-488"></span><span>   </span><span id="local-6989586621681031670"><span class="annot"><span class="annottext">lookupTM :: forall b. Key BndrMap -&gt; BndrMap b -&gt; Maybe b
</span><a href="#local-6989586621681031670"><span class="hs-identifier hs-var hs-var hs-var hs-var">lookupTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; Var -&gt; BndrMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkBndr"><span class="hs-identifier hs-var">lkBndr</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="GHC.Core.Map.Type.html#emptyCME"><span class="hs-identifier hs-var">emptyCME</span></a></span><span>
</span><span id="line-489"></span><span>   </span><span id="local-6989586621681031669"><span class="annot"><span class="annottext">alterTM :: forall b. Key BndrMap -&gt; XT b -&gt; BndrMap b -&gt; BndrMap b
</span><a href="#local-6989586621681031669"><span class="hs-identifier hs-var hs-var hs-var hs-var">alterTM</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; Var -&gt; XT a -&gt; BndrMap a -&gt; BndrMap a
</span><a href="GHC.Core.Map.Type.html#xtBndr"><span class="hs-identifier hs-var">xtBndr</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="GHC.Core.Map.Type.html#emptyCME"><span class="hs-identifier hs-var">emptyCME</span></a></span><span>
</span><span id="line-490"></span><span>   </span><span id="local-6989586621681031668"><span class="annot"><span class="annottext">foldTM :: forall a b. (a -&gt; b -&gt; b) -&gt; BndrMap a -&gt; b -&gt; b
</span><a href="#local-6989586621681031668"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldTM</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b -&gt; b) -&gt; BndrMap a -&gt; b -&gt; b
</span><a href="GHC.Core.Map.Type.html#fdBndrMap"><span class="hs-identifier hs-var">fdBndrMap</span></a></span><span>
</span><span id="line-491"></span><span>   </span><span id="local-6989586621681031666"><span class="annot"><span class="annottext">mapTM :: forall a b. (a -&gt; b) -&gt; BndrMap a -&gt; BndrMap b
</span><a href="#local-6989586621681031666"><span class="hs-identifier hs-var hs-var hs-var hs-var">mapTM</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; BndrMap a -&gt; BndrMap b
</span><a href="GHC.Core.Map.Type.html#mapBndrMap"><span class="hs-identifier hs-var">mapBndrMap</span></a></span><span>
</span><span id="line-492"></span><span>   </span><span id="local-6989586621681031664"><span class="annot"><span class="annottext">filterTM :: forall a. (a -&gt; Bool) -&gt; BndrMap a -&gt; BndrMap a
</span><a href="#local-6989586621681031664"><span class="hs-identifier hs-var hs-var hs-var hs-var">filterTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; BndrMap a -&gt; BndrMap a
</span><a href="GHC.Core.Map.Type.html#ftBndrMap"><span class="hs-identifier hs-var">ftBndrMap</span></a></span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span id="local-6989586621681031661"><span id="local-6989586621681031662"><span class="annot"><a href="GHC.Core.Map.Type.html#mapBndrMap"><span class="hs-identifier hs-type">mapBndrMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031662"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031661"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031662"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031661"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-495"></span><span id="mapBndrMap"><span class="annot"><span class="annottext">mapBndrMap :: forall a b. (a -&gt; b) -&gt; BndrMap a -&gt; BndrMap b
</span><a href="GHC.Core.Map.Type.html#mapBndrMap"><span class="hs-identifier hs-var hs-var">mapBndrMap</span></a></span></span><span> </span><span id="local-6989586621681031654"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031654"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span id="local-6989586621681031653"><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031653"><span class="hs-identifier hs-var">tm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG (MaybeMap (GenMap TypeMapX) a) -&gt; BndrMap a
</span><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-var">BndrMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031654"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031653"><span class="hs-identifier hs-var">tm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span id="local-6989586621681031651"><span id="local-6989586621681031652"><span class="annot"><a href="GHC.Core.Map.Type.html#fdBndrMap"><span class="hs-identifier hs-type">fdBndrMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031652"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031651"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031651"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031652"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031651"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031651"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-498"></span><span id="fdBndrMap"><span class="annot"><span class="annottext">fdBndrMap :: forall a b. (a -&gt; b -&gt; b) -&gt; BndrMap a -&gt; b -&gt; b
</span><a href="GHC.Core.Map.Type.html#fdBndrMap"><span class="hs-identifier hs-var hs-var">fdBndrMap</span></a></span></span><span> </span><span id="local-6989586621681031645"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031645"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span id="local-6989586621681031644"><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031644"><span class="hs-identifier hs-var">tm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031645"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031644"><span class="hs-identifier hs-var">tm</span></a></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span class="hs-comment">-- We need to use 'BndrMap' for 'Coercion', 'CoreExpr' AND 'Type', since all</span><span>
</span><span id="line-502"></span><span class="hs-comment">-- of these data types have binding forms.</span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span id="local-6989586621681032584"><span class="annot"><a href="GHC.Core.Map.Type.html#lkBndr"><span class="hs-identifier hs-type">lkBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032584"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032584"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-505"></span><span id="lkBndr"><span class="annot"><span class="annottext">lkBndr :: forall a. CmEnv -&gt; Var -&gt; BndrMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkBndr"><span class="hs-identifier hs-var hs-var">lkBndr</span></a></span></span><span> </span><span id="local-6989586621681031635"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031635"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681031634"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031634"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span id="local-6989586621681031633"><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031633"><span class="hs-identifier hs-var">tymap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-506"></span><span>  </span><span id="local-6989586621681031632"><span class="annot"><span class="annottext">MaybeMap (GenMap TypeMapX) a
</span><a href="#local-6989586621681031632"><span class="hs-identifier hs-var">multmap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; GenMap m a -&gt; Maybe a
</span><a href="GHC.Data.TrieMap.html#lkG"><span class="hs-identifier hs-var">lkG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031635"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Type
</span><a href="GHC.Types.Var.html#varType"><span class="hs-identifier hs-var">varType</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031634"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031633"><span class="hs-identifier hs-var">tymap</span></a></span><span>
</span><span id="line-507"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; m b -&gt; Maybe b
</span><a href="GHC.Data.TrieMap.html#lookupTM"><span class="hs-identifier hs-var">lookupTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031635"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Maybe Type
</span><a href="GHC.Types.Var.html#varMultMaybe"><span class="hs-identifier hs-var">varMultMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031634"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MaybeMap (GenMap TypeMapX) a
</span><a href="#local-6989586621681031632"><span class="hs-identifier hs-var">multmap</span></a></span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span class="annot"><a href="GHC.Core.Map.Type.html#xtBndr"><span class="hs-identifier hs-type">xtBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681032570"><span class="annot"><a href="#local-6989586621681032570"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-identifier hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032570"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032570"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032570"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-511"></span><span id="xtBndr"><span class="annot"><span class="annottext">xtBndr :: forall a. CmEnv -&gt; Var -&gt; XT a -&gt; BndrMap a -&gt; BndrMap a
</span><a href="GHC.Core.Map.Type.html#xtBndr"><span class="hs-identifier hs-var hs-var">xtBndr</span></a></span></span><span> </span><span id="local-6989586621681031620"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031620"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681031619"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031619"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681031618"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031618"><span class="hs-identifier hs-var">xt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span id="local-6989586621681031617"><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031617"><span class="hs-identifier hs-var">tymap</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><span class="annottext">forall a. TypeMapG (MaybeMap (GenMap TypeMapX) a) -&gt; BndrMap a
</span><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-var">BndrMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031617"><span class="hs-identifier hs-var">tymap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Eq (Key m), TrieMap m) =&gt;
Key m -&gt; XT a -&gt; GenMap m a -&gt; GenMap m a
</span><a href="GHC.Data.TrieMap.html#xtG"><span class="hs-identifier hs-var">xtG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031620"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Type
</span><a href="GHC.Types.Var.html#varType"><span class="hs-identifier hs-var">varType</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031619"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m2 :: * -&gt; *) a (m1 :: * -&gt; *).
TrieMap m2 =&gt;
(XT (m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a))
-&gt; (m2 a -&gt; m2 a) -&gt; m1 (m2 a) -&gt; m1 (m2 a)
</span><a href="GHC.Data.TrieMap.html#%7C%3E%3E"><span class="hs-operator hs-var">|&gt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; XT b -&gt; m b -&gt; m b
</span><a href="GHC.Data.TrieMap.html#alterTM"><span class="hs-identifier hs-var">alterTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; a -&gt; DeBruijn a
</span><a href="GHC.Core.Map.Type.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031620"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Maybe Type
</span><a href="GHC.Types.Var.html#varMultMaybe"><span class="hs-identifier hs-var">varMultMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031619"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031618"><span class="hs-identifier hs-var">xt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span id="local-6989586621681031616"><span class="annot"><a href="GHC.Core.Map.Type.html#ftBndrMap"><span class="hs-identifier hs-type">ftBndrMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031616"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031616"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031616"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-515"></span><span id="ftBndrMap"><span class="annot"><span class="annottext">ftBndrMap :: forall a. (a -&gt; Bool) -&gt; BndrMap a -&gt; BndrMap a
</span><a href="GHC.Core.Map.Type.html#ftBndrMap"><span class="hs-identifier hs-var hs-var">ftBndrMap</span></a></span></span><span> </span><span id="local-6989586621681031610"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031610"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-type">BndrMap</span></a></span><span> </span><span id="local-6989586621681031609"><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031609"><span class="hs-identifier hs-var">tm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. TypeMapG (MaybeMap (GenMap TypeMapX) a) -&gt; BndrMap a
</span><a href="GHC.Core.Map.Type.html#BndrMap"><span class="hs-identifier hs-var">BndrMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031610"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TypeMapG (MaybeMap (GenMap TypeMapX) a)
</span><a href="#local-6989586621681031609"><span class="hs-identifier hs-var">tm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span class="hs-comment">--------- Variable occurrence -------------</span><span>
</span><span id="line-518"></span><span class="hs-keyword">data</span><span> </span><span id="VarMap"><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-var">VarMap</span></a></span></span><span> </span><span id="local-6989586621681032454"><span class="annot"><a href="#local-6989586621681032454"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="VM"><span class="annot"><a href="GHC.Core.Map.Type.html#VM"><span class="hs-identifier hs-var">VM</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="vm_bvar"><span class="annot"><span class="annottext">forall a. VarMap a -&gt; BoundVarMap a
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var hs-var">vm_bvar</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#BoundVarMap"><span class="hs-identifier hs-type">BoundVarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032454"><span class="hs-identifier hs-type">a</span></a></span><span>  </span><span class="hs-comment">-- Bound variable</span><span>
</span><span id="line-519"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="vm_fvar"><span class="annot"><span class="annottext">forall a. VarMap a -&gt; DVarEnv a
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var hs-var">vm_fvar</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#DVarEnv"><span class="hs-identifier hs-type">DVarEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032454"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>      </span><span class="hs-comment">-- Free variable</span><span>
</span><span id="line-520"></span><span>
</span><span id="line-521"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#TrieMap"><span class="hs-identifier hs-type">TrieMap</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-522"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Key"><span class="annot"><a href="GHC.Data.TrieMap.html#Key"><span class="hs-identifier hs-var">Key</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-523"></span><span>   </span><span id="local-6989586621681031599"><span class="annot"><span class="annottext">emptyTM :: forall a. VarMap a
</span><a href="#local-6989586621681031599"><span class="hs-identifier hs-var hs-var hs-var hs-var">emptyTM</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VM"><span class="hs-identifier hs-type">VM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">vm_bvar :: BoundVarMap a
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var">vm_bvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#empty"><span class="hs-identifier hs-var">IntMap.empty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">vm_fvar :: DVarEnv a
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var">vm_fvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DVarEnv a
</span><a href="GHC.Types.Var.Env.html#emptyDVarEnv"><span class="hs-identifier hs-var">emptyDVarEnv</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-524"></span><span>   </span><span id="local-6989586621681031596"><span class="annot"><span class="annottext">lookupTM :: forall b. Key VarMap -&gt; VarMap b -&gt; Maybe b
</span><a href="#local-6989586621681031596"><span class="hs-identifier hs-var hs-var hs-var hs-var">lookupTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; Var -&gt; VarMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkVar"><span class="hs-identifier hs-var">lkVar</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="GHC.Core.Map.Type.html#emptyCME"><span class="hs-identifier hs-var">emptyCME</span></a></span><span>
</span><span id="line-525"></span><span>   </span><span id="local-6989586621681031595"><span class="annot"><span class="annottext">alterTM :: forall b. Key VarMap -&gt; XT b -&gt; VarMap b -&gt; VarMap b
</span><a href="#local-6989586621681031595"><span class="hs-identifier hs-var hs-var hs-var hs-var">alterTM</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. CmEnv -&gt; Var -&gt; XT a -&gt; VarMap a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#xtVar"><span class="hs-identifier hs-var">xtVar</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="GHC.Core.Map.Type.html#emptyCME"><span class="hs-identifier hs-var">emptyCME</span></a></span><span>
</span><span id="line-526"></span><span>   </span><span id="local-6989586621681031594"><span class="annot"><span class="annottext">foldTM :: forall a b. (a -&gt; b -&gt; b) -&gt; VarMap a -&gt; b -&gt; b
</span><a href="#local-6989586621681031594"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldTM</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b -&gt; b) -&gt; VarMap a -&gt; b -&gt; b
</span><a href="GHC.Core.Map.Type.html#fdVar"><span class="hs-identifier hs-var">fdVar</span></a></span><span>
</span><span id="line-527"></span><span>   </span><span id="local-6989586621681031592"><span class="annot"><span class="annottext">mapTM :: forall a b. (a -&gt; b) -&gt; VarMap a -&gt; VarMap b
</span><a href="#local-6989586621681031592"><span class="hs-identifier hs-var hs-var hs-var hs-var">mapTM</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; VarMap a -&gt; VarMap b
</span><a href="GHC.Core.Map.Type.html#mapVar"><span class="hs-identifier hs-var">mapVar</span></a></span><span>
</span><span id="line-528"></span><span>   </span><span id="local-6989586621681031590"><span class="annot"><span class="annottext">filterTM :: forall a. (a -&gt; Bool) -&gt; VarMap a -&gt; VarMap a
</span><a href="#local-6989586621681031590"><span class="hs-identifier hs-var hs-var hs-var hs-var">filterTM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; VarMap a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#ftVar"><span class="hs-identifier hs-var">ftVar</span></a></span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span id="local-6989586621681031587"><span id="local-6989586621681031588"><span class="annot"><a href="GHC.Core.Map.Type.html#mapVar"><span class="hs-identifier hs-type">mapVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031588"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="#local-6989586621681031587"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031588"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031587"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-531"></span><span id="mapVar"><span class="annot"><span class="annottext">mapVar :: forall a b. (a -&gt; b) -&gt; VarMap a -&gt; VarMap b
</span><a href="GHC.Core.Map.Type.html#mapVar"><span class="hs-identifier hs-var hs-var">mapVar</span></a></span></span><span> </span><span id="local-6989586621681031581"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031581"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#VM"><span class="hs-identifier hs-type">VM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">vm_bvar :: forall a. VarMap a -&gt; BoundVarMap a
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var">vm_bvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031580"><span class="annot"><span class="annottext">BoundVarMap a
</span><a href="#local-6989586621681031580"><span class="hs-identifier hs-var">bv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">vm_fvar :: forall a. VarMap a -&gt; DVarEnv a
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var">vm_fvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031579"><span class="annot"><span class="annottext">DVarEnv a
</span><a href="#local-6989586621681031579"><span class="hs-identifier hs-var">fv</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VM"><span class="hs-identifier hs-type">VM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">vm_bvar :: BoundVarMap b
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var">vm_bvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031581"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">BoundVarMap a
</span><a href="#local-6989586621681031580"><span class="hs-identifier hs-var">bv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">vm_fvar :: DVarEnv b
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var">vm_fvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. TrieMap m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="GHC.Data.TrieMap.html#mapTM"><span class="hs-identifier hs-var">mapTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681031581"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">DVarEnv a
</span><a href="#local-6989586621681031579"><span class="hs-identifier hs-var">fv</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span id="local-6989586621681032595"><span class="annot"><a href="GHC.Core.Map.Type.html#lkVar"><span class="hs-identifier hs-type">lkVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032595"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032595"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-535"></span><span id="lkVar"><span class="annot"><span class="annottext">lkVar :: forall a. CmEnv -&gt; Var -&gt; VarMap a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkVar"><span class="hs-identifier hs-var hs-var">lkVar</span></a></span></span><span> </span><span id="local-6989586621681031577"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031577"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681031576"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031576"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-536"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681031575"><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681031575"><span class="hs-identifier hs-var">bv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CmEnv -&gt; Var -&gt; Maybe BoundVar
</span><a href="GHC.Core.Map.Type.html#lookupCME"><span class="hs-identifier hs-var">lookupCME</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031577"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031576"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. VarMap a -&gt; BoundVarMap a
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var">vm_bvar</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; m b -&gt; Maybe b
</span><a href="GHC.Data.TrieMap.html#lookupTM"><span class="hs-identifier hs-var">lookupTM</span></a></span><span> </span><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681031575"><span class="hs-identifier hs-var">bv</span></a></span><span>
</span><span id="line-537"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. VarMap a -&gt; DVarEnv a
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var">vm_fvar</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b) -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="GHC.Data.TrieMap.html#%3E.%3E"><span class="hs-operator hs-var">&gt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Var -&gt; DVarEnv a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkDFreeVar"><span class="hs-identifier hs-var">lkDFreeVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031576"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span id="local-6989586621681032580"><span class="annot"><a href="GHC.Core.Map.Type.html#xtVar"><span class="hs-identifier hs-type">xtVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#CmEnv"><span class="hs-identifier hs-type">CmEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-identifier hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032580"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032580"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032580"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-540"></span><span id="xtVar"><span class="annot"><span class="annottext">xtVar :: forall a. CmEnv -&gt; Var -&gt; XT a -&gt; VarMap a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#xtVar"><span class="hs-identifier hs-var hs-var">xtVar</span></a></span></span><span> </span><span id="local-6989586621681031573"><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031573"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621681031572"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031572"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681031571"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031571"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031570"><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031570"><span class="hs-identifier hs-var">m</span></a></span></span><span>
</span><span id="line-541"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681031569"><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681031569"><span class="hs-identifier hs-var">bv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CmEnv -&gt; Var -&gt; Maybe BoundVar
</span><a href="GHC.Core.Map.Type.html#lookupCME"><span class="hs-identifier hs-var">lookupCME</span></a></span><span> </span><span class="annot"><span class="annottext">CmEnv
</span><a href="#local-6989586621681031573"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031572"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031570"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">vm_bvar :: BoundVarMap a
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var">vm_bvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. VarMap a -&gt; BoundVarMap a
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var">vm_bvar</span></a></span><span> </span><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031570"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b. TrieMap m =&gt; Key m -&gt; XT b -&gt; m b -&gt; m b
</span><a href="GHC.Data.TrieMap.html#alterTM"><span class="hs-identifier hs-var">alterTM</span></a></span><span> </span><span class="annot"><span class="annottext">BoundVar
</span><a href="#local-6989586621681031569"><span class="hs-identifier hs-var">bv</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031571"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031570"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">vm_fvar :: DVarEnv a
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var">vm_fvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. VarMap a -&gt; DVarEnv a
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var">vm_fvar</span></a></span><span> </span><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031570"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="GHC.Data.TrieMap.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Var -&gt; XT a -&gt; DVarEnv a -&gt; DVarEnv a
</span><a href="GHC.Core.Map.Type.html#xtDFreeVar"><span class="hs-identifier hs-var">xtDFreeVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031572"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031571"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span id="local-6989586621681031567"><span id="local-6989586621681031568"><span class="annot"><a href="GHC.Core.Map.Type.html#fdVar"><span class="hs-identifier hs-type">fdVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031567"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031567"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031567"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031567"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-545"></span><span id="fdVar"><span class="annot"><span class="annottext">fdVar :: forall a b. (a -&gt; b -&gt; b) -&gt; VarMap a -&gt; b -&gt; b
</span><a href="GHC.Core.Map.Type.html#fdVar"><span class="hs-identifier hs-var hs-var">fdVar</span></a></span></span><span> </span><span id="local-6989586621681031563"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031563"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681031562"><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031562"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031563"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. VarMap a -&gt; BoundVarMap a
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var">vm_bvar</span></a></span><span> </span><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031562"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span>          </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
TrieMap m =&gt;
(a -&gt; b -&gt; b) -&gt; m a -&gt; b -&gt; b
</span><a href="GHC.Data.TrieMap.html#foldTM"><span class="hs-identifier hs-var">foldTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681031563"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. VarMap a -&gt; DVarEnv a
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var">vm_fvar</span></a></span><span> </span><span class="annot"><span class="annottext">VarMap a
</span><a href="#local-6989586621681031562"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span id="local-6989586621681032442"><span class="annot"><a href="GHC.Core.Map.Type.html#lkDFreeVar"><span class="hs-identifier hs-type">lkDFreeVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#DVarEnv"><span class="hs-identifier hs-type">DVarEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032442"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032442"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-549"></span><span id="lkDFreeVar"><span class="annot"><span class="annottext">lkDFreeVar :: forall a. Var -&gt; DVarEnv a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkDFreeVar"><span class="hs-identifier hs-var hs-var">lkDFreeVar</span></a></span></span><span> </span><span id="local-6989586621681031561"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031561"><span class="hs-identifier hs-var">var</span></a></span></span><span> </span><span id="local-6989586621681031560"><span class="annot"><span class="annottext">DVarEnv a
</span><a href="#local-6989586621681031560"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DVarEnv a -&gt; Var -&gt; Maybe a
</span><a href="GHC.Types.Var.Env.html#lookupDVarEnv"><span class="hs-identifier hs-var">lookupDVarEnv</span></a></span><span> </span><span class="annot"><span class="annottext">DVarEnv a
</span><a href="#local-6989586621681031560"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031561"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span id="local-6989586621681032440"><span class="annot"><a href="GHC.Core.Map.Type.html#xtDFreeVar"><span class="hs-identifier hs-type">xtDFreeVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-identifier hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032440"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#DVarEnv"><span class="hs-identifier hs-type">DVarEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032440"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.Env.html#DVarEnv"><span class="hs-identifier hs-type">DVarEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032440"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-552"></span><span id="xtDFreeVar"><span class="annot"><span class="annottext">xtDFreeVar :: forall a. Var -&gt; XT a -&gt; DVarEnv a -&gt; DVarEnv a
</span><a href="GHC.Core.Map.Type.html#xtDFreeVar"><span class="hs-identifier hs-var hs-var">xtDFreeVar</span></a></span></span><span> </span><span id="local-6989586621681031558"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031558"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681031557"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031557"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031556"><span class="annot"><span class="annottext">DVarEnv a
</span><a href="#local-6989586621681031556"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (Maybe a -&gt; Maybe a) -&gt; DVarEnv a -&gt; Var -&gt; DVarEnv a
</span><a href="GHC.Types.Var.Env.html#alterDVarEnv"><span class="hs-identifier hs-var">alterDVarEnv</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031557"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">DVarEnv a
</span><a href="#local-6989586621681031556"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621681031558"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span id="local-6989586621681031554"><span class="annot"><a href="GHC.Core.Map.Type.html#ftVar"><span class="hs-identifier hs-type">ftVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681031554"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031554"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VarMap"><span class="hs-identifier hs-type">VarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031554"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-555"></span><span id="ftVar"><span class="annot"><span class="annottext">ftVar :: forall a. (a -&gt; Bool) -&gt; VarMap a -&gt; VarMap a
</span><a href="GHC.Core.Map.Type.html#ftVar"><span class="hs-identifier hs-var hs-var">ftVar</span></a></span></span><span> </span><span id="local-6989586621681031550"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031550"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Map.Type.html#VM"><span class="hs-identifier hs-type">VM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">vm_bvar :: forall a. VarMap a -&gt; BoundVarMap a
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var">vm_bvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031549"><span class="annot"><span class="annottext">BoundVarMap a
</span><a href="#local-6989586621681031549"><span class="hs-identifier hs-var">bv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">vm_fvar :: forall a. VarMap a -&gt; DVarEnv a
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var">vm_fvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681031548"><span class="annot"><span class="annottext">DVarEnv a
</span><a href="#local-6989586621681031548"><span class="hs-identifier hs-var">fv</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-556"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.Map.Type.html#VM"><span class="hs-identifier hs-type">VM</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">vm_bvar :: BoundVarMap a
</span><a href="GHC.Core.Map.Type.html#vm_bvar"><span class="hs-identifier hs-var">vm_bvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031550"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">BoundVarMap a
</span><a href="#local-6989586621681031549"><span class="hs-identifier hs-var">bv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">vm_fvar :: DVarEnv a
</span><a href="GHC.Core.Map.Type.html#vm_fvar"><span class="hs-identifier hs-var">vm_fvar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. TrieMap m =&gt; (a -&gt; Bool) -&gt; m a -&gt; m a
</span><a href="GHC.Data.TrieMap.html#filterTM"><span class="hs-identifier hs-var">filterTM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621681031550"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">DVarEnv a
</span><a href="#local-6989586621681031548"><span class="hs-identifier hs-var">fv</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-557"></span><span>
</span><span id="line-558"></span><span class="hs-comment">-------------------------------------------------</span><span>
</span><span id="line-559"></span><span id="local-6989586621681032587"><span id="local-6989586621681032588"><span class="annot"><a href="GHC.Core.Map.Type.html#lkDNamed"><span class="hs-identifier hs-type">lkDNamed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#NamedThing"><span class="hs-identifier hs-type">NamedThing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032588"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032588"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html#DNameEnv"><span class="hs-identifier hs-type">DNameEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032587"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032587"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-560"></span><span id="lkDNamed"><span class="annot"><span class="annottext">lkDNamed :: forall n a. NamedThing n =&gt; n -&gt; DNameEnv a -&gt; Maybe a
</span><a href="GHC.Core.Map.Type.html#lkDNamed"><span class="hs-identifier hs-var hs-var">lkDNamed</span></a></span></span><span> </span><span id="local-6989586621681031545"><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621681031545"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681031544"><span class="annot"><span class="annottext">DNameEnv a
</span><a href="#local-6989586621681031544"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DNameEnv a -&gt; Name -&gt; Maybe a
</span><a href="GHC.Types.Name.Env.html#lookupDNameEnv"><span class="hs-identifier hs-var">lookupDNameEnv</span></a></span><span> </span><span class="annot"><span class="annottext">DNameEnv a
</span><a href="#local-6989586621681031544"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621681031545"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-561"></span><span>
</span><span id="line-562"></span><span id="local-6989586621681032573"><span id="local-6989586621681032574"><span class="annot"><a href="GHC.Core.Map.Type.html#xtDNamed"><span class="hs-identifier hs-type">xtDNamed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#NamedThing"><span class="hs-identifier hs-type">NamedThing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032574"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681032574"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.TrieMap.html#XT"><span class="hs-identifier hs-type">XT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032573"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html#DNameEnv"><span class="hs-identifier hs-type">DNameEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032573"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html#DNameEnv"><span class="hs-identifier hs-type">DNameEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681032573"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-563"></span><span id="xtDNamed"><span class="annot"><span class="annottext">xtDNamed :: forall n a. NamedThing n =&gt; n -&gt; XT a -&gt; DNameEnv a -&gt; DNameEnv a
</span><a href="GHC.Core.Map.Type.html#xtDNamed"><span class="hs-identifier hs-var hs-var">xtDNamed</span></a></span></span><span> </span><span id="local-6989586621681031539"><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621681031539"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621681031538"><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031538"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681031537"><span class="annot"><span class="annottext">DNameEnv a
</span><a href="#local-6989586621681031537"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (Maybe a -&gt; Maybe a) -&gt; DNameEnv a -&gt; Name -&gt; DNameEnv a
</span><a href="GHC.Types.Name.Env.html#alterDNameEnv"><span class="hs-identifier hs-var">alterDNameEnv</span></a></span><span> </span><span class="annot"><span class="annottext">XT a
</span><a href="#local-6989586621681031538"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">DNameEnv a
</span><a href="#local-6989586621681031537"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621681031539"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-564"></span></pre></body></html>