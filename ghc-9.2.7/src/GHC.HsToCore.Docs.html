<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Extract docs from the renamer output so they can be serialized.</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-record-updates #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.HsToCore.Docs</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html"><span class="hs-identifier">GHC.Data.Bag</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html"><span class="hs-identifier">GHC.Hs.Binds</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html"><span class="hs-identifier">GHC.Hs.Doc</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html"><span class="hs-identifier">GHC.Hs.Decls</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html"><span class="hs-identifier">Language.Haskell.Syntax.Extension</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html"><span class="hs-identifier">GHC.Hs.Extension</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html"><span class="hs-identifier">GHC.Hs.Type</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html"><span class="hs-identifier">GHC.Hs.Utils</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html"><span class="hs-identifier">GHC.Types.Name.Set</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html"><span class="hs-identifier">GHC.Tc.Types</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html"><span class="hs-identifier">GHC.Parser.Annotation</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Control-Applicative.html#"><span class="hs-identifier">Control.Applicative</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Control-Monad-IO-Class.html#"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Bifunctor.html#"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Bifunctor.html#first"><span class="hs-identifier">first</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap.html#"><span class="hs-identifier">Data.IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier">IntMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap.html#"><span class="hs-identifier">Data.IntMap</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IM</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map.html#"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map.html#"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Maybe.html#"><span class="hs-identifier">Data.Maybe</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Semigroup.html#"><span class="hs-identifier">Data.Semigroup</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-IORef.html#"><span class="hs-identifier">GHC.IORef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-IORef.html#readIORef"><span class="hs-identifier">readIORef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-comment">-- | Extract docs from renamer output.</span><span>
</span><span id="line-42"></span><span class="hs-comment">-- This is monadic since we need to be able to read documentation added from</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- Template Haskell's @putDoc@, which is stored in 'tcg_th_docs'.</span><span>
</span><span id="line-44"></span><span id="local-6989586621681187615"><span class="annot"><a href="GHC.HsToCore.Docs.html#extractDocs"><span class="hs-identifier hs-type">extractDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Control-Monad-IO-Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187615"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-45"></span><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcGblEnv"><span class="hs-identifier hs-type">TcGblEnv</span></a></span><span>
</span><span id="line-46"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681187615"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#DeclDocMap"><span class="hs-identifier hs-type">DeclDocMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#ArgDocMap"><span class="hs-identifier hs-type">ArgDocMap</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-47"></span><span>            </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-48"></span><span>            </span><span class="hs-comment">-- 1. Module header</span><span>
</span><span id="line-49"></span><span>            </span><span class="hs-comment">-- 2. Docs on top level declarations</span><span>
</span><span id="line-50"></span><span>            </span><span class="hs-comment">-- 3. Docs on arguments</span><span>
</span><span id="line-51"></span><span id="extractDocs"><span class="annot"><span class="annottext">extractDocs :: forall (m :: * -&gt; *).
MonadIO m =&gt;
TcGblEnv -&gt; m (Maybe HsDocString, DeclDocMap, ArgDocMap)
</span><a href="GHC.HsToCore.Docs.html#extractDocs"><span class="hs-identifier hs-var hs-var">extractDocs</span></a></span></span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcGblEnv"><span class="hs-identifier hs-type">TcGblEnv</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcg_semantic_mod :: TcGblEnv -&gt; Module
</span><a href="GHC.Tc.Types.html#tcg_semantic_mod"><span class="hs-identifier hs-var">tcg_semantic_mod</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681187217"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681187217"><span class="hs-identifier hs-var">mod</span></a></span></span><span>
</span><span id="line-52"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_rn_decls :: TcGblEnv -&gt; Maybe (HsGroup (GhcPass 'Renamed))
</span><a href="GHC.Tc.Types.html#tcg_rn_decls"><span class="hs-identifier hs-var">tcg_rn_decls</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681187215"><span class="annot"><span class="annottext">Maybe (HsGroup (GhcPass 'Renamed))
</span><a href="#local-6989586621681187215"><span class="hs-identifier hs-var">mb_rn_decls</span></a></span></span><span>
</span><span id="line-53"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_insts :: TcGblEnv -&gt; [ClsInst]
</span><a href="GHC.Tc.Types.html#tcg_insts"><span class="hs-identifier hs-var">tcg_insts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681187213"><span class="annot"><span class="annottext">[ClsInst]
</span><a href="#local-6989586621681187213"><span class="hs-identifier hs-var">insts</span></a></span></span><span>
</span><span id="line-54"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_fam_insts :: TcGblEnv -&gt; [FamInst]
</span><a href="GHC.Tc.Types.html#tcg_fam_insts"><span class="hs-identifier hs-var">tcg_fam_insts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681187211"><span class="annot"><span class="annottext">[FamInst]
</span><a href="#local-6989586621681187211"><span class="hs-identifier hs-var">fam_insts</span></a></span></span><span>
</span><span id="line-55"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_doc_hdr :: TcGblEnv -&gt; Maybe LHsDocString
</span><a href="GHC.Tc.Types.html#tcg_doc_hdr"><span class="hs-identifier hs-var">tcg_doc_hdr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681187209"><span class="annot"><span class="annottext">Maybe LHsDocString
</span><a href="#local-6989586621681187209"><span class="hs-identifier hs-var">mb_doc_hdr</span></a></span></span><span>
</span><span id="line-56"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_th_docs :: TcGblEnv -&gt; TcRef THDocs
</span><a href="GHC.Tc.Types.html#tcg_th_docs"><span class="hs-identifier hs-var">tcg_th_docs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681187207"><span class="annot"><span class="annottext">TcRef THDocs
</span><a href="#local-6989586621681187207"><span class="hs-identifier hs-var">th_docs_var</span></a></span></span><span>
</span><span id="line-57"></span><span>                     </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-58"></span><span>    </span><span id="local-6989586621681187206"><span class="annot"><span class="annottext">THDocs
</span><a href="#local-6989586621681187206"><span class="hs-identifier hs-var">th_docs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../base-4.16.4.0/src/Control-Monad-IO-Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. IORef a -&gt; IO a
</span><a href="../../base-4.16.4.0/src/GHC-IORef.html#readIORef"><span class="hs-identifier hs-var">readIORef</span></a></span><span> </span><span class="annot"><span class="annottext">TcRef THDocs
</span><a href="#local-6989586621681187207"><span class="hs-identifier hs-var">th_docs_var</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681187204"><span class="annot"><span class="annottext">doc_hdr :: Maybe HsDocString
</span><a href="#local-6989586621681187204"><span class="hs-identifier hs-var hs-var">doc_hdr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe HsDocString
</span><a href="#local-6989586621681187203"><span class="hs-identifier hs-var">th_doc_hdr</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%7C%3E"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe LHsDocString
</span><a href="#local-6989586621681187209"><span class="hs-identifier hs-var">mb_doc_hdr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>        </span><span class="annot"><a href="GHC.Hs.Doc.html#ExtractedTHDocs"><span class="hs-identifier hs-type">ExtractedTHDocs</span></a></span><span>
</span><span id="line-61"></span><span>          </span><span id="local-6989586621681187203"><span class="annot"><span class="annottext">Maybe HsDocString
</span><a href="#local-6989586621681187203"><span class="hs-identifier hs-var">th_doc_hdr</span></a></span></span><span>
</span><span id="line-62"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#DeclDocMap"><span class="hs-identifier hs-type">DeclDocMap</span></a></span><span> </span><span id="local-6989586621681187197"><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681187197"><span class="hs-identifier hs-var">th_doc_map</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#ArgDocMap"><span class="hs-identifier hs-type">ArgDocMap</span></a></span><span> </span><span id="local-6989586621681187195"><span class="annot"><span class="annottext">Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681187195"><span class="hs-identifier hs-var">th_arg_map</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#DeclDocMap"><span class="hs-identifier hs-type">DeclDocMap</span></a></span><span> </span><span id="local-6989586621681187194"><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681187194"><span class="hs-identifier hs-var">th_inst_map</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">THDocs -&gt; ExtractedTHDocs
</span><a href="GHC.HsToCore.Docs.html#extractTHDocs"><span class="hs-identifier hs-var">extractTHDocs</span></a></span><span> </span><span class="annot"><span class="annottext">THDocs
</span><a href="#local-6989586621681187206"><span class="hs-identifier hs-var">th_docs</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-66"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Maybe HsDocString
</span><a href="#local-6989586621681187204"><span class="hs-identifier hs-var">doc_hdr</span></a></span><span>
</span><span id="line-67"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map Name HsDocString -&gt; DeclDocMap
</span><a href="GHC.Hs.Doc.html#DeclDocMap"><span class="hs-identifier hs-var">DeclDocMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681187197"><span class="hs-identifier hs-var">th_doc_map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681187194"><span class="hs-identifier hs-var">th_inst_map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681187192"><span class="hs-identifier hs-var">doc_map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map Name (IntMap HsDocString) -&gt; ArgDocMap
</span><a href="GHC.Hs.Doc.html#ArgDocMap"><span class="hs-identifier hs-var">ArgDocMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681187195"><span class="hs-identifier hs-var">th_arg_map</span></a></span><span> </span><span class="annot"><span class="annottext">forall b.
Map Name (IntMap b) -&gt; Map Name (IntMap b) -&gt; Map Name (IntMap b)
</span><a href="GHC.HsToCore.Docs.html#unionArgMaps"><span class="hs-operator hs-var">`unionArgMaps`</span></a></span><span> </span><span class="annot"><span class="annottext">Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681187190"><span class="hs-identifier hs-var">arg_map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681187192"><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681187192"><span class="hs-identifier hs-var">doc_map</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187190"><span class="annot"><span class="annottext">Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681187190"><span class="hs-identifier hs-var">arg_map</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k a. Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDocString])]
-&gt; (Map Name HsDocString, Map Name (IntMap HsDocString))
</span><a href="GHC.HsToCore.Docs.html#mkMaps"><span class="hs-identifier hs-var">mkMaps</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681187186"><span class="hs-identifier hs-var">local_insts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>                               </span><span class="annot"><span class="annottext">Maybe
  [(GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed)),
    [HsDocString])]
</span><a href="#local-6989586621681187185"><span class="hs-identifier hs-var">mb_decls_with_docs</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span id="local-6989586621681187185"><span class="annot"><span class="annottext">mb_decls_with_docs :: Maybe
  [(GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed)),
    [HsDocString])]
</span><a href="#local-6989586621681187185"><span class="hs-identifier hs-var hs-var">mb_decls_with_docs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDocString])]
</span><a href="GHC.HsToCore.Docs.html#topDecls"><span class="hs-identifier hs-var">topDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (HsGroup (GhcPass 'Renamed))
</span><a href="#local-6989586621681187215"><span class="hs-identifier hs-var">mb_rn_decls</span></a></span><span>
</span><span id="line-75"></span><span>    </span><span id="local-6989586621681187186"><span class="annot"><span class="annottext">local_insts :: [Name]
</span><a href="#local-6989586621681187186"><span class="hs-identifier hs-var hs-var">local_insts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; Name -&gt; Bool
</span><a href="GHC.Types.Name.html#nameIsLocalOrFrom"><span class="hs-identifier hs-var">nameIsLocalOrFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681187217"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>                         </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">[ClsInst]
</span><a href="#local-6989586621681187213"><span class="hs-identifier hs-var">insts</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">[FamInst]
</span><a href="#local-6989586621681187211"><span class="hs-identifier hs-var">fam_insts</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- | Create decl and arg doc-maps by looping through the declarations.</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- For each declaration, find its names, its subordinates, and its doc strings.</span><span>
</span><span id="line-80"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#mkMaps"><span class="hs-identifier hs-type">mkMaps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-81"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-82"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span id="mkMaps"><span class="annot"><span class="annottext">mkMaps :: [Name]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDocString])]
-&gt; (Map Name HsDocString, Map Name (IntMap HsDocString))
</span><a href="GHC.HsToCore.Docs.html#mkMaps"><span class="hs-identifier hs-var hs-var">mkMaps</span></a></span></span><span> </span><span id="local-6989586621681187180"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681187180"><span class="hs-identifier hs-var">instances</span></a></span></span><span> </span><span id="local-6989586621681187179"><span class="annot"><span class="annottext">[(LHsDecl (GhcPass 'Renamed), [HsDocString])]
</span><a href="#local-6989586621681187179"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [[(a, HsDocString)]] -&gt; Map a HsDocString
</span><a href="#local-6989586621681187178"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (a -&gt; Name) -&gt; [a] -&gt; [a]
</span><a href="GHC.HsToCore.Docs.html#nubByName"><span class="hs-identifier hs-var">nubByName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../../base-4.16.4.0/src/Data-Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[[(Name, HsDocString)]]
</span><a href="#local-6989586621681187176"><span class="hs-identifier hs-var">decls'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a b. (Ord a, Semigroup b) =&gt; [[(a, b)]] -&gt; Map a b
</span><a href="#local-6989586621681187175"><span class="hs-identifier hs-var">f</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b a. (b -&gt; Bool) -&gt; [[(a, b)]] -&gt; [[(a, b)]]
</span><a href="#local-6989586621681187174"><span class="hs-identifier hs-var">filterMapping</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. IntMap a -&gt; Bool
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#null"><span class="hs-identifier hs-var">IM.null</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[[(Name, IntMap HsDocString)]]
</span><a href="#local-6989586621681187170"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681187176"><span class="annot"><span class="annottext">[[(Name, HsDocString)]]
</span><a href="#local-6989586621681187176"><span class="hs-identifier hs-var">decls'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187170"><span class="annot"><span class="annottext">[[(Name, IntMap HsDocString)]]
</span><a href="#local-6989586621681187170"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="../../base-4.16.4.0/src/GHC-List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsDecl (GhcPass 'Renamed), [HsDocString])
-&gt; ([(Name, HsDocString)], [(Name, IntMap HsDocString)])
</span><a href="#local-6989586621681187168"><span class="hs-identifier hs-var">mappings</span></a></span><span> </span><span class="annot"><span class="annottext">[(LHsDecl (GhcPass 'Renamed), [HsDocString])]
</span><a href="#local-6989586621681187179"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621681187564"><span id="local-6989586621681187565"><span class="annot"><a href="#local-6989586621681187175"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681187565"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187564"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681187565"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681187564"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187565"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187564"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-91"></span><span>    </span><span id="local-6989586621681187175"><span class="annot"><span class="annottext">f :: forall a b. (Ord a, Semigroup b) =&gt; [[(a, b)]] -&gt; Map a b
</span><a href="#local-6989586621681187175"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#fromListWith"><span class="hs-identifier hs-var">M.fromListWith</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span>    </span><span id="local-6989586621681187569"><span class="annot"><a href="#local-6989586621681187178"><span class="hs-identifier hs-type">f'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681187569"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681187569"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187569"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span></span><span>
</span><span id="line-94"></span><span>    </span><span id="local-6989586621681187178"><span class="annot"><span class="annottext">f' :: forall a. Ord a =&gt; [[(a, HsDocString)]] -&gt; Map a HsDocString
</span><a href="#local-6989586621681187178"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#fromListWith"><span class="hs-identifier hs-var">M.fromListWith</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocString -&gt; HsDocString -&gt; HsDocString
</span><a href="GHC.Hs.Doc.html#appendDocs"><span class="hs-identifier hs-var">appendDocs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span>    </span><span id="local-6989586621681187562"><span id="local-6989586621681187563"><span class="annot"><a href="#local-6989586621681187174"><span class="hs-identifier hs-type">filterMapping</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681187563"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681187562"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681187563"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681187562"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681187563"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-97"></span><span>    </span><span id="local-6989586621681187174"><span class="annot"><span class="annottext">filterMapping :: forall b a. (b -&gt; Bool) -&gt; [[(a, b)]] -&gt; [[(a, b)]]
</span><a href="#local-6989586621681187174"><span class="hs-identifier hs-var hs-var">filterMapping</span></a></span></span><span> </span><span id="local-6989586621681187156"><span class="annot"><span class="annottext">b -&gt; Bool
</span><a href="#local-6989586621681187156"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Bool
</span><a href="#local-6989586621681187156"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><a href="#local-6989586621681187168"><span class="hs-identifier hs-type">mappings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-101"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-102"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>    </span><span id="local-6989586621681187168"><span class="annot"><span class="annottext">mappings :: (LHsDecl (GhcPass 'Renamed), [HsDocString])
-&gt; ([(Name, HsDocString)], [(Name, IntMap HsDocString)])
</span><a href="#local-6989586621681187168"><span class="hs-identifier hs-var hs-var">mappings</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-type">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621681187152"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681187152"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681187151"><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187151"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187150"><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681187150"><span class="hs-identifier hs-var">docStrs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-104"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Name, HsDocString)]
</span><a href="#local-6989586621681187149"><span class="hs-identifier hs-var">dm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(Name, IntMap HsDocString)]
</span><a href="#local-6989586621681187148"><span class="hs-identifier hs-var">am</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-106"></span><span>        </span><span id="local-6989586621681187147"><span class="annot"><span class="annottext">doc :: Maybe HsDocString
</span><a href="#local-6989586621681187147"><span class="hs-identifier hs-var hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[HsDocString] -&gt; Maybe HsDocString
</span><a href="GHC.Hs.Doc.html#concatDocs"><span class="hs-identifier hs-var">concatDocs</span></a></span><span> </span><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681187150"><span class="hs-identifier hs-var">docStrs</span></a></span><span>
</span><span id="line-107"></span><span>        </span><span id="local-6989586621681187145"><span class="annot"><span class="annottext">args :: IntMap HsDocString
</span><a href="#local-6989586621681187145"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#declTypeDocs"><span class="hs-identifier hs-var">declTypeDocs</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187151"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span>        </span><span class="annot"><a href="#local-6989586621681187143"><span class="hs-identifier hs-type">subs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-110"></span><span>        </span><span id="local-6989586621681187143"><span class="annot"><span class="annottext">subs :: [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187143"><span class="hs-identifier hs-var hs-var">subs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
-&gt; HsDecl (GhcPass 'Renamed)
-&gt; [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="GHC.HsToCore.Docs.html#subordinates"><span class="hs-identifier hs-var">subordinates</span></a></span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621681187141"><span class="hs-identifier hs-var">instanceMap</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187151"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681187140"><span class="annot"><span class="annottext">[Maybe HsDocString]
</span><a href="#local-6989586621681187140"><span class="hs-identifier hs-var">subDocs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187139"><span class="annot"><span class="annottext">[IntMap HsDocString]
</span><a href="#local-6989586621681187139"><span class="hs-identifier hs-var">subArgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-113"></span><span>          </span><span class="annot"><span class="annottext">forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="../../base-4.16.4.0/src/GHC-List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187138"><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681187138"><span class="hs-identifier hs-var">strs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187137"><span class="annot"><span class="annottext">IntMap HsDocString
</span><a href="#local-6989586621681187137"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[HsDocString] -&gt; Maybe HsDocString
</span><a href="GHC.Hs.Doc.html#concatDocs"><span class="hs-identifier hs-var">concatDocs</span></a></span><span> </span><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681187138"><span class="hs-identifier hs-var">strs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IntMap HsDocString
</span><a href="#local-6989586621681187137"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187143"><span class="hs-identifier hs-var">subs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span>        </span><span id="local-6989586621681187136"><span class="annot"><span class="annottext">ns :: [Name]
</span><a href="#local-6989586621681187136"><span class="hs-identifier hs-var hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; HsDecl (GhcPass 'Renamed) -&gt; [Name]
</span><a href="#local-6989586621681187135"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681187152"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187151"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-116"></span><span>        </span><span id="local-6989586621681187134"><span class="annot"><span class="annottext">subNs :: [Name]
</span><a href="#local-6989586621681187134"><span class="hs-identifier hs-var hs-var">subNs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187133"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681187133"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187133"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsDocString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IntMap HsDocString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187143"><span class="hs-identifier hs-var">subs</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-117"></span><span>        </span><span id="local-6989586621681187149"><span class="annot"><span class="annottext">dm :: [(Name, HsDocString)]
</span><a href="#local-6989586621681187149"><span class="hs-identifier hs-var hs-var">dm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187132"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681187131"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681187132"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187132"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681187131"><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681187131"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681187136"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe HsDocString
</span><a href="#local-6989586621681187147"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681187134"><span class="hs-identifier hs-var">subNs</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe HsDocString]
</span><a href="#local-6989586621681187140"><span class="hs-identifier hs-var">subDocs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-118"></span><span>        </span><span id="local-6989586621681187148"><span class="annot"><span class="annottext">am :: [(Name, IntMap HsDocString)]
</span><a href="#local-6989586621681187148"><span class="hs-identifier hs-var hs-var">am</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187129"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IntMap HsDocString
</span><a href="#local-6989586621681187145"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681187129"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187129"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681187136"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681187134"><span class="hs-identifier hs-var">subNs</span></a></span><span> </span><span class="annot"><span class="annottext">[IntMap HsDocString]
</span><a href="#local-6989586621681187139"><span class="hs-identifier hs-var">subArgs</span></a></span><span>
</span><span id="line-119"></span><span>    </span><span class="annot"><a href="#local-6989586621681187168"><span class="hs-identifier hs-var">mappings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-type">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#UnhelpfulSpan"><span class="hs-identifier hs-type">UnhelpfulSpan</span></a></span><span> </span><span class="annot"><span class="annottext">UnhelpfulSpanReason
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsDocString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span>    </span><span class="annot"><a href="#local-6989586621681187141"><span class="hs-identifier hs-type">instanceMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-122"></span><span>    </span><span id="local-6989586621681187141"><span class="annot"><span class="annottext">instanceMap :: Map RealSrcSpan Name
</span><a href="#local-6989586621681187141"><span class="hs-identifier hs-var hs-var">instanceMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681187126"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187125"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681187125"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187125"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681187180"><span class="hs-identifier hs-var">instances</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621681187126"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681187126"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Types.Name.html#getSrcSpan"><span class="hs-identifier hs-var">getSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187125"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><a href="#local-6989586621681187135"><span class="hs-identifier hs-type">names</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-125"></span><span>    </span><span id="local-6989586621681187135"><span class="annot"><span class="annottext">names :: RealSrcSpan -&gt; HsDecl (GhcPass 'Renamed) -&gt; [Name]
</span><a href="#local-6989586621681187135"><span class="hs-identifier hs-var hs-var">names</span></a></span></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">XInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187122"><span class="annot"><span class="annottext">InstDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187122"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#maybeToList"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; Map RealSrcSpan a -&gt; Maybe a
</span><a href="GHC.Types.SrcLoc.html#lookupSrcSpan"><span class="hs-identifier hs-var">lookupSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN) =&gt;
InstDecl (GhcPass p) -&gt; SrcSpan
</span><a href="GHC.HsToCore.Docs.html#getInstLoc"><span class="hs-identifier hs-var">getInstLoc</span></a></span><span> </span><span class="annot"><span class="annottext">InstDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187122"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621681187141"><span class="hs-identifier hs-var">instanceMap</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span class="annot"><a href="#local-6989586621681187135"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span id="local-6989586621681187118"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681187118"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DerivD"><span class="hs-identifier hs-type">DerivD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#maybeToList"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681187118"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621681187141"><span class="hs-identifier hs-var">instanceMap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- See Note [1].</span><span>
</span><span id="line-127"></span><span>    </span><span class="annot"><a href="#local-6989586621681187135"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187115"><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187115"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN, CollectPass (GhcPass p)) =&gt;
HsDecl (GhcPass p) -&gt; [IdP (GhcPass p)]
</span><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187115"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">{-
Note [1]:
---------
We relate ClsInsts to InstDecls and DerivDecls using the SrcSpans buried
inside them. That should work for normal user-written instances (from
looking at GHC sources). We can assume that commented instances are
user-written. This lets us relate Names (from ClsInsts) to comments
(associated with InstDecls and DerivDecls).
-}</span><span>
</span><span id="line-138"></span><span id="local-6989586621681187525"><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-type">getMainDeclBinder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#IdGhcP"><span class="hs-identifier hs-type">IdGhcP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187525"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnN"><span class="hs-identifier hs-type">SrcSpanAnnN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#CollectPass"><span class="hs-identifier hs-type">CollectPass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187525"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187525"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187525"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-140"></span><span id="getMainDeclBinder"><span class="annot"><span class="annottext">getMainDeclBinder :: forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN, CollectPass (GhcPass p)) =&gt;
HsDecl (GhcPass p) -&gt; [IdP (GhcPass p)]
</span><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var hs-var">getMainDeclBinder</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187103"><span class="annot"><span class="annottext">TyClDecl (GhcPass p)
</span><a href="#local-6989586621681187103"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN) =&gt;
TyClDecl (GhcPass p) -&gt; IdP (GhcPass p)
</span><a href="GHC.Hs.Decls.html#tcdName"><span class="hs-identifier hs-var">tcdName</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass p)
</span><a href="#local-6989586621681187103"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-141"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187100"><span class="annot"><span class="annottext">HsBind (GhcPass p)
</span><a href="#local-6989586621681187100"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall p idR.
CollectPass p =&gt;
CollectFlag p -&gt; HsBindLR p idR -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectHsBindBinders"><span class="hs-identifier hs-var">collectHsBindBinders</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsBind (GhcPass p)
</span><a href="#local-6989586621681187100"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681187097"><span class="annot"><span class="annottext">IdP (GhcPass p)
</span><a href="#local-6989586621681187097"><span class="hs-identifier hs-var">name</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[IdP (GhcPass p)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass p)
</span><a href="#local-6989586621681187097"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-145"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span> </span><span class="annot"><span class="annottext">XSigD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187095"><span class="annot"><span class="annottext">Sig (GhcPass p)
</span><a href="#local-6989586621681187095"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall pass. UnXRec pass =&gt; Sig pass -&gt; [IdP pass]
</span><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Sig (GhcPass p)
</span><a href="#local-6989586621681187095"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-146"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-type">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">XForD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span> </span><span class="annot"><span class="annottext">XForeignImport (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187091"><span class="annot"><span class="annottext">LIdP (GhcPass p)
</span><a href="#local-6989586621681187091"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP (GhcPass p)
</span><a href="#local-6989586621681187091"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-147"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-type">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">XForD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a></span><span> </span><span class="annot"><span class="annottext">XForeignExport (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIdP (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ForeignExport
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-148"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-type">sigNameNoLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681187509"><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#UnXRec"><span class="hs-identifier hs-type">UnXRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-152"></span><span id="sigNameNoLoc"><span class="annot"><span class="annottext">sigNameNoLoc :: forall pass. UnXRec pass =&gt; Sig pass -&gt; [IdP pass]
</span><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var hs-var">sigNameNoLoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span>    </span><span class="annot"><span class="annottext">XTypeSig pass
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621681187081"><span class="annot"><span class="annottext">[LIdP pass]
</span><a href="#local-6989586621681187081"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType pass
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP pass]
</span><a href="#local-6989586621681187081"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-153"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187078"><span class="annot"><span class="annottext">[LIdP pass]
</span><a href="#local-6989586621681187078"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigType pass
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP pass]
</span><a href="#local-6989586621681187078"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-154"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span>  </span><span class="annot"><span class="annottext">XPatSynSig pass
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621681187076"><span class="annot"><span class="annottext">[LIdP pass]
</span><a href="#local-6989586621681187076"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigType pass
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP pass]
</span><a href="#local-6989586621681187076"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-155"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-type">SpecSig</span></a></span><span>    </span><span class="annot"><span class="annottext">XSpecSig pass
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621681187074"><span class="annot"><span class="annottext">LIdP pass
</span><a href="#local-6989586621681187074"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">[LHsSigType pass]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP pass
</span><a href="#local-6989586621681187074"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span>  </span><span class="annot"><span class="annottext">XInlineSig pass
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621681187072"><span class="annot"><span class="annottext">LIdP pass
</span><a href="#local-6989586621681187072"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP pass
</span><a href="#local-6989586621681187072"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-157"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixSig pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixitySig pass
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187069"><span class="annot"><span class="annottext">[LIdP pass]
</span><a href="#local-6989586621681187069"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187509"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP pass]
</span><a href="#local-6989586621681187069"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-158"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Sig pass
</span><span class="hs-identifier">_</span></span><span>                             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">-- Extract the source location where an instance is defined. This is used</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- to correlate InstDecls with their Instance/CoAxiom Names, via the</span><span>
</span><span id="line-162"></span><span class="hs-comment">-- instanceMap.</span><span>
</span><span id="line-163"></span><span id="local-6989586621681187528"><span class="annot"><a href="GHC.HsToCore.Docs.html#getInstLoc"><span class="hs-identifier hs-type">getInstLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#IdGhcP"><span class="hs-identifier hs-type">IdGhcP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187528"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnN"><span class="hs-identifier hs-type">SrcSpanAnnN</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstDecl"><span class="hs-identifier hs-type">InstDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187528"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span></span><span>
</span><span id="line-164"></span><span id="getInstLoc"><span class="annot"><span class="annottext">getInstLoc :: forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN) =&gt;
InstDecl (GhcPass p) -&gt; SrcSpan
</span><a href="GHC.HsToCore.Docs.html#getInstLoc"><span class="hs-identifier hs-var hs-var">getInstLoc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-165"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstD"><span class="hs-identifier hs-type">ClsInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XClsInstD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstDecl"><span class="hs-identifier hs-type">ClsInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cid_poly_ty :: forall pass. ClsInstDecl pass -&gt; LHsSigType pass
</span><a href="Language.Haskell.Syntax.Decls.html#cid_poly_ty"><span class="hs-identifier hs-var">cid_poly_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681187063"><span class="annot"><span class="annottext">LHsSigType (GhcPass p)
</span><a href="#local-6989586621681187063"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass p)
</span><a href="#local-6989586621681187063"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-comment">-- The Names of data and type family instances have their SrcSpan's attached</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-comment">-- to the *type constructor*. For example, the Name &quot;D:R:Foo:Int&quot; would have</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-comment">-- its SrcSpan attached here:</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-comment">--   type family Foo a</span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-comment">--   type instance Foo Int = Bool</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-comment">--                 ^^^</span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-type">DataFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XDataFamInstD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dfid_eqn :: forall pass. DataFamInstDecl pass -&gt; FamEqn pass (HsDataDefn pass)
</span><a href="Language.Haskell.Syntax.Decls.html#dfid_eqn"><span class="hs-identifier hs-var">dfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: forall pass rhs. FamEqn pass rhs -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681187056"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681187056"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">IdGhcP p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681187056"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-comment">-- Since CoAxioms' Names refer to the whole line for type family instances</span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-comment">-- in particular, we need to dig a bit deeper to pull out the entire</span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-comment">-- equation. This does not happen for data family instances, for some reason.</span><span>
</span><span id="line-177"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstD"><span class="hs-identifier hs-type">TyFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyFamInstD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tfid_eqn :: forall pass. TyFamInstDecl pass -&gt; TyFamInstEqn pass
</span><a href="Language.Haskell.Syntax.Decls.html#tfid_eqn"><span class="hs-identifier hs-var">tfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: forall pass rhs. FamEqn pass rhs -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681187051"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681187051"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">IdGhcP p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681187051"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">-- | Get all subordinate declarations inside a declaration, and their docs.</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- A subordinate declaration is something like the associate type or data</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- family of a type class.</span><span>
</span><span id="line-183"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#subordinates"><span class="hs-identifier hs-type">subordinates</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-184"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-185"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-186"></span><span id="subordinates"><span class="annot"><span class="annottext">subordinates :: Map RealSrcSpan Name
-&gt; HsDecl (GhcPass 'Renamed)
-&gt; [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="GHC.HsToCore.Docs.html#subordinates"><span class="hs-identifier hs-var hs-var">subordinates</span></a></span></span><span> </span><span id="local-6989586621681187050"><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621681187050"><span class="hs-identifier hs-var">instMap</span></a></span></span><span> </span><span id="local-6989586621681187049"><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187049"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187049"><span class="hs-identifier hs-var">decl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">XInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstD"><span class="hs-identifier hs-type">ClsInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XClsInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187048"><span class="annot"><span class="annottext">ClsInstDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187048"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-188"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dfid_eqn :: forall pass. DataFamInstDecl pass -&gt; FamEqn pass (HsDataDefn pass)
</span><a href="Language.Haskell.Syntax.Decls.html#dfid_eqn"><span class="hs-identifier hs-var">dfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: forall pass rhs. FamEqn pass rhs -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681187047"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681187047"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-190"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_rhs :: forall pass rhs. FamEqn pass rhs -&gt; rhs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681187045"><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
</span><a href="#local-6989586621681187045"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. ClsInstDecl pass -&gt; [LDataFamInstDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#cid_datafam_insts"><span class="hs-identifier hs-var">cid_datafam_insts</span></a></span><span> </span><span class="annot"><span class="annottext">ClsInstDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187048"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187043"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681187043"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187043"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; Map RealSrcSpan a -&gt; Maybe a
</span><a href="GHC.Types.SrcLoc.html#lookupSrcSpan"><span class="hs-identifier hs-var">lookupSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681187047"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621681187050"><span class="hs-identifier hs-var">instMap</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
-&gt; [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187041"><span class="hs-identifier hs-var">dataSubs</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
</span><a href="#local-6989586621681187045"><span class="hs-identifier hs-var">defn</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">XInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-type">DataFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XDataFamInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span> </span><span id="local-6989586621681187040"><span class="annot"><span class="annottext">FamEqn (GhcPass 'Renamed) (HsDataDefn (GhcPass 'Renamed))
</span><a href="#local-6989586621681187040"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
-&gt; [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187041"><span class="hs-identifier hs-var">dataSubs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass rhs. FamEqn pass rhs -&gt; rhs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span> </span><span class="annot"><span class="annottext">FamEqn (GhcPass 'Renamed) (HsDataDefn (GhcPass 'Renamed))
</span><a href="#local-6989586621681187040"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187039"><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187039"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall pass. TyClDecl pass -&gt; Bool
</span><a href="Language.Haskell.Syntax.Decls.html#isClassDecl"><span class="hs-identifier hs-var">isClassDecl</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187039"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
-&gt; [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187037"><span class="hs-identifier hs-var">classSubs</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187039"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-196"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall pass. TyClDecl pass -&gt; Bool
</span><a href="Language.Haskell.Syntax.Decls.html#isDataDecl"><span class="hs-identifier hs-var">isDataDecl</span></a></span><span>  </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187039"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
-&gt; [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187041"><span class="hs-identifier hs-var">dataSubs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. TyClDecl pass -&gt; HsDataDefn pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDataDefn"><span class="hs-identifier hs-var">tcdDataDefn</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187039"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>  </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-199"></span><span>    </span><span id="local-6989586621681187037"><span class="annot"><span class="annottext">classSubs :: TyClDecl (GhcPass 'Renamed)
-&gt; [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187037"><span class="hs-identifier hs-var hs-var">classSubs</span></a></span></span><span> </span><span id="local-6989586621681187030"><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187030"><span class="hs-identifier hs-var">dd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187029"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681187028"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#declTypeDocs"><span class="hs-identifier hs-var">declTypeDocs</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187027"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187027"><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187027"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187028"><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681187028"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDocString])]
</span><a href="GHC.HsToCore.Docs.html#classDecls"><span class="hs-identifier hs-var">classDecls</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187030"><span class="hs-identifier hs-var">dd</span></a></span><span>
</span><span id="line-201"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187029"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187029"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN, CollectPass (GhcPass p)) =&gt;
HsDecl (GhcPass p) -&gt; [IdP (GhcPass p)]
</span><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187027"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HsDecl a -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isValD"><span class="hs-identifier hs-var">isValD</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187027"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>                   </span><span class="hs-special">]</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><a href="#local-6989586621681187041"><span class="hs-identifier hs-type">dataSubs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-204"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621681187041"><span class="annot"><span class="annottext">dataSubs :: HsDataDefn (GhcPass 'Renamed)
-&gt; [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187041"><span class="hs-identifier hs-var hs-var">dataSubs</span></a></span></span><span> </span><span id="local-6989586621681187024"><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
</span><a href="#local-6989586621681187024"><span class="hs-identifier hs-var">dd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187023"><span class="hs-identifier hs-var">constrs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187022"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187021"><span class="hs-identifier hs-var">derivs</span></a></span><span>
</span><span id="line-206"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-207"></span><span>        </span><span id="local-6989586621681187020"><span class="annot"><span class="annottext">cons :: [ConDecl (GhcPass 'Renamed)]
</span><a href="#local-6989586621681187020"><span class="hs-identifier hs-var hs-var">cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. HsDataDefn pass -&gt; [LConDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
</span><a href="#local-6989586621681187024"><span class="hs-identifier hs-var">dd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>        </span><span id="local-6989586621681187023"><span class="annot"><span class="annottext">constrs :: [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187023"><span class="hs-identifier hs-var hs-var">constrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681187018"><span class="hs-identifier hs-var">cname</span></a></span><span>
</span><span id="line-209"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#maybeToList"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. ConDecl pass -&gt; Maybe LHsDocString
</span><a href="Language.Haskell.Syntax.Decls.html#con_doc"><span class="hs-identifier hs-var">con_doc</span></a></span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187016"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-210"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#conArgDocs"><span class="hs-identifier hs-var">conArgDocs</span></a></span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187016"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681187016"><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187016"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ConDecl (GhcPass 'Renamed)]
</span><a href="#local-6989586621681187020"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187018"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681187018"><span class="hs-identifier hs-var">cname</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed) -&gt; [GenLocated SrcSpanAnnN Name]
</span><a href="GHC.Hs.Decls.html#getConNames"><span class="hs-identifier hs-var">getConNames</span></a></span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681187016"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-212"></span><span>        </span><span id="local-6989586621681187022"><span class="annot"><span class="annottext">fields :: [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187022"><span class="hs-identifier hs-var hs-var">fields</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. FieldOcc pass -&gt; XCFieldOcc pass
</span><a href="Language.Haskell.Syntax.Type.html#extFieldOcc"><span class="hs-identifier hs-var">extFieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">FieldOcc (GhcPass 'Renamed)
</span><a href="#local-6989586621681187012"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#maybeToList"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe LHsDocString
</span><a href="#local-6989586621681187011"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681187010"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnL
  [GenLocated SrcSpanAnnA (ConDeclField (GhcPass 'Renamed))]
</span><a href="#local-6989586621681187010"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
-&gt; Maybe (LocatedL [LConDeclField (GhcPass 'Renamed)])
</span><a href="GHC.Hs.Decls.html#getRecConArgs_maybe"><span class="hs-identifier hs-var">getRecConArgs_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">[ConDecl (GhcPass 'Renamed)]
</span><a href="#local-6989586621681187020"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-214"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a></span><span> </span><span class="annot"><span class="annottext">XConDeclField (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187007"><span class="annot"><span class="annottext">[LFieldOcc (GhcPass 'Renamed)]
</span><a href="#local-6989586621681187007"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187011"><span class="annot"><span class="annottext">Maybe LHsDocString
</span><a href="#local-6989586621681187011"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnL
  [GenLocated SrcSpanAnnA (ConDeclField (GhcPass 'Renamed))]
</span><a href="#local-6989586621681187010"><span class="hs-identifier hs-var">flds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681187012"><span class="annot"><span class="annottext">FieldOcc (GhcPass 'Renamed)
</span><a href="#local-6989586621681187012"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LFieldOcc (GhcPass 'Renamed)]
</span><a href="#local-6989586621681187007"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-216"></span><span>        </span><span id="local-6989586621681187021"><span class="annot"><span class="annottext">derivs :: [(Name, [HsDocString], IntMap HsDocString)]
</span><a href="#local-6989586621681187021"><span class="hs-identifier hs-var hs-var">derivs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187006"><span class="hs-identifier hs-var">instName</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681187005"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681187004"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681187004"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681187005"><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681187005"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LDerivClauseTys (GhcPass 'Renamed) -&gt; [(SrcSpan, LHsDocString)]
</span><a href="#local-6989586621681187002"><span class="hs-identifier hs-var">extract_deriv_clause_tys</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-218"></span><span>                                           </span><span class="annot"><span class="annottext">forall pass. HsDerivingClause pass -&gt; LDerivClauseTys pass
</span><a href="Language.Haskell.Syntax.Decls.html#deriv_clause_tys"><span class="hs-identifier hs-var">deriv_clause_tys</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-219"></span><span>                                </span><span class="hs-comment">-- unLoc $ dd_derivs dd</span><span>
</span><span id="line-220"></span><span>                                </span><span class="annot"><span class="annottext">forall pass. HsDataDefn pass -&gt; HsDeriving pass
</span><a href="Language.Haskell.Syntax.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
</span><a href="#local-6989586621681187024"><span class="hs-identifier hs-var">dd</span></a></span><span>
</span><span id="line-221"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681187006"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681187006"><span class="hs-identifier hs-var">instName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; Map RealSrcSpan a -&gt; Maybe a
</span><a href="GHC.Types.SrcLoc.html#lookupSrcSpan"><span class="hs-identifier hs-var">lookupSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681187004"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621681187050"><span class="hs-identifier hs-var">instMap</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><a href="#local-6989586621681187002"><span class="hs-identifier hs-type">extract_deriv_clause_tys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDerivClauseTys"><span class="hs-identifier hs-type">LDerivClauseTys</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#LHsDocString"><span class="hs-identifier hs-type">LHsDocString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-224"></span><span>        </span><span id="local-6989586621681187002"><span class="annot"><span class="annottext">extract_deriv_clause_tys :: LDerivClauseTys (GhcPass 'Renamed) -&gt; [(SrcSpan, LHsDocString)]
</span><a href="#local-6989586621681187002"><span class="hs-identifier hs-var hs-var">extract_deriv_clause_tys</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnC
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186999"><span class="annot"><span class="annottext">DerivClauseTys (GhcPass 'Renamed)
</span><a href="#local-6989586621681186999"><span class="hs-identifier hs-var">dct</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-225"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DerivClauseTys (GhcPass 'Renamed)
</span><a href="#local-6989586621681186999"><span class="hs-identifier hs-var">dct</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-226"></span><span>            </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DctSingle"><span class="hs-identifier hs-type">DctSingle</span></a></span><span> </span><span class="annot"><span class="annottext">XDctSingle (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186997"><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186997"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#maybeToList"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed) -&gt; Maybe (SrcSpan, LHsDocString)
</span><a href="#local-6989586621681186996"><span class="hs-identifier hs-var">extract_deriv_ty</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186997"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-227"></span><span>            </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DctMulti"><span class="hs-identifier hs-type">DctMulti</span></a></span><span> </span><span class="annot"><span class="annottext">XDctMulti (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186994"><span class="annot"><span class="annottext">[LHsSigType (GhcPass 'Renamed)]
</span><a href="#local-6989586621681186994"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed) -&gt; Maybe (SrcSpan, LHsDocString)
</span><a href="#local-6989586621681186996"><span class="hs-identifier hs-var">extract_deriv_ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsSigType (GhcPass 'Renamed)]
</span><a href="#local-6989586621681186994"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span>        </span><span class="annot"><a href="#local-6989586621681186996"><span class="hs-identifier hs-type">extract_deriv_ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#LHsDocString"><span class="hs-identifier hs-type">LHsDocString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>        </span><span id="local-6989586621681186996"><span class="annot"><span class="annottext">extract_deriv_ty :: LHsSigType (GhcPass 'Renamed) -&gt; Maybe (SrcSpan, LHsDocString)
</span><a href="#local-6989586621681186996"><span class="hs-identifier hs-var hs-var">extract_deriv_ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681186992"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681186992"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSig"><span class="hs-identifier hs-type">HsSig</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">sig_body :: forall pass. HsSigType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_body"><span class="hs-identifier hs-var">sig_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186989"><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186989"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-231"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186989"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-232"></span><span>            </span><span class="hs-comment">-- deriving (C a {- ^ Doc comment -})</span><span>
</span><span id="line-233"></span><span>            </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186987"><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186987"><span class="hs-identifier hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681186992"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186987"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>            </span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-comment">-- | Extract constructor argument docs from inside constructor decls.</span><span>
</span><span id="line-237"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#conArgDocs"><span class="hs-identifier hs-type">conArgDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span>
</span><span id="line-238"></span><span id="conArgDocs"><span class="annot"><span class="annottext">conArgDocs :: ConDecl (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#conArgDocs"><span class="hs-identifier hs-var hs-var">conArgDocs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclH98"><span class="hs-identifier hs-type">ConDeclH98</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">con_args :: forall pass. ConDecl pass -&gt; HsConDeclH98Details pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_args"><span class="hs-identifier hs-var">con_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681186984"><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed)
</span><a href="#local-6989586621681186984"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-239"></span><span>  </span><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#h98ConArgDocs"><span class="hs-identifier hs-var">h98ConArgDocs</span></a></span><span> </span><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed)
</span><a href="#local-6989586621681186984"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-240"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#conArgDocs"><span class="hs-identifier hs-var">conArgDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclGADT"><span class="hs-identifier hs-type">ConDeclGADT</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">con_g_args :: forall pass. ConDecl pass -&gt; HsConDeclGADTDetails pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_g_args"><span class="hs-identifier hs-var">con_g_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681186980"><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
</span><a href="#local-6989586621681186980"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_res_ty :: forall pass. ConDecl pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_res_ty"><span class="hs-identifier hs-var">con_res_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681186978"><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621681186978"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
-&gt; HsType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#gadtConArgDocs"><span class="hs-identifier hs-var">gadtConArgDocs</span></a></span><span> </span><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
</span><a href="#local-6989586621681186980"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621681186978"><span class="hs-identifier hs-var">res_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#h98ConArgDocs"><span class="hs-identifier hs-type">h98ConArgDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclH98Details"><span class="hs-identifier hs-type">HsConDeclH98Details</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span>
</span><span id="line-244"></span><span id="h98ConArgDocs"><span class="annot"><span class="annottext">h98ConArgDocs :: HsConDeclH98Details (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#h98ConArgDocs"><span class="hs-identifier hs-var hs-var">h98ConArgDocs</span></a></span></span><span> </span><span id="local-6989586621681186976"><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed)
</span><a href="#local-6989586621681186976"><span class="hs-identifier hs-var">con_args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed)
</span><a href="#local-6989586621681186976"><span class="hs-identifier hs-var">con_args</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-245"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186974"><span class="annot"><span class="annottext">[HsScaled
   (GhcPass 'Renamed)
   (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))]
</span><a href="#local-6989586621681186974"><span class="hs-identifier hs-var">args</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var">con_arg_docs</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HsScaled
   (GhcPass 'Renamed)
   (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))]
</span><a href="#local-6989586621681186974"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-246"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621681186970"><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))
</span><a href="#local-6989586621681186970"><span class="hs-identifier hs-var">arg1</span></a></span></span><span> </span><span id="local-6989586621681186969"><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))
</span><a href="#local-6989586621681186969"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var">con_arg_docs</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span> </span><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))
</span><a href="#local-6989586621681186970"><span class="hs-identifier hs-var">arg1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span> </span><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))
</span><a href="#local-6989586621681186969"><span class="hs-identifier hs-var">arg2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-248"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) [LConDeclField (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#gadtConArgDocs"><span class="hs-identifier hs-type">gadtConArgDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclGADTDetails"><span class="hs-identifier hs-type">HsConDeclGADTDetails</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span>
</span><span id="line-251"></span><span id="gadtConArgDocs"><span class="annot"><span class="annottext">gadtConArgDocs :: HsConDeclGADTDetails (GhcPass 'Renamed)
-&gt; HsType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#gadtConArgDocs"><span class="hs-identifier hs-var hs-var">gadtConArgDocs</span></a></span></span><span> </span><span id="local-6989586621681186967"><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
</span><a href="#local-6989586621681186967"><span class="hs-identifier hs-var">con_args</span></a></span></span><span> </span><span id="local-6989586621681186966"><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186966"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
</span><a href="#local-6989586621681186967"><span class="hs-identifier hs-var">con_args</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-252"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#PrefixConGADT"><span class="hs-identifier hs-type">PrefixConGADT</span></a></span><span> </span><span id="local-6989586621681186964"><span class="annot"><span class="annottext">[HsScaled
   (GhcPass 'Renamed)
   (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))]
</span><a href="#local-6989586621681186964"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var">con_arg_docs</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HsScaled
   (GhcPass 'Renamed)
   (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))]
</span><a href="#local-6989586621681186964"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186966"><span class="hs-identifier hs-var">res_ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-253"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RecConGADT"><span class="hs-identifier hs-type">RecConGADT</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) [LConDeclField (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var">con_arg_docs</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186966"><span class="hs-identifier hs-var">res_ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-type">con_arg_docs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span>
</span><span id="line-256"></span><span id="con_arg_docs"><span class="annot"><span class="annottext">con_arg_docs :: Key -&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var hs-var">con_arg_docs</span></a></span></span><span> </span><span id="local-6989586621681186962"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186962"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [(Key, a)] -&gt; IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#fromList"><span class="hs-identifier hs-var">IM.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#zipWith"><span class="hs-identifier hs-var">zipWith</span></a></span><span> </span><span class="annot"><span class="annottext">forall {pass} {l} {a}.
(XRec pass (HsType pass) ~ GenLocated l (HsType pass)) =&gt;
a -&gt; HsType pass -&gt; Maybe (a, HsDocString)
</span><a href="#local-6989586621681186958"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186962"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-257"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-258"></span><span>    </span><span id="local-6989586621681186958"><span class="annot"><span class="annottext">f :: a -&gt; HsType pass -&gt; Maybe (a, HsDocString)
</span><a href="#local-6989586621681186958"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681186955"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681186955"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186954"><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186954"><span class="hs-identifier hs-var">lds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681186955"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186954"><span class="hs-identifier hs-var">lds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><a href="#local-6989586621681186958"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span id="local-6989586621681186953"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681186953"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-type">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsSrcBang
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186951"><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186951"><span class="hs-identifier hs-var">lds</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681186953"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186951"><span class="hs-identifier hs-var">lds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><a href="#local-6989586621681186958"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsType pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span id="local-6989586621681187459"><span class="annot"><a href="GHC.HsToCore.Docs.html#isValD"><span class="hs-identifier hs-type">isValD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-263"></span><span id="isValD"><span class="annot"><span class="annottext">isValD :: forall a. HsDecl a -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isValD"><span class="hs-identifier hs-var hs-var">isValD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsBind a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-264"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#isValD"><span class="hs-identifier hs-var">isValD</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | All the sub declarations of a class (that we handle), ordered by</span><span>
</span><span id="line-267"></span><span class="hs-comment">-- source location, with documentation attached if it exists.</span><span>
</span><span id="line-268"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#classDecls"><span class="hs-identifier hs-type">classDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-269"></span><span id="classDecls"><span class="annot"><span class="annottext">classDecls :: TyClDecl (GhcPass 'Renamed)
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDocString])]
</span><a href="GHC.HsToCore.Docs.html#classDecls"><span class="hs-identifier hs-var hs-var">classDecls</span></a></span></span><span> </span><span id="local-6989586621681186950"><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681186950"><span class="hs-identifier hs-var">class_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p doc. UnXRec p =&gt; [(LHsDecl p, doc)] -&gt; [(LHsDecl p, doc)]
</span><a href="GHC.HsToCore.Docs.html#filterDecls"><span class="hs-identifier hs-var">filterDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. UnXRec p =&gt; [LHsDecl p] -&gt; [(LHsDecl p, [HsDocString])]
</span><a href="GHC.HsToCore.Docs.html#collectDocs"><span class="hs-identifier hs-var">collectDocs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a e.
[GenLocated (SrcSpanAnn' a) e] -&gt; [GenLocated (SrcSpanAnn' a) e]
</span><a href="GHC.Parser.Annotation.html#sortLocatedA"><span class="hs-identifier hs-var">sortLocatedA</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186946"><span class="hs-identifier hs-var">decls</span></a></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-271"></span><span>    </span><span id="local-6989586621681186946"><span class="annot"><span class="annottext">decls :: [GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186946"><span class="hs-identifier hs-var hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186945"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186944"><span class="hs-identifier hs-var">defs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186943"><span class="hs-identifier hs-var">sigs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186942"><span class="hs-identifier hs-var">ats</span></a></span><span>
</span><span id="line-272"></span><span>    </span><span id="local-6989586621681186945"><span class="annot"><span class="annottext">docs :: [GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186945"><span class="hs-identifier hs-var hs-var">docs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. TyClDecl pass -&gt; [LDocDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDocs"><span class="hs-identifier hs-var">tcdDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XDocD p -&gt; DocDecl -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-var">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681186950"><span class="hs-identifier hs-var">class_</span></a></span><span>
</span><span id="line-273"></span><span>    </span><span id="local-6989586621681186944"><span class="annot"><span class="annottext">defs :: [GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186944"><span class="hs-identifier hs-var hs-var">defs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Bag a -&gt; [a]
</span><a href="GHC.Data.Bag.html#bagToList"><span class="hs-identifier hs-var">bagToList</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. TyClDecl pass -&gt; LHsBinds pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdMeths"><span class="hs-identifier hs-var">tcdMeths</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XValD p -&gt; HsBind p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-var">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681186950"><span class="hs-identifier hs-var">class_</span></a></span><span>
</span><span id="line-274"></span><span>    </span><span id="local-6989586621681186943"><span class="annot"><span class="annottext">sigs :: [GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186943"><span class="hs-identifier hs-var hs-var">sigs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. TyClDecl pass -&gt; [LSig pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XSigD p -&gt; Sig p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-var">SigD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681186950"><span class="hs-identifier hs-var">class_</span></a></span><span>
</span><span id="line-275"></span><span>    </span><span id="local-6989586621681186942"><span class="annot"><span class="annottext">ats :: [GenLocated SrcSpanAnnA (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186942"><span class="hs-identifier hs-var hs-var">ats</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. TyClDecl pass -&gt; [LFamilyDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdATs"><span class="hs-identifier hs-var">tcdATs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. XFamDecl pass -&gt; FamilyDecl pass -&gt; TyClDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621681186950"><span class="hs-identifier hs-var">class_</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="hs-comment">-- | Extract function argument docs from inside top-level decls.</span><span>
</span><span id="line-278"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#declTypeDocs"><span class="hs-identifier hs-type">declTypeDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span id="declTypeDocs"><span class="annot"><span class="annottext">declTypeDocs :: HsDecl (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#declTypeDocs"><span class="hs-identifier hs-var hs-var">declTypeDocs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span>  </span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeSig (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186932"><span class="annot"><span class="annottext">LHsSigWcType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186932"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsSigType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var">sigTypeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. LHsSigWcType pass -&gt; LHsSigType pass
</span><a href="GHC.Hs.Type.html#dropWildCards"><span class="hs-identifier hs-var">dropWildCards</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186932"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span>  </span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186929"><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186929"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsSigType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var">sigTypeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186929"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span>  </span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynSig (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186928"><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186928"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsSigType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var">sigTypeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186928"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-type">ForD</span></a></span><span>  </span><span class="annot"><span class="annottext">XForD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span> </span><span class="annot"><span class="annottext">XForeignImport (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIdP (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186927"><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186927"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsSigType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var">sigTypeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621681186927"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SynDecl"><span class="hs-identifier hs-type">SynDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdRhs :: forall pass. TyClDecl pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdRhs"><span class="hs-identifier hs-var">tcdRhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681186924"><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621681186924"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#typeDocs"><span class="hs-identifier hs-var">typeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621681186924"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span>                                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span id="local-6989586621681187568"><span class="annot"><a href="GHC.HsToCore.Docs.html#nubByName"><span class="hs-identifier hs-type">nubByName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681187568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681187568"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681187568"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-288"></span><span id="nubByName"><span class="annot"><span class="annottext">nubByName :: forall a. (a -&gt; Name) -&gt; [a] -&gt; [a]
</span><a href="GHC.HsToCore.Docs.html#nubByName"><span class="hs-identifier hs-var hs-var">nubByName</span></a></span></span><span> </span><span id="local-6989586621681186922"><span class="annot"><span class="annottext">a -&gt; Name
</span><a href="#local-6989586621681186922"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681186921"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681186921"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621681186920"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681186921"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621681186920"><span class="annot"><span class="annottext">go :: NameSet -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621681186920"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><a href="#local-6989586621681186920"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681186918"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681186918"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681186917"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681186917"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681186916"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681186916"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681186915"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NameSet -&gt; Bool
</span><a href="GHC.Types.Name.Set.html#elemNameSet"><span class="hs-operator hs-var">`elemNameSet`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681186918"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621681186920"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681186918"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681186916"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-293"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681186913"><span class="annot"><span class="annottext">s' :: NameSet
</span><a href="#local-6989586621681186913"><span class="hs-identifier hs-var hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; Name -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#extendNameSet"><span class="hs-identifier hs-var">extendNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681186918"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681186915"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-294"></span><span>                            </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681186917"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621681186920"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681186913"><span class="hs-identifier hs-var">s'</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681186916"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-295"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-296"></span><span>        </span><span id="local-6989586621681186915"><span class="annot"><span class="annottext">y :: Name
</span><a href="#local-6989586621681186915"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Name
</span><a href="#local-6989586621681186922"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681186917"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="hs-comment">-- | Extract function argument docs from inside types.</span><span>
</span><span id="line-299"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#typeDocs"><span class="hs-identifier hs-type">typeDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span>
</span><span id="line-300"></span><span id="typeDocs"><span class="annot"><span class="annottext">typeDocs :: HsType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#typeDocs"><span class="hs-identifier hs-var hs-var">typeDocs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {pass} {l}.
(XRec pass (HsType pass) ~ GenLocated l (HsType pass)) =&gt;
Key -&gt; HsType pass -&gt; IntMap HsDocString
</span><a href="#local-6989586621681186911"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">0</span></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-302"></span><span>    </span><span id="local-6989586621681186911"><span class="annot"><span class="annottext">go :: Key -&gt; HsType pass -&gt; IntMap HsDocString
</span><a href="#local-6989586621681186911"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621681186903"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186903"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-303"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllTy"><span class="hs-identifier hs-type">HsForAllTy</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hst_body :: forall pass. HsType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#hst_body"><span class="hs-identifier hs-var">hst_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681186900"><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621681186900"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">}</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsType pass -&gt; IntMap HsDocString
</span><a href="#local-6989586621681186911"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186903"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621681186900"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsQualTy"><span class="hs-identifier hs-type">HsQualTy</span></a></span><span>   </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hst_body :: forall pass. HsType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#hst_body"><span class="hs-identifier hs-var">hst_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681186898"><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621681186898"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">}</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsType pass -&gt; IntMap HsDocString
</span><a href="#local-6989586621681186911"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186903"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621681186898"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsArrow pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186896"><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186896"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681186895"><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621681186895"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Key -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#insert"><span class="hs-identifier hs-var">IM.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186903"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186896"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsType pass -&gt; IntMap HsDocString
</span><a href="#local-6989586621681186911"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186903"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621681186895"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsArrow pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186892"><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621681186892"><span class="hs-identifier hs-var">ty</span></a></span></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsType pass -&gt; IntMap HsDocString
</span><a href="#local-6989586621681186911"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186903"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621681186892"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186891"><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186891"><span class="hs-identifier hs-var">doc</span></a></span></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Key -&gt; a -&gt; IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#singleton"><span class="hs-identifier hs-var">IM.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186903"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDocString
</span><a href="#local-6989586621681186891"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>      </span><span class="annot"><span class="annottext">HsType pass
</span><span class="hs-identifier">_</span></span><span>                                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span class="hs-comment">-- | Extract function argument docs from inside types.</span><span>
</span><span id="line-311"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-type">sigTypeDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSigType"><span class="hs-identifier hs-type">HsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span>
</span><span id="line-312"></span><span id="sigTypeDocs"><span class="annot"><span class="annottext">sigTypeDocs :: HsSigType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var hs-var">sigTypeDocs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSig"><span class="hs-identifier hs-type">HsSig</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">sig_body :: forall pass. HsSigType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_body"><span class="hs-identifier hs-var">sig_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681186889"><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621681186889"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed) -&gt; IntMap HsDocString
</span><a href="GHC.HsToCore.Docs.html#typeDocs"><span class="hs-identifier hs-var">typeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621681186889"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="hs-comment">-- | The top-level declarations of a module that we care about,</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- ordered by source location, with documentation attached if it exists.</span><span>
</span><span id="line-316"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#topDecls"><span class="hs-identifier hs-type">topDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-317"></span><span id="topDecls"><span class="annot"><span class="annottext">topDecls :: HsGroup (GhcPass 'Renamed)
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDocString])]
</span><a href="GHC.HsToCore.Docs.html#topDecls"><span class="hs-identifier hs-var hs-var">topDecls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass) doc.
IsPass p =&gt;
[(LHsDecl (GhcPass p), doc)] -&gt; [(LHsDecl (GhcPass p), doc)]
</span><a href="GHC.HsToCore.Docs.html#filterClasses"><span class="hs-identifier hs-var">filterClasses</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall p doc. UnXRec p =&gt; [(LHsDecl p, doc)] -&gt; [(LHsDecl p, doc)]
</span><a href="GHC.HsToCore.Docs.html#filterDecls"><span class="hs-identifier hs-var">filterDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. UnXRec p =&gt; [LHsDecl p] -&gt; [(LHsDecl p, [HsDocString])]
</span><a href="GHC.HsToCore.Docs.html#collectDocs"><span class="hs-identifier hs-var">collectDocs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a e.
[GenLocated (SrcSpanAnn' a) e] -&gt; [GenLocated (SrcSpanAnn' a) e]
</span><a href="GHC.Parser.Annotation.html#sortLocatedA"><span class="hs-identifier hs-var">sortLocatedA</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [LHsDecl (GhcPass 'Renamed)]
</span><a href="GHC.HsToCore.Docs.html#ungroup"><span class="hs-identifier hs-var">ungroup</span></a></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="hs-comment">-- | Take all declarations except pragmas, infix decls, rules from an 'HsGroup'.</span><span>
</span><span id="line-320"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#ungroup"><span class="hs-identifier hs-type">ungroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-321"></span><span id="ungroup"><span class="annot"><span class="annottext">ungroup :: HsGroup (GhcPass 'Renamed) -&gt; [LHsDecl (GhcPass 'Renamed)]
</span><a href="GHC.HsToCore.Docs.html#ungroup"><span class="hs-identifier hs-var hs-var">ungroup</span></a></span></span><span> </span><span id="local-6989586621681186886"><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621681186886"><span class="hs-identifier hs-var">group_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-322"></span><span>  </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. [TyClGroup pass] -&gt; [LTyClDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tyClGroupTyClDecls"><span class="hs-identifier hs-var">tyClGroupTyClDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsGroup p -&gt; [TyClGroup p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_tyclds"><span class="hs-identifier hs-var">hs_tyclds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621681186886"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-323"></span><span>  </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsGroup p -&gt; [LDerivDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_derivds"><span class="hs-identifier hs-var">hs_derivds</span></a></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XDerivD p -&gt; DerivDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#DerivD"><span class="hs-identifier hs-var">DerivD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621681186886"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-324"></span><span>  </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsGroup p -&gt; [LDefaultDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_defds"><span class="hs-identifier hs-var">hs_defds</span></a></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XDefD p -&gt; DefaultDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#DefD"><span class="hs-identifier hs-var">DefD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621681186886"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-325"></span><span>  </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsGroup p -&gt; [LForeignDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_fords"><span class="hs-identifier hs-var">hs_fords</span></a></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XForD p -&gt; ForeignDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-var">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621681186886"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-326"></span><span>  </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsGroup p -&gt; [LDocDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_docs"><span class="hs-identifier hs-var">hs_docs</span></a></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XDocD p -&gt; DocDecl -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-var">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621681186886"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-327"></span><span>  </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. [TyClGroup pass] -&gt; [LInstDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tyClGroupInstDecls"><span class="hs-identifier hs-var">tyClGroupInstDecls</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsGroup p -&gt; [TyClGroup p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_tyclds"><span class="hs-identifier hs-var">hs_tyclds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XInstD p -&gt; InstDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-var">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621681186886"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-328"></span><span>  </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsValBinds (GhcPass 'Renamed) -&gt; [LSig (GhcPass 'Renamed)]
</span><a href="#local-6989586621681186877"><span class="hs-identifier hs-var">typesigs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsGroup p -&gt; HsValBinds p
</span><a href="Language.Haskell.Syntax.Decls.html#hs_valds"><span class="hs-identifier hs-var">hs_valds</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XSigD p -&gt; Sig p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-var">SigD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621681186886"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-329"></span><span>  </span><span class="annot"><span class="annottext">forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsValBinds (GhcPass 'Renamed) -&gt; [LHsBind (GhcPass 'Renamed)]
</span><a href="#local-6989586621681186875"><span class="hs-identifier hs-var">valbinds</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsGroup p -&gt; HsValBinds p
</span><a href="Language.Haskell.Syntax.Decls.html#hs_valds"><span class="hs-identifier hs-var">hs_valds</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XValD p -&gt; HsBind p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-var">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621681186886"><span class="hs-identifier hs-var">group_</span></a></span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><a href="#local-6989586621681186877"><span class="hs-identifier hs-type">typesigs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-332"></span><span>    </span><span id="local-6989586621681186877"><span class="annot"><span class="annottext">typesigs :: HsValBinds (GhcPass 'Renamed) -&gt; [LSig (GhcPass 'Renamed)]
</span><a href="#local-6989586621681186877"><span class="hs-identifier hs-var hs-var">typesigs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-type">XValBindsLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-type">NValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">[(RecFlag, LHsBinds (GhcPass 'Renamed))]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186872"><span class="annot"><span class="annottext">[LSig (GhcPass 'Renamed)]
</span><a href="#local-6989586621681186872"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall name. Sig name -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LSig (GhcPass 'Renamed)]
</span><a href="#local-6989586621681186872"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-333"></span><span>    </span><span class="annot"><a href="#local-6989586621681186877"><span class="hs-identifier hs-var">typesigs</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;expected XValBindsLR&quot;</span></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span>    </span><span class="annot"><a href="#local-6989586621681186875"><span class="hs-identifier hs-type">valbinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-336"></span><span>    </span><span id="local-6989586621681186875"><span class="annot"><span class="annottext">valbinds :: HsValBinds (GhcPass 'Renamed) -&gt; [LHsBind (GhcPass 'Renamed)]
</span><a href="#local-6989586621681186875"><span class="hs-identifier hs-var hs-var">valbinds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-type">XValBindsLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-type">NValBinds</span></a></span><span> </span><span id="local-6989586621681186868"><span class="annot"><span class="annottext">[(RecFlag, LHsBinds (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186868"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span class="annot"><span class="annottext">[LSig (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-337"></span><span>      </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Bag a -&gt; [a]
</span><a href="GHC.Data.Bag.html#bagToList"><span class="hs-identifier hs-var">bagToList</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="../../base-4.16.4.0/src/GHC-List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(RecFlag, LHsBinds (GhcPass 'Renamed))]
</span><a href="#local-6989586621681186868"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-338"></span><span>    </span><span class="annot"><a href="#local-6989586621681186875"><span class="hs-identifier hs-var">valbinds</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;expected XValBindsLR&quot;</span></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="hs-comment">-- | Collect docs and attach them to the right declarations.</span><span>
</span><span id="line-341"></span><span class="hs-comment">--</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- A declaration may have multiple doc strings attached to it.</span><span>
</span><span id="line-343"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#collectDocs"><span class="hs-identifier hs-type">collectDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681187403"><span class="annot"><a href="#local-6989586621681187403"><span class="hs-identifier hs-type">p</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#UnXRec"><span class="hs-identifier hs-type">UnXRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187403"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187403"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187403"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- ^ This is an example.</span><span>
</span><span id="line-345"></span><span id="collectDocs"><span class="annot"><span class="annottext">collectDocs :: forall p. UnXRec p =&gt; [LHsDecl p] -&gt; [(LHsDecl p, [HsDocString])]
</span><a href="GHC.HsToCore.Docs.html#collectDocs"><span class="hs-identifier hs-var hs-var">collectDocs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[HsDocString]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [HsDocString])]
</span><a href="#local-6989586621681186863"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-347"></span><span>    </span><span id="local-6989586621681186863"><span class="annot"><span class="annottext">go :: [HsDocString]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [HsDocString])]
</span><a href="#local-6989586621681186863"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621681186862"><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681186862"><span class="hs-identifier hs-var">docs</span></a></span></span><span> </span><span id="local-6989586621681186861"><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="#local-6989586621681186861"><span class="hs-identifier hs-var">mprev</span></a></span></span><span> </span><span id="local-6989586621681186860"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186860"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186860"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="#local-6989586621681186861"><span class="hs-identifier hs-var">mprev</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-348"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187403"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">XDocD p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocCommentNext"><span class="hs-identifier hs-type">DocCommentNext</span></a></span><span> </span><span id="local-6989586621681186858"><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681186858"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681186857"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186857"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[HsDocString]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [HsDocString])]
</span><a href="#local-6989586621681186863"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681186858"><span class="hs-identifier hs-var">s</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681186862"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186857"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-349"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187403"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">XDocD p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocCommentNext"><span class="hs-identifier hs-type">DocCommentNext</span></a></span><span> </span><span id="local-6989586621681186856"><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681186856"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681186855"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186855"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681186854"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186854"><span class="hs-identifier hs-var">prev</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {a}. a -&gt; [a] -&gt; [(a, [a])] -&gt; [(a, [a])]
</span><a href="#local-6989586621681186853"><span class="hs-identifier hs-var">finished</span></a></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186854"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681186862"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[HsDocString]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [HsDocString])]
</span><a href="#local-6989586621681186863"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681186856"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186855"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-350"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187403"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">XDocD p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocCommentPrev"><span class="hs-identifier hs-type">DocCommentPrev</span></a></span><span> </span><span id="local-6989586621681186851"><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681186851"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681186850"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186850"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681186849"><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="#local-6989586621681186849"><span class="hs-identifier hs-var">mprev</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[HsDocString]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [HsDocString])]
</span><a href="#local-6989586621681186863"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681186851"><span class="hs-identifier hs-var">s</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681186862"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="#local-6989586621681186849"><span class="hs-identifier hs-var">mprev</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186850"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-351"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681186848"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186848"><span class="hs-identifier hs-var">d</span></a></span></span><span>                                  </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681186847"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186847"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[HsDocString]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [HsDocString])]
</span><a href="#local-6989586621681186863"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681186862"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186848"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186847"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-352"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681186846"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186846"><span class="hs-identifier hs-var">d</span></a></span></span><span>                                  </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681186845"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186845"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681186844"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186844"><span class="hs-identifier hs-var">prev</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {a}. a -&gt; [a] -&gt; [(a, [a])] -&gt; [(a, [a])]
</span><a href="#local-6989586621681186853"><span class="hs-identifier hs-var">finished</span></a></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186844"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681186862"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[HsDocString]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [HsDocString])]
</span><a href="#local-6989586621681186863"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186846"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621681186845"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-353"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-354"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681186843"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186843"><span class="hs-identifier hs-var">prev</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {a}. a -&gt; [a] -&gt; [(a, [a])] -&gt; [(a, [a])]
</span><a href="#local-6989586621681186853"><span class="hs-identifier hs-var">finished</span></a></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621681186843"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">[HsDocString]
</span><a href="#local-6989586621681186862"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span>    </span><span id="local-6989586621681186853"><span class="annot"><span class="annottext">finished :: a -&gt; [a] -&gt; [(a, [a])] -&gt; [(a, [a])]
</span><a href="#local-6989586621681186853"><span class="hs-identifier hs-var hs-var">finished</span></a></span></span><span> </span><span id="local-6989586621681186842"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681186842"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span id="local-6989586621681186841"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681186841"><span class="hs-identifier hs-var">docs</span></a></span></span><span> </span><span id="local-6989586621681186840"><span class="annot"><span class="annottext">[(a, [a])]
</span><a href="#local-6989586621681186840"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681186842"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681186841"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(a, [a])]
</span><a href="#local-6989586621681186840"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="hs-comment">-- | Filter out declarations that we don't handle in Haddock</span><span>
</span><span id="line-359"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#filterDecls"><span class="hs-identifier hs-type">filterDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681187405"><span class="annot"><a href="#local-6989586621681187405"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621681187404"><span class="annot"><a href="#local-6989586621681187404"><span class="hs-identifier hs-type">doc</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#UnXRec"><span class="hs-identifier hs-type">UnXRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187405"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187405"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681187404"><span class="hs-identifier hs-type">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187405"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681187404"><span class="hs-identifier hs-type">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-360"></span><span id="filterDecls"><span class="annot"><span class="annottext">filterDecls :: forall p doc. UnXRec p =&gt; [(LHsDecl p, doc)] -&gt; [(LHsDecl p, doc)]
</span><a href="GHC.HsToCore.Docs.html#filterDecls"><span class="hs-identifier hs-var hs-var">filterDecls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HsDecl a -&gt; Bool
</span><a href="#local-6989586621681186836"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681187405"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../../base-4.16.4.0/src/Data-Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-362"></span><span>    </span><span id="local-6989586621681186836"><span class="annot"><span class="annottext">isHandled :: HsDecl name -&gt; Bool
</span><a href="#local-6989586621681186836"><span class="hs-identifier hs-var hs-var">isHandled</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-type">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">XForD name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-363"></span><span>    </span><span class="annot"><a href="#local-6989586621681186836"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-364"></span><span>    </span><span class="annot"><a href="#local-6989586621681186836"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-365"></span><span>    </span><span class="annot"><a href="#local-6989586621681186836"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DerivD"><span class="hs-identifier hs-type">DerivD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-366"></span><span>    </span><span class="annot"><a href="#local-6989586621681186836"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span> </span><span class="annot"><span class="annottext">XSigD name
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186835"><span class="annot"><span class="annottext">Sig name
</span><a href="#local-6989586621681186835"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall name. Sig name -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><span class="annottext">Sig name
</span><a href="#local-6989586621681186835"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-367"></span><span>    </span><span class="annot"><a href="#local-6989586621681186836"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-368"></span><span>    </span><span class="hs-comment">-- we keep doc declarations to be able to get at named docs</span><span>
</span><span id="line-369"></span><span>    </span><span class="annot"><a href="#local-6989586621681186836"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-370"></span><span>    </span><span class="annot"><a href="#local-6989586621681186836"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="hs-comment">-- | Go through all class declarations and filter their sub-declarations</span><span>
</span><span id="line-374"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#filterClasses"><span class="hs-identifier hs-type">filterClasses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681187367"><span class="annot"><a href="#local-6989586621681187367"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621681187366"><span class="annot"><a href="#local-6989586621681187366"><span class="hs-identifier hs-type">doc</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#IsPass"><span class="hs-identifier hs-type">IsPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187367"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187367"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681187366"><span class="hs-identifier hs-type">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187367"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681187366"><span class="hs-identifier hs-type">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-375"></span><span id="filterClasses"><span class="annot"><span class="annottext">filterClasses :: forall (p :: Pass) doc.
IsPass p =&gt;
[(LHsDecl (GhcPass p), doc)] -&gt; [(LHsDecl (GhcPass p), doc)]
</span><a href="GHC.HsToCore.Docs.html#filterClasses"><span class="hs-identifier hs-var hs-var">filterClasses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../base-4.16.4.0/src/Data-Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b l. (a -&gt; b) -&gt; GenLocated l a -&gt; GenLocated l b
</span><a href="GHC.Types.SrcLoc.html#mapLoc"><span class="hs-identifier hs-var">mapLoc</span></a></span><span> </span><span class="annot"><span class="annottext">forall {p} {l}.
(XRec p (Sig p) ~ XRec p (Sig p),
 XRec p (Sig p) ~ GenLocated l (Sig p), UnXRec p) =&gt;
HsDecl p -&gt; HsDecl p
</span><a href="#local-6989586621681186825"><span class="hs-identifier hs-var">filterClass</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-377"></span><span>    </span><span id="local-6989586621681186825"><span class="annot"><span class="annottext">filterClass :: HsDecl p -&gt; HsDecl p
</span><a href="#local-6989586621681186825"><span class="hs-identifier hs-var hs-var">filterClass</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span id="local-6989586621681186817"><span class="annot"><span class="annottext">XTyClD p
</span><a href="#local-6989586621681186817"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681186816"><span class="annot"><span class="annottext">c :: TyClDecl p
</span><a href="#local-6989586621681186816"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClassDecl"><span class="hs-identifier hs-type">ClassDecl</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-378"></span><span>      </span><span class="annot"><span class="annottext">forall p. XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD p
</span><a href="#local-6989586621681186817"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl p
</span><a href="#local-6989586621681186816"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdSigs :: [XRec p (Sig p)]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-379"></span><span>        </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#liftA2"><span class="hs-identifier hs-var">liftA2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">(||)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall name. Sig name -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall p. UnXRec p =&gt; LSig p -&gt; Bool
</span><a href="Language.Haskell.Syntax.Binds.html#isMinimalLSig"><span class="hs-identifier hs-var">isMinimalLSig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. TyClDecl pass -&gt; [LSig pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl p
</span><a href="#local-6989586621681186816"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-380"></span><span>    </span><span class="annot"><a href="#local-6989586621681186825"><span class="hs-identifier hs-var">filterClass</span></a></span><span> </span><span id="local-6989586621681186811"><span class="annot"><span class="annottext">HsDecl p
</span><a href="#local-6989586621681186811"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDecl p
</span><a href="#local-6989586621681186811"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-comment">-- | Was this signature given by the user?</span><span>
</span><span id="line-383"></span><span id="local-6989586621681187342"><span class="annot"><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-type">isUserSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187342"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-384"></span><span id="isUserSig"><span class="annot"><span class="annottext">isUserSig :: forall name. Sig name -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var hs-var">isUserSig</span></a></span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-385"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-386"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-387"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><span class="annottext">Sig name
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="hs-comment">-- | Take a field of declarations from a data structure and create HsDecls</span><span>
</span><span id="line-390"></span><span class="hs-comment">-- using the given constructor</span><span>
</span><span id="line-391"></span><span id="local-6989586621681187397"><span id="local-6989586621681187398"><span id="local-6989586621681187399"><span id="local-6989586621681187400"><span class="annot"><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-type">mkDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681187400"><span class="hs-identifier hs-type">struct</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#GenLocated"><span class="hs-identifier hs-type">GenLocated</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187399"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187398"><span class="hs-identifier hs-type">decl</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681187398"><span class="hs-identifier hs-type">decl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681187397"><span class="hs-identifier hs-type">hsDecl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681187400"><span class="hs-identifier hs-type">struct</span></a></span><span>
</span><span id="line-394"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#GenLocated"><span class="hs-identifier hs-type">GenLocated</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187399"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187397"><span class="hs-identifier hs-type">hsDecl</span></a></span><span class="hs-special">]</span></span></span></span></span><span>
</span><span id="line-395"></span><span id="mkDecls"><span class="annot"><span class="annottext">mkDecls :: forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var hs-var">mkDecls</span></a></span></span><span> </span><span id="local-6989586621681186810"><span class="annot"><span class="annottext">struct -&gt; [GenLocated l decl]
</span><a href="#local-6989586621681186810"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span id="local-6989586621681186809"><span class="annot"><span class="annottext">decl -&gt; hsDecl
</span><a href="#local-6989586621681186809"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b l. (a -&gt; b) -&gt; GenLocated l a -&gt; GenLocated l b
</span><a href="GHC.Types.SrcLoc.html#mapLoc"><span class="hs-identifier hs-var">mapLoc</span></a></span><span> </span><span class="annot"><span class="annottext">decl -&gt; hsDecl
</span><a href="#local-6989586621681186809"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">struct -&gt; [GenLocated l decl]
</span><a href="#local-6989586621681186810"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="hs-comment">-- | Extracts out individual maps of documentation added via Template Haskell's</span><span>
</span><span id="line-398"></span><span class="hs-comment">-- @putDoc@.</span><span>
</span><span id="line-399"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#extractTHDocs"><span class="hs-identifier hs-type">extractTHDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#THDocs"><span class="hs-identifier hs-type">THDocs</span></a></span><span>
</span><span id="line-400"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#ExtractedTHDocs"><span class="hs-identifier hs-type">ExtractedTHDocs</span></a></span><span>
</span><span id="line-401"></span><span id="extractTHDocs"><span class="annot"><span class="annottext">extractTHDocs :: THDocs -&gt; ExtractedTHDocs
</span><a href="GHC.HsToCore.Docs.html#extractTHDocs"><span class="hs-identifier hs-var hs-var">extractTHDocs</span></a></span></span><span> </span><span id="local-6989586621681186808"><span class="annot"><span class="annottext">THDocs
</span><a href="#local-6989586621681186808"><span class="hs-identifier hs-var">docs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-comment">-- Split up docs into separate maps for each 'DocLoc' type</span><span>
</span><span id="line-403"></span><span>  </span><span class="annot"><span class="annottext">Maybe HsDocString
-&gt; DeclDocMap -&gt; ArgDocMap -&gt; DeclDocMap -&gt; ExtractedTHDocs
</span><a href="GHC.Hs.Doc.html#ExtractedTHDocs"><span class="hs-identifier hs-var">ExtractedTHDocs</span></a></span><span>
</span><span id="line-404"></span><span>    </span><span class="annot"><span class="annottext">Maybe HsDocString
</span><a href="#local-6989586621681186807"><span class="hs-identifier hs-var">docHeader</span></a></span><span>
</span><span id="line-405"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Name HsDocString -&gt; DeclDocMap
</span><a href="GHC.Hs.Doc.html#DeclDocMap"><span class="hs-identifier hs-var">DeclDocMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; (a -&gt; (DocLoc, [Char]) -&gt; a) -&gt; a
</span><a href="#local-6989586621681186806"><span class="hs-identifier hs-var">searchDocs</span></a></span><span> </span><span class="annot"><span class="annottext">Map Name HsDocString -&gt; (DocLoc, [Char]) -&gt; Map Name HsDocString
</span><a href="#local-6989586621681186805"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Name (IntMap HsDocString) -&gt; ArgDocMap
</span><a href="GHC.Hs.Doc.html#ArgDocMap"><span class="hs-identifier hs-var">ArgDocMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; (a -&gt; (DocLoc, [Char]) -&gt; a) -&gt; a
</span><a href="#local-6989586621681186806"><span class="hs-identifier hs-var">searchDocs</span></a></span><span> </span><span class="annot"><span class="annottext">Map Name (IntMap HsDocString)
-&gt; (DocLoc, [Char]) -&gt; Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681186804"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Name HsDocString -&gt; DeclDocMap
</span><a href="GHC.Hs.Doc.html#DeclDocMap"><span class="hs-identifier hs-var">DeclDocMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; (a -&gt; (DocLoc, [Char]) -&gt; a) -&gt; a
</span><a href="#local-6989586621681186806"><span class="hs-identifier hs-var">searchDocs</span></a></span><span> </span><span class="annot"><span class="annottext">Map Name HsDocString -&gt; (DocLoc, [Char]) -&gt; Map Name HsDocString
</span><a href="#local-6989586621681186803"><span class="hs-identifier hs-var">insts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-409"></span><span>    </span><span class="annot"><a href="#local-6989586621681186807"><span class="hs-identifier hs-type">docHeader</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span>
</span><span id="line-410"></span><span>    </span><span id="local-6989586621681186807"><span class="annot"><span class="annottext">docHeader :: Maybe HsDocString
</span><a href="#local-6989586621681186807"><span class="hs-identifier hs-var hs-var">docHeader</span></a></span></span><span>
</span><span id="line-411"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DocLoc
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681186802"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681186802"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(DocLoc, [Char])]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">forall {b}. (DocLoc, b) -&gt; Bool
</span><a href="#local-6989586621681186801"><span class="hs-identifier hs-var">isModDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#toList"><span class="hs-identifier hs-var">M.toList</span></a></span><span> </span><span class="annot"><span class="annottext">THDocs
</span><a href="#local-6989586621681186808"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; HsDocString
</span><a href="GHC.Hs.Doc.html#mkHsDocString"><span class="hs-identifier hs-var">mkHsDocString</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681186802"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span>    </span><span id="local-6989586621681186801"><span class="annot"><span class="annottext">isModDoc :: (DocLoc, b) -&gt; Bool
</span><a href="#local-6989586621681186801"><span class="hs-identifier hs-var hs-var">isModDoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DocLoc
</span><a href="GHC.Tc.Types.html#ModuleDoc"><span class="hs-identifier hs-var">ModuleDoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-415"></span><span>    </span><span class="annot"><a href="#local-6989586621681186801"><span class="hs-identifier hs-var">isModDoc</span></a></span><span> </span><span class="annot"><span class="annottext">(DocLoc, b)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span>    </span><span class="hs-comment">-- Folds over the docs, applying 'f' as the accumulating function.</span><span>
</span><span id="line-418"></span><span>    </span><span class="hs-comment">-- We use different accumulating functions to sift out the specific types of</span><span>
</span><span id="line-419"></span><span>    </span><span class="hs-comment">-- documentation</span><span>
</span><span id="line-420"></span><span>    </span><span id="local-6989586621681187310"><span class="annot"><a href="#local-6989586621681186806"><span class="hs-identifier hs-type">searchDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187310"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681187310"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#DocLoc"><span class="hs-identifier hs-type">DocLoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681187310"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681187310"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-421"></span><span>    </span><span id="local-6989586621681186806"><span class="annot"><span class="annottext">searchDocs :: forall a. Monoid a =&gt; (a -&gt; (DocLoc, [Char]) -&gt; a) -&gt; a
</span><a href="#local-6989586621681186806"><span class="hs-identifier hs-var hs-var">searchDocs</span></a></span></span><span> </span><span id="local-6989586621681186794"><span class="annot"><span class="annottext">a -&gt; (DocLoc, [Char]) -&gt; a
</span><a href="#local-6989586621681186794"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; (DocLoc, [Char]) -&gt; a
</span><a href="#local-6989586621681186794"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#toList"><span class="hs-identifier hs-var">M.toList</span></a></span><span> </span><span class="annot"><span class="annottext">THDocs
</span><a href="#local-6989586621681186808"><span class="hs-identifier hs-var">docs</span></a></span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span>    </span><span class="hs-comment">-- Pick out the declaration docs</span><span>
</span><span id="line-424"></span><span>    </span><span id="local-6989586621681186805"><span class="annot"><span class="annottext">decl :: Map Name HsDocString -&gt; (DocLoc, [Char]) -&gt; Map Name HsDocString
</span><a href="#local-6989586621681186805"><span class="hs-identifier hs-var hs-var">decl</span></a></span></span><span> </span><span id="local-6989586621681186791"><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681186791"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#DeclDoc"><span class="hs-identifier hs-type">DeclDoc</span></a></span><span> </span><span id="local-6989586621681186789"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681186789"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681186788"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681186788"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681186789"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; HsDocString
</span><a href="GHC.Hs.Doc.html#mkHsDocString"><span class="hs-identifier hs-var">mkHsDocString</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681186788"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681186791"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-425"></span><span>    </span><span class="annot"><a href="#local-6989586621681186805"><span class="hs-identifier hs-var">decl</span></a></span><span> </span><span id="local-6989586621681186786"><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681186786"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="annot"><span class="annottext">(DocLoc, [Char])
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681186786"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span>    </span><span class="hs-comment">-- Pick out the instance docs</span><span>
</span><span id="line-428"></span><span>    </span><span id="local-6989586621681186803"><span class="annot"><span class="annottext">insts :: Map Name HsDocString -&gt; (DocLoc, [Char]) -&gt; Map Name HsDocString
</span><a href="#local-6989586621681186803"><span class="hs-identifier hs-var hs-var">insts</span></a></span></span><span> </span><span id="local-6989586621681186784"><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681186784"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#InstDoc"><span class="hs-identifier hs-type">InstDoc</span></a></span><span> </span><span id="local-6989586621681186782"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681186782"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681186781"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681186781"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681186782"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; HsDocString
</span><a href="GHC.Hs.Doc.html#mkHsDocString"><span class="hs-identifier hs-var">mkHsDocString</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681186781"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681186784"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span class="annot"><a href="#local-6989586621681186803"><span class="hs-identifier hs-var">insts</span></a></span><span> </span><span id="local-6989586621681186780"><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681186780"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="annot"><span class="annottext">(DocLoc, [Char])
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Name HsDocString
</span><a href="#local-6989586621681186780"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span>    </span><span class="hs-comment">-- Pick out the argument docs</span><span>
</span><span id="line-432"></span><span>    </span><span class="annot"><a href="#local-6989586621681186804"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#DocLoc"><span class="hs-identifier hs-type">DocLoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDocString"><span class="hs-identifier hs-type">HsDocString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>    </span><span id="local-6989586621681186804"><span class="annot"><span class="annottext">args :: Map Name (IntMap HsDocString)
-&gt; (DocLoc, [Char]) -&gt; Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681186804"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span id="local-6989586621681186779"><span class="annot"><span class="annottext">Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681186779"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#ArgDoc"><span class="hs-identifier hs-type">ArgDoc</span></a></span><span> </span><span id="local-6989586621681186777"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681186777"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681186776"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186776"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681186775"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681186775"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-436"></span><span>      </span><span class="hs-comment">-- Insert the doc for the arg into the argument map for the function. This</span><span>
</span><span id="line-437"></span><span>      </span><span class="hs-comment">-- means we have to search to see if an map already exists for the</span><span>
</span><span id="line-438"></span><span>      </span><span class="hs-comment">-- function, and insert the new argument if it exists, or create a new map</span><span>
</span><span id="line-439"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681186774"><span class="annot"><span class="annottext">ds :: HsDocString
</span><a href="#local-6989586621681186774"><span class="hs-identifier hs-var hs-var">ds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; HsDocString
</span><a href="GHC.Hs.Doc.html#mkHsDocString"><span class="hs-identifier hs-var">mkHsDocString</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681186775"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-440"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">IntMap HsDocString
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681186772"><span class="annot"><span class="annottext">IntMap HsDocString
</span><a href="#local-6989586621681186772"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Key -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#insert"><span class="hs-identifier hs-var">IM.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186776"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681186774"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap HsDocString
</span><a href="#local-6989586621681186772"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681186777"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Key -&gt; a -&gt; IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#singleton"><span class="hs-identifier hs-var">IM.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681186776"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocString
</span><a href="#local-6989586621681186774"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681186779"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-441"></span><span>    </span><span class="annot"><a href="#local-6989586621681186804"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span id="local-6989586621681186771"><span class="annot"><span class="annottext">Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681186771"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="annot"><span class="annottext">(DocLoc, [Char])
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Name (IntMap HsDocString)
</span><a href="#local-6989586621681186771"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="hs-comment">-- | Unions together two 'ArgDocMaps' (or ArgMaps in haddock-api), such that two</span><span>
</span><span id="line-444"></span><span class="hs-comment">-- maps with values for the same key merge the inner map as well.</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- Left biased so @unionArgMaps a b@ prefers @a@ over @b@.</span><span>
</span><span id="line-446"></span><span id="local-6989586621681187581"><span class="annot"><a href="GHC.HsToCore.Docs.html#unionArgMaps"><span class="hs-identifier hs-type">unionArgMaps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187581"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187581"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681187581"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-449"></span><span id="unionArgMaps"><span class="annot"><span class="annottext">unionArgMaps :: forall b.
Map Name (IntMap b) -&gt; Map Name (IntMap b) -&gt; Map Name (IntMap b)
</span><a href="GHC.HsToCore.Docs.html#unionArgMaps"><span class="hs-identifier hs-var hs-var">unionArgMaps</span></a></span></span><span> </span><span id="local-6989586621681186769"><span class="annot"><span class="annottext">Map Name (IntMap b)
</span><a href="#local-6989586621681186769"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681186768"><span class="annot"><span class="annottext">Map Name (IntMap b)
</span><a href="#local-6989586621681186768"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a k b. (a -&gt; k -&gt; b -&gt; a) -&gt; a -&gt; Map k b -&gt; a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#foldlWithKey"><span class="hs-identifier hs-var">M.foldlWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">forall {k} {a}.
Ord k =&gt;
Map k (IntMap a) -&gt; k -&gt; IntMap a -&gt; Map k (IntMap a)
</span><a href="#local-6989586621681186766"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Name (IntMap b)
</span><a href="#local-6989586621681186768"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Map Name (IntMap b)
</span><a href="#local-6989586621681186769"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-451"></span><span>    </span><span id="local-6989586621681186766"><span class="annot"><span class="annottext">go :: Map k (IntMap a) -&gt; k -&gt; IntMap a -&gt; Map k (IntMap a)
</span><a href="#local-6989586621681186766"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621681186761"><span class="annot"><span class="annottext">Map k (IntMap a)
</span><a href="#local-6989586621681186761"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681186760"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621681186760"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681186759"><span class="annot"><span class="annottext">IntMap a
</span><a href="#local-6989586621681186759"><span class="hs-identifier hs-var">newArgMap</span></a></span></span><span>
</span><span id="line-452"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681186758"><span class="annot"><span class="annottext">IntMap a
</span><a href="#local-6989586621681186758"><span class="hs-identifier hs-var">oldArgMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621681186760"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Map k (IntMap a)
</span><a href="#local-6989586621681186761"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-453"></span><span>          </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621681186760"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntMap a
</span><a href="#local-6989586621681186759"><span class="hs-identifier hs-var">newArgMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. IntMap a -&gt; IntMap a -&gt; IntMap a
</span><a href="../../containers-0.6.5.1/src/Data-IntMap-Internal.html#union"><span class="hs-operator hs-var">`IM.union`</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap a
</span><a href="#local-6989586621681186758"><span class="hs-identifier hs-var">oldArgMap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map k (IntMap a)
</span><a href="#local-6989586621681186761"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-454"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621681186760"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap a
</span><a href="#local-6989586621681186759"><span class="hs-identifier hs-var">newArgMap</span></a></span><span> </span><span class="annot"><span class="annottext">Map k (IntMap a)
</span><a href="#local-6989586621681186761"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-455"></span></pre></body></html>