<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables, BangPatterns #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-uni-patterns   #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-record-updates #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-comment">{-
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998

Renaming and dependency analysis of bindings

This module does renaming and dependency analysis on value bindings in
the abstract syntax.  It does {\em not} do cycle-checks on class or
type-synonym declarations; those cannot be done at this stage because
they may be affected by renaming (which isn't fully worked out yet).
-}</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Rename.Bind</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-20"></span><span>   </span><span class="hs-comment">-- Renaming top-level bindings</span><span>
</span><span id="line-21"></span><span>   </span><span class="annot"><a href="GHC.Rename.Bind.html#rnTopBindsLHS"><span class="hs-identifier">rnTopBindsLHS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#rnTopBindsBoot"><span class="hs-identifier">rnTopBindsBoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#rnValBindsRHS"><span class="hs-identifier">rnValBindsRHS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span>   </span><span class="hs-comment">-- Renaming local bindings</span><span>
</span><span id="line-24"></span><span>   </span><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalBindsAndThen"><span class="hs-identifier">rnLocalBindsAndThen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalValBindsLHS"><span class="hs-identifier">rnLocalValBindsLHS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalValBindsRHS"><span class="hs-identifier">rnLocalValBindsRHS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span>   </span><span class="hs-comment">-- Other bindings</span><span>
</span><span id="line-27"></span><span>   </span><span class="annot"><a href="GHC.Rename.Bind.html#rnMethodBinds"><span class="hs-identifier">rnMethodBinds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#renameSigs"><span class="hs-identifier">renameSigs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>   </span><span class="annot"><a href="GHC.Rename.Bind.html#rnMatchGroup"><span class="hs-identifier">rnMatchGroup</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#rnGRHSs"><span class="hs-identifier">rnGRHSs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#rnGRHS"><span class="hs-identifier">rnGRHS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#rnSrcFixityDecl"><span class="hs-identifier">rnSrcFixityDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>   </span><span class="annot"><a href="GHC.Rename.Bind.html#makeMiniFixityEnv"><span class="hs-identifier">makeMiniFixityEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Fixity.html#MiniFixityEnv"><span class="hs-identifier">MiniFixityEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>   </span><span class="annot"><a href="GHC.Rename.Env.html#HsSigCtxt"><span class="hs-identifier">HsSigCtxt</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>   </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="GHC.Rename.Expr.html"><span class="hs-identifier">GHC.Rename.Expr</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Rename.Expr.html#rnExpr"><span class="hs-identifier">rnExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Expr.html#rnLExpr"><span class="hs-identifier">rnLExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Expr.html#rnStmts"><span class="hs-identifier">rnStmts</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.Monad.html"><span class="hs-identifier">GHC.Tc.Utils.Monad</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Rename.HsType.html"><span class="hs-identifier">GHC.Rename.HsType</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Rename.Pat.html"><span class="hs-identifier">GHC.Rename.Pat</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Rename.Names.html"><span class="hs-identifier">GHC.Rename.Names</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html"><span class="hs-identifier">GHC.Rename.Env</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Rename.Fixity.html"><span class="hs-identifier">GHC.Rename.Fixity</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html"><span class="hs-identifier">GHC.Rename.Utils</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#HsDocContext"><span class="hs-identifier">HsDocContext</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#mapFvRn"><span class="hs-identifier">mapFvRn</span></a></span><span>
</span><span id="line-45"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#checkDupRdrNames"><span class="hs-identifier">checkDupRdrNames</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#checkDupRdrNamesN"><span class="hs-identifier">checkDupRdrNamesN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#warnUnusedLocalBinds"><span class="hs-identifier">warnUnusedLocalBinds</span></a></span><span>
</span><span id="line-46"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#checkUnusedRecordWildcard"><span class="hs-identifier">checkUnusedRecordWildcard</span></a></span><span>
</span><span id="line-47"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#checkDupAndShadowedNames"><span class="hs-identifier">checkDupAndShadowedNames</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#bindLocalNamesFV"><span class="hs-identifier">bindLocalNamesFV</span></a></span><span>
</span><span id="line-48"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#addNoNestedForallsContextsErr"><span class="hs-identifier">addNoNestedForallsContextsErr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Utils.html#checkInferredVars"><span class="hs-identifier">checkInferredVars</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html"><span class="hs-identifier">GHC.Driver.Session</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.FieldLabel.html"><span class="hs-identifier">GHC.Types.FieldLabel</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html"><span class="hs-identifier">GHC.Types.Name.Env</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html"><span class="hs-identifier">GHC.Types.Name.Set</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier">rdrNameOcc</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SrcLoc</span></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.List.SetOps.html"><span class="hs-identifier">GHC.Data.List.SetOps</span></a></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Data.List.SetOps.html#findDupsEq"><span class="hs-identifier">findDupsEq</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>         </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#RecFlag"><span class="hs-identifier">RecFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TypeOrKind"><span class="hs-identifier">TypeOrKind</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Graph.Directed.html"><span class="hs-identifier">GHC.Data.Graph.Directed</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Graph.html#SCC"><span class="hs-identifier">SCC</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html"><span class="hs-identifier">GHC.Data.Bag</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Set.html"><span class="hs-identifier">GHC.Types.Unique.Set</span></a></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html#orElse"><span class="hs-identifier">orElse</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html"><span class="hs-identifier">GHC.Data.OrdList</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../ghc-boot-9.2.7/src/GHC-LanguageExtensions.html#"><span class="hs-identifier">GHC.LanguageExtensions</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LangExt</span></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Control-Monad.html#"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Foldable.html#"><span class="hs-identifier">Data.Foldable</span></a></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Foldable.html#toList"><span class="hs-identifier">toList</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-List.html#"><span class="hs-identifier">Data.List</span></a></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-OldList.html#partition"><span class="hs-identifier">partition</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-OldList.html#sortBy"><span class="hs-identifier">sortBy</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-List-NonEmpty.html#"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#NonEmpty"><span class="hs-identifier">NonEmpty</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">{-
-- ToDo: Put the annotations into the monad, so that they arrive in the proper
-- place and can be used when complaining.

The code tree received by the function @rnBinds@ contains definitions
in where-clauses which are all apparently mutually recursive, but which may
not really depend upon each other. For example, in the top level program
\begin{verbatim}
f x = y where a = x
              y = x
\end{verbatim}
the definitions of @a@ and @y@ do not depend on each other at all.
Unfortunately, the typechecker cannot always check such definitions.
\footnote{Mycroft, A. 1984. Polymorphic type schemes and recursive
definitions. In Proceedings of the International Symposium on Programming,
Toulouse, pp. 217-39. LNCS 167. Springer Verlag.}
However, the typechecker usually can check definitions in which only the
strongly connected components have been collected into recursive bindings.
This is precisely what the function @rnBinds@ does.

ToDo: deal with case where a single monobinds binds the same variable
twice.

The vertag tag is a unique @Int@; the tags only need to be unique
within one @MonoBinds@, so that unique-Int plumbing is done explicitly
(heavy monad machinery not needed).


************************************************************************
*                                                                      *
* naming conventions                                                   *
*                                                                      *
************************************************************************

\subsection[name-conventions]{Name conventions}

The basic algorithm involves walking over the tree and returning a tuple
containing the new tree plus its free variables. Some functions, such
as those walking polymorphic bindings (HsBinds) and qualifier lists in
list comprehensions (@Quals@), return the variables bound in local
environments. These are then used to calculate the free variables of the
expression evaluated in these environments.

Conventions for variable names are as follows:
\begin{itemize}
\item
new code is given a prime to distinguish it from the old.

\item
a set of variables defined in @Exp@ is written @dvExp@

\item
a set of variables free in @Exp@ is written @fvExp@
\end{itemize}

************************************************************************
*                                                                      *
* analysing polymorphic bindings (HsBindGroup, HsBind)
*                                                                      *
************************************************************************

\subsubsection[dep-HsBinds]{Polymorphic bindings}

Non-recursive expressions are reconstructed without any changes at top
level, although their component expressions may have to be altered.
However, non-recursive expressions are currently not expected as
\Haskell{} programs, and this code should not be executed.

Monomorphic bindings contain information that is returned in a tuple
(a @FlatMonoBinds@) containing:

\begin{enumerate}
\item
a unique @Int@ that serves as the ``vertex tag'' for this binding.

\item
the name of a function or the names in a pattern. These are a set
referred to as @dvLhs@, the defined variables of the left hand side.

\item
the free variables of the body. These are referred to as @fvBody@.

\item
the definition's actual code. This is referred to as just @code@.
\end{enumerate}

The function @nonRecDvFv@ returns two sets of variables. The first is
the set of variables defined in the set of monomorphic bindings, while the
second is the set of free variables in those bindings.

The set of variables defined in a non-recursive binding is just the
union of all of them, as @union@ removes duplicates. However, the
free variables in each successive set of cumulative bindings is the
union of those in the previous set plus those of the newest binding after
the defined variables of the previous set have been removed.

@rnMethodBinds@ deals only with the declarations in class and
instance declarations.  It expects only to see @FunMonoBind@s, and
it expects the global environment to contain bindings for the binders
(which are all class operations).

************************************************************************
*                                                                      *
\subsubsection{ Top-level bindings}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- for top-level bindings, we need to make top-level names,</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- so we have a different entry point than for local bindings</span><span>
</span><span id="line-184"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnTopBindsLHS"><span class="hs-identifier hs-type">rnTopBindsLHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Fixity.html#MiniFixityEnv"><span class="hs-identifier hs-type">MiniFixityEnv</span></a></span><span>
</span><span id="line-185"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-186"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBindsLR"><span class="hs-identifier hs-type">HsValBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span id="rnTopBindsLHS"><span class="annot"><span class="annottext">rnTopBindsLHS :: MiniFixityEnv -&gt; HsValBinds GhcPs -&gt; RnM (HsValBindsLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnTopBindsLHS"><span class="hs-identifier hs-var hs-var">rnTopBindsLHS</span></a></span></span><span> </span><span id="local-6989586621681361731"><span class="annot"><span class="annottext">MiniFixityEnv
</span><a href="#local-6989586621681361731"><span class="hs-identifier hs-var">fix_env</span></a></span></span><span> </span><span id="local-6989586621681361730"><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361730"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameMaker -&gt; HsValBinds GhcPs -&gt; RnM (HsValBindsLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnValBindsLHS"><span class="hs-identifier hs-var">rnValBindsLHS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MiniFixityEnv -&gt; NameMaker
</span><a href="GHC.Rename.Pat.html#topRecNameMaker"><span class="hs-identifier hs-var">topRecNameMaker</span></a></span><span> </span><span class="annot"><span class="annottext">MiniFixityEnv
</span><a href="#local-6989586621681361731"><span class="hs-identifier hs-var">fix_env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361730"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnTopBindsBoot"><span class="hs-identifier hs-type">rnTopBindsBoot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBindsLR"><span class="hs-identifier hs-type">HsValBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-191"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#DefUses"><span class="hs-identifier hs-type">DefUses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- A hs-boot file has no bindings.</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- Return a single HsBindGroup with empty binds and renamed signatures</span><span>
</span><span id="line-194"></span><span id="rnTopBindsBoot"><span class="annot"><span class="annottext">rnTopBindsBoot :: NameSet
-&gt; HsValBindsLR GhcRn GhcPs -&gt; RnM (HsValBinds GhcRn, DefUses)
</span><a href="GHC.Rename.Bind.html#rnTopBindsBoot"><span class="hs-identifier hs-var hs-var">rnTopBindsBoot</span></a></span></span><span> </span><span id="local-6989586621681361727"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361727"><span class="hs-identifier hs-var">bound_names</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XValBinds GhcRn GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361725"><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361725"><span class="hs-identifier hs-var">mbinds</span></a></span></span><span> </span><span id="local-6989586621681361724"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361724"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#checkErr"><span class="hs-identifier hs-var">checkErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (idL :: Pass) idR. LHsBindsLR (GhcPass idL) idR -&gt; Bool
</span><a href="GHC.Hs.Binds.html#isEmptyLHsBinds"><span class="hs-identifier hs-var">isEmptyLHsBinds</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361725"><span class="hs-identifier hs-var">mbinds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#bindsInHsBootFile"><span class="hs-identifier hs-var">bindsInHsBootFile</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361725"><span class="hs-identifier hs-var">mbinds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361720"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361720"><span class="hs-identifier hs-var">sigs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361719"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361719"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; [XRec GhcPs (Sig GhcPs)] -&gt; RnM ([LSig GhcRn], NameSet)
</span><a href="GHC.Rename.Bind.html#renameSigs"><span class="hs-identifier hs-var">renameSigs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSet -&gt; HsSigCtxt
</span><a href="GHC.Rename.Env.html#HsBootCtxt"><span class="hs-identifier hs-var">HsBootCtxt</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361727"><span class="hs-identifier hs-var">bound_names</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361724"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-197"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR. XXValBindsLR idL idR -&gt; HsValBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-var">XValBindsLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL.
[(RecFlag, LHsBinds idL)] -&gt; [LSig GhcRn] -&gt; NHsValBindsLR idL
</span><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-var">NValBinds</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361720"><span class="hs-identifier hs-var">sigs'</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; DefUses
</span><a href="GHC.Types.Name.Set.html#usesOnly"><span class="hs-identifier hs-var">usesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361719"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-198"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnTopBindsBoot"><span class="hs-identifier hs-var">rnTopBindsBoot</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361714"><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361714"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rnTopBindsBoot&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361714"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-comment">{-
*********************************************************
*                                                      *
                HsLocalBinds
*                                                      *
*********************************************************
-}</span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span id="local-6989586621681362399"><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalBindsAndThen"><span class="hs-identifier hs-type">rnLocalBindsAndThen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-209"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362399"><span class="hs-identifier hs-type">result</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362399"><span class="hs-identifier hs-type">result</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-211"></span><span class="hs-comment">-- This version (a) assumes that the binding vars are *not* already in scope</span><span>
</span><span id="line-212"></span><span class="hs-comment">--               (b) removes the binders from the free vars of the thing inside</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- The parser doesn't produce ThenBinds</span><span>
</span><span id="line-214"></span><span id="rnLocalBindsAndThen"><span class="annot"><span class="annottext">rnLocalBindsAndThen :: forall result.
HsLocalBinds GhcPs
-&gt; (HsLocalBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet))
-&gt; RnM (result, NameSet)
</span><a href="GHC.Rename.Bind.html#rnLocalBindsAndThen"><span class="hs-identifier hs-var hs-var">rnLocalBindsAndThen</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-type">EmptyLocalBinds</span></a></span><span> </span><span id="local-6989586621681361706"><span class="annot"><span class="annottext">XEmptyLocalBinds GhcPs GhcPs
</span><a href="#local-6989586621681361706"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361705"><span class="annot"><span class="annottext">HsLocalBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet)
</span><a href="#local-6989586621681361705"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-215"></span><span>  </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet)
</span><a href="#local-6989586621681361705"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR. XEmptyLocalBinds idL idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-var">EmptyLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcPs GhcPs
</span><a href="#local-6989586621681361706"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalBindsAndThen"><span class="hs-identifier hs-var">rnLocalBindsAndThen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span id="local-6989586621681361702"><span class="annot"><span class="annottext">XHsValBinds GhcPs GhcPs
</span><a href="#local-6989586621681361702"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681361701"><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361701"><span class="hs-identifier hs-var">val_binds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361700"><span class="annot"><span class="annottext">HsLocalBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet)
</span><a href="#local-6989586621681361700"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall result.
HsValBinds GhcPs
-&gt; (HsValBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet))
-&gt; RnM (result, NameSet)
</span><a href="GHC.Rename.Bind.html#rnLocalValBindsAndThen"><span class="hs-identifier hs-var">rnLocalValBindsAndThen</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361701"><span class="hs-identifier hs-var">val_binds</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681361698"><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621681361698"><span class="hs-identifier hs-var">val_binds'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-219"></span><span>      </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet)
</span><a href="#local-6989586621681361700"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR.
XHsValBinds idL idR
-&gt; HsValBindsLR idL idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-var">HsValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XHsValBinds GhcPs GhcPs
</span><a href="#local-6989586621681361702"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621681361698"><span class="hs-identifier hs-var">val_binds'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalBindsAndThen"><span class="hs-identifier hs-var">rnLocalBindsAndThen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span id="local-6989586621681361696"><span class="annot"><span class="annottext">XHsIPBinds GhcPs GhcPs
</span><a href="#local-6989586621681361696"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681361695"><span class="annot"><span class="annottext">HsIPBinds GhcPs
</span><a href="#local-6989586621681361695"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361694"><span class="annot"><span class="annottext">HsLocalBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet)
</span><a href="#local-6989586621681361694"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681361693"><span class="annot"><span class="annottext">HsIPBinds GhcRn
</span><a href="#local-6989586621681361693"><span class="hs-identifier hs-var">binds'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681361692"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361692"><span class="hs-identifier hs-var">fv_binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsIPBinds GhcPs -&gt; RnM (HsIPBinds GhcRn, NameSet)
</span><a href="GHC.Rename.Bind.html#rnIPBinds"><span class="hs-identifier hs-var">rnIPBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsIPBinds GhcPs
</span><a href="#local-6989586621681361695"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681361690"><span class="annot"><span class="annottext">result
</span><a href="#local-6989586621681361690"><span class="hs-identifier hs-var">thing</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361689"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361689"><span class="hs-identifier hs-var">fvs_thing</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet)
</span><a href="#local-6989586621681361694"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR.
XHsIPBinds idL idR -&gt; HsIPBinds idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-var">HsIPBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIPBinds GhcPs GhcPs
</span><a href="#local-6989586621681361696"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">HsIPBinds GhcRn
</span><a href="#local-6989586621681361693"><span class="hs-identifier hs-var">binds'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361692"><span class="hs-identifier hs-var">fv_binds</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">result
</span><a href="#local-6989586621681361690"><span class="hs-identifier hs-var">thing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361689"><span class="hs-identifier hs-var">fvs_thing</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#plusFV"><span class="hs-operator hs-var">`plusFV`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361692"><span class="hs-identifier hs-var">fv_binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnIPBinds"><span class="hs-identifier hs-type">rnIPBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span id="rnIPBinds"><span class="annot"><span class="annottext">rnIPBinds :: HsIPBinds GhcPs -&gt; RnM (HsIPBinds GhcRn, NameSet)
</span><a href="GHC.Rename.Bind.html#rnIPBinds"><span class="hs-identifier hs-var hs-var">rnIPBinds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBinds"><span class="hs-identifier hs-type">IPBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XIPBinds GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361686"><span class="annot"><span class="annottext">[LIPBind GhcPs]
</span><a href="#local-6989586621681361686"><span class="hs-identifier hs-var">ip_binds</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-228"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681361685"><span class="annot"><span class="annottext">[LocatedA (IPBind GhcRn)]
</span><a href="#local-6989586621681361685"><span class="hs-identifier hs-var">ip_binds'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361684"><span class="annot"><span class="annottext">[NameSet]
</span><a href="#local-6989586621681361684"><span class="hs-identifier hs-var">fvs_s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b c.
Applicative m =&gt;
(a -&gt; m (b, c)) -&gt; [a] -&gt; m ([b], [c])
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#mapAndUnzipM"><span class="hs-identifier hs-var">mapAndUnzipM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c.
(a -&gt; TcM (b, c)) -&gt; LocatedA a -&gt; TcM (LocatedA b, c)
</span><a href="GHC.Tc.Utils.Monad.html#wrapLocFstMA"><span class="hs-identifier hs-var">wrapLocFstMA</span></a></span><span> </span><span class="annot"><span class="annottext">IPBind GhcPs -&gt; RnM (IPBind GhcRn, NameSet)
</span><a href="GHC.Rename.Bind.html#rnIPBind"><span class="hs-identifier hs-var">rnIPBind</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIPBind GhcPs]
</span><a href="#local-6989586621681361686"><span class="hs-identifier hs-var">ip_binds</span></a></span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. XIPBinds id -&gt; [LIPBind id] -&gt; HsIPBinds id
</span><a href="Language.Haskell.Syntax.Binds.html#IPBinds"><span class="hs-identifier hs-var">IPBinds</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (IPBind GhcRn)]
</span><a href="#local-6989586621681361685"><span class="hs-identifier hs-var">ip_binds'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[NameSet] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#plusFVs"><span class="hs-identifier hs-var">plusFVs</span></a></span><span> </span><span class="annot"><span class="annottext">[NameSet]
</span><a href="#local-6989586621681361684"><span class="hs-identifier hs-var">fvs_s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnIPBind"><span class="hs-identifier hs-type">rnIPBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-type">IPBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-type">IPBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span id="rnIPBind"><span class="annot"><span class="annottext">rnIPBind :: IPBind GhcPs -&gt; RnM (IPBind GhcRn, NameSet)
</span><a href="GHC.Rename.Bind.html#rnIPBind"><span class="hs-identifier hs-var hs-var">rnIPBind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-type">IPBind</span></a></span><span> </span><span class="annot"><span class="annottext">XCIPBind GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621681361677"><span class="annot"><span class="annottext">XRec GhcPs HsIPName
</span><a href="#local-6989586621681361677"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361676"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681361676"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681361675"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621681361675"><span class="hs-identifier hs-var">expr'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681361674"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361674"><span class="hs-identifier hs-var">fvExpr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; RnM (LHsExpr GhcRn, NameSet)
</span><a href="GHC.Rename.Expr.html#rnLExpr"><span class="hs-identifier hs-var">rnLExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681361676"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id.
XCIPBind id
-&gt; Either (XRec id HsIPName) (IdP id) -&gt; LHsExpr id -&gt; IPBind id
</span><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-var">IPBind</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="../../base-4.16.4.0/src/Data-Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs HsIPName
</span><a href="#local-6989586621681361677"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621681361675"><span class="hs-identifier hs-var">expr'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361674"><span class="hs-identifier hs-var">fvExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                ValBinds
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- Renaming local binding groups</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- Does duplicate/shadow check</span><span>
</span><span id="line-246"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalValBindsLHS"><span class="hs-identifier hs-type">rnLocalValBindsLHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Fixity.html#MiniFixityEnv"><span class="hs-identifier hs-type">MiniFixityEnv</span></a></span><span>
</span><span id="line-247"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-248"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBindsLR"><span class="hs-identifier hs-type">HsValBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span id="rnLocalValBindsLHS"><span class="annot"><span class="annottext">rnLocalValBindsLHS :: MiniFixityEnv
-&gt; HsValBinds GhcPs -&gt; RnM ([Name], HsValBindsLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnLocalValBindsLHS"><span class="hs-identifier hs-var hs-var">rnLocalValBindsLHS</span></a></span></span><span> </span><span id="local-6989586621681361672"><span class="annot"><span class="annottext">MiniFixityEnv
</span><a href="#local-6989586621681361672"><span class="hs-identifier hs-var">fix_env</span></a></span></span><span> </span><span id="local-6989586621681361671"><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361671"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361670"><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361670"><span class="hs-identifier hs-var">binds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameMaker -&gt; HsValBinds GhcPs -&gt; RnM (HsValBindsLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnValBindsLHS"><span class="hs-identifier hs-var">rnValBindsLHS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MiniFixityEnv -&gt; NameMaker
</span><a href="GHC.Rename.Pat.html#localRecNameMaker"><span class="hs-identifier hs-var">localRecNameMaker</span></a></span><span> </span><span class="annot"><span class="annottext">MiniFixityEnv
</span><a href="#local-6989586621681361672"><span class="hs-identifier hs-var">fix_env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361671"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span>         </span><span class="hs-comment">-- Check for duplicates and shadowing</span><span>
</span><span id="line-253"></span><span>         </span><span class="hs-comment">-- Must do this *after* renaming the patterns</span><span>
</span><span id="line-254"></span><span>         </span><span class="hs-comment">-- See Note [Collect binders only after renaming] in GHC.Hs.Utils</span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span>         </span><span class="hs-comment">-- We need to check for dups here because we</span><span>
</span><span id="line-257"></span><span>         </span><span class="hs-comment">-- don't don't bind all of the variables from the ValBinds at once</span><span>
</span><span id="line-258"></span><span>         </span><span class="hs-comment">-- with bindLocatedLocals any more.</span><span>
</span><span id="line-259"></span><span>         </span><span class="hs-comment">--</span><span>
</span><span id="line-260"></span><span>         </span><span class="hs-comment">-- Note that we don't want to do this at the top level, since</span><span>
</span><span id="line-261"></span><span>         </span><span class="hs-comment">-- sorting out duplicates and shadowing there happens elsewhere.</span><span>
</span><span id="line-262"></span><span>         </span><span class="hs-comment">-- The behavior is even different. For example,</span><span>
</span><span id="line-263"></span><span>         </span><span class="hs-comment">--   import A(f)</span><span>
</span><span id="line-264"></span><span>         </span><span class="hs-comment">--   f = ...</span><span>
</span><span id="line-265"></span><span>         </span><span class="hs-comment">-- should not produce a shadowing warning (but it will produce</span><span>
</span><span id="line-266"></span><span>         </span><span class="hs-comment">-- an ambiguity warning if you use f), but</span><span>
</span><span id="line-267"></span><span>         </span><span class="hs-comment">--   import A(f)</span><span>
</span><span id="line-268"></span><span>         </span><span class="hs-comment">--   g = let f = ... in f</span><span>
</span><span id="line-269"></span><span>         </span><span class="hs-comment">-- should.</span><span>
</span><span id="line-270"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361668"><span class="annot"><span class="annottext">bound_names :: [IdP GhcRn]
</span><a href="#local-6989586621681361668"><span class="hs-identifier hs-var hs-var">bound_names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (idL :: Pass) (idR :: Pass).
CollectPass (GhcPass idL) =&gt;
CollectFlag (GhcPass idL)
-&gt; HsValBindsLR (GhcPass idL) (GhcPass idR) -&gt; [IdP (GhcPass idL)]
</span><a href="GHC.Hs.Utils.html#collectHsValBinders"><span class="hs-identifier hs-var">collectHsValBinders</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361670"><span class="hs-identifier hs-var">binds'</span></a></span><span>
</span><span id="line-271"></span><span>             </span><span class="hs-comment">-- There should be only Ids, but if there are any bogus</span><span>
</span><span id="line-272"></span><span>             </span><span class="hs-comment">-- pattern synonyms, we'll collect them anyway, so that</span><span>
</span><span id="line-273"></span><span>             </span><span class="hs-comment">-- we don't generate subsequent out-of-scope messages</span><span>
</span><span id="line-274"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361665"><span class="annot"><span class="annottext">(GlobalRdrEnv, LocalRdrEnv)
</span><a href="#local-6989586621681361665"><span class="hs-identifier hs-var">envs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TcRn (GlobalRdrEnv, LocalRdrEnv)
</span><a href="GHC.Tc.Utils.Monad.html#getRdrEnvs"><span class="hs-identifier hs-var">getRdrEnvs</span></a></span><span>
</span><span id="line-275"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrEnv, LocalRdrEnv) -&gt; [Name] -&gt; TcRn ()
</span><a href="GHC.Rename.Utils.html#checkDupAndShadowedNames"><span class="hs-identifier hs-var">checkDupAndShadowedNames</span></a></span><span> </span><span class="annot"><span class="annottext">(GlobalRdrEnv, LocalRdrEnv)
</span><a href="#local-6989586621681361665"><span class="hs-identifier hs-var">envs</span></a></span><span> </span><span class="annot"><span class="annottext">[IdP GhcRn]
</span><a href="#local-6989586621681361668"><span class="hs-identifier hs-var">bound_names</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[IdP GhcRn]
</span><a href="#local-6989586621681361668"><span class="hs-identifier hs-var">bound_names</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361670"><span class="hs-identifier hs-var">binds'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="hs-comment">-- renames the left-hand sides</span><span>
</span><span id="line-280"></span><span class="hs-comment">-- generic version used both at the top level and for local binds</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- does some error checking, but not what gets done elsewhere at the top level</span><span>
</span><span id="line-282"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnValBindsLHS"><span class="hs-identifier hs-type">rnValBindsLHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Pat.html#NameMaker"><span class="hs-identifier hs-type">NameMaker</span></a></span><span>
</span><span id="line-283"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-284"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBindsLR"><span class="hs-identifier hs-type">HsValBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span id="rnValBindsLHS"><span class="annot"><span class="annottext">rnValBindsLHS :: NameMaker -&gt; HsValBinds GhcPs -&gt; RnM (HsValBindsLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnValBindsLHS"><span class="hs-identifier hs-var hs-var">rnValBindsLHS</span></a></span></span><span> </span><span id="local-6989586621681361663"><span class="annot"><span class="annottext">NameMaker
</span><a href="#local-6989586621681361663"><span class="hs-identifier hs-var">topP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span> </span><span id="local-6989586621681361662"><span class="annot"><span class="annottext">XValBinds GhcPs GhcPs
</span><a href="#local-6989586621681361662"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681361661"><span class="annot"><span class="annottext">LHsBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681361661"><span class="hs-identifier hs-var">mbinds</span></a></span></span><span> </span><span id="local-6989586621681361660"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361660"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361659"><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcPs))
</span><a href="#local-6989586621681361659"><span class="hs-identifier hs-var">mbinds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Bag a -&gt; m (Bag b)
</span><a href="GHC.Data.Bag.html#mapBagM"><span class="hs-identifier hs-var">mapBagM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b ann.
(a -&gt; TcM b)
-&gt; GenLocated (SrcSpanAnn' ann) a
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) b)
</span><a href="GHC.Tc.Utils.Monad.html#wrapLocMA"><span class="hs-identifier hs-var">wrapLocMA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameMaker
-&gt; SDoc -&gt; HsBindLR GhcPs GhcPs -&gt; RnM (HsBindLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnBindLHS"><span class="hs-identifier hs-var">rnBindLHS</span></a></span><span> </span><span class="annot"><span class="annottext">NameMaker
</span><a href="#local-6989586621681361663"><span class="hs-identifier hs-var">topP</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681361655"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681361661"><span class="hs-identifier hs-var">mbinds</span></a></span><span>
</span><span id="line-287"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall idL idR.
XValBinds idL idR
-&gt; LHsBindsLR idL idR -&gt; [LSig idR] -&gt; HsValBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-var">ValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XValBinds GhcPs GhcPs
</span><a href="#local-6989586621681361662"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcPs))
</span><a href="#local-6989586621681361659"><span class="hs-identifier hs-var">mbinds'</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361660"><span class="hs-identifier hs-var">sigs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-289"></span><span>    </span><span id="local-6989586621681361654"><span class="annot"><span class="annottext">bndrs :: [IdP GhcPs]
</span><a href="#local-6989586621681361654"><span class="hs-identifier hs-var hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p idR.
CollectPass p =&gt;
CollectFlag p -&gt; LHsBindsLR p idR -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectHsBindsBinders"><span class="hs-identifier hs-var">collectHsBindsBinders</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681361661"><span class="hs-identifier hs-var">mbinds</span></a></span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621681361655"><span class="annot"><span class="annottext">doc :: SDoc
</span><a href="#local-6989586621681361655"><span class="hs-identifier hs-var hs-var">doc</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In the binding group for:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; SDoc) -&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[IdP GhcPs]
</span><a href="#local-6989586621681361654"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnValBindsLHS"><span class="hs-identifier hs-var">rnValBindsLHS</span></a></span><span> </span><span class="annot"><span class="annottext">NameMaker
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361649"><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361649"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rnValBindsLHSFromDoc&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361649"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- General version used both from the top-level and for local things</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- Assumes the LHS vars are in scope</span><span>
</span><span id="line-296"></span><span class="hs-comment">--</span><span>
</span><span id="line-297"></span><span class="hs-comment">-- Does not bind the local fixity declarations</span><span>
</span><span id="line-298"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnValBindsRHS"><span class="hs-identifier hs-type">rnValBindsRHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#HsSigCtxt"><span class="hs-identifier hs-type">HsSigCtxt</span></a></span><span>
</span><span id="line-299"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBindsLR"><span class="hs-identifier hs-type">HsValBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-300"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#DefUses"><span class="hs-identifier hs-type">DefUses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span id="rnValBindsRHS"><span class="annot"><span class="annottext">rnValBindsRHS :: HsSigCtxt
-&gt; HsValBindsLR GhcRn GhcPs -&gt; RnM (HsValBinds GhcRn, DefUses)
</span><a href="GHC.Rename.Bind.html#rnValBindsRHS"><span class="hs-identifier hs-var hs-var">rnValBindsRHS</span></a></span></span><span> </span><span id="local-6989586621681361648"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361648"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XValBinds GhcRn GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361647"><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361647"><span class="hs-identifier hs-var">mbinds</span></a></span></span><span> </span><span id="local-6989586621681361646"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361646"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361645"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361645"><span class="hs-identifier hs-var">sigs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361644"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361644"><span class="hs-identifier hs-var">sig_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; [XRec GhcPs (Sig GhcPs)] -&gt; RnM ([LSig GhcRn], NameSet)
</span><a href="GHC.Rename.Bind.html#renameSigs"><span class="hs-identifier hs-var">renameSigs</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361648"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361646"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-304"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361643"><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBind GhcRn), [Name], NameSet)
</span><a href="#local-6989586621681361643"><span class="hs-identifier hs-var">binds_w_dus</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Bag a -&gt; m (Bag b)
</span><a href="GHC.Data.Bag.html#mapBagM"><span class="hs-identifier hs-var">mapBagM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; [Name])
-&gt; LHsBindLR GhcRn GhcPs -&gt; RnM (LHsBind GhcRn, [Name], NameSet)
</span><a href="GHC.Rename.Bind.html#rnLBind"><span class="hs-identifier hs-var">rnLBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LSig GhcRn] -&gt; Name -&gt; [Name]
</span><a href="GHC.Rename.Bind.html#mkScopedTvFn"><span class="hs-identifier hs-var">mkScopedTvFn</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361645"><span class="hs-identifier hs-var">sigs'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361647"><span class="hs-identifier hs-var">mbinds</span></a></span><span>
</span><span id="line-305"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span id="local-6989586621681361640"><span class="annot"><span class="annottext">[(RecFlag, LHsBinds GhcRn)]
</span><a href="#local-6989586621681361640"><span class="hs-identifier hs-var">anal_binds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361639"><span class="annot"><span class="annottext">DefUses
</span><a href="#local-6989586621681361639"><span class="hs-identifier hs-var">anal_dus</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bag (LHsBind GhcRn, [Name], NameSet)
-&gt; ([(RecFlag, LHsBinds GhcRn)], DefUses)
</span><a href="GHC.Rename.Bind.html#depAnalBinds"><span class="hs-identifier hs-var">depAnalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBind GhcRn), [Name], NameSet)
</span><a href="#local-6989586621681361643"><span class="hs-identifier hs-var">binds_w_dus</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361637"><span class="annot"><span class="annottext">patsyn_fvs :: NameSet
</span><a href="#local-6989586621681361637"><span class="hs-identifier hs-var hs-var">patsyn_fvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#unionNameSet"><span class="hs-identifier hs-var">unionNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall idL idR. PatSynBind idL idR -&gt; XPSB idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#psb_ext"><span class="hs-identifier hs-var">psb_ext</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-308"></span><span>                          </span><span class="annot"><span class="annottext">forall id.
UnXRec id =&gt;
[(RecFlag, LHsBinds id)] -&gt; [PatSynBind id id]
</span><a href="GHC.Hs.Utils.html#getPatSynBinds"><span class="hs-identifier hs-var">getPatSynBinds</span></a></span><span> </span><span class="annot"><span class="annottext">[(RecFlag, LHsBinds GhcRn)]
</span><a href="#local-6989586621681361640"><span class="hs-identifier hs-var">anal_binds</span></a></span><span>
</span><span id="line-309"></span><span>                </span><span class="hs-comment">-- The uses in binds_w_dus for PatSynBinds do not include</span><span>
</span><span id="line-310"></span><span>                </span><span class="hs-comment">-- variables used in the patsyn builders; see</span><span>
</span><span id="line-311"></span><span>                </span><span class="hs-comment">-- Note [Pattern synonym builders don't yield dependencies]</span><span>
</span><span id="line-312"></span><span>                </span><span class="hs-comment">-- But psb_fvs /does/ include those builder fvs.  So we</span><span>
</span><span id="line-313"></span><span>                </span><span class="hs-comment">-- add them back in here to avoid bogus warnings about</span><span>
</span><span id="line-314"></span><span>                </span><span class="hs-comment">-- unused variables (#12548)</span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span>             </span><span id="local-6989586621681361631"><span class="annot"><span class="annottext">valbind'_dus :: DefUses
</span><a href="#local-6989586621681361631"><span class="hs-identifier hs-var hs-var">valbind'_dus</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefUses
</span><a href="#local-6989586621681361639"><span class="hs-identifier hs-var">anal_dus</span></a></span><span> </span><span class="annot"><span class="annottext">DefUses -&gt; DefUses -&gt; DefUses
</span><a href="GHC.Types.Name.Set.html#plusDU"><span class="hs-operator hs-var">`plusDU`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; DefUses
</span><a href="GHC.Types.Name.Set.html#usesOnly"><span class="hs-identifier hs-var">usesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361644"><span class="hs-identifier hs-var">sig_fvs</span></a></span><span>
</span><span id="line-317"></span><span>                                     </span><span class="annot"><span class="annottext">DefUses -&gt; DefUses -&gt; DefUses
</span><a href="GHC.Types.Name.Set.html#plusDU"><span class="hs-operator hs-var">`plusDU`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; DefUses
</span><a href="GHC.Types.Name.Set.html#usesOnly"><span class="hs-identifier hs-var">usesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361637"><span class="hs-identifier hs-var">patsyn_fvs</span></a></span><span>
</span><span id="line-318"></span><span>                            </span><span class="hs-comment">-- Put the sig uses *after* the bindings</span><span>
</span><span id="line-319"></span><span>                            </span><span class="hs-comment">-- so that the binders are removed from</span><span>
</span><span id="line-320"></span><span>                            </span><span class="hs-comment">-- the uses in the sigs</span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR. XXValBindsLR idL idR -&gt; HsValBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-var">XValBindsLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL.
[(RecFlag, LHsBinds idL)] -&gt; [LSig GhcRn] -&gt; NHsValBindsLR idL
</span><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-var">NValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">[(RecFlag, LHsBinds GhcRn)]
</span><a href="#local-6989586621681361640"><span class="hs-identifier hs-var">anal_binds</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361645"><span class="hs-identifier hs-var">sigs'</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DefUses
</span><a href="#local-6989586621681361631"><span class="hs-identifier hs-var">valbind'_dus</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnValBindsRHS"><span class="hs-identifier hs-var">rnValBindsRHS</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361629"><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361629"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rnValBindsRHS&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361629"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-comment">-- Wrapper for local binds</span><span>
</span><span id="line-327"></span><span class="hs-comment">--</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- The *client* of this function is responsible for checking for unused binders;</span><span>
</span><span id="line-329"></span><span class="hs-comment">-- it doesn't (and can't: we don't have the thing inside the binds) happen here</span><span>
</span><span id="line-330"></span><span class="hs-comment">--</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- The client is also responsible for bringing the fixities into scope</span><span>
</span><span id="line-332"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalValBindsRHS"><span class="hs-identifier hs-type">rnLocalValBindsRHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a></span><span>  </span><span class="hs-comment">-- names bound by the LHSes</span><span>
</span><span id="line-333"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBindsLR"><span class="hs-identifier hs-type">HsValBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-334"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#DefUses"><span class="hs-identifier hs-type">DefUses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span id="rnLocalValBindsRHS"><span class="annot"><span class="annottext">rnLocalValBindsRHS :: NameSet
-&gt; HsValBindsLR GhcRn GhcPs -&gt; RnM (HsValBinds GhcRn, DefUses)
</span><a href="GHC.Rename.Bind.html#rnLocalValBindsRHS"><span class="hs-identifier hs-var hs-var">rnLocalValBindsRHS</span></a></span></span><span> </span><span id="local-6989586621681361628"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361628"><span class="hs-identifier hs-var">bound_names</span></a></span></span><span> </span><span id="local-6989586621681361627"><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361627"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-336"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; HsValBindsLR GhcRn GhcPs -&gt; RnM (HsValBinds GhcRn, DefUses)
</span><a href="GHC.Rename.Bind.html#rnValBindsRHS"><span class="hs-identifier hs-var">rnValBindsRHS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSet -&gt; HsSigCtxt
</span><a href="GHC.Rename.Env.html#LocalBindCtxt"><span class="hs-identifier hs-var">LocalBindCtxt</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361628"><span class="hs-identifier hs-var">bound_names</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361627"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="hs-comment">-- for local binds</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- wrapper that does both the left- and right-hand sides</span><span>
</span><span id="line-340"></span><span class="hs-comment">--</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- here there are no local fixity decls passed in;</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- the local fixity decls come from the ValBinds sigs</span><span>
</span><span id="line-343"></span><span id="local-6989586621681362392"><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalValBindsAndThen"><span class="hs-identifier hs-type">rnLocalValBindsAndThen</span></a></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362392"><span class="hs-identifier hs-type">result</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362392"><span class="hs-identifier hs-type">result</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-347"></span><span id="rnLocalValBindsAndThen"><span class="annot"><span class="annottext">rnLocalValBindsAndThen :: forall result.
HsValBinds GhcPs
-&gt; (HsValBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet))
-&gt; RnM (result, NameSet)
</span><a href="GHC.Rename.Bind.html#rnLocalValBindsAndThen"><span class="hs-identifier hs-var hs-var">rnLocalValBindsAndThen</span></a></span></span><span> </span><span id="local-6989586621681361612"><span class="annot"><span class="annottext">binds :: HsValBinds GhcPs
</span><a href="#local-6989586621681361612"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XValBinds GhcPs GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcPs GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361611"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361611"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361610"><span class="annot"><span class="annottext">HsValBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet)
</span><a href="#local-6989586621681361610"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span>
</span><span id="line-348"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>   </span><span class="hs-special">{</span><span>     </span><span class="hs-comment">-- (A) Create the local fixity environment</span><span>
</span><span id="line-349"></span><span>          </span><span id="local-6989586621681361609"><span class="annot"><span class="annottext">MiniFixityEnv
</span><a href="#local-6989586621681361609"><span class="hs-identifier hs-var">new_fixities</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LFixitySig GhcPs] -&gt; RnM MiniFixityEnv
</span><a href="GHC.Rename.Bind.html#makeMiniFixityEnv"><span class="hs-identifier hs-var">makeMiniFixityEnv</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361607"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">FixitySig GhcPs
</span><a href="#local-6989586621681361606"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-350"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361607"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361607"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361606"><span class="annot"><span class="annottext">FixitySig GhcPs
</span><a href="#local-6989586621681361606"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361611"><span class="hs-identifier hs-var">sigs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span>              </span><span class="hs-comment">-- (B) Rename the LHSes</span><span>
</span><span id="line-353"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361604"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361604"><span class="hs-identifier hs-var">bound_names</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361603"><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361603"><span class="hs-identifier hs-var">new_lhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MiniFixityEnv
-&gt; HsValBinds GhcPs -&gt; RnM ([Name], HsValBindsLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnLocalValBindsLHS"><span class="hs-identifier hs-var">rnLocalValBindsLHS</span></a></span><span> </span><span class="annot"><span class="annottext">MiniFixityEnv
</span><a href="#local-6989586621681361609"><span class="hs-identifier hs-var">new_fixities</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361612"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span>              </span><span class="hs-comment">--     ...and bring them (and their fixities) into scope</span><span>
</span><span id="line-356"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall a. [Name] -&gt; RnM (a, NameSet) -&gt; RnM (a, NameSet)
</span><a href="GHC.Rename.Utils.html#bindLocalNamesFV"><span class="hs-identifier hs-var">bindLocalNamesFV</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361604"><span class="hs-identifier hs-var">bound_names</span></a></span><span>              </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-357"></span><span>          </span><span class="annot"><span class="annottext">forall a. MiniFixityEnv -&gt; [Name] -&gt; RnM a -&gt; RnM a
</span><a href="GHC.Rename.Fixity.html#addLocalFixities"><span class="hs-identifier hs-var">addLocalFixities</span></a></span><span> </span><span class="annot"><span class="annottext">MiniFixityEnv
</span><a href="#local-6989586621681361609"><span class="hs-identifier hs-var">new_fixities</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361604"><span class="hs-identifier hs-var">bound_names</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span>        </span><span class="hs-special">{</span><span>      </span><span class="hs-comment">-- (C) Do the RHS and thing inside</span><span>
</span><span id="line-360"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621681361601"><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621681361601"><span class="hs-identifier hs-var">binds'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361600"><span class="annot"><span class="annottext">DefUses
</span><a href="#local-6989586621681361600"><span class="hs-identifier hs-var">dus</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameSet
-&gt; HsValBindsLR GhcRn GhcPs -&gt; RnM (HsValBinds GhcRn, DefUses)
</span><a href="GHC.Rename.Bind.html#rnLocalValBindsRHS"><span class="hs-identifier hs-var">rnLocalValBindsRHS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#mkNameSet"><span class="hs-identifier hs-var">mkNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361604"><span class="hs-identifier hs-var">bound_names</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361603"><span class="hs-identifier hs-var">new_lhs</span></a></span><span>
</span><span id="line-361"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361598"><span class="annot"><span class="annottext">result
</span><a href="#local-6989586621681361598"><span class="hs-identifier hs-var">result</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361597"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361597"><span class="hs-identifier hs-var">result_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet)
</span><a href="#local-6989586621681361610"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621681361601"><span class="hs-identifier hs-var">binds'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefUses -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#allUses"><span class="hs-identifier hs-var">allUses</span></a></span><span> </span><span class="annot"><span class="annottext">DefUses
</span><a href="#local-6989586621681361600"><span class="hs-identifier hs-var">dus</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span>                </span><span class="hs-comment">-- Report unused bindings based on the (accurate)</span><span>
</span><span id="line-364"></span><span>                </span><span class="hs-comment">-- findUses.  E.g.</span><span>
</span><span id="line-365"></span><span>                </span><span class="hs-comment">--      let x = x in 3</span><span>
</span><span id="line-366"></span><span>                </span><span class="hs-comment">-- should report 'x' unused</span><span>
</span><span id="line-367"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361595"><span class="annot"><span class="annottext">real_uses :: NameSet
</span><a href="#local-6989586621681361595"><span class="hs-identifier hs-var hs-var">real_uses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefUses -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#findUses"><span class="hs-identifier hs-var">findUses</span></a></span><span> </span><span class="annot"><span class="annottext">DefUses
</span><a href="#local-6989586621681361600"><span class="hs-identifier hs-var">dus</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361597"><span class="hs-identifier hs-var">result_fvs</span></a></span><span>
</span><span id="line-368"></span><span>              </span><span class="hs-comment">-- Insert fake uses for variables introduced implicitly by</span><span>
</span><span id="line-369"></span><span>              </span><span class="hs-comment">-- wildcards (#4404)</span><span>
</span><span id="line-370"></span><span>              </span><span id="local-6989586621681361593"><span class="annot"><span class="annottext">rec_uses :: [(SrcSpan, [Name])]
</span><a href="#local-6989586621681361593"><span class="hs-identifier hs-var hs-var">rec_uses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (idR :: Pass).
HsValBindsLR GhcRn (GhcPass idR) -&gt; [(SrcSpan, [Name])]
</span><a href="GHC.Hs.Utils.html#hsValBindsImplicits"><span class="hs-identifier hs-var">hsValBindsImplicits</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621681361601"><span class="hs-identifier hs-var">binds'</span></a></span><span>
</span><span id="line-371"></span><span>              </span><span id="local-6989586621681361591"><span class="annot"><span class="annottext">implicit_uses :: NameSet
</span><a href="#local-6989586621681361591"><span class="hs-identifier hs-var hs-var">implicit_uses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#mkNameSet"><span class="hs-identifier hs-var">mkNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span>
</span><span id="line-372"></span><span>                                        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(SrcSpan, [Name])]
</span><a href="#local-6989586621681361593"><span class="hs-identifier hs-var">rec_uses</span></a></span><span>
</span><span id="line-373"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621681361588"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361588"><span class="hs-identifier hs-var">loc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361587"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361587"><span class="hs-identifier hs-var">ns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-374"></span><span>                    </span><span class="annot"><span class="annottext">SrcSpan -&gt; NameSet -&gt; Maybe [Name] -&gt; TcRn ()
</span><a href="GHC.Rename.Utils.html#checkUnusedRecordWildcard"><span class="hs-identifier hs-var">checkUnusedRecordWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361588"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361595"><span class="hs-identifier hs-var">real_uses</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361587"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>                </span><span class="annot"><span class="annottext">[(SrcSpan, [Name])]
</span><a href="#local-6989586621681361593"><span class="hs-identifier hs-var">rec_uses</span></a></span><span>
</span><span id="line-376"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; NameSet -&gt; TcRn ()
</span><a href="GHC.Rename.Utils.html#warnUnusedLocalBinds"><span class="hs-identifier hs-var">warnUnusedLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361604"><span class="hs-identifier hs-var">bound_names</span></a></span><span>
</span><span id="line-377"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361595"><span class="hs-identifier hs-var">real_uses</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#unionNameSet"><span class="hs-operator hs-var">`unionNameSet`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361591"><span class="hs-identifier hs-var">implicit_uses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-380"></span><span>            </span><span class="hs-comment">-- The variables &quot;used&quot; in the val binds are:</span><span>
</span><span id="line-381"></span><span>            </span><span class="hs-comment">--   (1) the uses of the binds (allUses)</span><span>
</span><span id="line-382"></span><span>            </span><span class="hs-comment">--   (2) the FVs of the thing-inside</span><span>
</span><span id="line-383"></span><span>            </span><span id="local-6989586621681361586"><span class="annot"><span class="annottext">all_uses :: NameSet
</span><a href="#local-6989586621681361586"><span class="hs-identifier hs-var hs-var">all_uses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefUses -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#allUses"><span class="hs-identifier hs-var">allUses</span></a></span><span> </span><span class="annot"><span class="annottext">DefUses
</span><a href="#local-6989586621681361600"><span class="hs-identifier hs-var">dus</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#plusFV"><span class="hs-operator hs-var">`plusFV`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361597"><span class="hs-identifier hs-var">result_fvs</span></a></span><span>
</span><span id="line-384"></span><span>                </span><span class="hs-comment">-- Note [Unused binding hack]</span><span>
</span><span id="line-385"></span><span>                </span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-386"></span><span>                </span><span class="hs-comment">-- Note that *in contrast* to the above reporting of</span><span>
</span><span id="line-387"></span><span>                </span><span class="hs-comment">-- unused bindings, (1) above uses duUses to return *all*</span><span>
</span><span id="line-388"></span><span>                </span><span class="hs-comment">-- the uses, even if the binding is unused.  Otherwise consider:</span><span>
</span><span id="line-389"></span><span>                </span><span class="hs-comment">--      x = 3</span><span>
</span><span id="line-390"></span><span>                </span><span class="hs-comment">--      y = let p = x in 'x'    -- NB: p not used</span><span>
</span><span id="line-391"></span><span>                </span><span class="hs-comment">-- If we don't &quot;see&quot; the dependency of 'y' on 'x', we may put the</span><span>
</span><span id="line-392"></span><span>                </span><span class="hs-comment">-- bindings in the wrong order, and the type checker will complain</span><span>
</span><span id="line-393"></span><span>                </span><span class="hs-comment">-- that x isn't in scope</span><span>
</span><span id="line-394"></span><span>                </span><span class="hs-comment">--</span><span>
</span><span id="line-395"></span><span>                </span><span class="hs-comment">-- But note that this means we won't report 'x' as unused,</span><span>
</span><span id="line-396"></span><span>                </span><span class="hs-comment">-- whereas we would if we had { x = 3; p = x; y = 'x' }</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">result
</span><a href="#local-6989586621681361598"><span class="hs-identifier hs-var">result</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361586"><span class="hs-identifier hs-var">all_uses</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-399"></span><span>                </span><span class="hs-comment">-- The bound names are pruned out of all_uses</span><span>
</span><span id="line-400"></span><span>                </span><span class="hs-comment">-- by the bindLocalNamesFV call above</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnLocalValBindsAndThen"><span class="hs-identifier hs-var">rnLocalValBindsAndThen</span></a></span><span> </span><span id="local-6989586621681361585"><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361585"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rnLocalValBindsAndThen&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcPs
</span><a href="#local-6989586621681361585"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span class="hs-comment">---------------------</span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-comment">-- renaming a single bind</span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnBindLHS"><span class="hs-identifier hs-type">rnBindLHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Pat.html#NameMaker"><span class="hs-identifier hs-type">NameMaker</span></a></span><span>
</span><span id="line-410"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-411"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-412"></span><span>          </span><span class="hs-comment">-- returns the renamed left-hand side,</span><span>
</span><span id="line-413"></span><span>          </span><span class="hs-comment">-- and the FreeVars *of the LHS*</span><span>
</span><span id="line-414"></span><span>          </span><span class="hs-comment">-- (i.e., any free variables of the pattern)</span><span>
</span><span id="line-415"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBindLR"><span class="hs-identifier hs-type">HsBindLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span id="rnBindLHS"><span class="annot"><span class="annottext">rnBindLHS :: NameMaker
-&gt; SDoc -&gt; HsBindLR GhcPs GhcPs -&gt; RnM (HsBindLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnBindLHS"><span class="hs-identifier hs-var hs-var">rnBindLHS</span></a></span></span><span> </span><span id="local-6989586621681361584"><span class="annot"><span class="annottext">NameMaker
</span><a href="#local-6989586621681361584"><span class="hs-identifier hs-var">name_maker</span></a></span></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361583"><span class="annot"><span class="annottext">bind :: HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361583"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-type">PatBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_lhs :: forall idL idR. HsBindLR idL idR -&gt; LPat idL
</span><a href="Language.Haskell.Syntax.Binds.html#pat_lhs"><span class="hs-identifier hs-var">pat_lhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361580"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681361580"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-419"></span><span>      </span><span class="hs-comment">-- we don't actually use the FV processing of rnPatsAndThen here</span><span>
</span><span id="line-420"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681361579"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcRn)
</span><a href="#local-6989586621681361579"><span class="hs-identifier hs-var">pat'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681361578"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361578"><span class="hs-identifier hs-var">pat'_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameMaker -&gt; LPat GhcPs -&gt; RnM (LPat GhcRn, NameSet)
</span><a href="GHC.Rename.Pat.html#rnBindPat"><span class="hs-identifier hs-var">rnBindPat</span></a></span><span> </span><span class="annot"><span class="annottext">NameMaker
</span><a href="#local-6989586621681361584"><span class="hs-identifier hs-var">name_maker</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681361580"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-421"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361583"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_lhs :: LPat GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#pat_lhs"><span class="hs-identifier hs-var">pat_lhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcRn)
</span><a href="#local-6989586621681361579"><span class="hs-identifier hs-var">pat'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_ext :: XPatBind GhcRn GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#pat_ext"><span class="hs-identifier hs-var">pat_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361578"><span class="hs-identifier hs-var">pat'_fvs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span>                </span><span class="hs-comment">-- We temporarily store the pat's FVs in bind_fvs;</span><span>
</span><span id="line-423"></span><span>                </span><span class="hs-comment">-- gets updated to the FVs of the whole bind</span><span>
</span><span id="line-424"></span><span>                </span><span class="hs-comment">-- when doing the RHS below</span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnBindLHS"><span class="hs-identifier hs-var">rnBindLHS</span></a></span><span> </span><span id="local-6989586621681361575"><span class="annot"><span class="annottext">NameMaker
</span><a href="#local-6989586621681361575"><span class="hs-identifier hs-var">name_maker</span></a></span></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361574"><span class="annot"><span class="annottext">bind :: HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361574"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361571"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361571"><span class="hs-identifier hs-var">rdr_name</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361570"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361570"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameMaker -&gt; LocatedN RdrName -&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Pat.html#applyNameMaker"><span class="hs-identifier hs-var">applyNameMaker</span></a></span><span> </span><span class="annot"><span class="annottext">NameMaker
</span><a href="#local-6989586621681361575"><span class="hs-identifier hs-var">name_maker</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361571"><span class="hs-identifier hs-var">rdr_name</span></a></span><span>
</span><span id="line-428"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361574"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: LIdP GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361570"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-429"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_ext :: XFunBind GhcRn GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#fun_ext"><span class="hs-identifier hs-var">fun_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnBindLHS"><span class="hs-identifier hs-var">rnBindLHS</span></a></span><span> </span><span id="local-6989586621681361567"><span class="annot"><span class="annottext">NameMaker
</span><a href="#local-6989586621681361567"><span class="hs-identifier hs-var">name_maker</span></a></span></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-type">PatSynBind</span></a></span><span> </span><span id="local-6989586621681361565"><span class="annot"><span class="annottext">XPatSynBind GhcPs GhcPs
</span><a href="#local-6989586621681361565"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681361564"><span class="annot"><span class="annottext">psb :: PatSynBind GhcPs GhcPs
</span><a href="#local-6989586621681361564"><span class="hs-identifier hs-var">psb</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PSB"><span class="hs-identifier hs-type">PSB</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">psb_id :: forall idL idR. PatSynBind idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#psb_id"><span class="hs-identifier hs-var">psb_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361561"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361561"><span class="hs-identifier hs-var">rdrname</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameMaker -&gt; Bool
</span><a href="GHC.Rename.Pat.html#isTopRecNameMaker"><span class="hs-identifier hs-var">isTopRecNameMaker</span></a></span><span> </span><span class="annot"><span class="annottext">NameMaker
</span><a href="#local-6989586621681361567"><span class="hs-identifier hs-var">name_maker</span></a></span><span>
</span><span id="line-433"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">forall a b ann.
(a -&gt; TcM b) -&gt; GenLocated (SrcSpanAnn' ann) a -&gt; TcM b
</span><a href="GHC.Tc.Utils.Monad.html#addLocMA"><span class="hs-identifier hs-var">addLocMA</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; TcRn ()
</span><a href="GHC.Rename.Names.html#checkConName"><span class="hs-identifier hs-var">checkConName</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361561"><span class="hs-identifier hs-var">rdrname</span></a></span><span>
</span><span id="line-434"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361557"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361557"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedN RdrName -&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Env.html#lookupLocatedTopBndrRnN"><span class="hs-identifier hs-var">lookupLocatedTopBndrRnN</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361561"><span class="hs-identifier hs-var">rdrname</span></a></span><span> </span><span class="hs-comment">-- Should be in scope already</span><span>
</span><span id="line-435"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR.
XPatSynBind idL idR -&gt; PatSynBind idL idR -&gt; HsBindLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-var">PatSynBind</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynBind GhcPs GhcPs
</span><a href="#local-6989586621681361565"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">PatSynBind GhcPs GhcPs
</span><a href="#local-6989586621681361564"><span class="hs-identifier hs-var">psb</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">psb_ext :: XPSB GhcRn GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#psb_ext"><span class="hs-identifier hs-var">psb_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_id :: LIdP GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#psb_id"><span class="hs-identifier hs-var">psb_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361557"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>  </span><span class="hs-comment">-- Pattern synonym, not at top level</span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addErr"><span class="hs-identifier hs-var">addErr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681361554"><span class="hs-identifier hs-var">localPatternSynonymErr</span></a></span><span>  </span><span class="hs-comment">-- Complain, but make up a fake</span><span>
</span><span id="line-439"></span><span>                                        </span><span class="hs-comment">-- name so that we can carry on</span><span>
</span><span id="line-440"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361553"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361553"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameMaker -&gt; LocatedN RdrName -&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Pat.html#applyNameMaker"><span class="hs-identifier hs-var">applyNameMaker</span></a></span><span> </span><span class="annot"><span class="annottext">NameMaker
</span><a href="#local-6989586621681361567"><span class="hs-identifier hs-var">name_maker</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361561"><span class="hs-identifier hs-var">rdrname</span></a></span><span>
</span><span id="line-441"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR.
XPatSynBind idL idR -&gt; PatSynBind idL idR -&gt; HsBindLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-var">PatSynBind</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynBind GhcPs GhcPs
</span><a href="#local-6989586621681361565"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">PatSynBind GhcPs GhcPs
</span><a href="#local-6989586621681361564"><span class="hs-identifier hs-var">psb</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">psb_ext :: XPSB GhcRn GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#psb_ext"><span class="hs-identifier hs-var">psb_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_id :: LIdP GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#psb_id"><span class="hs-identifier hs-var">psb_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361553"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-443"></span><span>    </span><span class="annot"><a href="#local-6989586621681361554"><span class="hs-identifier hs-type">localPatternSynonymErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-444"></span><span>    </span><span id="local-6989586621681361554"><span class="annot"><span class="annottext">localPatternSynonymErr :: SDoc
</span><a href="#local-6989586621681361554"><span class="hs-identifier hs-var hs-var">localPatternSynonymErr</span></a></span></span><span>
</span><span id="line-445"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal pattern synonym declaration for&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361561"><span class="hs-identifier hs-var">rdrname</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span>           </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Pattern synonym declarations are only valid at top level&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnBindLHS"><span class="hs-identifier hs-var">rnBindLHS</span></a></span><span> </span><span class="annot"><span class="annottext">NameMaker
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361550"><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361550"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rnBindHS&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361550"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnLBind"><span class="hs-identifier hs-type">rnLBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- Signature tyvar function</span><span>
</span><span id="line-451"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBindLR"><span class="hs-identifier hs-type">LHsBindLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-452"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#Uses"><span class="hs-identifier hs-type">Uses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-453"></span><span id="rnLBind"><span class="annot"><span class="annottext">rnLBind :: (Name -&gt; [Name])
-&gt; LHsBindLR GhcRn GhcPs -&gt; RnM (LHsBind GhcRn, [Name], NameSet)
</span><a href="GHC.Rename.Bind.html#rnLBind"><span class="hs-identifier hs-var hs-var">rnLBind</span></a></span></span><span> </span><span id="local-6989586621681361548"><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><a href="#local-6989586621681361548"><span class="hs-identifier hs-var">sig_fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361547"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361547"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681361546"><span class="annot"><span class="annottext">HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361546"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-454"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann a. SrcSpanAnn' ann -&gt; TcRn a -&gt; TcRn a
</span><a href="GHC.Tc.Utils.Monad.html#setSrcSpanA"><span class="hs-identifier hs-var">setSrcSpanA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361547"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-455"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361544"><span class="annot"><span class="annottext">HsBind GhcRn
</span><a href="#local-6989586621681361544"><span class="hs-identifier hs-var">bind'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361543"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361543"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361542"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361542"><span class="hs-identifier hs-var">dus</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; [Name])
-&gt; HsBindLR GhcRn GhcPs -&gt; RnM (HsBind GhcRn, [Name], NameSet)
</span><a href="GHC.Rename.Bind.html#rnBind"><span class="hs-identifier hs-var">rnBind</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><a href="#local-6989586621681361548"><span class="hs-identifier hs-var">sig_fn</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361546"><span class="hs-identifier hs-var">bind</span></a></span><span>
</span><span id="line-456"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361547"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsBind GhcRn
</span><a href="#local-6989586621681361544"><span class="hs-identifier hs-var">bind'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361543"><span class="hs-identifier hs-var">bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361542"><span class="hs-identifier hs-var">dus</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="hs-comment">-- assumes the left-hands-side vars are in scope</span><span>
</span><span id="line-459"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnBind"><span class="hs-identifier hs-type">rnBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>        </span><span class="hs-comment">-- Signature tyvar function</span><span>
</span><span id="line-460"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBindLR"><span class="hs-identifier hs-type">HsBindLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-461"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#Uses"><span class="hs-identifier hs-type">Uses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span id="rnBind"><span class="annot"><span class="annottext">rnBind :: (Name -&gt; [Name])
-&gt; HsBindLR GhcRn GhcPs -&gt; RnM (HsBind GhcRn, [Name], NameSet)
</span><a href="GHC.Rename.Bind.html#rnBind"><span class="hs-identifier hs-var hs-var">rnBind</span></a></span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361540"><span class="annot"><span class="annottext">bind :: HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361540"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-type">PatBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_lhs :: forall idL idR. HsBindLR idL idR -&gt; LPat idL
</span><a href="Language.Haskell.Syntax.Binds.html#pat_lhs"><span class="hs-identifier hs-var">pat_lhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361539"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621681361539"><span class="hs-identifier hs-var">pat</span></a></span></span><span>
</span><span id="line-463"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_rhs :: forall idL idR. HsBindLR idL idR -&gt; GRHSs idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#pat_rhs"><span class="hs-identifier hs-var">pat_rhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361537"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681361537"><span class="hs-identifier hs-var">grhss</span></a></span></span><span>
</span><span id="line-464"></span><span>                                   </span><span class="hs-comment">-- pat fvs were stored in bind_fvs</span><span>
</span><span id="line-465"></span><span>                                   </span><span class="hs-comment">-- after processing the LHS</span><span>
</span><span id="line-466"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_ext :: forall idL idR. HsBindLR idL idR -&gt; XPatBind idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#pat_ext"><span class="hs-identifier hs-var">pat_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361536"><span class="annot"><span class="annottext">XPatBind GhcRn GhcPs
</span><a href="#local-6989586621681361536"><span class="hs-identifier hs-var">pat_fvs</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361535"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681361535"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). HasModule m =&gt; m Module
</span><a href="GHC.Unit.Module.html#getModule"><span class="hs-identifier hs-var">getModule</span></a></span><span>
</span><span id="line-468"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361533"><span class="annot"><span class="annottext">GRHSs GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621681361533"><span class="hs-identifier hs-var">grhss'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361532"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361532"><span class="hs-identifier hs-var">rhs_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (body :: * -&gt; *).
AnnoBody body =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; GRHSs GhcPs (LocatedA (body GhcPs))
-&gt; RnM (GRHSs GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnGRHSs"><span class="hs-identifier hs-var">rnGRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsMatchContext p
</span><a href="Language.Haskell.Syntax.Expr.html#PatBindRhs"><span class="hs-identifier hs-var">PatBindRhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; RnM (LHsExpr GhcRn, NameSet)
</span><a href="GHC.Rename.Expr.html#rnLExpr"><span class="hs-identifier hs-var">rnLExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681361537"><span class="hs-identifier hs-var">grhss</span></a></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span>                </span><span class="hs-comment">-- No scoped type variables for pattern bindings</span><span>
</span><span id="line-471"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361530"><span class="annot"><span class="annottext">all_fvs :: NameSet
</span><a href="#local-6989586621681361530"><span class="hs-identifier hs-var hs-var">all_fvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XPatBind GhcRn GhcPs
</span><a href="#local-6989586621681361536"><span class="hs-identifier hs-var">pat_fvs</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#plusFV"><span class="hs-operator hs-var">`plusFV`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361532"><span class="hs-identifier hs-var">rhs_fvs</span></a></span><span>
</span><span id="line-472"></span><span>              </span><span id="local-6989586621681361529"><span class="annot"><span class="annottext">fvs' :: NameSet
</span><a href="#local-6989586621681361529"><span class="hs-identifier hs-var hs-var">fvs'</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Bool) -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#filterNameSet"><span class="hs-identifier hs-var">filterNameSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; Name -&gt; Bool
</span><a href="GHC.Types.Name.html#nameIsLocalOrFrom"><span class="hs-identifier hs-var">nameIsLocalOrFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681361535"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361530"><span class="hs-identifier hs-var">all_fvs</span></a></span><span>
</span><span id="line-473"></span><span>                </span><span class="hs-comment">-- Keep locally-defined Names</span><span>
</span><span id="line-474"></span><span>                </span><span class="hs-comment">-- As well as dependency analysis, we need these for the</span><span>
</span><span id="line-475"></span><span>                </span><span class="hs-comment">-- MonoLocalBinds test in GHC.Tc.Gen.Bind.decideGeneralisationPlan</span><span>
</span><span id="line-476"></span><span>              </span><span id="local-6989586621681361526"><span class="annot"><span class="annottext">bndrs :: [IdP GhcRn]
</span><a href="#local-6989586621681361526"><span class="hs-identifier hs-var hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p. CollectPass p =&gt; CollectFlag p -&gt; LPat p -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectPatBinders"><span class="hs-identifier hs-var">collectPatBinders</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621681361539"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-477"></span><span>              </span><span id="local-6989586621681361524"><span class="annot"><span class="annottext">bind' :: HsBind GhcRn
</span><a href="#local-6989586621681361524"><span class="hs-identifier hs-var hs-var">bind'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361540"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_rhs :: GRHSs GhcRn (LHsExpr GhcRn)
</span><a href="Language.Haskell.Syntax.Binds.html#pat_rhs"><span class="hs-identifier hs-var">pat_rhs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621681361533"><span class="hs-identifier hs-var">grhss'</span></a></span><span>
</span><span id="line-478"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_ext :: XPatBind GhcRn GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#pat_ext"><span class="hs-identifier hs-var">pat_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361529"><span class="hs-identifier hs-var">fvs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span>              </span><span id="local-6989586621681361523"><span class="annot"><span class="annottext">ok_nobind_pat :: Bool
</span><a href="#local-6989586621681361523"><span class="hs-identifier hs-var hs-var">ok_nobind_pat</span></a></span></span><span>
</span><span id="line-481"></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- See Note [Pattern bindings that bind no variables]</span><span>
</span><span id="line-482"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621681361539"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-483"></span><span>                       </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#WildPat"><span class="hs-identifier hs-type">WildPat</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-484"></span><span>                       </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#BangPat"><span class="hs-identifier hs-type">BangPat</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-comment">-- #9127, #13646</span><span>
</span><span id="line-485"></span><span>                       </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#SplicePat"><span class="hs-identifier hs-type">SplicePat</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-486"></span><span>                       </span><span class="annot"><span class="annottext">Pat GhcRn
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span>        </span><span class="hs-comment">-- Warn if the pattern binds no variables</span><span>
</span><span id="line-489"></span><span>        </span><span class="hs-comment">-- See Note [Pattern bindings that bind no variables]</span><span>
</span><span id="line-490"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall gbl lcl.
WarningFlag -&gt; TcRnIf gbl lcl () -&gt; TcRnIf gbl lcl ()
</span><a href="GHC.Tc.Utils.Monad.html#whenWOptM"><span class="hs-identifier hs-var">whenWOptM</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="GHC.Driver.Flags.html#Opt_WarnUnusedPatternBinds"><span class="hs-identifier hs-var">Opt_WarnUnusedPatternBinds</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-491"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[IdP GhcRn]
</span><a href="#local-6989586621681361526"><span class="hs-identifier hs-var">bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361523"><span class="hs-identifier hs-var">ok_nobind_pat</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-492"></span><span>          </span><span class="annot"><span class="annottext">WarnReason -&gt; SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addWarn"><span class="hs-identifier hs-var">addWarn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WarningFlag -&gt; WarnReason
</span><a href="GHC.Driver.Flags.html#Reason"><span class="hs-identifier hs-var">Reason</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="GHC.Driver.Flags.html#Opt_WarnUnusedPatternBinds"><span class="hs-identifier hs-var">Opt_WarnUnusedPatternBinds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-493"></span><span>          </span><span class="annot"><span class="annottext">HsBind GhcRn -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#unusedPatBindWarn"><span class="hs-identifier hs-var">unusedPatBindWarn</span></a></span><span> </span><span class="annot"><span class="annottext">HsBind GhcRn
</span><a href="#local-6989586621681361524"><span class="hs-identifier hs-var">bind'</span></a></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361529"><span class="hs-identifier hs-var">fvs'</span></a></span><span> </span><span class="annot"><span class="annottext">seq :: forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-type">`seq`</span></span><span> </span><span class="hs-comment">-- See Note [Free-variable space leak]</span><span>
</span><span id="line-496"></span><span>          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsBind GhcRn
</span><a href="#local-6989586621681361524"><span class="hs-identifier hs-var">bind'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[IdP GhcRn]
</span><a href="#local-6989586621681361526"><span class="hs-identifier hs-var">bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361530"><span class="hs-identifier hs-var">all_fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnBind"><span class="hs-identifier hs-var">rnBind</span></a></span><span> </span><span id="local-6989586621681361509"><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><a href="#local-6989586621681361509"><span class="hs-identifier hs-var">sig_fn</span></a></span></span><span> </span><span id="local-6989586621681361508"><span class="annot"><span class="annottext">bind :: HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361508"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361507"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621681361507"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-499"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_matches :: forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361505"><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681361505"><span class="hs-identifier hs-var">matches</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>       </span><span class="hs-comment">-- invariant: no free vars here when it's a FunBind</span><span>
</span><span id="line-501"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361504"><span class="annot"><span class="annottext">plain_name :: Name
</span><a href="#local-6989586621681361504"><span class="hs-identifier hs-var hs-var">plain_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621681361507"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361503"><span class="annot"><span class="annottext">MatchGroup GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621681361503"><span class="hs-identifier hs-var">matches'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361502"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361502"><span class="hs-identifier hs-var">rhs_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. [Name] -&gt; RnM (a, NameSet) -&gt; RnM (a, NameSet)
</span><a href="GHC.Rename.HsType.html#bindSigTyVarsFV"><span class="hs-identifier hs-var">bindSigTyVarsFV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><a href="#local-6989586621681361509"><span class="hs-identifier hs-var">sig_fn</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361504"><span class="hs-identifier hs-var">plain_name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-504"></span><span>                                </span><span class="hs-comment">-- bindSigTyVars tests for LangExt.ScopedTyVars</span><span>
</span><span id="line-505"></span><span>                                 </span><span class="annot"><span class="annottext">forall (body :: * -&gt; *).
(Outputable (body GhcPs), AnnoBody body) =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; MatchGroup GhcPs (LocatedA (body GhcPs))
-&gt; RnM (MatchGroup GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnMatchGroup"><span class="hs-identifier hs-var">rnMatchGroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. LIdP p -&gt; HsMatchContext p
</span><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-var">mkPrefixFunRhs</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621681361507"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-506"></span><span>                                              </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; RnM (LHsExpr GhcRn, NameSet)
</span><a href="GHC.Rename.Expr.html#rnLExpr"><span class="hs-identifier hs-var">rnLExpr</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681361505"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-507"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361499"><span class="annot"><span class="annottext">is_infix :: Bool
</span><a href="#local-6989586621681361499"><span class="hs-identifier hs-var hs-var">is_infix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall id1 id2. UnXRec id2 =&gt; HsBindLR id1 id2 -&gt; Bool
</span><a href="GHC.Hs.Utils.html#isInfixFunBind"><span class="hs-identifier hs-var">isInfixFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361508"><span class="hs-identifier hs-var">bind</span></a></span><span>
</span><span id="line-508"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361499"><span class="hs-identifier hs-var">is_infix</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall body. Name -&gt; MatchGroup GhcRn body -&gt; TcRn ()
</span><a href="GHC.Rename.HsType.html#checkPrecMatch"><span class="hs-identifier hs-var">checkPrecMatch</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361504"><span class="hs-identifier hs-var">plain_name</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621681361503"><span class="hs-identifier hs-var">matches'</span></a></span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361496"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681361496"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). HasModule m =&gt; m Module
</span><a href="GHC.Unit.Module.html#getModule"><span class="hs-identifier hs-var">getModule</span></a></span><span>
</span><span id="line-511"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361495"><span class="annot"><span class="annottext">fvs' :: NameSet
</span><a href="#local-6989586621681361495"><span class="hs-identifier hs-var hs-var">fvs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Bool) -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#filterNameSet"><span class="hs-identifier hs-var">filterNameSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; Name -&gt; Bool
</span><a href="GHC.Types.Name.html#nameIsLocalOrFrom"><span class="hs-identifier hs-var">nameIsLocalOrFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681361496"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361502"><span class="hs-identifier hs-var">rhs_fvs</span></a></span><span>
</span><span id="line-512"></span><span>                </span><span class="hs-comment">-- Keep locally-defined Names</span><span>
</span><span id="line-513"></span><span>                </span><span class="hs-comment">-- As well as dependency analysis, we need these for the</span><span>
</span><span id="line-514"></span><span>                </span><span class="hs-comment">-- MonoLocalBinds test in GHC.Tc.Gen.Bind.decideGeneralisationPlan</span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361495"><span class="hs-identifier hs-var">fvs'</span></a></span><span> </span><span class="annot"><span class="annottext">seq :: forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-type">`seq`</span></span><span> </span><span class="hs-comment">-- See Note [Free-variable space leak]</span><span>
</span><span id="line-517"></span><span>          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361508"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_matches :: MatchGroup GhcRn (LHsExpr GhcRn)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621681361503"><span class="hs-identifier hs-var">matches'</span></a></span><span>
</span><span id="line-518"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_ext :: XFunBind GhcRn GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#fun_ext"><span class="hs-identifier hs-var">fun_ext</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361495"><span class="hs-identifier hs-var">fvs'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">,</span><span>
</span><span id="line-519"></span><span>                  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361504"><span class="hs-identifier hs-var">plain_name</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361502"><span class="hs-identifier hs-var">rhs_fvs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-520"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnBind"><span class="hs-identifier hs-var">rnBind</span></a></span><span> </span><span id="local-6989586621681361494"><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><a href="#local-6989586621681361494"><span class="hs-identifier hs-var">sig_fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-type">PatSynBind</span></a></span><span> </span><span id="local-6989586621681361493"><span class="annot"><span class="annottext">XPatSynBind GhcRn GhcPs
</span><a href="#local-6989586621681361493"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681361492"><span class="annot"><span class="annottext">PatSynBind GhcRn GhcPs
</span><a href="#local-6989586621681361492"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361491"><span class="annot"><span class="annottext">PatSynBind GhcRn GhcRn
</span><a href="#local-6989586621681361491"><span class="hs-identifier hs-var">bind'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361490"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361490"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361489"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361489"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; [Name])
-&gt; PatSynBind GhcRn GhcPs
-&gt; RnM (PatSynBind GhcRn GhcRn, [Name], NameSet)
</span><a href="GHC.Rename.Bind.html#rnPatSynBind"><span class="hs-identifier hs-var">rnPatSynBind</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><a href="#local-6989586621681361494"><span class="hs-identifier hs-var">sig_fn</span></a></span><span> </span><span class="annot"><span class="annottext">PatSynBind GhcRn GhcPs
</span><a href="#local-6989586621681361492"><span class="hs-identifier hs-var">bind</span></a></span><span>
</span><span id="line-524"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR.
XPatSynBind idL idR -&gt; PatSynBind idL idR -&gt; HsBindLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-var">PatSynBind</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynBind GhcRn GhcPs
</span><a href="#local-6989586621681361493"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">PatSynBind GhcRn GhcRn
</span><a href="#local-6989586621681361491"><span class="hs-identifier hs-var">bind'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361490"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361489"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-525"></span><span>
</span><span id="line-526"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnBind"><span class="hs-identifier hs-var">rnBind</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361487"><span class="annot"><span class="annottext">HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361487"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rnBind&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361487"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="hs-comment">{- Note [Pattern bindings that bind no variables]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Generally, we want to warn about pattern bindings like
  Just _ = e
because they don't do anything!  But we have three exceptions:

* A wildcard pattern
       _ = rhs
  which (a) is not that different from  _v = rhs
        (b) is sometimes used to give a type sig for,
            or an occurrence of, a variable on the RHS

* A strict pattern binding; that is, one with an outermost bang
     !Just _ = e
  This can fail, so unlike the lazy variant, it is not a no-op.
  Moreover, #13646 argues that even for single constructor
  types, you might want to write the constructor.  See also #9127.

* A splice pattern
      $(th-lhs) = rhs
   It is impossible to determine whether or not th-lhs really
   binds any variable. We should disable the warning for any pattern
   which contain splices, but that is a more expensive check.

Note [Free-variable space leak]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
We have
    fvs' = trim fvs
and we seq fvs' before turning it as part of a record.

The reason is that trim is sometimes something like
    \xs -&gt; intersectNameSet (mkNameSet bound_names) xs
and we don't want to retain the list bound_names. This showed up in
trac ticket #1136.
-}</span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span class="hs-comment">{- *********************************************************************
*                                                                      *
          Dependency analysis and other support functions
*                                                                      *
********************************************************************* -}</span><span>
</span><span id="line-569"></span><span>
</span><span id="line-570"></span><span class="annot"><a href="GHC.Rename.Bind.html#depAnalBinds"><span class="hs-identifier hs-type">depAnalBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#Uses"><span class="hs-identifier hs-type">Uses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#RecFlag"><span class="hs-identifier hs-type">RecFlag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#DefUses"><span class="hs-identifier hs-type">DefUses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span class="hs-comment">-- Dependency analysis; this is important so that</span><span>
</span><span id="line-573"></span><span class="hs-comment">-- unused-binding reporting is accurate</span><span>
</span><span id="line-574"></span><span id="depAnalBinds"><span class="annot"><span class="annottext">depAnalBinds :: Bag (LHsBind GhcRn, [Name], NameSet)
-&gt; ([(RecFlag, LHsBinds GhcRn)], DefUses)
</span><a href="GHC.Rename.Bind.html#depAnalBinds"><span class="hs-identifier hs-var hs-var">depAnalBinds</span></a></span></span><span> </span><span id="local-6989586621681361486"><span class="annot"><span class="annottext">Bag (LHsBind GhcRn, [Name], NameSet)
</span><a href="#local-6989586621681361486"><span class="hs-identifier hs-var">binds_w_dus</span></a></span></span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a} {b} {c}. SCC (a, b, c) -&gt; (RecFlag, Bag a)
</span><a href="#local-6989586621681361485"><span class="hs-identifier hs-var">get_binds</span></a></span><span> </span><span class="annot"><span class="annottext">[SCC (GenLocated SrcSpanAnnA (HsBind GhcRn), [Name], NameSet)]
</span><a href="#local-6989586621681361484"><span class="hs-identifier hs-var">sccs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; OrdList a
</span><a href="GHC.Data.OrdList.html#toOL"><span class="hs-identifier hs-var">toOL</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a}. SCC (a, [Name], NameSet) -&gt; (Maybe NameSet, NameSet)
</span><a href="#local-6989586621681361482"><span class="hs-identifier hs-var">get_du</span></a></span><span> </span><span class="annot"><span class="annottext">[SCC (GenLocated SrcSpanAnnA (HsBind GhcRn), [Name], NameSet)]
</span><a href="#local-6989586621681361484"><span class="hs-identifier hs-var">sccs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-576"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-577"></span><span>    </span><span id="local-6989586621681361484"><span class="annot"><span class="annottext">sccs :: [SCC (GenLocated SrcSpanAnnA (HsBind GhcRn), [Name], NameSet)]
</span><a href="#local-6989586621681361484"><span class="hs-identifier hs-var hs-var">sccs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall node.
(node -&gt; [Name]) -&gt; (node -&gt; [Name]) -&gt; [node] -&gt; [SCC node]
</span><a href="GHC.Types.Name.Env.html#depAnal"><span class="hs-identifier hs-var">depAnal</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsBind GhcRn)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361480"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361480"><span class="hs-identifier hs-var">defs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361480"><span class="hs-identifier hs-var">defs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-578"></span><span>                   </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsBind GhcRn)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361479"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361479"><span class="hs-identifier hs-var">uses</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall elt. UniqSet elt -&gt; [elt]
</span><a href="GHC.Types.Unique.Set.html#nonDetEltsUniqSet"><span class="hs-identifier hs-var">nonDetEltsUniqSet</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361479"><span class="hs-identifier hs-var">uses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>                   </span><span class="hs-comment">-- It's OK to use nonDetEltsUniqSet here as explained in</span><span>
</span><span id="line-580"></span><span>                   </span><span class="hs-comment">-- Note [depAnal determinism] in GHC.Types.Name.Env.</span><span>
</span><span id="line-581"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Bag a -&gt; [a]
</span><a href="GHC.Data.Bag.html#bagToList"><span class="hs-identifier hs-var">bagToList</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (LHsBind GhcRn, [Name], NameSet)
</span><a href="#local-6989586621681361486"><span class="hs-identifier hs-var">binds_w_dus</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-582"></span><span>
</span><span id="line-583"></span><span>    </span><span id="local-6989586621681361485"><span class="annot"><span class="annottext">get_binds :: SCC (a, b, c) -&gt; (RecFlag, Bag a)
</span><a href="#local-6989586621681361485"><span class="hs-identifier hs-var hs-var">get_binds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Graph.html#AcyclicSCC"><span class="hs-identifier hs-type">AcyclicSCC</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361475"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681361475"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RecFlag
</span><a href="GHC.Types.Basic.html#NonRecursive"><span class="hs-identifier hs-var">NonRecursive</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#unitBag"><span class="hs-identifier hs-var">unitBag</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681361475"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-584"></span><span>    </span><span class="annot"><a href="#local-6989586621681361485"><span class="hs-identifier hs-var">get_binds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Graph.html#CyclicSCC"><span class="hs-identifier hs-type">CyclicSCC</span></a></span><span>  </span><span id="local-6989586621681361471"><span class="annot"><span class="annottext">[(a, b, c)]
</span><a href="#local-6989586621681361471"><span class="hs-identifier hs-var">binds_w_dus</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RecFlag
</span><a href="GHC.Types.Basic.html#Recursive"><span class="hs-identifier hs-var">Recursive</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Bag a
</span><a href="GHC.Data.Bag.html#listToBag"><span class="hs-identifier hs-var">listToBag</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681361468"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361468"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681361468"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">c
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(a, b, c)]
</span><a href="#local-6989586621681361471"><span class="hs-identifier hs-var">binds_w_dus</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-585"></span><span>
</span><span id="line-586"></span><span>    </span><span id="local-6989586621681361482"><span class="annot"><span class="annottext">get_du :: SCC (a, [Name], NameSet) -&gt; (Maybe NameSet, NameSet)
</span><a href="#local-6989586621681361482"><span class="hs-identifier hs-var hs-var">get_du</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Graph.html#AcyclicSCC"><span class="hs-identifier hs-type">AcyclicSCC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361467"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361467"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361466"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361466"><span class="hs-identifier hs-var">uses</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#mkNameSet"><span class="hs-identifier hs-var">mkNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361467"><span class="hs-identifier hs-var">bndrs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361466"><span class="hs-identifier hs-var">uses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-587"></span><span>    </span><span class="annot"><a href="#local-6989586621681361482"><span class="hs-identifier hs-var">get_du</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Graph.html#CyclicSCC"><span class="hs-identifier hs-type">CyclicSCC</span></a></span><span>  </span><span id="local-6989586621681361465"><span class="annot"><span class="annottext">[(a, [Name], NameSet)]
</span><a href="#local-6989586621681361465"><span class="hs-identifier hs-var">binds_w_dus</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361464"><span class="hs-identifier hs-var">defs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361463"><span class="hs-identifier hs-var">uses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-588"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-589"></span><span>          </span><span id="local-6989586621681361464"><span class="annot"><span class="annottext">defs :: NameSet
</span><a href="#local-6989586621681361464"><span class="hs-identifier hs-var hs-var">defs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#mkNameSet"><span class="hs-identifier hs-var">mkNameSet</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361462"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621681361461"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361461"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">NameSet
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(a, [Name], NameSet)]
</span><a href="#local-6989586621681361465"><span class="hs-identifier hs-var">binds_w_dus</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361462"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361462"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361461"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-590"></span><span>          </span><span id="local-6989586621681361463"><span class="annot"><span class="annottext">uses :: NameSet
</span><a href="#local-6989586621681361463"><span class="hs-identifier hs-var hs-var">uses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[NameSet] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#unionNameSets"><span class="hs-identifier hs-var">unionNameSets</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361459"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Name]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621681361459"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361459"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(a, [Name], NameSet)]
</span><a href="#local-6989586621681361465"><span class="hs-identifier hs-var">binds_w_dus</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span class="hs-comment">---------------------</span><span>
</span><span id="line-593"></span><span class="hs-comment">-- Bind the top-level forall'd type variables in the sigs.</span><span>
</span><span id="line-594"></span><span class="hs-comment">-- E.g  f :: forall a. a -&gt; a</span><span>
</span><span id="line-595"></span><span class="hs-comment">--      f = rhs</span><span>
</span><span id="line-596"></span><span class="hs-comment">--      The 'a' scopes over the rhs</span><span>
</span><span id="line-597"></span><span class="hs-comment">--</span><span>
</span><span id="line-598"></span><span class="hs-comment">-- NB: there'll usually be just one (for a function binding)</span><span>
</span><span id="line-599"></span><span class="hs-comment">--     but if there are many, one may shadow the rest; too bad!</span><span>
</span><span id="line-600"></span><span class="hs-comment">--      e.g  x :: forall a. [a] -&gt; [a]</span><span>
</span><span id="line-601"></span><span class="hs-comment">--           y :: forall a. [(a,a)] -&gt; a</span><span>
</span><span id="line-602"></span><span class="hs-comment">--           (x,y) = e</span><span>
</span><span id="line-603"></span><span class="hs-comment">--      In e, 'a' will be in scope, and it'll be the one from 'y'!</span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="annot"><a href="GHC.Rename.Bind.html#mkScopedTvFn"><span class="hs-identifier hs-type">mkScopedTvFn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-606"></span><span class="hs-comment">-- Return a lookup function that maps an Id Name to the names</span><span>
</span><span id="line-607"></span><span class="hs-comment">-- of the type variables that should scope over its body.</span><span>
</span><span id="line-608"></span><span id="mkScopedTvFn"><span class="annot"><span class="annottext">mkScopedTvFn :: [LSig GhcRn] -&gt; Name -&gt; [Name]
</span><a href="GHC.Rename.Bind.html#mkScopedTvFn"><span class="hs-identifier hs-var hs-var">mkScopedTvFn</span></a></span></span><span> </span><span id="local-6989586621681361458"><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621681361458"><span class="hs-identifier hs-var">sigs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681361457"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361457"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. NameEnv a -&gt; Name -&gt; Maybe a
</span><a href="GHC.Types.Name.Env.html#lookupNameEnv"><span class="hs-identifier hs-var">lookupNameEnv</span></a></span><span> </span><span class="annot"><span class="annottext">NameEnv [Name]
</span><a href="#local-6989586621681361455"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361457"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; a -&gt; a
</span><a href="GHC.Data.Maybe.html#orElse"><span class="hs-operator hs-var">`orElse`</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-609"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-610"></span><span>    </span><span id="local-6989586621681361455"><span class="annot"><span class="annottext">env :: NameEnv [Name]
</span><a href="#local-6989586621681361455"><span class="hs-identifier hs-var hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a.
(LSig GhcRn -&gt; Maybe ([GenLocated SrcSpanAnnN Name], a))
-&gt; [LSig GhcRn] -&gt; NameEnv a
</span><a href="GHC.Hs.Utils.html#mkHsSigEnv"><span class="hs-identifier hs-var">mkHsSigEnv</span></a></span><span> </span><span class="annot"><span class="annottext">LSig GhcRn -&gt; Maybe ([GenLocated SrcSpanAnnN Name], [Name])
</span><a href="#local-6989586621681361453"><span class="hs-identifier hs-var">get_scoped_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621681361458"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span>    </span><span class="annot"><a href="#local-6989586621681361453"><span class="hs-identifier hs-type">get_scoped_tvs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-613"></span><span>    </span><span class="hs-comment">-- Returns (binders, scoped tvs for those binders)</span><span>
</span><span id="line-614"></span><span>    </span><span id="local-6989586621681361453"><span class="annot"><span class="annottext">get_scoped_tvs :: LSig GhcRn -&gt; Maybe ([GenLocated SrcSpanAnnN Name], [Name])
</span><a href="#local-6989586621681361453"><span class="hs-identifier hs-var hs-var">get_scoped_tvs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361451"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621681361451"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621681361450"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621681361450"><span class="hs-identifier hs-var">sig_ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-615"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621681361451"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; [Name]
</span><a href="GHC.Hs.Type.html#hsScopedTvs"><span class="hs-identifier hs-var">hsScopedTvs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621681361450"><span class="hs-identifier hs-var">sig_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-616"></span><span>    </span><span class="annot"><a href="#local-6989586621681361453"><span class="hs-identifier hs-var">get_scoped_tvs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361447"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621681361447"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621681361446"><span class="annot"><span class="annottext">LHsSigWcType GhcRn
</span><a href="#local-6989586621681361446"><span class="hs-identifier hs-var">sig_ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621681361447"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcRn -&gt; [Name]
</span><a href="GHC.Hs.Type.html#hsWcScopedTvs"><span class="hs-identifier hs-var">hsWcScopedTvs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcRn
</span><a href="#local-6989586621681361446"><span class="hs-identifier hs-var">sig_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-618"></span><span>    </span><span class="annot"><a href="#local-6989586621681361453"><span class="hs-identifier hs-var">get_scoped_tvs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361443"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621681361443"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621681361442"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621681361442"><span class="hs-identifier hs-var">sig_ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-619"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621681361443"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; [Name]
</span><a href="GHC.Hs.Type.html#hsScopedTvs"><span class="hs-identifier hs-var">hsScopedTvs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621681361442"><span class="hs-identifier hs-var">sig_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>    </span><span class="annot"><a href="#local-6989586621681361453"><span class="hs-identifier hs-var">get_scoped_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">LSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span class="hs-comment">-- Process the fixity declarations, making a FastString -&gt; (Located Fixity) map</span><span>
</span><span id="line-623"></span><span class="hs-comment">-- (We keep the location around for reporting duplicate fixity declarations.)</span><span>
</span><span id="line-624"></span><span class="hs-comment">--</span><span>
</span><span id="line-625"></span><span class="hs-comment">-- Checks for duplicates, but not that only locally defined things are fixed.</span><span>
</span><span id="line-626"></span><span class="hs-comment">-- Note: for local fixity declarations, duplicates would also be checked in</span><span>
</span><span id="line-627"></span><span class="hs-comment">--       check_sigs below.  But we also use this function at the top level.</span><span>
</span><span id="line-628"></span><span>
</span><span id="line-629"></span><span class="annot"><a href="GHC.Rename.Bind.html#makeMiniFixityEnv"><span class="hs-identifier hs-type">makeMiniFixityEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LFixitySig"><span class="hs-identifier hs-type">LFixitySig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="annot"><a href="GHC.Rename.Fixity.html#MiniFixityEnv"><span class="hs-identifier hs-type">MiniFixityEnv</span></a></span><span>
</span><span id="line-630"></span><span>
</span><span id="line-631"></span><span id="makeMiniFixityEnv"><span class="annot"><span class="annottext">makeMiniFixityEnv :: [LFixitySig GhcPs] -&gt; RnM MiniFixityEnv
</span><a href="GHC.Rename.Bind.html#makeMiniFixityEnv"><span class="hs-identifier hs-var hs-var">makeMiniFixityEnv</span></a></span></span><span> </span><span id="local-6989586621681361441"><span class="annot"><span class="annottext">[LFixitySig GhcPs]
</span><a href="#local-6989586621681361441"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) b a.
(Foldable t, Monad m) =&gt;
(b -&gt; a -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#foldlM"><span class="hs-identifier hs-var">foldlM</span></a></span><span> </span><span class="annot"><span class="annottext">MiniFixityEnv -&gt; LFixitySig GhcPs -&gt; RnM MiniFixityEnv
</span><a href="#local-6989586621681361439"><span class="hs-identifier hs-var">add_one_sig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#emptyFsEnv"><span class="hs-identifier hs-var">emptyFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">[LFixitySig GhcPs]
</span><a href="#local-6989586621681361441"><span class="hs-identifier hs-var">decls</span></a></span><span>
</span><span id="line-632"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-633"></span><span>   </span><span class="annot"><a href="#local-6989586621681361439"><span class="hs-identifier hs-type">add_one_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Fixity.html#MiniFixityEnv"><span class="hs-identifier hs-type">MiniFixityEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LFixitySig"><span class="hs-identifier hs-type">LFixitySig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="annot"><a href="GHC.Rename.Fixity.html#MiniFixityEnv"><span class="hs-identifier hs-type">MiniFixityEnv</span></a></span><span>
</span><span id="line-634"></span><span>   </span><span id="local-6989586621681361439"><span class="annot"><span class="annottext">add_one_sig :: MiniFixityEnv -&gt; LFixitySig GhcPs -&gt; RnM MiniFixityEnv
</span><a href="#local-6989586621681361439"><span class="hs-identifier hs-var hs-var">add_one_sig</span></a></span></span><span> </span><span id="local-6989586621681361437"><span class="annot"><span class="annottext">MiniFixityEnv
</span><a href="#local-6989586621681361437"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361436"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361436"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixitySig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361434"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361434"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621681361433"><span class="annot"><span class="annottext">Fixity
</span><a href="#local-6989586621681361433"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-635"></span><span>     </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) b a.
(Foldable t, Monad m) =&gt;
(b -&gt; a -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#foldlM"><span class="hs-identifier hs-var">foldlM</span></a></span><span> </span><span class="annot"><span class="annottext">forall {e}.
FastStringEnv (GenLocated SrcSpan e)
-&gt; (SrcSpan, SrcSpan, RdrName, e)
-&gt; IOEnv
     (Env TcGblEnv TcLclEnv) (FastStringEnv (GenLocated SrcSpan e))
</span><a href="#local-6989586621681361432"><span class="hs-identifier hs-var">add_one</span></a></span><span> </span><span class="annot"><span class="annottext">MiniFixityEnv
</span><a href="#local-6989586621681361437"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361436"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681361430"><span class="hs-identifier hs-var">name_loc</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361429"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Fixity
</span><a href="#local-6989586621681361433"><span class="hs-identifier hs-var">fixity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-636"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361430"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681361430"><span class="hs-identifier hs-var">name_loc</span></a></span></span><span> </span><span id="local-6989586621681361429"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361429"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361434"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-637"></span><span>
</span><span id="line-638"></span><span>   </span><span id="local-6989586621681361432"><span class="annot"><span class="annottext">add_one :: FastStringEnv (GenLocated SrcSpan e)
-&gt; (SrcSpan, SrcSpan, RdrName, e)
-&gt; IOEnv
     (Env TcGblEnv TcLclEnv) (FastStringEnv (GenLocated SrcSpan e))
</span><a href="#local-6989586621681361432"><span class="hs-identifier hs-var hs-var">add_one</span></a></span></span><span> </span><span id="local-6989586621681361425"><span class="annot"><span class="annottext">FastStringEnv (GenLocated SrcSpan e)
</span><a href="#local-6989586621681361425"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361424"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361424"><span class="hs-identifier hs-var">loc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361423"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361423"><span class="hs-identifier hs-var">name_loc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361422"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361422"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681361421"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681361421"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-639"></span><span>     </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- this fixity decl is a duplicate iff</span><span>
</span><span id="line-640"></span><span>       </span><span class="hs-comment">-- the ReaderName's OccName's FastString is already in the env</span><span>
</span><span id="line-641"></span><span>       </span><span class="hs-comment">-- (we only need to check the local fix_env because</span><span>
</span><span id="line-642"></span><span>       </span><span class="hs-comment">--  definitions of non-local will be caught elsewhere)</span><span>
</span><span id="line-643"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361420"><span class="annot"><span class="annottext">fs :: FastString
</span><a href="#local-6989586621681361420"><span class="hs-identifier hs-var hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361422"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-644"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361418"><span class="annot"><span class="annottext">fix_item :: GenLocated SrcSpan e
</span><a href="#local-6989586621681361418"><span class="hs-identifier hs-var hs-var">fix_item</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361424"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681361421"><span class="hs-identifier hs-var">fixity</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">;</span><span>
</span><span id="line-645"></span><span>
</span><span id="line-646"></span><span>       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. FastStringEnv a -&gt; FastString -&gt; Maybe a
</span><a href="GHC.Data.FastString.Env.html#lookupFsEnv"><span class="hs-identifier hs-var">lookupFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (GenLocated SrcSpan e)
</span><a href="#local-6989586621681361425"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681361420"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-647"></span><span>         </span><span class="annot"><span class="annottext">Maybe (GenLocated SrcSpan e)
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FastStringEnv a -&gt; FastString -&gt; a -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#extendFsEnv"><span class="hs-identifier hs-var">extendFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (GenLocated SrcSpan e)
</span><a href="#local-6989586621681361425"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681361420"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpan e
</span><a href="#local-6989586621681361418"><span class="hs-identifier hs-var">fix_item</span></a></span><span>
</span><span id="line-648"></span><span>         </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361415"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361415"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-649"></span><span>           </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; TcRn a -&gt; TcRn a
</span><a href="GHC.Tc.Utils.Monad.html#setSrcSpan"><span class="hs-identifier hs-var">setSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361424"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-650"></span><span>             </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addErrAt"><span class="hs-identifier hs-var">addErrAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361423"><span class="hs-identifier hs-var">name_loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#dupFixityDecl"><span class="hs-identifier hs-var">dupFixityDecl</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361415"><span class="hs-identifier hs-var">loc'</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361422"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (GenLocated SrcSpan e)
</span><a href="#local-6989586621681361425"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-652"></span><span>     </span><span class="hs-special">}</span><span>
</span><span id="line-653"></span><span>
</span><span id="line-654"></span><span class="annot"><a href="GHC.Rename.Bind.html#dupFixityDecl"><span class="hs-identifier hs-type">dupFixityDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-655"></span><span id="dupFixityDecl"><span class="annot"><span class="annottext">dupFixityDecl :: SrcSpan -&gt; RdrName -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#dupFixityDecl"><span class="hs-identifier hs-var hs-var">dupFixityDecl</span></a></span></span><span> </span><span id="local-6989586621681361411"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361411"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681361410"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361410"><span class="hs-identifier hs-var">rdr_name</span></a></span></span><span>
</span><span id="line-656"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Multiple fixity declarations for&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361410"><span class="hs-identifier hs-var">rdr_name</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-657"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;also at &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361411"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-658"></span><span>
</span><span id="line-659"></span><span>
</span><span id="line-660"></span><span class="hs-comment">{- *********************************************************************
*                                                                      *
                Pattern synonym bindings
*                                                                      *
********************************************************************* -}</span><span>
</span><span id="line-665"></span><span>
</span><span id="line-666"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnPatSynBind"><span class="hs-identifier hs-type">rnPatSynBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- Signature tyvar function</span><span>
</span><span id="line-667"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-type">PatSynBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-668"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-type">PatSynBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#Uses"><span class="hs-identifier hs-type">Uses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span id="rnPatSynBind"><span class="annot"><span class="annottext">rnPatSynBind :: (Name -&gt; [Name])
-&gt; PatSynBind GhcRn GhcPs
-&gt; RnM (PatSynBind GhcRn GhcRn, [Name], NameSet)
</span><a href="GHC.Rename.Bind.html#rnPatSynBind"><span class="hs-identifier hs-var hs-var">rnPatSynBind</span></a></span></span><span> </span><span id="local-6989586621681361408"><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><a href="#local-6989586621681361408"><span class="hs-identifier hs-var">sig_fn</span></a></span></span><span> </span><span id="local-6989586621681361407"><span class="annot"><span class="annottext">bind :: PatSynBind GhcRn GhcPs
</span><a href="#local-6989586621681361407"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PSB"><span class="hs-identifier hs-type">PSB</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">psb_id :: forall idL idR. PatSynBind idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#psb_id"><span class="hs-identifier hs-var">psb_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361406"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681361406"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681361405"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361405"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-670"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_args :: forall idL idR. PatSynBind idL idR -&gt; HsPatSynDetails idR
</span><a href="Language.Haskell.Syntax.Binds.html#psb_args"><span class="hs-identifier hs-var">psb_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361403"><span class="annot"><span class="annottext">HsPatSynDetails GhcPs
</span><a href="#local-6989586621681361403"><span class="hs-identifier hs-var">details</span></a></span></span><span>
</span><span id="line-671"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_def :: forall idL idR. PatSynBind idL idR -&gt; LPat idR
</span><a href="Language.Haskell.Syntax.Binds.html#psb_def"><span class="hs-identifier hs-var">psb_def</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361401"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681361401"><span class="hs-identifier hs-var">pat</span></a></span></span><span>
</span><span id="line-672"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_dir :: forall idL idR. PatSynBind idL idR -&gt; HsPatSynDir idR
</span><a href="Language.Haskell.Syntax.Binds.html#psb_dir"><span class="hs-identifier hs-var">psb_dir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361399"><span class="annot"><span class="annottext">HsPatSynDir GhcPs
</span><a href="#local-6989586621681361399"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-673"></span><span>       </span><span class="hs-comment">-- invariant: no free vars here when it's a FunBind</span><span>
</span><span id="line-674"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361398"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361398"><span class="hs-identifier hs-var">pattern_synonym_ok</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall gbl lcl. Extension -&gt; TcRnIf gbl lcl Bool
</span><a href="GHC.Tc.Utils.Monad.html#xoptM"><span class="hs-identifier hs-var">xoptM</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><span class="hs-identifier hs-var">LangExt.PatternSynonyms</span></span><span>
</span><span id="line-675"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361398"><span class="hs-identifier hs-var">pattern_synonym_ok</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addErr"><span class="hs-identifier hs-var">addErr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681361394"><span class="hs-identifier hs-var">patternSynonymErr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361393"><span class="annot"><span class="annottext">scoped_tvs :: [Name]
</span><a href="#local-6989586621681361393"><span class="hs-identifier hs-var hs-var">scoped_tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name]
</span><a href="#local-6989586621681361408"><span class="hs-identifier hs-var">sig_fn</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361405"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-677"></span><span>
</span><span id="line-678"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681361392"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcRn)
</span><a href="#local-6989586621681361392"><span class="hs-identifier hs-var">pat'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361391"><span class="annot"><span class="annottext">HsConDetails
  Void (GenLocated SrcSpanAnnN Name) [RecordPatSynField GhcRn]
</span><a href="#local-6989586621681361391"><span class="hs-identifier hs-var">details'</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361390"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361390"><span class="hs-identifier hs-var">fvs1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. [Name] -&gt; RnM (a, NameSet) -&gt; RnM (a, NameSet)
</span><a href="GHC.Rename.HsType.html#bindSigTyVarsFV"><span class="hs-identifier hs-var">bindSigTyVarsFV</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361393"><span class="hs-identifier hs-var">scoped_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-679"></span><span>                                      </span><span class="annot"><span class="annottext">forall a.
HsMatchContext GhcRn
-&gt; LPat GhcPs
-&gt; (LPat GhcRn -&gt; RnM (a, NameSet))
-&gt; RnM (a, NameSet)
</span><a href="GHC.Rename.Pat.html#rnPat"><span class="hs-identifier hs-var">rnPat</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. HsMatchContext p
</span><a href="Language.Haskell.Syntax.Expr.html#PatSyn"><span class="hs-identifier hs-var">PatSyn</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681361401"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681361387"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621681361387"><span class="hs-identifier hs-var">pat'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-680"></span><span>         </span><span class="hs-comment">-- We check the 'RdrName's instead of the 'Name's</span><span>
</span><span id="line-681"></span><span>         </span><span class="hs-comment">-- so that the binding locations are reported</span><span>
</span><span id="line-682"></span><span>         </span><span class="hs-comment">-- from the left-hand side</span><span>
</span><span id="line-683"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsPatSynDetails GhcPs
</span><a href="#local-6989586621681361403"><span class="hs-identifier hs-var">details</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-684"></span><span>               </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361385"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361385"><span class="hs-identifier hs-var">vars</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-685"></span><span>                   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">[LocatedN RdrName] -&gt; TcRn ()
</span><a href="GHC.Rename.Utils.html#checkDupRdrNamesN"><span class="hs-identifier hs-var">checkDupRdrNamesN</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361385"><span class="hs-identifier hs-var">vars</span></a></span><span>
</span><span id="line-686"></span><span>                      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361384"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361384"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">forall {ann}.
GenLocated (SrcSpanAnn' ann) RdrName
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) Name)
</span><a href="#local-6989586621681361382"><span class="hs-identifier hs-var">lookupPatSynBndr</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361385"><span class="hs-identifier hs-var">vars</span></a></span><span>
</span><span id="line-687"></span><span>                      </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621681361387"><span class="hs-identifier hs-var">pat'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall tyarg arg rec.
[tyarg] -&gt; [arg] -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><a href="Language.Haskell.Syntax.Type.html#noTypeArgs"><span class="hs-identifier hs-var">noTypeArgs</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361384"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#mkFVs"><span class="hs-identifier hs-var">mkFVs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361384"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-689"></span><span>               </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621681361378"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361378"><span class="hs-identifier hs-var">var1</span></a></span></span><span> </span><span id="local-6989586621681361377"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361377"><span class="hs-identifier hs-var">var2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-690"></span><span>                   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">[LocatedN RdrName] -&gt; TcRn ()
</span><a href="GHC.Rename.Utils.html#checkDupRdrNames"><span class="hs-identifier hs-var">checkDupRdrNames</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361378"><span class="hs-identifier hs-var">var1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361377"><span class="hs-identifier hs-var">var2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-691"></span><span>                      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361376"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361376"><span class="hs-identifier hs-var">name1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall {ann}.
GenLocated (SrcSpanAnn' ann) RdrName
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) Name)
</span><a href="#local-6989586621681361382"><span class="hs-identifier hs-var">lookupPatSynBndr</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361378"><span class="hs-identifier hs-var">var1</span></a></span><span>
</span><span id="line-692"></span><span>                      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361375"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361375"><span class="hs-identifier hs-var">name2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall {ann}.
GenLocated (SrcSpanAnn' ann) RdrName
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) Name)
</span><a href="#local-6989586621681361382"><span class="hs-identifier hs-var">lookupPatSynBndr</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361377"><span class="hs-identifier hs-var">var2</span></a></span><span>
</span><span id="line-693"></span><span>                      </span><span class="hs-comment">-- ; checkPrecMatch -- TODO</span><span>
</span><span id="line-694"></span><span>                      </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621681361387"><span class="hs-identifier hs-var">pat'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall tyarg arg rec. arg -&gt; arg -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361376"><span class="hs-identifier hs-var">name1</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361375"><span class="hs-identifier hs-var">name2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#mkFVs"><span class="hs-identifier hs-var">mkFVs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361376"><span class="hs-identifier hs-var">name1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361375"><span class="hs-identifier hs-var">name2</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-696"></span><span>               </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span> </span><span id="local-6989586621681361373"><span class="annot"><span class="annottext">[RecordPatSynField GhcPs]
</span><a href="#local-6989586621681361373"><span class="hs-identifier hs-var">vars</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-697"></span><span>                   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">[LocatedN RdrName] -&gt; TcRn ()
</span><a href="GHC.Rename.Utils.html#checkDupRdrNames"><span class="hs-identifier hs-var">checkDupRdrNames</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. FieldOcc pass -&gt; LocatedN RdrName
</span><a href="Language.Haskell.Syntax.Type.html#rdrNameFieldOcc"><span class="hs-identifier hs-var">rdrNameFieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. RecordPatSynField pass -&gt; FieldOcc pass
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynField"><span class="hs-identifier hs-var">recordPatSynField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RecordPatSynField GhcPs]
</span><a href="#local-6989586621681361373"><span class="hs-identifier hs-var">vars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-698"></span><span>                      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361370"><span class="annot"><span class="annottext">[FieldLabel]
</span><a href="#local-6989586621681361370"><span class="hs-identifier hs-var">fls</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RnM [FieldLabel]
</span><a href="GHC.Rename.Env.html#lookupConstructorFields"><span class="hs-identifier hs-var">lookupConstructorFields</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361405"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-699"></span><span>                      </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361368"><span class="annot"><span class="annottext">fld_env :: FastStringEnv FieldLabel
</span><a href="#local-6989586621681361368"><span class="hs-identifier hs-var hs-var">fld_env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [(FastString, a)] -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#mkFsEnv"><span class="hs-identifier hs-var">mkFsEnv</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldLabel -&gt; FastString
</span><a href="GHC.Types.FieldLabel.html#flLabel"><span class="hs-identifier hs-var">flLabel</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLabel
</span><a href="#local-6989586621681361365"><span class="hs-identifier hs-var">fl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FieldLabel
</span><a href="#local-6989586621681361365"><span class="hs-identifier hs-var">fl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681361365"><span class="annot"><span class="annottext">FieldLabel
</span><a href="#local-6989586621681361365"><span class="hs-identifier hs-var">fl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[FieldLabel]
</span><a href="#local-6989586621681361370"><span class="hs-identifier hs-var">fls</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-700"></span><span>                      </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361364"><span class="annot"><span class="annottext">rnRecordPatSynField :: RecordPatSynField GhcPs
-&gt; IOEnv (Env TcGblEnv TcLclEnv) (RecordPatSynField GhcRn)
</span><a href="#local-6989586621681361364"><span class="hs-identifier hs-var hs-var">rnRecordPatSynField</span></a></span></span><span>
</span><span id="line-701"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#RecordPatSynField"><span class="hs-identifier hs-type">RecordPatSynField</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">recordPatSynField :: forall pass. RecordPatSynField pass -&gt; FieldOcc pass
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynField"><span class="hs-identifier hs-var">recordPatSynField</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361362"><span class="annot"><span class="annottext">FieldOcc GhcPs
</span><a href="#local-6989586621681361362"><span class="hs-identifier hs-var">visible</span></a></span></span><span>
</span><span id="line-702"></span><span>                                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">recordPatSynPatVar :: forall pass. RecordPatSynField pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynPatVar"><span class="hs-identifier hs-var">recordPatSynPatVar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361360"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361360"><span class="hs-identifier hs-var">hidden</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-703"></span><span>                              </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361359"><span class="annot"><span class="annottext">visible' :: FieldOcc GhcRn
</span><a href="#local-6989586621681361359"><span class="hs-identifier hs-var hs-var">visible'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv FieldLabel -&gt; FieldOcc GhcPs -&gt; FieldOcc GhcRn
</span><a href="GHC.Rename.HsType.html#lookupField"><span class="hs-identifier hs-var">lookupField</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv FieldLabel
</span><a href="#local-6989586621681361368"><span class="hs-identifier hs-var">fld_env</span></a></span><span> </span><span class="annot"><span class="annottext">FieldOcc GhcPs
</span><a href="#local-6989586621681361362"><span class="hs-identifier hs-var">visible</span></a></span><span>
</span><span id="line-704"></span><span>                                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361357"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361357"><span class="hs-identifier hs-var">hidden'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall {ann}.
GenLocated (SrcSpanAnn' ann) RdrName
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) Name)
</span><a href="#local-6989586621681361382"><span class="hs-identifier hs-var">lookupPatSynBndr</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361360"><span class="hs-identifier hs-var">hidden</span></a></span><span>
</span><span id="line-705"></span><span>                                   </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#RecordPatSynField"><span class="hs-identifier hs-type">RecordPatSynField</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">recordPatSynField :: FieldOcc GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynField"><span class="hs-identifier hs-var">recordPatSynField</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldOcc GhcRn
</span><a href="#local-6989586621681361359"><span class="hs-identifier hs-var">visible'</span></a></span><span>
</span><span id="line-706"></span><span>                                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">recordPatSynPatVar :: LIdP GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynPatVar"><span class="hs-identifier hs-var">recordPatSynPatVar</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361357"><span class="hs-identifier hs-var">hidden'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-707"></span><span>                      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361356"><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621681361356"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">RecordPatSynField GhcPs
-&gt; IOEnv (Env TcGblEnv TcLclEnv) (RecordPatSynField GhcRn)
</span><a href="#local-6989586621681361364"><span class="hs-identifier hs-var">rnRecordPatSynField</span></a></span><span>  </span><span class="annot"><span class="annottext">[RecordPatSynField GhcPs]
</span><a href="#local-6989586621681361373"><span class="hs-identifier hs-var">vars</span></a></span><span>
</span><span id="line-708"></span><span>                      </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621681361387"><span class="hs-identifier hs-var">pat'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall tyarg arg rec. rec -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a></span><span> </span><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621681361356"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-709"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#mkFVs"><span class="hs-identifier hs-var">mkFVs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. RecordPatSynField pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynPatVar"><span class="hs-identifier hs-var">recordPatSynPatVar</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621681361356"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-710"></span><span>
</span><span id="line-711"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361355"><span class="annot"><span class="annottext">HsPatSynDir GhcRn
</span><a href="#local-6989586621681361355"><span class="hs-identifier hs-var">dir'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361354"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361354"><span class="hs-identifier hs-var">fvs2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsPatSynDir GhcPs
</span><a href="#local-6989586621681361399"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-712"></span><span>            </span><span class="annot"><span class="annottext">HsPatSynDir GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#Unidirectional"><span class="hs-identifier hs-var">Unidirectional</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. HsPatSynDir id
</span><a href="Language.Haskell.Syntax.Binds.html#Unidirectional"><span class="hs-identifier hs-var">Unidirectional</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-713"></span><span>            </span><span class="annot"><span class="annottext">HsPatSynDir GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#ImplicitBidirectional"><span class="hs-identifier hs-var">ImplicitBidirectional</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. HsPatSynDir id
</span><a href="Language.Haskell.Syntax.Binds.html#ImplicitBidirectional"><span class="hs-identifier hs-var">ImplicitBidirectional</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-714"></span><span>            </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ExplicitBidirectional"><span class="hs-identifier hs-type">ExplicitBidirectional</span></a></span><span> </span><span id="local-6989586621681361349"><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681361349"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-715"></span><span>                </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361348"><span class="annot"><span class="annottext">MatchGroup GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621681361348"><span class="hs-identifier hs-var">mg'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361347"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361347"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. [Name] -&gt; RnM (a, NameSet) -&gt; RnM (a, NameSet)
</span><a href="GHC.Rename.HsType.html#bindSigTyVarsFV"><span class="hs-identifier hs-var">bindSigTyVarsFV</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361393"><span class="hs-identifier hs-var">scoped_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-716"></span><span>                                   </span><span class="annot"><span class="annottext">forall (body :: * -&gt; *).
(Outputable (body GhcPs), AnnoBody body) =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; MatchGroup GhcPs (LocatedA (body GhcPs))
-&gt; RnM (MatchGroup GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnMatchGroup"><span class="hs-identifier hs-var">rnMatchGroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. LIdP p -&gt; HsMatchContext p
</span><a href="GHC.Hs.Utils.html#mkPrefixFunRhs"><span class="hs-identifier hs-var">mkPrefixFunRhs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681361406"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361405"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-717"></span><span>                                                </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; RnM (LHsExpr GhcRn, NameSet)
</span><a href="GHC.Rename.Expr.html#rnLExpr"><span class="hs-identifier hs-var">rnLExpr</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681361349"><span class="hs-identifier hs-var">mg</span></a></span><span>
</span><span id="line-718"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. MatchGroup id (LHsExpr id) -&gt; HsPatSynDir id
</span><a href="Language.Haskell.Syntax.Binds.html#ExplicitBidirectional"><span class="hs-identifier hs-var">ExplicitBidirectional</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621681361348"><span class="hs-identifier hs-var">mg'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361347"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-719"></span><span>
</span><span id="line-720"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361346"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681361346"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). HasModule m =&gt; m Module
</span><a href="GHC.Unit.Module.html#getModule"><span class="hs-identifier hs-var">getModule</span></a></span><span>
</span><span id="line-721"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361345"><span class="annot"><span class="annottext">fvs :: NameSet
</span><a href="#local-6989586621681361345"><span class="hs-identifier hs-var hs-var">fvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361390"><span class="hs-identifier hs-var">fvs1</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#plusFV"><span class="hs-operator hs-var">`plusFV`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361354"><span class="hs-identifier hs-var">fvs2</span></a></span><span>
</span><span id="line-722"></span><span>              </span><span id="local-6989586621681361344"><span class="annot"><span class="annottext">fvs' :: NameSet
</span><a href="#local-6989586621681361344"><span class="hs-identifier hs-var hs-var">fvs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Bool) -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#filterNameSet"><span class="hs-identifier hs-var">filterNameSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; Name -&gt; Bool
</span><a href="GHC.Types.Name.html#nameIsLocalOrFrom"><span class="hs-identifier hs-var">nameIsLocalOrFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681361346"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361345"><span class="hs-identifier hs-var">fvs</span></a></span><span>
</span><span id="line-723"></span><span>                </span><span class="hs-comment">-- Keep locally-defined Names</span><span>
</span><span id="line-724"></span><span>                </span><span class="hs-comment">-- As well as dependency analysis, we need these for the</span><span>
</span><span id="line-725"></span><span>                </span><span class="hs-comment">-- MonoLocalBinds test in GHC.Tc.Gen.Bind.decideGeneralisationPlan</span><span>
</span><span id="line-726"></span><span>
</span><span id="line-727"></span><span>              </span><span id="local-6989586621681361343"><span class="annot"><span class="annottext">bind' :: PatSynBind GhcRn GhcRn
</span><a href="#local-6989586621681361343"><span class="hs-identifier hs-var hs-var">bind'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PatSynBind GhcRn GhcPs
</span><a href="#local-6989586621681361407"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">psb_args :: HsPatSynDetails GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#psb_args"><span class="hs-identifier hs-var">psb_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsConDetails
  Void (GenLocated SrcSpanAnnN Name) [RecordPatSynField GhcRn]
</span><a href="#local-6989586621681361391"><span class="hs-identifier hs-var">details'</span></a></span><span>
</span><span id="line-728"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_def :: LPat GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#psb_def"><span class="hs-identifier hs-var">psb_def</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcRn)
</span><a href="#local-6989586621681361392"><span class="hs-identifier hs-var">pat'</span></a></span><span>
</span><span id="line-729"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_dir :: HsPatSynDir GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#psb_dir"><span class="hs-identifier hs-var">psb_dir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsPatSynDir GhcRn
</span><a href="#local-6989586621681361355"><span class="hs-identifier hs-var">dir'</span></a></span><span>
</span><span id="line-730"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_ext :: XPSB GhcRn GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#psb_ext"><span class="hs-identifier hs-var">psb_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361344"><span class="hs-identifier hs-var">fvs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-731"></span><span>              </span><span id="local-6989586621681361342"><span class="annot"><span class="annottext">selector_names :: [Name]
</span><a href="#local-6989586621681361342"><span class="hs-identifier hs-var hs-var">selector_names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsConDetails
  Void (GenLocated SrcSpanAnnN Name) [RecordPatSynField GhcRn]
</span><a href="#local-6989586621681361391"><span class="hs-identifier hs-var">details'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-732"></span><span>                                 </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span> </span><span id="local-6989586621681361341"><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621681361341"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-733"></span><span>                                  </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. FieldOcc pass -&gt; XCFieldOcc pass
</span><a href="Language.Haskell.Syntax.Type.html#extFieldOcc"><span class="hs-identifier hs-var">extFieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. RecordPatSynField pass -&gt; FieldOcc pass
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynField"><span class="hs-identifier hs-var">recordPatSynField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621681361341"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-734"></span><span>                                 </span><span class="annot"><span class="annottext">HsConDetails
  Void (GenLocated SrcSpanAnnN Name) [RecordPatSynField GhcRn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-735"></span><span>
</span><span id="line-736"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361344"><span class="hs-identifier hs-var">fvs'</span></a></span><span> </span><span class="annot"><span class="annottext">seq :: forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-type">`seq`</span></span><span> </span><span class="hs-comment">-- See Note [Free-variable space leak]</span><span>
</span><span id="line-737"></span><span>          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatSynBind GhcRn GhcRn
</span><a href="#local-6989586621681361343"><span class="hs-identifier hs-var">bind'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361405"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361342"><span class="hs-identifier hs-var">selector_names</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361390"><span class="hs-identifier hs-var">fvs1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-738"></span><span>          </span><span class="hs-comment">-- Why fvs1?  See Note [Pattern synonym builders don't yield dependencies]</span><span>
</span><span id="line-739"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-740"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-741"></span><span>    </span><span class="hs-comment">-- See Note [Renaming pattern synonym variables]</span><span>
</span><span id="line-742"></span><span>    </span><span id="local-6989586621681361382"><span class="annot"><span class="annottext">lookupPatSynBndr :: GenLocated (SrcSpanAnn' ann) RdrName
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) Name)
</span><a href="#local-6989586621681361382"><span class="hs-identifier hs-var hs-var">lookupPatSynBndr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b ann.
(a -&gt; TcM b)
-&gt; GenLocated (SrcSpanAnn' ann) a
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) b)
</span><a href="GHC.Tc.Utils.Monad.html#wrapLocMA"><span class="hs-identifier hs-var">wrapLocMA</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RnM Name
</span><a href="GHC.Rename.Env.html#lookupLocalOccRn"><span class="hs-identifier hs-var">lookupLocalOccRn</span></a></span><span>
</span><span id="line-743"></span><span>
</span><span id="line-744"></span><span>    </span><span class="annot"><a href="#local-6989586621681361394"><span class="hs-identifier hs-type">patternSynonymErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-745"></span><span>    </span><span id="local-6989586621681361394"><span class="annot"><span class="annottext">patternSynonymErr :: SDoc
</span><a href="#local-6989586621681361394"><span class="hs-identifier hs-var hs-var">patternSynonymErr</span></a></span></span><span>
</span><span id="line-746"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal pattern synonym declaration&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-747"></span><span>           </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Use -XPatternSynonyms to enable this extension&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span class="hs-comment">{-
Note [Renaming pattern synonym variables]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

We rename pattern synonym declaractions backwards to normal to reuse
the logic already implemented for renaming patterns.

We first rename the RHS of a declaration which brings into
scope the variables bound by the pattern (as they would be
in normal function definitions). We then lookup the variables
which we want to bind in this local environment.

It is crucial that we then only lookup in the *local* environment which
only contains the variables brought into scope by the pattern and nothing
else. Amazingly no-one encountered this bug for 3 GHC versions but
it was possible to define a pattern synonym which referenced global
identifiers and worked correctly.

```
x = 5

pattern P :: Int -&gt; ()
pattern P x &lt;- _

f (P x) = x

&gt; f () = 5
```

See #13470 for the original report.

Note [Pattern synonym builders don't yield dependencies]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
When renaming a pattern synonym that has an explicit builder,
references in the builder definition should not be used when
calculating dependencies. For example, consider the following pattern
synonym definition:

pattern P x &lt;- C1 x where
  P x = f (C1 x)

f (P x) = C2 x

In this case, 'P' needs to be typechecked in two passes:

1. Typecheck the pattern definition of 'P', which fully determines the
   type of 'P'. This step doesn't require knowing anything about 'f',
   since the builder definition is not looked at.

2. Typecheck the builder definition, which needs the typechecked
   definition of 'f' to be in scope; done by calls oo tcPatSynBuilderBind
   in GHC.Tc.Gen.Bind.tcValBinds.

This behaviour is implemented in 'tcValBinds', but it crucially
depends on 'P' not being put in a recursive group with 'f' (which
would make it look like a recursive pattern synonym a la 'pattern P =
P' which is unsound and rejected).

So:
 * We do not include builder fvs in the Uses returned by rnPatSynBind
   (which is then used for dependency analysis)
 * But we /do/ include them in the psb_fvs for the PatSynBind
 * In rnValBinds we record these builder uses, to avoid bogus
   unused-variable warnings (#12548)
-}</span><span>
</span><span id="line-814"></span><span>
</span><span id="line-815"></span><span class="hs-comment">{- *********************************************************************
*                                                                      *
                Class/instance method bindings
*                                                                      *
********************************************************************* -}</span><span>
</span><span id="line-820"></span><span>
</span><span id="line-821"></span><span class="hs-comment">{- @rnMethodBinds@ is used for the method bindings of a class and an instance
declaration.   Like @rnBinds@ but without dependency analysis.

NOTA BENE: we record each {\em binder} of a method-bind group as a free variable.
That's crucial when dealing with an instance decl:
\begin{verbatim}
        instance Foo (T a) where
           op x = ...
\end{verbatim}
This might be the {\em sole} occurrence of @op@ for an imported class @Foo@,
and unless @op@ occurs we won't treat the type signature of @op@ in the class
decl for @Foo@ as a source of instance-decl gates.  But we should!  Indeed,
in many ways the @op@ in an instance decl is just like an occurrence, not
a binder.
-}</span><span>
</span><span id="line-836"></span><span>
</span><span id="line-837"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnMethodBinds"><span class="hs-identifier hs-type">rnMethodBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>                   </span><span class="hs-comment">-- True &lt;=&gt; is a class declaration</span><span>
</span><span id="line-838"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>                   </span><span class="hs-comment">-- Class name</span><span>
</span><span id="line-839"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>                 </span><span class="hs-comment">-- Type variables from the class/instance header</span><span>
</span><span id="line-840"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>         </span><span class="hs-comment">-- Binds</span><span>
</span><span id="line-841"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>           </span><span class="hs-comment">-- and signatures/pragmas</span><span>
</span><span id="line-842"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-843"></span><span class="hs-comment">-- Used for</span><span>
</span><span id="line-844"></span><span class="hs-comment">--   * the default method bindings in a class decl</span><span>
</span><span id="line-845"></span><span class="hs-comment">--   * the method bindings in an instance decl</span><span>
</span><span id="line-846"></span><span id="rnMethodBinds"><span class="annot"><span class="annottext">rnMethodBinds :: Bool
-&gt; Name
-&gt; [Name]
-&gt; LHsBindsLR GhcPs GhcPs
-&gt; [XRec GhcPs (Sig GhcPs)]
-&gt; RnM (LHsBinds GhcRn, [LSig GhcRn], NameSet)
</span><a href="GHC.Rename.Bind.html#rnMethodBinds"><span class="hs-identifier hs-var hs-var">rnMethodBinds</span></a></span></span><span> </span><span id="local-6989586621681361338"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361338"><span class="hs-identifier hs-var">is_cls_decl</span></a></span></span><span> </span><span id="local-6989586621681361337"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361337"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span id="local-6989586621681361336"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361336"><span class="hs-identifier hs-var">ktv_names</span></a></span></span><span> </span><span id="local-6989586621681361335"><span class="annot"><span class="annottext">LHsBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681361335"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621681361334"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361334"><span class="hs-identifier hs-var">sigs</span></a></span></span><span>
</span><span id="line-847"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">[LocatedN RdrName] -&gt; TcRn ()
</span><a href="GHC.Rename.Utils.html#checkDupRdrNamesN"><span class="hs-identifier hs-var">checkDupRdrNamesN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR. UnXRec idL =&gt; LHsBindsLR idL idR -&gt; [LIdP idL]
</span><a href="GHC.Hs.Utils.html#collectMethodBinders"><span class="hs-identifier hs-var">collectMethodBinders</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681361335"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-848"></span><span>             </span><span class="hs-comment">-- Check that the same method is not given twice in the</span><span>
</span><span id="line-849"></span><span>             </span><span class="hs-comment">-- same instance decl      instance C T where</span><span>
</span><span id="line-850"></span><span>             </span><span class="hs-comment">--                       f x = ...</span><span>
</span><span id="line-851"></span><span>             </span><span class="hs-comment">--                       g y = ...</span><span>
</span><span id="line-852"></span><span>             </span><span class="hs-comment">--                       f x = ...</span><span>
</span><span id="line-853"></span><span>             </span><span class="hs-comment">-- We must use checkDupRdrNames because the Name of the</span><span>
</span><span id="line-854"></span><span>             </span><span class="hs-comment">-- method is the Name of the class selector, whose SrcSpan</span><span>
</span><span id="line-855"></span><span>             </span><span class="hs-comment">-- points to the class declaration; and we use rnMethodBinds</span><span>
</span><span id="line-856"></span><span>             </span><span class="hs-comment">-- for instance decls too</span><span>
</span><span id="line-857"></span><span>
</span><span id="line-858"></span><span>       </span><span class="hs-comment">-- Rename the bindings LHSs</span><span>
</span><span id="line-859"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361332"><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcPs))
</span><a href="#local-6989586621681361332"><span class="hs-identifier hs-var">binds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; b -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#foldrM"><span class="hs-identifier hs-var">foldrM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
-&gt; Name
-&gt; LHsBindLR GhcPs GhcPs
-&gt; LHsBindsLR GhcRn GhcPs
-&gt; RnM (LHsBindsLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnMethodBindLHS"><span class="hs-identifier hs-var">rnMethodBindLHS</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361338"><span class="hs-identifier hs-var">is_cls_decl</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361337"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681361335"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-860"></span><span>
</span><span id="line-861"></span><span>       </span><span class="hs-comment">-- Rename the pragmas and signatures</span><span>
</span><span id="line-862"></span><span>       </span><span class="hs-comment">-- Annoyingly the type variables /are/ in scope for signatures, but</span><span>
</span><span id="line-863"></span><span>       </span><span class="hs-comment">-- /are not/ in scope in SPECIALISE and SPECIALISE instance pragmas.</span><span>
</span><span id="line-864"></span><span>       </span><span class="hs-comment">-- See Note [Type variable scoping in SPECIALISE pragmas].</span><span>
</span><span id="line-865"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361328"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361328"><span class="hs-identifier hs-var">spec_prags</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361327"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361327"><span class="hs-identifier hs-var">other_sigs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><a href="../../base-4.16.4.0/src/Data-OldList.html#partition"><span class="hs-identifier hs-var">partition</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. UnXRec p =&gt; LSig p -&gt; Bool
</span><a href="Language.Haskell.Syntax.Binds.html#isSpecLSig"><span class="hs-identifier hs-var">isSpecLSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; f Bool -&gt; f Bool -&gt; f Bool
</span><a href="GHC.Utils.Misc.html#%3C%7C%7C%3E"><span class="hs-operator hs-var">&lt;||&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. UnXRec p =&gt; LSig p -&gt; Bool
</span><a href="Language.Haskell.Syntax.Binds.html#isSpecInstLSig"><span class="hs-identifier hs-var">isSpecInstLSig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361334"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-866"></span><span>             </span><span id="local-6989586621681361323"><span class="annot"><span class="annottext">bound_nms :: NameSet
</span><a href="#local-6989586621681361323"><span class="hs-identifier hs-var hs-var">bound_nms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#mkNameSet"><span class="hs-identifier hs-var">mkNameSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p idR.
CollectPass p =&gt;
CollectFlag p -&gt; LHsBindsLR p idR -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectHsBindsBinders"><span class="hs-identifier hs-var">collectHsBindsBinders</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcPs))
</span><a href="#local-6989586621681361332"><span class="hs-identifier hs-var">binds'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-867"></span><span>             </span><span id="local-6989586621681361322"><span class="annot"><span class="annottext">sig_ctxt :: HsSigCtxt
</span><a href="#local-6989586621681361322"><span class="hs-identifier hs-var hs-var">sig_ctxt</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361338"><span class="hs-identifier hs-var">is_cls_decl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; HsSigCtxt
</span><a href="GHC.Rename.Env.html#ClsDeclCtxt"><span class="hs-identifier hs-var">ClsDeclCtxt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361337"><span class="hs-identifier hs-var">cls</span></a></span><span>
</span><span id="line-868"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; HsSigCtxt
</span><a href="GHC.Rename.Env.html#InstDeclCtxt"><span class="hs-identifier hs-var">InstDeclCtxt</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361323"><span class="hs-identifier hs-var">bound_nms</span></a></span><span>
</span><span id="line-869"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361319"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361319"><span class="hs-identifier hs-var">spec_prags'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361318"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361318"><span class="hs-identifier hs-var">spg_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; [XRec GhcPs (Sig GhcPs)] -&gt; RnM ([LSig GhcRn], NameSet)
</span><a href="GHC.Rename.Bind.html#renameSigs"><span class="hs-identifier hs-var">renameSigs</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361322"><span class="hs-identifier hs-var">sig_ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361328"><span class="hs-identifier hs-var">spec_prags</span></a></span><span>
</span><span id="line-870"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361317"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361317"><span class="hs-identifier hs-var">other_sigs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361316"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361316"><span class="hs-identifier hs-var">sig_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. [Name] -&gt; RnM (a, NameSet) -&gt; RnM (a, NameSet)
</span><a href="GHC.Rename.Utils.html#bindLocalNamesFV"><span class="hs-identifier hs-var">bindLocalNamesFV</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361336"><span class="hs-identifier hs-var">ktv_names</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-871"></span><span>                                      </span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; [XRec GhcPs (Sig GhcPs)] -&gt; RnM ([LSig GhcRn], NameSet)
</span><a href="GHC.Rename.Bind.html#renameSigs"><span class="hs-identifier hs-var">renameSigs</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361322"><span class="hs-identifier hs-var">sig_ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361327"><span class="hs-identifier hs-var">other_sigs</span></a></span><span>
</span><span id="line-872"></span><span>
</span><span id="line-873"></span><span>       </span><span class="hs-comment">-- Rename the bindings RHSs.  Again there's an issue about whether the</span><span>
</span><span id="line-874"></span><span>       </span><span class="hs-comment">-- type variables from the class/instance head are in scope.</span><span>
</span><span id="line-875"></span><span>       </span><span class="hs-comment">-- Answer no in Haskell 2010, but yes if you have -XScopedTypeVariables</span><span>
</span><span id="line-876"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361315"><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBind GhcRn))
</span><a href="#local-6989586621681361315"><span class="hs-identifier hs-var">binds''</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361314"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361314"><span class="hs-identifier hs-var">bind_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. [Name] -&gt; RnM (a, NameSet) -&gt; RnM (a, NameSet)
</span><a href="GHC.Rename.HsType.html#bindSigTyVarsFV"><span class="hs-identifier hs-var">bindSigTyVarsFV</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621681361336"><span class="hs-identifier hs-var">ktv_names</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-877"></span><span>              </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361313"><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBind GhcRn), [Name], NameSet)
</span><a href="#local-6989586621681361313"><span class="hs-identifier hs-var">binds_w_dus</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Bag a -&gt; m (Bag b)
</span><a href="GHC.Data.Bag.html#mapBagM"><span class="hs-identifier hs-var">mapBagM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; [Name])
-&gt; LHsBindLR GhcRn GhcPs -&gt; RnM (LHsBind GhcRn, [Name], NameSet)
</span><a href="GHC.Rename.Bind.html#rnLBind"><span class="hs-identifier hs-var">rnLBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LSig GhcRn] -&gt; Name -&gt; [Name]
</span><a href="GHC.Rename.Bind.html#mkScopedTvFn"><span class="hs-identifier hs-var">mkScopedTvFn</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361317"><span class="hs-identifier hs-var">other_sigs'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcPs))
</span><a href="#local-6989586621681361332"><span class="hs-identifier hs-var">binds'</span></a></span><span>
</span><span id="line-878"></span><span>                 </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361312"><span class="annot"><span class="annottext">bind_fvs :: NameSet
</span><a href="#local-6989586621681361312"><span class="hs-identifier hs-var hs-var">bind_fvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsBind GhcRn)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Name]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621681361311"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361311"><span class="hs-identifier hs-var">fv1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361310"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361310"><span class="hs-identifier hs-var">fv2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361311"><span class="hs-identifier hs-var">fv1</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#plusFV"><span class="hs-operator hs-var">`plusFV`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361310"><span class="hs-identifier hs-var">fv2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-879"></span><span>                                           </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBind GhcRn), [Name], NameSet)
</span><a href="#local-6989586621681361313"><span class="hs-identifier hs-var">binds_w_dus</span></a></span><span>
</span><span id="line-880"></span><span>                 </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; Bag a -&gt; Bag b
</span><a href="GHC.Data.Bag.html#mapBag"><span class="hs-identifier hs-var">mapBag</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a, b, c) -&gt; a
</span><a href="GHC.Utils.Misc.html#fstOf3"><span class="hs-identifier hs-var">fstOf3</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBind GhcRn), [Name], NameSet)
</span><a href="#local-6989586621681361313"><span class="hs-identifier hs-var">binds_w_dus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361312"><span class="hs-identifier hs-var">bind_fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-881"></span><span>
</span><span id="line-882"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBind GhcRn))
</span><a href="#local-6989586621681361315"><span class="hs-identifier hs-var">binds''</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361319"><span class="hs-identifier hs-var">spec_prags'</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361317"><span class="hs-identifier hs-var">other_sigs'</span></a></span><span>
</span><span id="line-883"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361316"><span class="hs-identifier hs-var">sig_fvs</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#plusFV"><span class="hs-operator hs-var">`plusFV`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361318"><span class="hs-identifier hs-var">spg_fvs</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#plusFV"><span class="hs-operator hs-var">`plusFV`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361314"><span class="hs-identifier hs-var">bind_fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span class="hs-comment">{- Note [Type variable scoping in SPECIALISE pragmas]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
When renaming the methods of a class or instance declaration, we must be careful
with the scoping of the type variables that occur in SPECIALISE and SPECIALISE instance
pragmas: the type variables from the class/instance header DO NOT scope over these,
unlike class/instance method type signatures.

Examples:

  1. SPECIALISE

    class C a where
      meth :: a
    instance C (Maybe a) where
      meth = Nothing
      {-# SPECIALISE INLINE meth :: Maybe [a] #-}

  2. SPECIALISE instance

    instance Eq a =&gt; Eq (T a) where
       (==) :: a -&gt; a -&gt; a
       {-# SPECIALISE instance Eq a =&gt; Eq (T [a]) #-}

  In both cases, the type variable `a` mentioned in the PRAGMA is NOT the same
  as the type variable `a` from the instance header.
  For example, the SPECIALISE instance pragma above is a shorthand for

      {-# SPECIALISE instance forall a. Eq a =&gt; Eq (T [a]) #-}

  which is alpha-equivalent to

      {-# SPECIALISE instance forall b. Eq b =&gt; Eq (T [b]) #-}

  This shows that the type variables are not bound in the header.

  Getting this scoping wrong can lead to out-of-scope type variable errors from
  Core Lint, see e.g. #22913.
-}</span><span>
</span><span id="line-923"></span><span>
</span><span id="line-924"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnMethodBindLHS"><span class="hs-identifier hs-type">rnMethodBindLHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-925"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBindLR"><span class="hs-identifier hs-type">LHsBindLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-926"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBindsLR"><span class="hs-identifier hs-type">LHsBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-927"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBindsLR"><span class="hs-identifier hs-type">LHsBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-928"></span><span id="rnMethodBindLHS"><span class="annot"><span class="annottext">rnMethodBindLHS :: Bool
-&gt; Name
-&gt; LHsBindLR GhcPs GhcPs
-&gt; LHsBindsLR GhcRn GhcPs
-&gt; RnM (LHsBindsLR GhcRn GhcPs)
</span><a href="GHC.Rename.Bind.html#rnMethodBindLHS"><span class="hs-identifier hs-var hs-var">rnMethodBindLHS</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361307"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361307"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361306"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361306"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681361305"><span class="annot"><span class="annottext">bind :: HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361305"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361304"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361304"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361303"><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361303"><span class="hs-identifier hs-var">rest</span></a></span></span><span>
</span><span id="line-929"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann a. SrcSpanAnn' ann -&gt; TcRn a -&gt; TcRn a
</span><a href="GHC.Tc.Utils.Monad.html#setSrcSpanA"><span class="hs-identifier hs-var">setSrcSpanA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361306"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-930"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361302"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361302"><span class="hs-identifier hs-var">sel_name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b ann.
(a -&gt; TcM b)
-&gt; GenLocated (SrcSpanAnn' ann) a
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) b)
</span><a href="GHC.Tc.Utils.Monad.html#wrapLocMA"><span class="hs-identifier hs-var">wrapLocMA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SDoc -&gt; RdrName -&gt; RnM Name
</span><a href="GHC.Rename.Env.html#lookupInstDeclBndr"><span class="hs-identifier hs-var">lookupInstDeclBndr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361307"><span class="hs-identifier hs-var">cls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;method&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361304"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-931"></span><span>                     </span><span class="hs-comment">-- We use the selector name as the binder</span><span>
</span><span id="line-932"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361300"><span class="annot"><span class="annottext">bind' :: HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361300"><span class="hs-identifier hs-var hs-var">bind'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361305"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: LIdP GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361302"><span class="hs-identifier hs-var">sel_name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_ext :: XFunBind GhcRn GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#fun_ext"><span class="hs-identifier hs-var">fun_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-933"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361306"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcRn GhcPs
</span><a href="#local-6989586621681361300"><span class="hs-identifier hs-var">bind'</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#consBag"><span class="hs-operator hs-var">`consBag`</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361303"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-934"></span><span>
</span><span id="line-935"></span><span class="hs-comment">-- Report error for all other forms of bindings</span><span>
</span><span id="line-936"></span><span class="hs-comment">-- This is why we use a fold rather than map</span><span>
</span><span id="line-937"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnMethodBindLHS"><span class="hs-identifier hs-var">rnMethodBindLHS</span></a></span><span> </span><span id="local-6989586621681361298"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361298"><span class="hs-identifier hs-var">is_cls_decl</span></a></span></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361297"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361297"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681361296"><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361296"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361295"><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361295"><span class="hs-identifier hs-var">rest</span></a></span></span><span>
</span><span id="line-938"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addErrAt"><span class="hs-identifier hs-var">addErrAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681361297"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-939"></span><span>         </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681361294"><span class="hs-identifier hs-var">what</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;not allowed in&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681361293"><span class="hs-identifier hs-var">decl_sort</span></a></span><span>
</span><span id="line-940"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361296"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-941"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681361295"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-942"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-943"></span><span>    </span><span id="local-6989586621681361293"><span class="annot"><span class="annottext">decl_sort :: SDoc
</span><a href="#local-6989586621681361293"><span class="hs-identifier hs-var hs-var">decl_sort</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361298"><span class="hs-identifier hs-var">is_cls_decl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;class declaration:&quot;</span></span><span>
</span><span id="line-944"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;instance declaration:&quot;</span></span><span>
</span><span id="line-945"></span><span>    </span><span id="local-6989586621681361294"><span class="annot"><span class="annottext">what :: SDoc
</span><a href="#local-6989586621681361294"><span class="hs-identifier hs-var hs-var">what</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361296"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-946"></span><span>              </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-type">PatBind</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Pattern bindings (except simple variables)&quot;</span></span><span>
</span><span id="line-947"></span><span>              </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-type">PatSynBind</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Pattern synonyms&quot;</span></span><span>
</span><span id="line-948"></span><span>                               </span><span class="hs-comment">-- Associated pattern synonyms are not implemented yet</span><span>
</span><span id="line-949"></span><span>              </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rnMethodBind&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681361296"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-950"></span><span>
</span><span id="line-951"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsubsection[dep-Sigs]{Signatures (and user-pragmas for values)}
*                                                                      *
************************************************************************

@renameSigs@ checks for:
\begin{enumerate}
\item more than one sig for one thing;
\item signatures given for things not bound here;
\end{enumerate}

At the moment we don't gather free-var info from the types in
signatures.  We'd only need this if we wanted to report unused tyvars.
-}</span><span>
</span><span id="line-967"></span><span>
</span><span id="line-968"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSigs"><span class="hs-identifier hs-type">renameSigs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#HsSigCtxt"><span class="hs-identifier hs-type">HsSigCtxt</span></a></span><span>
</span><span id="line-969"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-970"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-971"></span><span class="hs-comment">-- Renames the signatures and performs error checks</span><span>
</span><span id="line-972"></span><span id="renameSigs"><span class="annot"><span class="annottext">renameSigs :: HsSigCtxt
-&gt; [XRec GhcPs (Sig GhcPs)] -&gt; RnM ([LSig GhcRn], NameSet)
</span><a href="GHC.Rename.Bind.html#renameSigs"><span class="hs-identifier hs-var hs-var">renameSigs</span></a></span></span><span> </span><span id="local-6989586621681361291"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361291"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361290"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361290"><span class="hs-identifier hs-var">sigs</span></a></span></span><span>
</span><span id="line-973"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LocatedN RdrName, Sig GhcPs) -&gt; TcRn ()
</span><a href="GHC.Rename.Bind.html#dupSigDeclErr"><span class="hs-identifier hs-var">dupSigDeclErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
-&gt; [NonEmpty (LocatedN RdrName, Sig GhcPs)]
</span><a href="GHC.Rename.Bind.html#findDupSigs"><span class="hs-identifier hs-var">findDupSigs</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361290"><span class="hs-identifier hs-var">sigs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-974"></span><span>
</span><span id="line-975"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)] -&gt; TcRn ()
</span><a href="GHC.Rename.Bind.html#checkDupMinimalSigs"><span class="hs-identifier hs-var">checkDupMinimalSigs</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361290"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-976"></span><span>
</span><span id="line-977"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361286"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361286"><span class="hs-identifier hs-var">sigs'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361285"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361285"><span class="hs-identifier hs-var">sig_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; RnM (b, NameSet)) -&gt; [a] -&gt; RnM ([b], NameSet)
</span><a href="GHC.Rename.Utils.html#mapFvRn"><span class="hs-identifier hs-var">mapFvRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c.
(a -&gt; TcM (b, c)) -&gt; LocatedA a -&gt; TcM (LocatedA b, c)
</span><a href="GHC.Tc.Utils.Monad.html#wrapLocFstMA"><span class="hs-identifier hs-var">wrapLocFstMA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsSigCtxt -&gt; Sig GhcPs -&gt; RnM (Sig GhcRn, NameSet)
</span><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361291"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361290"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-978"></span><span>
</span><span id="line-979"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361283"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361283"><span class="hs-identifier hs-var">good_sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361282"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361282"><span class="hs-identifier hs-var">bad_sigs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><a href="../../base-4.16.4.0/src/Data-OldList.html#partition"><span class="hs-identifier hs-var">partition</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (a :: Pass). HsSigCtxt -&gt; LSig (GhcPass a) -&gt; Bool
</span><a href="GHC.Rename.Bind.html#okHsSig"><span class="hs-identifier hs-var">okHsSig</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361291"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361286"><span class="hs-identifier hs-var">sigs'</span></a></span><span>
</span><span id="line-980"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">LSig GhcRn -&gt; TcRn ()
</span><a href="GHC.Rename.Bind.html#misplacedSigErr"><span class="hs-identifier hs-var">misplacedSigErr</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361282"><span class="hs-identifier hs-var">bad_sigs</span></a></span><span>                 </span><span class="hs-comment">-- Misplaced</span><span>
</span><span id="line-981"></span><span>
</span><span id="line-982"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621681361283"><span class="hs-identifier hs-var">good_sigs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361285"><span class="hs-identifier hs-var">sig_fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-983"></span><span>
</span><span id="line-984"></span><span class="hs-comment">----------------------</span><span>
</span><span id="line-985"></span><span class="hs-comment">-- We use lookupSigOccRn in the signatures, which is a little bit unsatisfactory</span><span>
</span><span id="line-986"></span><span class="hs-comment">-- because this won't work for:</span><span>
</span><span id="line-987"></span><span class="hs-comment">--      instance Foo T where</span><span>
</span><span id="line-988"></span><span class="hs-comment">--        {-# INLINE op #-}</span><span>
</span><span id="line-989"></span><span class="hs-comment">--        Baz.op = ...</span><span>
</span><span id="line-990"></span><span class="hs-comment">-- We'll just rename the INLINE prag to refer to whatever other 'op'</span><span>
</span><span id="line-991"></span><span class="hs-comment">-- is in scope.  (I'm assuming that Baz.op isn't in scope unqualified.)</span><span>
</span><span id="line-992"></span><span class="hs-comment">-- Doesn't seem worth much trouble to sort this.</span><span>
</span><span id="line-993"></span><span>
</span><span id="line-994"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-type">renameSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#HsSigCtxt"><span class="hs-identifier hs-type">HsSigCtxt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-995"></span><span id="renameSig"><span class="annot"><span class="annottext">renameSig :: HsSigCtxt -&gt; Sig GhcPs -&gt; RnM (Sig GhcRn, NameSet)
</span><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var hs-var">renameSig</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IdSig"><span class="hs-identifier hs-type">IdSig</span></a></span><span> </span><span class="annot"><span class="annottext">XIdSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361278"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681361278"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-996"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. XIdSig pass -&gt; Id -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#IdSig"><span class="hs-identifier hs-var">IdSig</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681361278"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- Actually this never occurs</span><span>
</span><span id="line-997"></span><span>
</span><span id="line-998"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span id="local-6989586621681361277"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361277"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361276"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361276"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361275"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361275"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621681361274"><span class="annot"><span class="annottext">LHsSigWcType GhcPs
</span><a href="#local-6989586621681361274"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-999"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361273"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361273"><span class="hs-identifier hs-var">new_vs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; Sig GhcPs
-&gt; LocatedN RdrName
-&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Env.html#lookupSigOccRnN"><span class="hs-identifier hs-var">lookupSigOccRnN</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361277"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361276"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361275"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-1000"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361271"><span class="annot"><span class="annottext">doc :: HsDocContext
</span><a href="#local-6989586621681361271"><span class="hs-identifier hs-var hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; HsDocContext
</span><a href="GHC.Rename.Utils.html#TypeSigCtx"><span class="hs-identifier hs-var">TypeSigCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LocatedN RdrName] -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#ppr_sig_bndrs"><span class="hs-identifier hs-var">ppr_sig_bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361275"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1001"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361268"><span class="annot"><span class="annottext">HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsSigType GhcRn))
</span><a href="#local-6989586621681361268"><span class="hs-identifier hs-var">new_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361267"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361267"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsDocContext
-&gt; LHsSigWcType GhcPs -&gt; RnM (LHsSigWcType GhcRn, NameSet)
</span><a href="GHC.Rename.HsType.html#rnHsSigWcType"><span class="hs-identifier hs-var">rnHsSigWcType</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocContext
</span><a href="#local-6989586621681361271"><span class="hs-identifier hs-var">doc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcPs
</span><a href="#local-6989586621681361274"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1002"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XTypeSig pass -&gt; [LIdP pass] -&gt; LHsSigWcType pass -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-var">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361273"><span class="hs-identifier hs-var">new_vs</span></a></span><span> </span><span class="annot"><span class="annottext">HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsSigType GhcRn))
</span><a href="#local-6989586621681361268"><span class="hs-identifier hs-var">new_ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361267"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1003"></span><span>
</span><span id="line-1004"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span id="local-6989586621681361265"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361265"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361264"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361264"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361263"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361263"><span class="hs-identifier hs-var">is_deflt</span></a></span></span><span> </span><span id="local-6989586621681361262"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361262"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621681361261"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681361261"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1005"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361260"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361260"><span class="hs-identifier hs-var">defaultSigs_on</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall gbl lcl. Extension -&gt; TcRnIf gbl lcl Bool
</span><a href="GHC.Tc.Utils.Monad.html#xoptM"><span class="hs-identifier hs-var">xoptM</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><span class="hs-identifier hs-var">LangExt.DefaultSignatures</span></span><span>
</span><span id="line-1006"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361263"><span class="hs-identifier hs-var">is_deflt</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361260"><span class="hs-identifier hs-var">defaultSigs_on</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1007"></span><span>          </span><span class="annot"><span class="annottext">SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addErr"><span class="hs-identifier hs-var">addErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sig GhcPs -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#defaultSigErr"><span class="hs-identifier hs-var">defaultSigErr</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361264"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1008"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681361257"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361257"><span class="hs-identifier hs-var">new_v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; Sig GhcPs
-&gt; LocatedN RdrName
-&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Env.html#lookupSigOccRnN"><span class="hs-identifier hs-var">lookupSigOccRnN</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361265"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361264"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361262"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-1009"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361256"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621681361256"><span class="hs-identifier hs-var">new_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361255"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361255"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsDocContext
-&gt; TypeOrKind
-&gt; LHsSigType GhcPs
-&gt; RnM (LHsSigType GhcRn, NameSet)
</span><a href="GHC.Rename.HsType.html#rnHsSigType"><span class="hs-identifier hs-var">rnHsSigType</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocContext
</span><a href="#local-6989586621681361253"><span class="hs-identifier hs-var">ty_ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="GHC.Types.Basic.html#TypeLevel"><span class="hs-identifier hs-var">TypeLevel</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681361261"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1010"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XClassOpSig pass
-&gt; Bool -&gt; [LIdP pass] -&gt; LHsSigType pass -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-var">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361263"><span class="hs-identifier hs-var">is_deflt</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361257"><span class="hs-identifier hs-var">new_v</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621681361256"><span class="hs-identifier hs-var">new_ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361255"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1011"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1012"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681361251"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361251"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361262"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-1013"></span><span>    </span><span id="local-6989586621681361253"><span class="annot"><span class="annottext">ty_ctxt :: HsDocContext
</span><a href="#local-6989586621681361253"><span class="hs-identifier hs-var hs-var">ty_ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; HsDocContext
</span><a href="GHC.Rename.Utils.html#GenericCtx"><span class="hs-identifier hs-var">GenericCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a class method signature for&quot;</span></span><span>
</span><span id="line-1014"></span><span>                          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361251"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1015"></span><span>
</span><span id="line-1016"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecInstSig"><span class="hs-identifier hs-type">SpecInstSig</span></a></span><span> </span><span class="annot"><span class="annottext">XSpecInstSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361248"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681361248"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621681361247"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681361247"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1017"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">HsDocContext -&gt; Maybe SDoc -&gt; LHsSigType GhcPs -&gt; TcRn ()
</span><a href="GHC.Rename.Utils.html#checkInferredVars"><span class="hs-identifier hs-var">checkInferredVars</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocContext
</span><a href="#local-6989586621681361246"><span class="hs-identifier hs-var">doc</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SDoc
</span><a href="#local-6989586621681361245"><span class="hs-identifier hs-var">inf_msg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681361247"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1018"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361244"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621681361244"><span class="hs-identifier hs-var">new_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361243"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361243"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsDocContext
-&gt; TypeOrKind
-&gt; LHsSigType GhcPs
-&gt; RnM (LHsSigType GhcRn, NameSet)
</span><a href="GHC.Rename.HsType.html#rnHsSigType"><span class="hs-identifier hs-var">rnHsSigType</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocContext
</span><a href="#local-6989586621681361246"><span class="hs-identifier hs-var">doc</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="GHC.Types.Basic.html#TypeLevel"><span class="hs-identifier hs-var">TypeLevel</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681361247"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1019"></span><span>          </span><span class="hs-comment">-- Check if there are any nested `forall`s or contexts, which are</span><span>
</span><span id="line-1020"></span><span>          </span><span class="hs-comment">-- illegal in the type of an instance declaration (see</span><span>
</span><span id="line-1021"></span><span>          </span><span class="hs-comment">-- Note [No nested foralls or contexts in instance types] in</span><span>
</span><span id="line-1022"></span><span>          </span><span class="hs-comment">-- GHC.Hs.Type).</span><span>
</span><span id="line-1023"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsDocContext -&gt; SDoc -&gt; LHsType GhcRn -&gt; TcRn ()
</span><a href="GHC.Rename.Utils.html#addNoNestedForallsContextsErr"><span class="hs-identifier hs-var">addNoNestedForallsContextsErr</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocContext
</span><a href="#local-6989586621681361246"><span class="hs-identifier hs-var">doc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SPECIALISE instance type&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1024"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass). LHsSigType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#getLHsInstDeclHead"><span class="hs-identifier hs-var">getLHsInstDeclHead</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621681361244"><span class="hs-identifier hs-var">new_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1025"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XSpecInstSig pass -&gt; SourceText -&gt; LHsSigType pass -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#SpecInstSig"><span class="hs-identifier hs-var">SpecInstSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681361248"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621681361244"><span class="hs-identifier hs-var">new_ty</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361243"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1026"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1027"></span><span>    </span><span id="local-6989586621681361246"><span class="annot"><span class="annottext">doc :: HsDocContext
</span><a href="#local-6989586621681361246"><span class="hs-identifier hs-var hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDocContext
</span><a href="GHC.Rename.Utils.html#SpecInstSigCtx"><span class="hs-identifier hs-var">SpecInstSigCtx</span></a></span><span>
</span><span id="line-1028"></span><span>    </span><span id="local-6989586621681361245"><span class="annot"><span class="annottext">inf_msg :: Maybe SDoc
</span><a href="#local-6989586621681361245"><span class="hs-identifier hs-var hs-var">inf_msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Inferred type variables are not allowed&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1029"></span><span>
</span><span id="line-1030"></span><span class="hs-comment">-- {-# SPECIALISE #-} pragmas can refer to imported Ids</span><span>
</span><span id="line-1031"></span><span class="hs-comment">-- so, in the top-level case (when mb_names is Nothing)</span><span>
</span><span id="line-1032"></span><span class="hs-comment">-- we use lookupOccRn.  If there's both an imported and a local 'f'</span><span>
</span><span id="line-1033"></span><span class="hs-comment">-- then the SPECIALISE pragma is ambiguous, unlike all other signatures</span><span>
</span><span id="line-1034"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span id="local-6989586621681361240"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361240"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361239"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361239"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-type">SpecSig</span></a></span><span> </span><span class="annot"><span class="annottext">XSpecSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361237"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361237"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681361236"><span class="annot"><span class="annottext">[LHsSigType GhcPs]
</span><a href="#local-6989586621681361236"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span id="local-6989586621681361235"><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621681361235"><span class="hs-identifier hs-var">inl</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1035"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361234"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361234"><span class="hs-identifier hs-var">new_v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361240"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1036"></span><span>                     </span><span class="annot"><a href="GHC.Rename.Env.html#TopSigCtxt"><span class="hs-identifier hs-type">TopSigCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {ann}.
GenLocated (SrcSpanAnn' ann) RdrName
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) Name)
</span><a href="GHC.Rename.Env.html#lookupLocatedOccRn"><span class="hs-identifier hs-var">lookupLocatedOccRn</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361237"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1037"></span><span>                     </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; Sig GhcPs
-&gt; LocatedN RdrName
-&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Env.html#lookupSigOccRnN"><span class="hs-identifier hs-var">lookupSigOccRnN</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361240"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361239"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361237"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1038"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361231"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsSigType GhcRn)]
</span><a href="#local-6989586621681361231"><span class="hs-identifier hs-var">new_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361230"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361230"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) b a.
(Foldable t, Monad m) =&gt;
(b -&gt; a -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#foldM"><span class="hs-identifier hs-var">foldM</span></a></span><span> </span><span class="annot"><span class="annottext">([GenLocated SrcSpanAnnA (HsSigType GhcRn)], NameSet)
-&gt; GenLocated SrcSpanAnnA (HsSigType GhcPs)
-&gt; IOEnv
     (Env TcGblEnv TcLclEnv)
     ([GenLocated SrcSpanAnnA (HsSigType GhcRn)], NameSet)
</span><a href="#local-6989586621681361228"><span class="hs-identifier hs-var">do_one</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsSigType GhcPs]
</span><a href="#local-6989586621681361236"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1039"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XSpecSig pass
-&gt; LIdP pass -&gt; [LHsSigType pass] -&gt; InlinePragma -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-var">SpecSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361234"><span class="hs-identifier hs-var">new_v</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsSigType GhcRn)]
</span><a href="#local-6989586621681361231"><span class="hs-identifier hs-var">new_ty</span></a></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621681361235"><span class="hs-identifier hs-var">inl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361230"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1040"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1041"></span><span>    </span><span id="local-6989586621681361227"><span class="annot"><span class="annottext">ty_ctxt :: HsDocContext
</span><a href="#local-6989586621681361227"><span class="hs-identifier hs-var hs-var">ty_ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; HsDocContext
</span><a href="GHC.Rename.Utils.html#GenericCtx"><span class="hs-identifier hs-var">GenericCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a SPECIALISE signature for&quot;</span></span><span>
</span><span id="line-1042"></span><span>                          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361237"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1043"></span><span>    </span><span id="local-6989586621681361228"><span class="annot"><span class="annottext">do_one :: ([GenLocated SrcSpanAnnA (HsSigType GhcRn)], NameSet)
-&gt; GenLocated SrcSpanAnnA (HsSigType GhcPs)
-&gt; IOEnv
     (Env TcGblEnv TcLclEnv)
     ([GenLocated SrcSpanAnnA (HsSigType GhcRn)], NameSet)
</span><a href="#local-6989586621681361228"><span class="hs-identifier hs-var hs-var">do_one</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361226"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsSigType GhcRn)]
</span><a href="#local-6989586621681361226"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681361225"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361225"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361224"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcPs)
</span><a href="#local-6989586621681361224"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-1044"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361223"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621681361223"><span class="hs-identifier hs-var">new_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361222"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361222"><span class="hs-identifier hs-var">fvs_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsDocContext
-&gt; TypeOrKind
-&gt; LHsSigType GhcPs
-&gt; RnM (LHsSigType GhcRn, NameSet)
</span><a href="GHC.Rename.HsType.html#rnHsSigType"><span class="hs-identifier hs-var">rnHsSigType</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocContext
</span><a href="#local-6989586621681361227"><span class="hs-identifier hs-var">ty_ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="GHC.Types.Basic.html#TypeLevel"><span class="hs-identifier hs-var">TypeLevel</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcPs)
</span><a href="#local-6989586621681361224"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1045"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621681361223"><span class="hs-identifier hs-var">new_ty</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsSigType GhcRn)]
</span><a href="#local-6989586621681361226"><span class="hs-identifier hs-var">tys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361222"><span class="hs-identifier hs-var">fvs_ty</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; NameSet -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#plusFV"><span class="hs-operator hs-var">`plusFV`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361225"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1046"></span><span>
</span><span id="line-1047"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span id="local-6989586621681361221"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361221"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361220"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361220"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span> </span><span class="annot"><span class="annottext">XInlineSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361218"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361218"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681361217"><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621681361217"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1048"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361216"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361216"><span class="hs-identifier hs-var">new_v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; Sig GhcPs
-&gt; LocatedN RdrName
-&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Env.html#lookupSigOccRnN"><span class="hs-identifier hs-var">lookupSigOccRnN</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361221"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361220"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361218"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1049"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XInlineSig pass -&gt; LIdP pass -&gt; InlinePragma -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-var">InlineSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361216"><span class="hs-identifier hs-var">new_v</span></a></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621681361217"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1050"></span><span>
</span><span id="line-1051"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span id="local-6989586621681361215"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361215"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361214"><span class="annot"><span class="annottext">FixitySig GhcPs
</span><a href="#local-6989586621681361214"><span class="hs-identifier hs-var">fsig</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1052"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361213"><span class="annot"><span class="annottext">FixitySig GhcRn
</span><a href="#local-6989586621681361213"><span class="hs-identifier hs-var">new_fsig</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt -&gt; FixitySig GhcPs -&gt; RnM (FixitySig GhcRn)
</span><a href="GHC.Rename.Bind.html#rnSrcFixityDecl"><span class="hs-identifier hs-var">rnSrcFixityDecl</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361215"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">FixitySig GhcPs
</span><a href="#local-6989586621681361214"><span class="hs-identifier hs-var">fsig</span></a></span><span>
</span><span id="line-1053"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. XFixSig pass -&gt; FixitySig pass -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-var">FixSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">FixitySig GhcRn
</span><a href="#local-6989586621681361213"><span class="hs-identifier hs-var">new_fsig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1054"></span><span>
</span><span id="line-1055"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span id="local-6989586621681361212"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361212"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361211"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361211"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#MinimalSig"><span class="hs-identifier hs-type">MinimalSig</span></a></span><span> </span><span class="annot"><span class="annottext">XMinimalSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361209"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681361209"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361208"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681361208"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681361207"><span class="annot"><span class="annottext">BooleanFormula (LIdP GhcPs)
</span><a href="#local-6989586621681361207"><span class="hs-identifier hs-var">bf</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1056"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681361206"><span class="annot"><span class="annottext">BooleanFormula (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621681361206"><span class="hs-identifier hs-var">new_bf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; Sig GhcPs
-&gt; LocatedN RdrName
-&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Env.html#lookupSigOccRnN"><span class="hs-identifier hs-var">lookupSigOccRnN</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361212"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361211"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BooleanFormula (LIdP GhcPs)
</span><a href="#local-6989586621681361207"><span class="hs-identifier hs-var">bf</span></a></span><span>
</span><span id="line-1057"></span><span>       </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XMinimalSig pass
-&gt; SourceText -&gt; LBooleanFormula (LIdP pass) -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#MinimalSig"><span class="hs-identifier hs-var">MinimalSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681361209"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681361208"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">BooleanFormula (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621681361206"><span class="hs-identifier hs-var">new_bf</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1058"></span><span>
</span><span id="line-1059"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span id="local-6989586621681361204"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361204"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361203"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361203"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361202"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361202"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621681361201"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681361201"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1060"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361200"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361200"><span class="hs-identifier hs-var">new_vs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; Sig GhcPs
-&gt; LocatedN RdrName
-&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Env.html#lookupSigOccRnN"><span class="hs-identifier hs-var">lookupSigOccRnN</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361204"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361203"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361202"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-1061"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361199"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621681361199"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361198"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361198"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsDocContext
-&gt; TypeOrKind
-&gt; LHsSigType GhcPs
-&gt; RnM (LHsSigType GhcRn, NameSet)
</span><a href="GHC.Rename.HsType.html#rnHsSigType"><span class="hs-identifier hs-var">rnHsSigType</span></a></span><span> </span><span class="annot"><span class="annottext">HsDocContext
</span><a href="#local-6989586621681361197"><span class="hs-identifier hs-var">ty_ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">TypeOrKind
</span><a href="GHC.Types.Basic.html#TypeLevel"><span class="hs-identifier hs-var">TypeLevel</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681361201"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1062"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XPatSynSig pass -&gt; [LIdP pass] -&gt; LHsSigType pass -&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-var">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361200"><span class="hs-identifier hs-var">new_vs</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621681361199"><span class="hs-identifier hs-var">ty'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361198"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1063"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1064"></span><span>    </span><span id="local-6989586621681361197"><span class="annot"><span class="annottext">ty_ctxt :: HsDocContext
</span><a href="#local-6989586621681361197"><span class="hs-identifier hs-var hs-var">ty_ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; HsDocContext
</span><a href="GHC.Rename.Utils.html#GenericCtx"><span class="hs-identifier hs-var">GenericCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a pattern synonym signature for&quot;</span></span><span>
</span><span id="line-1065"></span><span>                          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedN RdrName] -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#ppr_sig_bndrs"><span class="hs-identifier hs-var">ppr_sig_bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361202"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1066"></span><span>
</span><span id="line-1067"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span id="local-6989586621681361196"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361196"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361195"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361195"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SCCFunSig"><span class="hs-identifier hs-type">SCCFunSig</span></a></span><span> </span><span class="annot"><span class="annottext">XSCCFunSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361193"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681361193"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621681361192"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361192"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681361191"><span class="annot"><span class="annottext">Maybe (XRec GhcPs StringLiteral)
</span><a href="#local-6989586621681361191"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1068"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361190"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361190"><span class="hs-identifier hs-var">new_v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
-&gt; Sig GhcPs
-&gt; LocatedN RdrName
-&gt; RnM (GenLocated SrcSpanAnnN Name)
</span><a href="GHC.Rename.Env.html#lookupSigOccRnN"><span class="hs-identifier hs-var">lookupSigOccRnN</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361196"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361195"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361192"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1069"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XSCCFunSig pass
-&gt; SourceText
-&gt; LIdP pass
-&gt; Maybe (XRec pass StringLiteral)
-&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#SCCFunSig"><span class="hs-identifier hs-var">SCCFunSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681361193"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621681361190"><span class="hs-identifier hs-var">new_v</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcPs StringLiteral)
</span><a href="#local-6989586621681361191"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1070"></span><span>
</span><span id="line-1071"></span><span class="hs-comment">-- COMPLETE Sigs can refer to imported IDs which is why we use</span><span>
</span><span id="line-1072"></span><span class="hs-comment">-- lookupLocatedOccRn rather than lookupSigOccRn</span><span>
</span><span id="line-1073"></span><span class="annot"><a href="GHC.Rename.Bind.html#renameSig"><span class="hs-identifier hs-var">renameSig</span></a></span><span> </span><span id="local-6989586621681361189"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361189"><span class="hs-identifier hs-var">_ctxt</span></a></span></span><span> </span><span id="local-6989586621681361188"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361188"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#CompleteMatchSig"><span class="hs-identifier hs-type">CompleteMatchSig</span></a></span><span> </span><span class="annot"><span class="annottext">XCompleteMatchSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361186"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681361186"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361185"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361185"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681361184"><span class="annot"><span class="annottext">[LocatedN RdrName]
</span><a href="#local-6989586621681361184"><span class="hs-identifier hs-var">bf</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681361183"><span class="annot"><span class="annottext">Maybe (LIdP GhcPs)
</span><a href="#local-6989586621681361183"><span class="hs-identifier hs-var">mty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1074"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681361182"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361182"><span class="hs-identifier hs-var">new_bf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall {ann}.
GenLocated (SrcSpanAnn' ann) RdrName
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) Name)
</span><a href="GHC.Rename.Env.html#lookupLocatedOccRn"><span class="hs-identifier hs-var">lookupLocatedOccRn</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedN RdrName]
</span><a href="#local-6989586621681361184"><span class="hs-identifier hs-var">bf</span></a></span><span>
</span><span id="line-1075"></span><span>       </span><span id="local-6989586621681361181"><span class="annot"><span class="annottext">Maybe (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621681361181"><span class="hs-identifier hs-var">new_mty</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall {ann}.
GenLocated (SrcSpanAnn' ann) RdrName
-&gt; TcRn (GenLocated (SrcSpanAnn' ann) Name)
</span><a href="GHC.Rename.Env.html#lookupLocatedOccRn"><span class="hs-identifier hs-var">lookupLocatedOccRn</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LIdP GhcPs)
</span><a href="#local-6989586621681361183"><span class="hs-identifier hs-var">mty</span></a></span><span>
</span><span id="line-1076"></span><span>
</span><span id="line-1077"></span><span>       </span><span id="local-6989586621681361180"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681361180"><span class="hs-identifier hs-var">this_mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">TcGblEnv -&gt; Module
</span><a href="GHC.Tc.Types.html#tcg_mod"><span class="hs-identifier hs-var">tcg_mod</span></a></span><span> </span><span class="annot"><span class="annottext">forall gbl lcl. TcRnIf gbl lcl gbl
</span><a href="GHC.Tc.Utils.Monad.html#getGblEnv"><span class="hs-identifier hs-var">getGblEnv</span></a></span><span>
</span><span id="line-1078"></span><span>       </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; Name -&gt; Bool
</span><a href="GHC.Types.Name.html#nameIsLocalOrFrom"><span class="hs-identifier hs-var">nameIsLocalOrFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681361180"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361182"><span class="hs-identifier hs-var">new_bf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1079"></span><span>         </span><span class="hs-comment">-- Why 'any'? See Note [Orphan COMPLETE pragmas]</span><span>
</span><span id="line-1080"></span><span>         </span><span class="annot"><span class="annottext">forall a. SDoc -&gt; TcM a -&gt; TcM a
</span><a href="GHC.Tc.Utils.Monad.html#addErrCtxt"><span class="hs-identifier hs-var">addErrCtxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361188"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SDoc -&gt; TcM a
</span><a href="GHC.Tc.Utils.Monad.html#failWithTc"><span class="hs-identifier hs-var">failWithTc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681361174"><span class="hs-identifier hs-var">orphanError</span></a></span><span>
</span><span id="line-1081"></span><span>
</span><span id="line-1082"></span><span>       </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XCompleteMatchSig pass
-&gt; SourceText
-&gt; XRec pass [LIdP pass]
-&gt; Maybe (LIdP pass)
-&gt; Sig pass
</span><a href="Language.Haskell.Syntax.Binds.html#CompleteMatchSig"><span class="hs-identifier hs-var">CompleteMatchSig</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681361186"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681361185"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681361182"><span class="hs-identifier hs-var">new_bf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621681361181"><span class="hs-identifier hs-var">new_mty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyFVs"><span class="hs-identifier hs-var">emptyFVs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1083"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1084"></span><span>    </span><span class="annot"><a href="#local-6989586621681361174"><span class="hs-identifier hs-type">orphanError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1085"></span><span>    </span><span id="local-6989586621681361174"><span class="annot"><span class="annottext">orphanError :: SDoc
</span><a href="#local-6989586621681361174"><span class="hs-identifier hs-var hs-var">orphanError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1086"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Orphan COMPLETE pragmas not supported&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1087"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;A COMPLETE pragma must mention at least one data constructor&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1088"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;or pattern synonym defined in the same module.&quot;</span></span><span>
</span><span id="line-1089"></span><span>
</span><span id="line-1090"></span><span class="hs-comment">{-
Note [Orphan COMPLETE pragmas]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
We define a COMPLETE pragma to be a non-orphan if it includes at least
one conlike defined in the current module. Why is this sufficient?
Well if you have a pattern match

  case expr of
    P1 -&gt; ...
    P2 -&gt; ...
    P3 -&gt; ...

any COMPLETE pragma which mentions a conlike other than P1, P2 or P3
will not be of any use in verifying that the pattern match is
exhaustive. So as we have certainly read the interface files that
define P1, P2 and P3, we will have loaded all non-orphan COMPLETE
pragmas that could be relevant to this pattern match.

For now we simply disallow orphan COMPLETE pragmas, as the added
complexity of supporting them properly doesn't seem worthwhile.
-}</span><span>
</span><span id="line-1111"></span><span>
</span><span id="line-1112"></span><span class="annot"><a href="GHC.Rename.Bind.html#ppr_sig_bndrs"><span class="hs-identifier hs-type">ppr_sig_bndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1113"></span><span id="ppr_sig_bndrs"><span class="annot"><span class="annottext">ppr_sig_bndrs :: [LocatedN RdrName] -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#ppr_sig_bndrs"><span class="hs-identifier hs-var hs-var">ppr_sig_bndrs</span></a></span></span><span> </span><span id="local-6989586621681361172"><span class="annot"><span class="annottext">[LocatedN RdrName]
</span><a href="#local-6989586621681361172"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (a -&gt; SDoc) -&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedN RdrName]
</span><a href="#local-6989586621681361172"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1114"></span><span>
</span><span id="line-1115"></span><span id="local-6989586621681362180"><span class="annot"><a href="GHC.Rename.Bind.html#okHsSig"><span class="hs-identifier hs-type">okHsSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#HsSigCtxt"><span class="hs-identifier hs-type">HsSigCtxt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681362180"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-1116"></span><span id="okHsSig"><span class="annot"><span class="annottext">okHsSig :: forall (a :: Pass). HsSigCtxt -&gt; LSig (GhcPass a) -&gt; Bool
</span><a href="GHC.Rename.Bind.html#okHsSig"><span class="hs-identifier hs-var hs-var">okHsSig</span></a></span></span><span> </span><span id="local-6989586621681361171"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361171"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361170"><span class="annot"><span class="annottext">Sig (GhcPass a)
</span><a href="#local-6989586621681361170"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1117"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sig (GhcPass a)
</span><a href="#local-6989586621681361170"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681361171"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1118"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#ClsDeclCtxt"><span class="hs-identifier hs-type">ClsDeclCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1119"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#InstDeclCtxt"><span class="hs-identifier hs-type">InstDeclCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1120"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1121"></span><span>
</span><span id="line-1122"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#ClsDeclCtxt"><span class="hs-identifier hs-type">ClsDeclCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1123"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#InstDeclCtxt"><span class="hs-identifier hs-type">InstDeclCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1124"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1125"></span><span>
</span><span id="line-1126"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#TopSigCtxt"><span class="hs-identifier hs-type">TopSigCtxt</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1127"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1128"></span><span>
</span><span id="line-1129"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#InstDeclCtxt"><span class="hs-identifier hs-type">InstDeclCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1130"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1131"></span><span>
</span><span id="line-1132"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IdSig"><span class="hs-identifier hs-type">IdSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#TopSigCtxt"><span class="hs-identifier hs-type">TopSigCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1133"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IdSig"><span class="hs-identifier hs-type">IdSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#InstDeclCtxt"><span class="hs-identifier hs-type">InstDeclCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1134"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IdSig"><span class="hs-identifier hs-type">IdSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1135"></span><span>
</span><span id="line-1136"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#HsBootCtxt"><span class="hs-identifier hs-type">HsBootCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1137"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1138"></span><span>
</span><span id="line-1139"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-type">SpecSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#TopSigCtxt"><span class="hs-identifier hs-type">TopSigCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1140"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-type">SpecSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#LocalBindCtxt"><span class="hs-identifier hs-type">LocalBindCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1141"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-type">SpecSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#InstDeclCtxt"><span class="hs-identifier hs-type">InstDeclCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1142"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-type">SpecSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1143"></span><span>
</span><span id="line-1144"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecInstSig"><span class="hs-identifier hs-type">SpecInstSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#InstDeclCtxt"><span class="hs-identifier hs-type">InstDeclCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1145"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecInstSig"><span class="hs-identifier hs-type">SpecInstSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1146"></span><span>
</span><span id="line-1147"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#MinimalSig"><span class="hs-identifier hs-type">MinimalSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#ClsDeclCtxt"><span class="hs-identifier hs-type">ClsDeclCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1148"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#MinimalSig"><span class="hs-identifier hs-type">MinimalSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1149"></span><span>
</span><span id="line-1150"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SCCFunSig"><span class="hs-identifier hs-type">SCCFunSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#HsBootCtxt"><span class="hs-identifier hs-type">HsBootCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1151"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SCCFunSig"><span class="hs-identifier hs-type">SCCFunSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1152"></span><span>
</span><span id="line-1153"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#CompleteMatchSig"><span class="hs-identifier hs-type">CompleteMatchSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#TopSigCtxt"><span class="hs-identifier hs-type">TopSigCtxt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1154"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#CompleteMatchSig"><span class="hs-identifier hs-type">CompleteMatchSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1155"></span><span>
</span><span id="line-1156"></span><span class="hs-comment">-------------------</span><span>
</span><span id="line-1157"></span><span class="annot"><a href="GHC.Rename.Bind.html#findDupSigs"><span class="hs-identifier hs-type">findDupSigs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1158"></span><span class="hs-comment">-- Check for duplicates on RdrName version,</span><span>
</span><span id="line-1159"></span><span class="hs-comment">-- because renamed version has unboundName for</span><span>
</span><span id="line-1160"></span><span class="hs-comment">-- not-in-scope binders, which gives bogus dup-sig errors</span><span>
</span><span id="line-1161"></span><span class="hs-comment">-- NB: in a class decl, a 'generic' sig is not considered</span><span>
</span><span id="line-1162"></span><span class="hs-comment">--     equal to an ordinary sig, so we allow, say</span><span>
</span><span id="line-1163"></span><span class="hs-comment">--           class C a where</span><span>
</span><span id="line-1164"></span><span class="hs-comment">--             op :: a -&gt; a</span><span>
</span><span id="line-1165"></span><span class="hs-comment">--             default op :: Eq a =&gt; a -&gt; a</span><span>
</span><span id="line-1166"></span><span id="findDupSigs"><span class="annot"><span class="annottext">findDupSigs :: [XRec GhcPs (Sig GhcPs)]
-&gt; [NonEmpty (LocatedN RdrName, Sig GhcPs)]
</span><a href="GHC.Rename.Bind.html#findDupSigs"><span class="hs-identifier hs-var hs-var">findDupSigs</span></a></span></span><span> </span><span id="local-6989586621681361169"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361169"><span class="hs-identifier hs-var">sigs</span></a></span></span><span>
</span><span id="line-1167"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a -&gt; Bool) -&gt; [a] -&gt; [NonEmpty a]
</span><a href="GHC.Data.List.SetOps.html#findDupsEq"><span class="hs-identifier hs-var">findDupsEq</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedN RdrName, Sig GhcPs)
-&gt; (LocatedN RdrName, Sig GhcPs) -&gt; Bool
</span><a href="#local-6989586621681361168"><span class="hs-identifier hs-var">matching_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sig GhcPs -&gt; [(LocatedN RdrName, Sig GhcPs)]
</span><a href="#local-6989586621681361167"><span class="hs-identifier hs-var">expand_sig</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361169"><span class="hs-identifier hs-var">sigs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1168"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1169"></span><span>    </span><span class="annot"><a href="#local-6989586621681361167"><span class="hs-identifier hs-type">expand_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- AZ</span><span>
</span><span id="line-1170"></span><span>    </span><span id="local-6989586621681361167"><span class="annot"><span class="annottext">expand_sig :: Sig GhcPs -&gt; [(LocatedN RdrName, Sig GhcPs)]
</span><a href="#local-6989586621681361167"><span class="hs-identifier hs-var hs-var">expand_sig</span></a></span></span><span> </span><span id="local-6989586621681361166"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361166"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixitySig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361165"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361165"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361165"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361166"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1171"></span><span>    </span><span class="annot"><a href="#local-6989586621681361167"><span class="hs-identifier hs-var">expand_sig</span></a></span><span> </span><span id="local-6989586621681361163"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361163"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span> </span><span class="annot"><span class="annottext">XInlineSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361162"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361162"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361162"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361163"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1172"></span><span>    </span><span class="annot"><a href="#local-6989586621681361167"><span class="hs-identifier hs-var">expand_sig</span></a></span><span> </span><span id="local-6989586621681361161"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361161"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361160"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361160"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621681361159"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361161"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681361159"><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621681361159"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361160"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1173"></span><span>    </span><span class="annot"><a href="#local-6989586621681361167"><span class="hs-identifier hs-var">expand_sig</span></a></span><span> </span><span id="local-6989586621681361158"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361158"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361157"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361157"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621681361156"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361158"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681361156"><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621681361156"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361157"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1174"></span><span>    </span><span class="annot"><a href="#local-6989586621681361167"><span class="hs-identifier hs-var">expand_sig</span></a></span><span> </span><span id="local-6989586621681361155"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361155"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361154"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361154"><span class="hs-identifier hs-var">ns</span></a></span></span><span>  </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621681361153"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361155"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681361153"><span class="annot"><span class="annottext">LocatedN RdrName
</span><a href="#local-6989586621681361153"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681361154"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1175"></span><span>    </span><span class="annot"><a href="#local-6989586621681361167"><span class="hs-identifier hs-var">expand_sig</span></a></span><span> </span><span id="local-6989586621681361152"><span class="annot"><span class="annottext">sig :: Sig GhcPs
</span><a href="#local-6989586621681361152"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SCCFunSig"><span class="hs-identifier hs-type">SCCFunSig</span></a></span><span> </span><span class="annot"><span class="annottext">XSCCFunSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361151"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361151"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcPs StringLiteral)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681361151"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361152"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1176"></span><span>    </span><span class="annot"><a href="#local-6989586621681361167"><span class="hs-identifier hs-var">expand_sig</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1177"></span><span>
</span><span id="line-1178"></span><span>    </span><span class="annot"><a href="#local-6989586621681361168"><span class="hs-identifier hs-type">matching_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-comment">--AZ</span><span>
</span><span id="line-1179"></span><span>    </span><span id="local-6989586621681361168"><span class="annot"><span class="annottext">matching_sig :: (LocatedN RdrName, Sig GhcPs)
-&gt; (LocatedN RdrName, Sig GhcPs) -&gt; Bool
</span><a href="#local-6989586621681361168"><span class="hs-identifier hs-var hs-var">matching_sig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361150"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361150"><span class="hs-identifier hs-var">n1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681361149"><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361149"><span class="hs-identifier hs-var">sig1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361148"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361148"><span class="hs-identifier hs-var">n2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681361147"><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361147"><span class="hs-identifier hs-var">sig2</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361150"><span class="hs-identifier hs-var">n1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681361148"><span class="hs-identifier hs-var">n2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall {pass} {pass}. Sig pass -&gt; Sig pass -&gt; Bool
</span><a href="#local-6989586621681361146"><span class="hs-identifier hs-var">mtch</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361149"><span class="hs-identifier hs-var">sig1</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681361147"><span class="hs-identifier hs-var">sig2</span></a></span><span>
</span><span id="line-1180"></span><span>    </span><span id="local-6989586621681361146"><span class="annot"><span class="annottext">mtch :: Sig pass -&gt; Sig pass -&gt; Bool
</span><a href="#local-6989586621681361146"><span class="hs-identifier hs-var hs-var">mtch</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1181"></span><span>    </span><span class="annot"><a href="#local-6989586621681361146"><span class="hs-identifier hs-var">mtch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1182"></span><span>    </span><span class="annot"><a href="#local-6989586621681361146"><span class="hs-identifier hs-var">mtch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1183"></span><span>    </span><span class="annot"><a href="#local-6989586621681361146"><span class="hs-identifier hs-var">mtch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig pass
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361143"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361143"><span class="hs-identifier hs-var">d1</span></a></span></span><span> </span><span class="annot"><span class="annottext">[LIdP pass]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsSigType pass
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig pass
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361142"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361142"><span class="hs-identifier hs-var">d2</span></a></span></span><span> </span><span class="annot"><span class="annottext">[LIdP pass]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsSigType pass
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361143"><span class="hs-identifier hs-var">d1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361142"><span class="hs-identifier hs-var">d2</span></a></span><span>
</span><span id="line-1184"></span><span>    </span><span class="annot"><a href="#local-6989586621681361146"><span class="hs-identifier hs-var">mtch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynSig pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP pass]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsSigType pass
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynSig pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP pass]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsSigType pass
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1185"></span><span>    </span><span class="annot"><a href="#local-6989586621681361146"><span class="hs-identifier hs-var">mtch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SCCFunSig"><span class="hs-identifier hs-type">SCCFunSig</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SCCFunSig"><span class="hs-identifier hs-type">SCCFunSig</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1186"></span><span>    </span><span class="annot"><a href="#local-6989586621681361146"><span class="hs-identifier hs-var">mtch</span></a></span><span> </span><span class="annot"><span class="annottext">Sig pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Sig pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1187"></span><span>
</span><span id="line-1188"></span><span class="hs-comment">-- Warn about multiple MINIMAL signatures</span><span>
</span><span id="line-1189"></span><span class="annot"><a href="GHC.Rename.Bind.html#checkDupMinimalSigs"><span class="hs-identifier hs-type">checkDupMinimalSigs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1190"></span><span id="checkDupMinimalSigs"><span class="annot"><span class="annottext">checkDupMinimalSigs :: [XRec GhcPs (Sig GhcPs)] -&gt; TcRn ()
</span><a href="GHC.Rename.Bind.html#checkDupMinimalSigs"><span class="hs-identifier hs-var hs-var">checkDupMinimalSigs</span></a></span></span><span> </span><span id="local-6989586621681361141"><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361141"><span class="hs-identifier hs-var">sigs</span></a></span></span><span>
</span><span id="line-1191"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. UnXRec p =&gt; LSig p -&gt; Bool
</span><a href="Language.Haskell.Syntax.Binds.html#isMinimalLSig"><span class="hs-identifier hs-var">isMinimalLSig</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361141"><span class="hs-identifier hs-var">sigs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1192"></span><span>      </span><span id="local-6989586621681361139"><span class="annot"><span class="annottext">minSigs :: [XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361139"><span class="hs-identifier hs-var">minSigs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">XRec GhcPs (Sig GhcPs)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">XRec GhcPs (Sig GhcPs)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)] -&gt; TcRn ()
</span><a href="GHC.Rename.Bind.html#dupMinimalSigErr"><span class="hs-identifier hs-var">dupMinimalSigErr</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681361139"><span class="hs-identifier hs-var">minSigs</span></a></span><span>
</span><span id="line-1193"></span><span>      </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1194"></span><span>
</span><span id="line-1195"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Match}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-1202"></span><span>
</span><span id="line-1203"></span><span class="hs-keyword">type</span><span> </span><span id="AnnoBody"><span class="annot"><a href="GHC.Rename.Bind.html#AnnoBody"><span class="hs-identifier hs-var">AnnoBody</span></a></span></span><span> </span><span id="local-6989586621681361137"><span class="annot"><a href="#local-6989586621681361137"><span class="hs-identifier hs-type">body</span></a></span></span><span>
</span><span id="line-1204"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681361137"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnL"><span class="hs-identifier hs-type">SrcSpanAnnL</span></a></span><span>
</span><span id="line-1205"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681361137"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnL"><span class="hs-identifier hs-type">SrcSpanAnnL</span></a></span><span>
</span><span id="line-1206"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681361137"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1207"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681361137"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1208"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681361137"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1209"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681361137"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1210"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681361137"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1211"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1212"></span><span>
</span><span id="line-1213"></span><span id="local-6989586621681362275"><span class="annot"><a href="GHC.Rename.Bind.html#rnMatchGroup"><span class="hs-identifier hs-type">rnMatchGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362275"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#AnnoBody"><span class="hs-identifier hs-type">AnnoBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681362275"><span class="hs-identifier hs-type">body</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1214"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362275"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362275"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1215"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362275"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1216"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362275"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1217"></span><span id="rnMatchGroup"><span class="annot"><span class="annottext">rnMatchGroup :: forall (body :: * -&gt; *).
(Outputable (body GhcPs), AnnoBody body) =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; MatchGroup GhcPs (LocatedA (body GhcPs))
-&gt; RnM (MatchGroup GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnMatchGroup"><span class="hs-identifier hs-var hs-var">rnMatchGroup</span></a></span></span><span> </span><span id="local-6989586621681361109"><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361109"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361108"><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681361108"><span class="hs-identifier hs-var">rnBody</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361105"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681361105"><span class="hs-identifier hs-var">lm</span></a></span></span><span> </span><span id="local-6989586621681361104"><span class="annot"><span class="annottext">[LocatedA (Match GhcPs (LocatedA (body GhcPs)))]
</span><a href="#local-6989586621681361104"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mg_origin :: forall p body. MatchGroup p body -&gt; Origin
</span><a href="Language.Haskell.Syntax.Expr.html#mg_origin"><span class="hs-identifier hs-var">mg_origin</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361102"><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621681361102"><span class="hs-identifier hs-var">origin</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1218"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681361101"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361101"><span class="hs-identifier hs-var">empty_case_ok</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall gbl lcl. Extension -&gt; TcRnIf gbl lcl Bool
</span><a href="GHC.Tc.Utils.Monad.html#xoptM"><span class="hs-identifier hs-var">xoptM</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><span class="hs-identifier hs-var">LangExt.EmptyCase</span></span><span>
</span><span id="line-1219"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (Match GhcPs (LocatedA (body GhcPs)))]
</span><a href="#local-6989586621681361104"><span class="hs-identifier hs-var">ms</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681361101"><span class="hs-identifier hs-var">empty_case_ok</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addErr"><span class="hs-identifier hs-var">addErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsMatchContext GhcRn -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#emptyCaseErr"><span class="hs-identifier hs-var">emptyCaseErr</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361109"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1220"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361098"><span class="annot"><span class="annottext">[LocatedA (Match GhcRn (LocatedA (body GhcRn)))]
</span><a href="#local-6989586621681361098"><span class="hs-identifier hs-var">new_ms</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361097"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361097"><span class="hs-identifier hs-var">ms_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; RnM (b, NameSet)) -&gt; [a] -&gt; RnM ([b], NameSet)
</span><a href="GHC.Rename.Utils.html#mapFvRn"><span class="hs-identifier hs-var">mapFvRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (body :: * -&gt; *).
AnnoBody body =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; LMatch GhcPs (LocatedA (body GhcPs))
-&gt; RnM (LMatch GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnMatch"><span class="hs-identifier hs-var">rnMatch</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361109"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681361108"><span class="hs-identifier hs-var">rnBody</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocatedA (Match GhcPs (LocatedA (body GhcPs)))]
</span><a href="#local-6989586621681361104"><span class="hs-identifier hs-var">ms</span></a></span><span>
</span><span id="line-1221"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="#local-6989586621681361102"><span class="hs-identifier hs-var">origin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681361105"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (Match GhcRn (LocatedA (body GhcRn)))]
</span><a href="#local-6989586621681361098"><span class="hs-identifier hs-var">new_ms</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361097"><span class="hs-identifier hs-var">ms_fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1222"></span><span>
</span><span id="line-1223"></span><span id="local-6989586621681362123"><span class="annot"><a href="GHC.Rename.Bind.html#rnMatch"><span class="hs-identifier hs-type">rnMatch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#AnnoBody"><span class="hs-identifier hs-type">AnnoBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681362123"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-1224"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1225"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362123"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362123"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1226"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362123"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1227"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362123"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1228"></span><span id="rnMatch"><span class="annot"><span class="annottext">rnMatch :: forall (body :: * -&gt; *).
AnnoBody body =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; LMatch GhcPs (LocatedA (body GhcPs))
-&gt; RnM (LMatch GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnMatch"><span class="hs-identifier hs-var hs-var">rnMatch</span></a></span></span><span> </span><span id="local-6989586621681361079"><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361079"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361078"><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681361078"><span class="hs-identifier hs-var">rnBody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b c.
(a -&gt; TcM (b, c)) -&gt; LocatedA a -&gt; TcM (LocatedA b, c)
</span><a href="GHC.Tc.Utils.Monad.html#wrapLocFstMA"><span class="hs-identifier hs-var">wrapLocFstMA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (body :: * -&gt; *).
AnnoBody body =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; Match GhcPs (LocatedA (body GhcPs))
-&gt; RnM (Match GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnMatch%27"><span class="hs-identifier hs-var">rnMatch'</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361079"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681361078"><span class="hs-identifier hs-var">rnBody</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1229"></span><span>
</span><span id="line-1230"></span><span id="local-6989586621681362118"><span class="annot"><a href="GHC.Rename.Bind.html#rnMatch%27"><span class="hs-identifier hs-type">rnMatch'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Rename.Bind.html#AnnoBody"><span class="hs-identifier hs-type">AnnoBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681362118"><span class="hs-identifier hs-type">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1231"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1232"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362118"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362118"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1233"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362118"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1234"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362118"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1235"></span><span id="rnMatch%27"><span class="annot"><span class="annottext">rnMatch' :: forall (body :: * -&gt; *).
AnnoBody body =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; Match GhcPs (LocatedA (body GhcPs))
-&gt; RnM (Match GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnMatch%27"><span class="hs-identifier hs-var hs-var">rnMatch'</span></a></span></span><span> </span><span id="local-6989586621681361059"><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361059"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361058"><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681361058"><span class="hs-identifier hs-var">rnBody</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: forall p body. Match p body -&gt; HsMatchContext (NoGhcTc p)
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361055"><span class="annot"><span class="annottext">HsMatchContext (NoGhcTc GhcPs)
</span><a href="#local-6989586621681361055"><span class="hs-identifier hs-var">mf</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; [LPat p]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361053"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681361053"><span class="hs-identifier hs-var">pats</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: forall p body. Match p body -&gt; GRHSs p body
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681361051"><span class="annot"><span class="annottext">GRHSs GhcPs (LocatedA (body GhcPs))
</span><a href="#local-6989586621681361051"><span class="hs-identifier hs-var">grhss</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1236"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a.
HsMatchContext GhcRn
-&gt; [LPat GhcPs]
-&gt; ([LPat GhcRn] -&gt; RnM (a, NameSet))
-&gt; RnM (a, NameSet)
</span><a href="GHC.Rename.Pat.html#rnPats"><span class="hs-identifier hs-var">rnPats</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361059"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681361053"><span class="hs-identifier hs-var">pats</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681361049"><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621681361049"><span class="hs-identifier hs-var">pats'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1237"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681361048"><span class="annot"><span class="annottext">GRHSs GhcRn (LocatedA (body GhcRn))
</span><a href="#local-6989586621681361048"><span class="hs-identifier hs-var">grhss'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361047"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361047"><span class="hs-identifier hs-var">grhss_fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (body :: * -&gt; *).
AnnoBody body =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; GRHSs GhcPs (LocatedA (body GhcPs))
-&gt; RnM (GRHSs GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnGRHSs"><span class="hs-identifier hs-var">rnGRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361059"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681361058"><span class="hs-identifier hs-var">rnBody</span></a></span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LocatedA (body GhcPs))
</span><a href="#local-6989586621681361051"><span class="hs-identifier hs-var">grhss</span></a></span><span>
</span><span id="line-1238"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681361046"><span class="annot"><span class="annottext">mf' :: HsMatchContext GhcRn
</span><a href="#local-6989586621681361046"><span class="hs-identifier hs-var hs-var">mf'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361059"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsMatchContext (NoGhcTc GhcPs)
</span><a href="#local-6989586621681361055"><span class="hs-identifier hs-var">mf</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1239"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: forall p. HsMatchContext p -&gt; LIdP p
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361043"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361043"><span class="hs-identifier hs-var">funid</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: forall p. HsMatchContext p -&gt; LIdP p
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681361042"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681361042"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1240"></span><span>                                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsMatchContext (NoGhcTc GhcPs)
</span><a href="#local-6989586621681361055"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: LIdP GhcRn
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681361042"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681361043"><span class="hs-identifier hs-var">funid</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1241"></span><span>                      </span><span class="annot"><span class="annottext">(HsMatchContext GhcRn, HsMatchContext GhcPs)
</span><span class="hs-identifier">_</span></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361059"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-1242"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcRn (LocatedA (body GhcRn))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext (NoGhcTc GhcRn)
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361046"><span class="hs-identifier hs-var">mf'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcRn]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621681361049"><span class="hs-identifier hs-var">pats'</span></a></span><span>
</span><span id="line-1243"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcRn (LocatedA (body GhcRn))
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcRn (LocatedA (body GhcRn))
</span><a href="#local-6989586621681361048"><span class="hs-identifier hs-var">grhss'</span></a></span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361047"><span class="hs-identifier hs-var">grhss_fvs</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1244"></span><span>
</span><span id="line-1245"></span><span class="annot"><a href="GHC.Rename.Bind.html#emptyCaseErr"><span class="hs-identifier hs-type">emptyCaseErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1246"></span><span id="emptyCaseErr"><span class="annot"><span class="annottext">emptyCaseErr :: HsMatchContext GhcRn -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#emptyCaseErr"><span class="hs-identifier hs-var hs-var">emptyCaseErr</span></a></span></span><span> </span><span id="local-6989586621681361040"><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361040"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Empty list of alternatives in&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn -&gt; SDoc
</span><a href="#local-6989586621681361039"><span class="hs-identifier hs-var">pp_ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361040"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1247"></span><span>                       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Use EmptyCase to allow this&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1248"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1249"></span><span>    </span><span class="annot"><a href="#local-6989586621681361039"><span class="hs-identifier hs-type">pp_ctxt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1250"></span><span>    </span><span id="local-6989586621681361039"><span class="annot"><span class="annottext">pp_ctxt :: HsMatchContext GhcRn -&gt; SDoc
</span><a href="#local-6989586621681361039"><span class="hs-identifier hs-var hs-var">pp_ctxt</span></a></span></span><span> </span><span id="local-6989586621681361038"><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361038"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361038"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1251"></span><span>      </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="Language.Haskell.Syntax.Expr.html#CaseAlt"><span class="hs-identifier hs-var">CaseAlt</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;case expression&quot;</span></span><span>
</span><span id="line-1252"></span><span>      </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="Language.Haskell.Syntax.Expr.html#LambdaExpr"><span class="hs-identifier hs-var">LambdaExpr</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\\case expression&quot;</span></span><span>
</span><span id="line-1253"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ArrowMatchCtxt"><span class="hs-identifier hs-type">ArrowMatchCtxt</span></a></span><span> </span><span class="annot"><span class="annottext">HsArrowMatchContext
</span><a href="Language.Haskell.Syntax.Expr.html#ArrowCaseAlt"><span class="hs-identifier hs-var">ArrowCaseAlt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;case expression&quot;</span></span><span>
</span><span id="line-1254"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ArrowMatchCtxt"><span class="hs-identifier hs-type">ArrowMatchCtxt</span></a></span><span> </span><span class="annot"><span class="annottext">HsArrowMatchContext
</span><a href="Language.Haskell.Syntax.Expr.html#KappaExpr"><span class="hs-identifier hs-var">KappaExpr</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;kappa abstraction&quot;</span></span><span>
</span><span id="line-1255"></span><span>      </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(unexpected)&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall p.
(Outputable (IdP p), UnXRec p) =&gt;
HsMatchContext p -&gt; SDoc
</span><a href="Language.Haskell.Syntax.Expr.html#pprMatchContextNoun"><span class="hs-identifier hs-var">pprMatchContextNoun</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361038"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1256"></span><span>
</span><span id="line-1257"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsubsection{Guarded right-hand sides (GRHSs)}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-1264"></span><span>
</span><span id="line-1265"></span><span id="local-6989586621681362293"><span class="annot"><a href="GHC.Rename.Bind.html#rnGRHSs"><span class="hs-identifier hs-type">rnGRHSs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#AnnoBody"><span class="hs-identifier hs-type">AnnoBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681362293"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-1266"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1267"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362293"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362293"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1268"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362293"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1269"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362293"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1270"></span><span id="rnGRHSs"><span class="annot"><span class="annottext">rnGRHSs :: forall (body :: * -&gt; *).
AnnoBody body =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; GRHSs GhcPs (LocatedA (body GhcPs))
-&gt; RnM (GRHSs GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnGRHSs"><span class="hs-identifier hs-var hs-var">rnGRHSs</span></a></span></span><span> </span><span id="local-6989586621681361014"><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361014"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681361013"><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681361013"><span class="hs-identifier hs-var">rnBody</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHSs GhcPs (LocatedA (body GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681361011"><span class="annot"><span class="annottext">[LGRHS GhcPs (LocatedA (body GhcPs))]
</span><a href="#local-6989586621681361011"><span class="hs-identifier hs-var">grhss</span></a></span></span><span> </span><span id="local-6989586621681361010"><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681361010"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1271"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall result.
HsLocalBinds GhcPs
-&gt; (HsLocalBinds GhcRn -&gt; NameSet -&gt; RnM (result, NameSet))
-&gt; RnM (result, NameSet)
</span><a href="GHC.Rename.Bind.html#rnLocalBindsAndThen"><span class="hs-identifier hs-var">rnLocalBindsAndThen</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681361010"><span class="hs-identifier hs-var">binds</span></a></span><span>   </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681361009"><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621681361009"><span class="hs-identifier hs-var">binds'</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1272"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681361008"><span class="annot"><span class="annottext">[GenLocated SrcSpan (GRHS GhcRn (LocatedA (body GhcRn)))]
</span><a href="#local-6989586621681361008"><span class="hs-identifier hs-var">grhss'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681361007"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361007"><span class="hs-identifier hs-var">fvGRHSs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; RnM (b, NameSet)) -&gt; [a] -&gt; RnM ([b], NameSet)
</span><a href="GHC.Rename.Utils.html#mapFvRn"><span class="hs-identifier hs-var">mapFvRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (body :: * -&gt; *).
AnnoBody body =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; LGRHS GhcPs (LocatedA (body GhcPs))
-&gt; RnM (LGRHS GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnGRHS"><span class="hs-identifier hs-var">rnGRHS</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361014"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681361013"><span class="hs-identifier hs-var">rnBody</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LGRHS GhcPs (LocatedA (body GhcPs))]
</span><a href="#local-6989586621681361011"><span class="hs-identifier hs-var">grhss</span></a></span><span>
</span><span id="line-1273"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p body.
XCGRHSs p body -&gt; [LGRHS p body] -&gt; HsLocalBinds p -&gt; GRHSs p body
</span><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-var">GRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (GRHS GhcRn (LocatedA (body GhcRn)))]
</span><a href="#local-6989586621681361008"><span class="hs-identifier hs-var">grhss'</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621681361009"><span class="hs-identifier hs-var">binds'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681361007"><span class="hs-identifier hs-var">fvGRHSs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1274"></span><span>
</span><span id="line-1275"></span><span id="local-6989586621681362101"><span class="annot"><a href="GHC.Rename.Bind.html#rnGRHS"><span class="hs-identifier hs-type">rnGRHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Bind.html#AnnoBody"><span class="hs-identifier hs-type">AnnoBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681362101"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-1276"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1277"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362101"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362101"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1278"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LGRHS"><span class="hs-identifier hs-type">LGRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362101"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1279"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LGRHS"><span class="hs-identifier hs-type">LGRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362101"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1280"></span><span id="rnGRHS"><span class="annot"><span class="annottext">rnGRHS :: forall (body :: * -&gt; *).
AnnoBody body =&gt;
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; LGRHS GhcPs (LocatedA (body GhcPs))
-&gt; RnM (LGRHS GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnGRHS"><span class="hs-identifier hs-var hs-var">rnGRHS</span></a></span></span><span> </span><span id="local-6989586621681361000"><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361000"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681360999"><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681360999"><span class="hs-identifier hs-var">rnBody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; TcM (b, c)) -&gt; Located a -&gt; TcM (Located b, c)
</span><a href="GHC.Tc.Utils.Monad.html#wrapLocFstM"><span class="hs-identifier hs-var">wrapLocFstM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (body :: * -&gt; *).
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; GRHS GhcPs (LocatedA (body GhcPs))
-&gt; RnM (GRHS GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnGRHS%27"><span class="hs-identifier hs-var">rnGRHS'</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681361000"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681360999"><span class="hs-identifier hs-var">rnBody</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1281"></span><span>
</span><span id="line-1282"></span><span id="local-6989586621681362092"><span class="annot"><a href="GHC.Rename.Bind.html#rnGRHS%27"><span class="hs-identifier hs-type">rnGRHS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1283"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362092"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362092"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1284"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362092"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1285"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681362092"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1286"></span><span id="rnGRHS%27"><span class="annot"><span class="annottext">rnGRHS' :: forall (body :: * -&gt; *).
HsMatchContext GhcRn
-&gt; (LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet))
-&gt; GRHS GhcPs (LocatedA (body GhcPs))
-&gt; RnM (GRHS GhcRn (LocatedA (body GhcRn)), NameSet)
</span><a href="GHC.Rename.Bind.html#rnGRHS%27"><span class="hs-identifier hs-var hs-var">rnGRHS'</span></a></span></span><span> </span><span id="local-6989586621681360982"><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681360982"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621681360981"><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681360981"><span class="hs-identifier hs-var">rnBody</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHS GhcPs (LocatedA (body GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681360979"><span class="annot"><span class="annottext">[GuardLStmt GhcPs]
</span><a href="#local-6989586621681360979"><span class="hs-identifier hs-var">guards</span></a></span></span><span> </span><span id="local-6989586621681360978"><span class="annot"><span class="annottext">LocatedA (body GhcPs)
</span><a href="#local-6989586621681360978"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1287"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681360977"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681360977"><span class="hs-identifier hs-var">pattern_guards_allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall gbl lcl. Extension -&gt; TcRnIf gbl lcl Bool
</span><a href="GHC.Tc.Utils.Monad.html#xoptM"><span class="hs-identifier hs-var">xoptM</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><span class="hs-identifier hs-var">LangExt.PatternGuards</span></span><span>
</span><span id="line-1288"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681360975"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Stmt GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621681360975"><span class="hs-identifier hs-var">guards'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681360974"><span class="annot"><span class="annottext">LocatedA (body GhcRn)
</span><a href="#local-6989586621681360974"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681360973"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681360973"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (body :: * -&gt; *) thing.
AnnoBody body =&gt;
HsStmtContext GhcRn
-&gt; (body GhcPs -&gt; RnM (body GhcRn, NameSet))
-&gt; [LStmt GhcPs (LocatedA (body GhcPs))]
-&gt; ([Name] -&gt; RnM (thing, NameSet))
-&gt; RnM (([LStmt GhcRn (LocatedA (body GhcRn))], thing), NameSet)
</span><a href="GHC.Rename.Expr.html#rnStmts"><span class="hs-identifier hs-var">rnStmts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. HsMatchContext p -&gt; HsStmtContext p
</span><a href="Language.Haskell.Syntax.Expr.html#PatGuard"><span class="hs-identifier hs-var">PatGuard</span></a></span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcRn
</span><a href="#local-6989586621681360982"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; RnM (HsExpr GhcRn, NameSet)
</span><a href="GHC.Rename.Expr.html#rnExpr"><span class="hs-identifier hs-var">rnExpr</span></a></span><span> </span><span class="annot"><span class="annottext">[GuardLStmt GhcPs]
</span><a href="#local-6989586621681360979"><span class="hs-identifier hs-var">guards</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1289"></span><span>                                    </span><span class="annot"><span class="annottext">LocatedA (body GhcPs) -&gt; RnM (LocatedA (body GhcRn), NameSet)
</span><a href="#local-6989586621681360981"><span class="hs-identifier hs-var">rnBody</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (body GhcPs)
</span><a href="#local-6989586621681360978"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-1290"></span><span>
</span><span id="line-1291"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681360977"><span class="hs-identifier hs-var">pattern_guards_allowed</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">forall {l} {idL} {idR} {body}.
[GenLocated l (StmtLR idL idR body)] -&gt; Bool
</span><a href="#local-6989586621681360970"><span class="hs-identifier hs-var">is_standard_guard</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Stmt GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621681360975"><span class="hs-identifier hs-var">guards'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1292"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WarnReason -&gt; SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addWarn"><span class="hs-identifier hs-var">addWarn</span></a></span><span> </span><span class="annot"><span class="annottext">WarnReason
</span><a href="GHC.Driver.Flags.html#NoReason"><span class="hs-identifier hs-var">NoReason</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall body.
(Outputable body, Anno (Stmt GhcRn body) ~ SrcSpanAnnA) =&gt;
[LStmtLR GhcRn GhcRn body] -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#nonStdGuardErr"><span class="hs-identifier hs-var">nonStdGuardErr</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Stmt GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621681360975"><span class="hs-identifier hs-var">guards'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1293"></span><span>
</span><span id="line-1294"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p body.
XCGRHS p body -&gt; [GuardLStmt p] -&gt; body -&gt; GRHS p body
</span><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-var">GRHS</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Stmt GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621681360975"><span class="hs-identifier hs-var">guards'</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (body GhcRn)
</span><a href="#local-6989586621681360974"><span class="hs-identifier hs-var">rhs'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621681360973"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1295"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1296"></span><span>        </span><span class="hs-comment">-- Standard Haskell 1.4 guards are just a single boolean</span><span>
</span><span id="line-1297"></span><span>        </span><span class="hs-comment">-- expression, rather than a list of qualifiers as in the</span><span>
</span><span id="line-1298"></span><span>        </span><span class="hs-comment">-- Glasgow extension</span><span>
</span><span id="line-1299"></span><span>    </span><span id="local-6989586621681360970"><span class="annot"><span class="annottext">is_standard_guard :: [GenLocated l (StmtLR idL idR body)] -&gt; Bool
</span><a href="#local-6989586621681360970"><span class="hs-identifier hs-var hs-var">is_standard_guard</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1300"></span><span>    </span><span class="annot"><a href="#local-6989586621681360970"><span class="hs-identifier hs-var">is_standard_guard</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#BodyStmt"><span class="hs-identifier hs-type">BodyStmt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1301"></span><span>    </span><span class="annot"><a href="#local-6989586621681360970"><span class="hs-identifier hs-var">is_standard_guard</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated l (StmtLR idL idR body)]
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1302"></span><span>
</span><span id="line-1303"></span><span class="hs-comment">{-
*********************************************************
*                                                       *
        Source-code fixity declarations
*                                                       *
*********************************************************
-}</span><span>
</span><span id="line-1310"></span><span>
</span><span id="line-1311"></span><span class="annot"><a href="GHC.Rename.Bind.html#rnSrcFixityDecl"><span class="hs-identifier hs-type">rnSrcFixityDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Rename.Env.html#HsSigCtxt"><span class="hs-identifier hs-type">HsSigCtxt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1312"></span><span class="hs-comment">-- Rename a fixity decl, so we can put</span><span>
</span><span id="line-1313"></span><span class="hs-comment">-- the renamed decl in the renamed syntax tree</span><span>
</span><span id="line-1314"></span><span class="hs-comment">-- Errors if the thing being fixed is not defined locally.</span><span>
</span><span id="line-1315"></span><span id="rnSrcFixityDecl"><span class="annot"><span class="annottext">rnSrcFixityDecl :: HsSigCtxt -&gt; FixitySig GhcPs -&gt; RnM (FixitySig GhcRn)
</span><a href="GHC.Rename.Bind.html#rnSrcFixityDecl"><span class="hs-identifier hs-var hs-var">rnSrcFixityDecl</span></a></span></span><span> </span><span id="local-6989586621681360966"><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681360966"><span class="hs-identifier hs-var">sig_ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FixitySig GhcPs -&gt; RnM (FixitySig GhcRn)
</span><a href="#local-6989586621681360965"><span class="hs-identifier hs-var">rn_decl</span></a></span><span>
</span><span id="line-1316"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1317"></span><span>    </span><span class="annot"><a href="#local-6989586621681360965"><span class="hs-identifier hs-type">rn_decl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1318"></span><span>        </span><span class="hs-comment">-- GHC extension: look up both the tycon and data con</span><span>
</span><span id="line-1319"></span><span>        </span><span class="hs-comment">-- for con-like things; hence returning a list</span><span>
</span><span id="line-1320"></span><span>        </span><span class="hs-comment">-- If neither are in scope, report an error; otherwise</span><span>
</span><span id="line-1321"></span><span>        </span><span class="hs-comment">-- return a fixity sig for each (slightly odd)</span><span>
</span><span id="line-1322"></span><span>    </span><span id="local-6989586621681360965"><span class="annot"><span class="annottext">rn_decl :: FixitySig GhcPs -&gt; RnM (FixitySig GhcRn)
</span><a href="#local-6989586621681360965"><span class="hs-identifier hs-var hs-var">rn_decl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixitySig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681360964"><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681360964"><span class="hs-identifier hs-var">fnames</span></a></span></span><span> </span><span id="local-6989586621681360963"><span class="annot"><span class="annottext">Fixity
</span><a href="#local-6989586621681360963"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1323"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681360962"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681360962"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m [b]) -&gt; [a] -&gt; m [b]
</span><a href="GHC.Utils.Monad.html#concatMapM"><span class="hs-identifier hs-var">concatMapM</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedN RdrName -&gt; RnM [GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681360960"><span class="hs-identifier hs-var">lookup_one</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcPs]
</span><a href="#local-6989586621681360964"><span class="hs-identifier hs-var">fnames</span></a></span><span>
</span><span id="line-1324"></span><span>           </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XFixitySig pass -&gt; [LIdP pass] -&gt; Fixity -&gt; FixitySig pass
</span><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-var">FixitySig</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681360962"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="#local-6989586621681360963"><span class="hs-identifier hs-var">fixity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1325"></span><span>
</span><span id="line-1326"></span><span>    </span><span class="annot"><a href="#local-6989586621681360960"><span class="hs-identifier hs-type">lookup_one</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1327"></span><span>    </span><span id="local-6989586621681360960"><span class="annot"><span class="annottext">lookup_one :: LocatedN RdrName -&gt; RnM [GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621681360960"><span class="hs-identifier hs-var hs-var">lookup_one</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681360959"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681360959"><span class="hs-identifier hs-var">name_loc</span></a></span></span><span> </span><span id="local-6989586621681360958"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681360958"><span class="hs-identifier hs-var">rdr_name</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1328"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann a. SrcSpanAnn' ann -&gt; TcRn a -&gt; TcRn a
</span><a href="GHC.Tc.Utils.Monad.html#setSrcSpanA"><span class="hs-identifier hs-var">setSrcSpanA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681360959"><span class="hs-identifier hs-var">name_loc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1329"></span><span>                    </span><span class="hs-comment">-- This lookup will fail if the name is not defined in the</span><span>
</span><span id="line-1330"></span><span>                    </span><span class="hs-comment">-- same binding group as this fixity declaration.</span><span>
</span><span id="line-1331"></span><span>        </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681360957"><span class="annot"><span class="annottext">[(RdrName, Name)]
</span><a href="#local-6989586621681360957"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSigCtxt -&gt; SDoc -&gt; RdrName -&gt; RnM [(RdrName, Name)]
</span><a href="GHC.Rename.Env.html#lookupLocalTcNames"><span class="hs-identifier hs-var">lookupLocalTcNames</span></a></span><span> </span><span class="annot"><span class="annottext">HsSigCtxt
</span><a href="#local-6989586621681360966"><span class="hs-identifier hs-var">sig_ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681360955"><span class="hs-identifier hs-var">what</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681360958"><span class="hs-identifier hs-var">rdr_name</span></a></span><span>
</span><span id="line-1332"></span><span>           </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681360959"><span class="hs-identifier hs-var">name_loc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681360954"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681360954"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681360954"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(RdrName, Name)]
</span><a href="#local-6989586621681360957"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1333"></span><span>    </span><span id="local-6989586621681360955"><span class="annot"><span class="annottext">what :: SDoc
</span><a href="#local-6989586621681360955"><span class="hs-identifier hs-var hs-var">what</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fixity signature&quot;</span></span><span>
</span><span id="line-1334"></span><span>
</span><span id="line-1335"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Error messages}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-1342"></span><span>
</span><span id="line-1343"></span><span class="annot"><a href="GHC.Rename.Bind.html#dupSigDeclErr"><span class="hs-identifier hs-type">dupSigDeclErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1344"></span><span id="dupSigDeclErr"><span class="annot"><span class="annottext">dupSigDeclErr :: NonEmpty (LocatedN RdrName, Sig GhcPs) -&gt; TcRn ()
</span><a href="GHC.Rename.Bind.html#dupSigDeclErr"><span class="hs-identifier hs-var hs-var">dupSigDeclErr</span></a></span></span><span> </span><span id="local-6989586621681360953"><span class="annot"><span class="annottext">pairs :: NonEmpty (LocatedN RdrName, Sig GhcPs)
</span><a href="#local-6989586621681360953"><span class="hs-identifier hs-var">pairs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681360952"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681360952"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681360951"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681360951"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681360950"><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681360950"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#%3A%7C"><span class="hs-operator hs-type">:|</span></a></span><span> </span><span class="annot"><span class="annottext">[(LocatedN RdrName, Sig GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1345"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addErrAt"><span class="hs-identifier hs-var">addErrAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681360952"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1346"></span><span>    </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Duplicate&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681360949"><span class="hs-identifier hs-var">what_it_is</span></a></span><span>
</span><span id="line-1347"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;s for&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681360951"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1348"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-OldList.html#sortBy"><span class="hs-identifier hs-var">sortBy</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; Ordering
</span><a href="GHC.Types.SrcLoc.html#leftmost_smallest"><span class="hs-identifier hs-var">SrcLoc.leftmost_smallest</span></a></span><span>
</span><span id="line-1349"></span><span>                                       </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../../base-4.16.4.0/src/Data-Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1350"></span><span>                                       </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LocatedN RdrName, Sig GhcPs)
</span><a href="#local-6989586621681360953"><span class="hs-identifier hs-var">pairs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1351"></span><span>         </span><span class="hs-special">]</span><span>
</span><span id="line-1352"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1353"></span><span>    </span><span id="local-6989586621681360949"><span class="annot"><span class="annottext">what_it_is :: SDoc
</span><a href="#local-6989586621681360949"><span class="hs-identifier hs-var hs-var">what_it_is</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall name. Sig name -&gt; SDoc
</span><a href="Language.Haskell.Syntax.Binds.html#hsSigDoc"><span class="hs-identifier hs-var">hsSigDoc</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681360950"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-1354"></span><span>
</span><span id="line-1355"></span><span class="annot"><a href="GHC.Rename.Bind.html#misplacedSigErr"><span class="hs-identifier hs-type">misplacedSigErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1356"></span><span id="misplacedSigErr"><span class="annot"><span class="annottext">misplacedSigErr :: LSig GhcRn -&gt; TcRn ()
</span><a href="GHC.Rename.Bind.html#misplacedSigErr"><span class="hs-identifier hs-var hs-var">misplacedSigErr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681360944"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681360944"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681360943"><span class="annot"><span class="annottext">Sig GhcRn
</span><a href="#local-6989586621681360943"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1357"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addErrAt"><span class="hs-identifier hs-var">addErrAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681360944"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1358"></span><span>    </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Misplaced&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall name. Sig name -&gt; SDoc
</span><a href="Language.Haskell.Syntax.Binds.html#hsSigDoc"><span class="hs-identifier hs-var">hsSigDoc</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcRn
</span><a href="#local-6989586621681360943"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#colon"><span class="hs-identifier hs-var">colon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcRn
</span><a href="#local-6989586621681360943"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1359"></span><span>
</span><span id="line-1360"></span><span class="annot"><a href="GHC.Rename.Bind.html#defaultSigErr"><span class="hs-identifier hs-type">defaultSigErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1361"></span><span id="defaultSigErr"><span class="annot"><span class="annottext">defaultSigErr :: Sig GhcPs -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#defaultSigErr"><span class="hs-identifier hs-var hs-var">defaultSigErr</span></a></span></span><span> </span><span id="local-6989586621681360940"><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681360940"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected default signature:&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1362"></span><span>                              </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><a href="#local-6989586621681360940"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1363"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Use DefaultSignatures to enable default signatures&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1364"></span><span>
</span><span id="line-1365"></span><span class="annot"><a href="GHC.Rename.Bind.html#bindsInHsBootFile"><span class="hs-identifier hs-type">bindsInHsBootFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBindsLR"><span class="hs-identifier hs-type">LHsBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1366"></span><span id="bindsInHsBootFile"><span class="annot"><span class="annottext">bindsInHsBootFile :: LHsBindsLR GhcRn GhcPs -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#bindsInHsBootFile"><span class="hs-identifier hs-var hs-var">bindsInHsBootFile</span></a></span></span><span> </span><span id="local-6989586621681360939"><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681360939"><span class="hs-identifier hs-var">mbinds</span></a></span></span><span>
</span><span id="line-1367"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Bindings in hs-boot files are not allowed&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1368"></span><span>       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcPs
</span><a href="#local-6989586621681360939"><span class="hs-identifier hs-var">mbinds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1369"></span><span>
</span><span id="line-1370"></span><span id="local-6989586621681362076"><span class="annot"><a href="GHC.Rename.Bind.html#nonStdGuardErr"><span class="hs-identifier hs-type">nonStdGuardErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681362076"><span class="hs-identifier hs-type">body</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1371"></span><span>                   </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681362076"><span class="hs-identifier hs-type">body</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1372"></span><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmtLR"><span class="hs-identifier hs-type">LStmtLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681362076"><span class="hs-identifier hs-type">body</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-1373"></span><span id="nonStdGuardErr"><span class="annot"><span class="annottext">nonStdGuardErr :: forall body.
(Outputable body, Anno (Stmt GhcRn body) ~ SrcSpanAnnA) =&gt;
[LStmtLR GhcRn GhcRn body] -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#nonStdGuardErr"><span class="hs-identifier hs-var hs-var">nonStdGuardErr</span></a></span></span><span> </span><span id="local-6989586621681360928"><span class="annot"><span class="annottext">[LStmtLR GhcRn GhcRn body]
</span><a href="#local-6989586621681360928"><span class="hs-identifier hs-var">guards</span></a></span></span><span>
</span><span id="line-1374"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;accepting non-standard pattern guards (use PatternGuards to suppress this message)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1375"></span><span>       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a></span><span> </span><span class="annot"><span class="annottext">[LStmtLR GhcRn GhcRn body]
</span><a href="#local-6989586621681360928"><span class="hs-identifier hs-var">guards</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1376"></span><span>
</span><span id="line-1377"></span><span class="annot"><a href="GHC.Rename.Bind.html#unusedPatBindWarn"><span class="hs-identifier hs-type">unusedPatBindWarn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1378"></span><span id="unusedPatBindWarn"><span class="annot"><span class="annottext">unusedPatBindWarn :: HsBind GhcRn -&gt; SDoc
</span><a href="GHC.Rename.Bind.html#unusedPatBindWarn"><span class="hs-identifier hs-var hs-var">unusedPatBindWarn</span></a></span></span><span> </span><span id="local-6989586621681360926"><span class="annot"><span class="annottext">HsBind GhcRn
</span><a href="#local-6989586621681360926"><span class="hs-identifier hs-var">bind</span></a></span></span><span>
</span><span id="line-1379"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;This pattern-binding binds no variables:&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1380"></span><span>       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsBind GhcRn
</span><a href="#local-6989586621681360926"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1381"></span><span>
</span><span id="line-1382"></span><span class="annot"><a href="GHC.Rename.Bind.html#dupMinimalSigErr"><span class="hs-identifier hs-type">dupMinimalSigErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#RnM"><span class="hs-identifier hs-type">RnM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1383"></span><span id="dupMinimalSigErr"><span class="annot"><span class="annottext">dupMinimalSigErr :: [XRec GhcPs (Sig GhcPs)] -&gt; TcRn ()
</span><a href="GHC.Rename.Bind.html#dupMinimalSigErr"><span class="hs-identifier hs-var hs-var">dupMinimalSigErr</span></a></span></span><span> </span><span id="local-6989586621681360925"><span class="annot"><span class="annottext">sigs :: [XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681360925"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681360924"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681360924"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">Sig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1384"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; TcRn ()
</span><a href="GHC.Tc.Utils.Monad.html#addErrAt"><span class="hs-identifier hs-var">addErrAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681360924"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1385"></span><span>    </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Multiple minimal complete definitions&quot;</span></span><span>
</span><span id="line-1386"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-OldList.html#sortBy"><span class="hs-identifier hs-var">sortBy</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; Ordering
</span><a href="GHC.Types.SrcLoc.html#leftmost_smallest"><span class="hs-identifier hs-var">SrcLoc.leftmost_smallest</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Sig GhcPs)]
</span><a href="#local-6989586621681360925"><span class="hs-identifier hs-var">sigs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1387"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Combine alternative minimal complete definitions with `|'&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1388"></span><span class="annot"><a href="GHC.Rename.Bind.html#dupMinimalSigErr"><span class="hs-identifier hs-var">dupMinimalSigErr</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dupMinimalSigErr&quot;</span></span><span>
</span><span id="line-1389"></span></pre></body></html>