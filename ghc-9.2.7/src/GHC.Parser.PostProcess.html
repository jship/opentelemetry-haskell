<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-record-updates #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">--  (c) The University of Glasgow 2002-2006</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Functions over HsSyn specialised to RdrName.</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Parser.PostProcess</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-20"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrGetField"><span class="hs-identifier">mkRdrGetField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrProjection"><span class="hs-identifier">mkRdrProjection</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier">Fbind</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- RecordDot</span><span>
</span><span id="line-21"></span><span>        </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsOpApp"><span class="hs-identifier">mkHsOpApp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>        </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsIntegral"><span class="hs-identifier">mkHsIntegral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsFractional"><span class="hs-identifier">mkHsFractional</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsIsString"><span class="hs-identifier">mkHsIsString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>        </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsDo"><span class="hs-identifier">mkHsDo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSpliceDecl"><span class="hs-identifier">mkSpliceDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRoleAnnotDecl"><span class="hs-identifier">mkRoleAnnotDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkClassDecl"><span class="hs-identifier">mkClassDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyData"><span class="hs-identifier">mkTyData</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkDataFamInst"><span class="hs-identifier">mkDataFamInst</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTySynonym"><span class="hs-identifier">mkTySynonym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInstEqn"><span class="hs-identifier">mkTyFamInstEqn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkStandaloneKindSig"><span class="hs-identifier">mkStandaloneKindSig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInst"><span class="hs-identifier">mkTyFamInst</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkFamDecl"><span class="hs-identifier">mkFamDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInlinePragma"><span class="hs-identifier">mkInlinePragma</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatSynMatchGroup"><span class="hs-identifier">mkPatSynMatchGroup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier">mkRecConstrOrUpdate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyClD"><span class="hs-identifier">mkTyClD</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInstD"><span class="hs-identifier">mkInstD</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier">mkRdrRecordCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier">mkRdrRecordUpd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier">setRdrNameSpace</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier">fromSpecTyVarBndr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndrs"><span class="hs-identifier">fromSpecTyVarBndrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier">annBinds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindGroup"><span class="hs-identifier">cvBindGroup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier">cvBindsAndSigs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvTopDecls"><span class="hs-identifier">cvTopDecls</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#placeHolderPunRhs"><span class="hs-identifier">placeHolderPunRhs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>        </span><span class="hs-comment">-- Stuff to do with Foreign declarations</span><span>
</span><span id="line-46"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImport"><span class="hs-identifier">mkImport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier">parseCImport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExport"><span class="hs-identifier">mkExport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier">mkExtName</span></a></span><span class="hs-special">,</span><span>    </span><span class="hs-comment">-- RdrName -&gt; CLabelString</span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkGadtDecl"><span class="hs-identifier">mkGadtDecl</span></a></span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- [LocatedA RdrName] -&gt; LHsType RdrName -&gt; ConDecl RdrName</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier">mkConDeclH98</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>        </span><span class="hs-comment">-- Bunch of functions in the parser monad for</span><span>
</span><span id="line-54"></span><span>        </span><span class="hs-comment">-- checking and constructing values</span><span>
</span><span id="line-55"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportDecl"><span class="hs-identifier">checkImportDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier">checkExpBlockArguments</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier">checkCmdBlockArguments</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPrecP"><span class="hs-identifier">checkPrecP</span></a></span><span class="hs-special">,</span><span>           </span><span class="hs-comment">-- Int -&gt; P Int</span><span>
</span><span id="line-58"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkContext"><span class="hs-identifier">checkContext</span></a></span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- HsType -&gt; P HsContext</span><span>
</span><span id="line-59"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier">checkPattern</span></a></span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- HsExp -&gt; P HsPat</span><span>
</span><span id="line-60"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern_hints"><span class="hs-identifier">checkPattern_hints</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkMonadComp"><span class="hs-identifier">checkMonadComp</span></a></span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- P (HsStmtContext GhcPs)</span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier">checkValDef</span></a></span><span class="hs-special">,</span><span>          </span><span class="hs-comment">-- (SrcLoc, HsExp, HsRhs, [HsDecl]) -&gt; P HsDecl</span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier">checkValSigLhs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier">LRuleTyTmVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier">RuleTyTmVar</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleBndrs"><span class="hs-identifier">mkRuleBndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleTyVarBndrs"><span class="hs-identifier">mkRuleTyVarBndrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRuleTyVarBndrNames"><span class="hs-identifier">checkRuleTyVarBndrNames</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier">checkRecordSyntax</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier">checkEmptyGADTs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier">addFatalError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier">hintBangPat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkBangTy"><span class="hs-identifier">mkBangTy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier">UnpackednessPragma</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier">mkMultTy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span>        </span><span class="hs-comment">-- Help with processing exports</span><span>
</span><span id="line-75"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier">ImpExpSubSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier">ImpExpQcSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkModuleImpExp"><span class="hs-identifier">mkModuleImpExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTypeImpExp"><span class="hs-identifier">mkTypeImpExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier">mkImpExpSubSpec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportSpec"><span class="hs-identifier">checkImportSpec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>        </span><span class="hs-comment">-- Token symbols</span><span>
</span><span id="line-83"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier">starSym</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span>        </span><span class="hs-comment">-- Warnings and errors</span><span>
</span><span id="line-86"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnStarIsType"><span class="hs-identifier">warnStarIsType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier">warnPrepositiveQualifiedModule</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier">failOpFewArgs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpNotEnabledImportQualifiedPost"><span class="hs-identifier">failOpNotEnabledImportQualifiedPost</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpImportQualifiedTwice"><span class="hs-identifier">failOpImportQualifiedTwice</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><a href="GHC.Parser.Types.html#SumOrTuple"><span class="hs-identifier">SumOrTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span>        </span><span class="hs-comment">-- Expression/command/pattern ambiguity resolution</span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier">PV</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier">runPV</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier">ECP</span></a></span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier">ECP</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#unECP"><span class="hs-identifier">unECP</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier">DisambInfixOp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier">DisambECP</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromExp"><span class="hs-identifier">ecpFromExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromCmd"><span class="hs-identifier">ecpFromCmd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>        </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier">PatBuilder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span>        </span><span class="hs-comment">-- Type/datacon ambiguity resolution</span><span>
</span><span id="line-105"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambTD"><span class="hs-identifier">DisambTD</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-106"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier">addUnpackednessP</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-107"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderCon"><span class="hs-identifier">dataConBuilderCon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-108"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier">dataConBuilderDetails</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span>           </span><span class="hs-comment">-- Lots of it</span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier">TyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#isTupleTyCon"><span class="hs-identifier">isTupleTyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#tyConSingleDataCon_maybe"><span class="hs-identifier">tyConSingleDataCon_maybe</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier">DataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier">dataConTyCon</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html"><span class="hs-identifier">GHC.Core.ConLike</span></a></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html#ConLike"><span class="hs-identifier">ConLike</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html"><span class="hs-identifier">GHC.Core.Coercion.Axiom</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#Role"><span class="hs-identifier">Role</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#fsFromRole"><span class="hs-identifier">fsFromRole</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier">ModuleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.html"><span class="hs-identifier">GHC.Types.Fixity</span></a></span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html"><span class="hs-identifier">GHC.Types.SourceText</span></a></span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html"><span class="hs-identifier">GHC.Parser.Types</span></a></span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html"><span class="hs-identifier">GHC.Parser.Lexer</span></a></span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.html"><span class="hs-identifier">GHC.Parser.Errors</span></a></span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Lexeme.html"><span class="hs-identifier">GHC.Utils.Lexeme</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Utils.Lexeme.html#isLexCon"><span class="hs-identifier">isLexCon</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html"><span class="hs-identifier">GHC.Types.TyThing</span></a></span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#unrestrictedFunTyCon"><span class="hs-identifier">unrestrictedFunTyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier">Specificity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html"><span class="hs-identifier">GHC.Builtin.Types</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#cTupleTyConName"><span class="hs-identifier">cTupleTyConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#tupleTyCon"><span class="hs-identifier">tupleTyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#tupleDataCon"><span class="hs-identifier">tupleDataCon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-130"></span><span>                          </span><span class="annot"><a href="GHC.Builtin.Types.html#nilDataConName"><span class="hs-identifier">nilDataConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#nilDataConKey"><span class="hs-identifier">nilDataConKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>                          </span><span class="annot"><a href="GHC.Builtin.Types.html#listTyConName"><span class="hs-identifier">listTyConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#listTyConKey"><span class="hs-identifier">listTyConKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#eqTyCon_RDR"><span class="hs-identifier">eqTyCon_RDR</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html"><span class="hs-identifier">GHC.Types.ForeignCall</span></a></span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#hasKey"><span class="hs-identifier">hasKey</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html"><span class="hs-identifier">GHC.Data.OrdList</span></a></span><span>
</span><span id="line-136"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Outputable</span></span><span>
</span><span id="line-137"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-138"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>
</span><span id="line-139"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html"><span class="hs-identifier">GHC.Data.Bag</span></a></span><span>
</span><span id="line-140"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-141"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#"><span class="hs-identifier">Data.Either</span></a></span><span>
</span><span id="line-142"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-List.html#"><span class="hs-identifier">Data.List</span></a></span><span>
</span><span id="line-143"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Foldable.html#"><span class="hs-identifier">Data.Foldable</span></a></span><span>
</span><span id="line-144"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html"><span class="hs-identifier">GHC.Driver.Flags</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html#WarningFlag"><span class="hs-identifier">WarningFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Semigroup.html#"><span class="hs-identifier">Data.Semigroup</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Semi</span></span><span>
</span><span id="line-146"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Control-Monad.html#"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-149"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#"><span class="hs-identifier">Text.ParserCombinators.ReadP</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ReadP</span></span><span>
</span><span id="line-150"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Char.html#"><span class="hs-identifier">Data.Char</span></a></span><span>
</span><span id="line-151"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Data.html#"><span class="hs-identifier">Data.Data</span></a></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Data.html#dataTypeOf"><span class="hs-identifier">dataTypeOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Data.html#fromConstr"><span class="hs-identifier">fromConstr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Data.html#dataTypeConstrs"><span class="hs-identifier">dataTypeConstrs</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Kind.html#"><span class="hs-identifier">Data.Kind</span></a></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Type</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-List-NonEmpty.html#"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#NonEmpty"><span class="hs-identifier">NonEmpty</span></a></span><span class="hs-special">)</span><span class="hs-cpp">

#include &quot;HsVersions.h&quot;
</span><span>
</span><span id="line-157"></span><span class="hs-comment">{- **********************************************************************

  Construction functions for Rdr stuff

  ********************************************************************* -}</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-comment">-- | mkClassDecl builds a RdrClassDecl, filling in the names for tycon and</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- datacon by deriving them from the name of the class.  We fill in the names</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- for the tycon and datacon corresponding to the class, by deriving them</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- from the name of the class itself.  This saves recording the names in the</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- interface file (which would be equally good).</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-comment">-- Similarly for mkConDecl, mkClassOpSig and default-method names.</span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-comment">--         *** See Note [The Naming story] in GHC.Hs.Decls ****</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span id="local-6989586621681182228"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyClD"><span class="hs-identifier hs-type">mkTyClD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681182228"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681182228"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-174"></span><span id="mkTyClD"><span class="annot"><span class="annottext">mkTyClD :: forall (p :: Pass). LTyClDecl (GhcPass p) -&gt; LHsDecl (GhcPass p)
</span><a href="GHC.Parser.PostProcess.html#mkTyClD"><span class="hs-identifier hs-var hs-var">mkTyClD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681181046"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681181046"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681181045"><span class="annot"><span class="annottext">TyClDecl (GhcPass p)
</span><a href="#local-6989586621681181045"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681181046"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass p)
</span><a href="#local-6989586621681181045"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span id="local-6989586621681182218"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInstD"><span class="hs-identifier hs-type">mkInstD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681182218"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681182218"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-177"></span><span id="mkInstD"><span class="annot"><span class="annottext">mkInstD :: forall (p :: Pass). LInstDecl (GhcPass p) -&gt; LHsDecl (GhcPass p)
</span><a href="GHC.Parser.PostProcess.html#mkInstD"><span class="hs-identifier hs-var hs-var">mkInstD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681181042"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681181042"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681181041"><span class="annot"><span class="annottext">InstDecl (GhcPass p)
</span><a href="#local-6989586621681181041"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681181042"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XInstD p -&gt; InstDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-var">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">InstDecl (GhcPass p)
</span><a href="#local-6989586621681181041"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span id="local-6989586621681182210"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkClassDecl"><span class="hs-identifier hs-type">mkClassDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-180"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681182210"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsFunDep"><span class="hs-identifier hs-type">LHsFunDep</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#LayoutInfo"><span class="hs-identifier hs-type">LayoutInfo</span></a></span><span>
</span><span id="line-184"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-185"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span id="mkClassDecl"><span class="annot"><span class="annottext">mkClassDecl :: forall a.
SrcSpan
-&gt; Located (Maybe (LHsContext GhcPs), LHsType GhcPs)
-&gt; Located (a, [LHsFunDep GhcPs])
-&gt; OrdList (LHsDecl GhcPs)
-&gt; LayoutInfo
-&gt; [AddEpAnn]
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkClassDecl"><span class="hs-identifier hs-var hs-var">mkClassDecl</span></a></span></span><span> </span><span id="local-6989586621681181033"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681181033"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681181032"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681181032"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681181031"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681181031"><span class="hs-identifier hs-var">tycl_hdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681181030"><span class="annot"><span class="annottext">Located (a, [LHsFunDep GhcPs])
</span><a href="#local-6989586621681181030"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span id="local-6989586621681181029"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681181029"><span class="hs-identifier hs-var">where_cls</span></a></span></span><span> </span><span id="local-6989586621681181028"><span class="annot"><span class="annottext">LayoutInfo
</span><a href="#local-6989586621681181028"><span class="hs-identifier hs-var">layoutInfo</span></a></span></span><span> </span><span id="local-6989586621681181027"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681181027"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681181026"><span class="annot"><span class="annottext">loc :: SrcSpanAnnA
</span><a href="#local-6989586621681181026"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681181033"><span class="hs-identifier hs-var">loc'</span></a></span><span>
</span><span id="line-189"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681181024"><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs))
</span><a href="#local-6989586621681181024"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681181023"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcPs)]
</span><a href="#local-6989586621681181023"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681181022"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (FamilyDecl GhcPs)]
</span><a href="#local-6989586621681181022"><span class="hs-identifier hs-var">ats</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681181021"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)]
</span><a href="#local-6989586621681181021"><span class="hs-identifier hs-var">at_defs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681181020"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA DocDecl]
</span><a href="#local-6989586621681181020"><span class="hs-identifier hs-var">docs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-var">cvBindsAndSigs</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681181029"><span class="hs-identifier hs-var">where_cls</span></a></span><span>
</span><span id="line-190"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681181019"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681181019"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681181018"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681181018"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681181017"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681181017"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681181016"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681181016"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681181031"><span class="hs-identifier hs-var">tycl_hdr</span></a></span><span>
</span><span id="line-191"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681181014"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681181014"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;class&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-var">whereDots</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681181019"><span class="hs-identifier hs-var">cls</span></a></span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681181018"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-192"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681181010"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681181010"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681181026"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Get any remaining comments</span><span>
</span><span id="line-193"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681181007"><span class="annot"><span class="annottext">anns' :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681181007"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681181026"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681181027"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681181016"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681181010"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-194"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681181026"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClassDecl"><span class="hs-identifier hs-type">ClassDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdCExt :: XClassDecl GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdCExt"><span class="hs-identifier hs-var">tcdCExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681181007"><span class="hs-identifier hs-var">anns'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnSortKey
</span><a href="GHC.Parser.Annotation.html#NoAnnSortKey"><span class="hs-identifier hs-var">NoAnnSortKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LayoutInfo
</span><a href="#local-6989586621681181028"><span class="hs-identifier hs-var">layoutInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdCtxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#tcdCtxt"><span class="hs-identifier hs-var">tcdCtxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681181032"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-196"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdLName :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681181019"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: LHsQTyVars GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681181014"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-197"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681181017"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-198"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFDs :: [LHsFunDep GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFDs"><span class="hs-identifier hs-var">tcdFDs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located (a, [LHsFunDep GhcPs])
</span><a href="#local-6989586621681181030"><span class="hs-identifier hs-var">fds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdSigs :: [LSig GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LSig GhcPs] -&gt; [LSig GhcPs]
</span><a href="GHC.Hs.Utils.html#mkClassOpSigs"><span class="hs-identifier hs-var">mkClassOpSigs</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcPs)]
</span><a href="#local-6989586621681181023"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-200"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdMeths :: LHsBinds GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdMeths"><span class="hs-identifier hs-var">tcdMeths</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs))
</span><a href="#local-6989586621681181024"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-201"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdATs :: [LFamilyDecl GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdATs"><span class="hs-identifier hs-var">tcdATs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (FamilyDecl GhcPs)]
</span><a href="#local-6989586621681181022"><span class="hs-identifier hs-var">ats</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdATDefs :: [LTyFamInstDecl GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdATDefs"><span class="hs-identifier hs-var">tcdATDefs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)]
</span><a href="#local-6989586621681181021"><span class="hs-identifier hs-var">at_defs</span></a></span><span>
</span><span id="line-202"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdDocs :: [LDocDecl GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDocs"><span class="hs-identifier hs-var">tcdDocs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA DocDecl]
</span><a href="#local-6989586621681181020"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyData"><span class="hs-identifier hs-type">mkTyData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-205"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a></span><span>
</span><span id="line-206"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedP"><span class="hs-identifier hs-type">LocatedP</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-210"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-212"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span id="mkTyData"><span class="annot"><span class="annottext">mkTyData :: SrcSpan
-&gt; NewOrData
-&gt; Maybe (LocatedP CType)
-&gt; Located (Maybe (LHsContext GhcPs), LHsType GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; Located (HsDeriving GhcPs)
-&gt; [AddEpAnn]
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTyData"><span class="hs-identifier hs-var hs-var">mkTyData</span></a></span></span><span> </span><span id="local-6989586621681180987"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180987"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span id="local-6989586621681180986"><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681180986"><span class="hs-identifier hs-var">new_or_data</span></a></span></span><span> </span><span id="local-6989586621681180985"><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681180985"><span class="hs-identifier hs-var">cType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180984"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180984"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180983"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180983"><span class="hs-identifier hs-var">tycl_hdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>         </span><span id="local-6989586621681180982"><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681180982"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621681180981"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681180981"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180980"><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681180980"><span class="hs-identifier hs-var">maybe_deriv</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180979"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180979"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180978"><span class="annot"><span class="annottext">loc :: SrcSpanAnnA
</span><a href="#local-6989586621681180978"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180987"><span class="hs-identifier hs-var">loc'</span></a></span><span>
</span><span id="line-216"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180977"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180977"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180976"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180976"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180975"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180975"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180974"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180974"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180983"><span class="hs-identifier hs-var">tycl_hdr</span></a></span><span>
</span><span id="line-217"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180973"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681180973"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681180986"><span class="hs-identifier hs-var">new_or_data</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-var">equalsDots</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180977"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180976"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-218"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180970"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180970"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180978"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Get any remaining comments</span><span>
</span><span id="line-219"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180969"><span class="annot"><span class="annottext">anns' :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180969"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180978"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180979"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180974"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180970"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-220"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180968"><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621681180968"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NewOrData
-&gt; Maybe (LocatedP CType)
-&gt; Maybe (LHsContext GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; HsDeriving GhcPs
-&gt; P (HsDataDefn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-var">mkDataDefn</span></a></span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681180986"><span class="hs-identifier hs-var">new_or_data</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681180985"><span class="hs-identifier hs-var">cType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180984"><span class="hs-identifier hs-var">mcxt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681180982"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681180981"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681180980"><span class="hs-identifier hs-var">maybe_deriv</span></a></span><span>
</span><span id="line-221"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180978"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataDecl"><span class="hs-identifier hs-type">DataDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdDExt :: XDataDecl GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDExt"><span class="hs-identifier hs-var">tcdDExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180969"><span class="hs-identifier hs-var">anns'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-222"></span><span>                                   </span><span class="annot"><span class="annottext">tcdLName :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180977"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: LHsQTyVars GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681180973"><span class="hs-identifier hs-var">tyvars</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-223"></span><span>                                   </span><span class="annot"><span class="annottext">tcdFixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180975"><span class="hs-identifier hs-var">fixity</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-224"></span><span>                                   </span><span class="annot"><span class="annottext">tcdDataDefn :: HsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDataDefn"><span class="hs-identifier hs-var">tcdDataDefn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621681180968"><span class="hs-identifier hs-var">defn</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-type">mkDataDefn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a></span><span>
</span><span id="line-227"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedP"><span class="hs-identifier hs-type">LocatedP</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-231"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-232"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span id="mkDataDefn"><span class="annot"><span class="annottext">mkDataDefn :: NewOrData
-&gt; Maybe (LocatedP CType)
-&gt; Maybe (LHsContext GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; HsDeriving GhcPs
-&gt; P (HsDataDefn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-var hs-var">mkDataDefn</span></a></span></span><span> </span><span id="local-6989586621681180963"><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681180963"><span class="hs-identifier hs-var">new_or_data</span></a></span></span><span> </span><span id="local-6989586621681180962"><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681180962"><span class="hs-identifier hs-var">cType</span></a></span></span><span> </span><span id="local-6989586621681180961"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180961"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span> </span><span id="local-6989586621681180960"><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681180960"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621681180959"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681180959"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span id="local-6989586621681180958"><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681180958"><span class="hs-identifier hs-var">maybe_deriv</span></a></span></span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-var">checkDatatypeContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180961"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-235"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dd_ext :: XCHsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ext"><span class="hs-identifier hs-var">dd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-236"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_ND :: NewOrData
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ND"><span class="hs-identifier hs-var">dd_ND</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681180963"><span class="hs-identifier hs-var">new_or_data</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cType :: Maybe (XRec GhcPs CType)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cType"><span class="hs-identifier hs-var">dd_cType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681180962"><span class="hs-identifier hs-var">cType</span></a></span><span>
</span><span id="line-237"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_ctxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ctxt"><span class="hs-identifier hs-var">dd_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180961"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-238"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cons :: [LConDecl GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681180959"><span class="hs-identifier hs-var">data_cons</span></a></span><span>
</span><span id="line-239"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_kindSig :: Maybe (LHsType GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_kindSig"><span class="hs-identifier hs-var">dd_kindSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681180960"><span class="hs-identifier hs-var">ksig</span></a></span><span>
</span><span id="line-240"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_derivs :: HsDeriving GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681180958"><span class="hs-identifier hs-var">maybe_deriv</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTySynonym"><span class="hs-identifier hs-type">mkTySynonym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-244"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">-- LHS</span><span>
</span><span id="line-245"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">-- RHS</span><span>
</span><span id="line-246"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-247"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span id="mkTySynonym"><span class="annot"><span class="annottext">mkTySynonym :: SrcSpan
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTySynonym"><span class="hs-identifier hs-var hs-var">mkTySynonym</span></a></span></span><span> </span><span id="local-6989586621681180948"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180948"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180947"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180947"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681180946"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180946"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span id="local-6989586621681180945"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180945"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180944"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180944"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180943"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180943"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180942"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180942"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180941"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180941"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180947"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-250"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180940"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180940"><span class="hs-identifier hs-var">cs1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180948"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan [temp]</span><span>
</span><span id="line-251"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180939"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681180939"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;type&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-var">equalsDots</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180944"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180943"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-252"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180938"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180938"><span class="hs-identifier hs-var">cs2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180948"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan [temp]</span><span>
</span><span id="line-253"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180937"><span class="annot"><span class="annottext">anns' :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180937"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180948"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180945"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180941"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180940"><span class="hs-identifier hs-var">cs1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180938"><span class="hs-identifier hs-var">cs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180948"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SynDecl"><span class="hs-identifier hs-type">SynDecl</span></a></span><span>
</span><span id="line-255"></span><span>                                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdSExt :: XSynDecl GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdSExt"><span class="hs-identifier hs-var">tcdSExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180937"><span class="hs-identifier hs-var">anns'</span></a></span><span>
</span><span id="line-256"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdLName :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180944"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: LHsQTyVars GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681180939"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-257"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180942"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-258"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdRhs :: LHsType GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdRhs"><span class="hs-identifier hs-var">tcdRhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180946"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkStandaloneKindSig"><span class="hs-identifier hs-type">mkStandaloneKindSig</span></a></span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- LHS</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>             </span><span class="hs-comment">-- RHS</span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LStandaloneKindSig"><span class="hs-identifier hs-type">LStandaloneKindSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span id="mkStandaloneKindSig"><span class="annot"><span class="annottext">mkStandaloneKindSig :: SrcSpan
-&gt; Located [GenLocated SrcSpanAnnN RdrName]
-&gt; LHsSigType GhcPs
-&gt; [AddEpAnn]
-&gt; P (LStandaloneKindSig GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkStandaloneKindSig"><span class="hs-identifier hs-var hs-var">mkStandaloneKindSig</span></a></span></span><span> </span><span id="local-6989586621681180933"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180933"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180932"><span class="annot"><span class="annottext">Located [GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180932"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681180931"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681180931"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span id="local-6989586621681180930"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180930"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681180929"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180929"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a}.
MonadP m =&gt;
GenLocated (SrcSpanAnn' a) RdrName
-&gt; m (GenLocated (SrcSpanAnn' a) RdrName)
</span><a href="#local-6989586621681180927"><span class="hs-identifier hs-var">check_lhs_name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located [GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180932"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180926"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180926"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
-&gt; P (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681180925"><span class="hs-identifier hs-var">check_singular_lhs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180929"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180923"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180923"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180933"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-270"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180933"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>       </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass.
XStandaloneKindSig pass
-&gt; LIdP pass -&gt; LHsSigType pass -&gt; StandaloneKindSig pass
</span><a href="Language.Haskell.Syntax.Decls.html#StandaloneKindSig"><span class="hs-identifier hs-var">StandaloneKindSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180933"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180930"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180923"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180926"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681180931"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-273"></span><span>    </span><span id="local-6989586621681180927"><span class="annot"><span class="annottext">check_lhs_name :: GenLocated (SrcSpanAnn' a) RdrName
-&gt; m (GenLocated (SrcSpanAnn' a) RdrName)
</span><a href="#local-6989586621681180927"><span class="hs-identifier hs-var hs-var">check_lhs_name</span></a></span></span><span> </span><span id="local-6989586621681180916"><span class="annot"><span class="annottext">v :: GenLocated (SrcSpanAnn' a) RdrName
</span><a href="#local-6989586621681180916"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-glyph">-&gt;</span><span id="local-6989586621681180915"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180915"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-274"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier hs-var">isUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180915"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-var">isTcOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180915"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName
</span><a href="#local-6989586621681180916"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-276"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrUnexpectedQualifiedConstructor"><span class="hs-identifier hs-var">PsErrUnexpectedQualifiedConstructor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName
</span><a href="#local-6989586621681180916"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName
</span><a href="#local-6989586621681180916"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>    </span><span id="local-6989586621681180925"><span class="annot"><span class="annottext">check_singular_lhs :: [GenLocated SrcSpanAnnN RdrName]
-&gt; P (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681180925"><span class="hs-identifier hs-var hs-var">check_singular_lhs</span></a></span></span><span> </span><span id="local-6989586621681180907"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180907"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-278"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180907"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-279"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkStandaloneKindSig: empty left-hand side&quot;</span></span><span>
</span><span id="line-280"></span><span>        </span><span class="hs-special">[</span><span id="local-6989586621681180905"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180905"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180905"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-281"></span><span>        </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LIdP GhcPs] -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrMultipleNamesInStandaloneKindSignature"><span class="hs-identifier hs-var">PsErrMultipleNamesInStandaloneKindSignature</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180907"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located [GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180932"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInstEqn"><span class="hs-identifier hs-type">mkTyFamInstEqn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-284"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-type">HsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-285"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-286"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-287"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-288"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyFamInstEqn"><span class="hs-identifier hs-type">LTyFamInstEqn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span id="mkTyFamInstEqn"><span class="annot"><span class="annottext">mkTyFamInstEqn :: SrcSpan
-&gt; HsOuterFamEqnTyVarBndrs GhcPs
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; P (LTyFamInstEqn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTyFamInstEqn"><span class="hs-identifier hs-var hs-var">mkTyFamInstEqn</span></a></span></span><span> </span><span id="local-6989586621681180902"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180902"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180901"><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="#local-6989586621681180901"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span id="local-6989586621681180900"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180900"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681180899"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180899"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span id="local-6989586621681180898"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180898"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180897"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180897"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180896"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180896"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180895"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180895"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180894"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180894"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180900"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-291"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180893"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180893"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180902"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-292"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180902"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span>
</span><span id="line-293"></span><span>                        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_ext :: XCFamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180902"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180898"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#mappend"><span class="hs-operator hs-var">`mappend`</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180894"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180893"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-294"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180897"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-295"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_bndrs :: HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="#local-6989586621681180901"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-296"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_pats :: [LHsTypeArg GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180896"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-297"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180895"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-298"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_rhs :: GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180899"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkDataFamInst"><span class="hs-identifier hs-type">mkDataFamInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-301"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a></span><span>
</span><span id="line-302"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedP"><span class="hs-identifier hs-type">LocatedP</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-type">HsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-304"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-307"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-309"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span id="mkDataFamInst"><span class="annot"><span class="annottext">mkDataFamInst :: SrcSpan
-&gt; NewOrData
-&gt; Maybe (LocatedP CType)
-&gt; (Maybe (LHsContext GhcPs), HsOuterFamEqnTyVarBndrs GhcPs,
    LHsType GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; Located (HsDeriving GhcPs)
-&gt; [AddEpAnn]
-&gt; P (LInstDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataFamInst"><span class="hs-identifier hs-var hs-var">mkDataFamInst</span></a></span></span><span> </span><span id="local-6989586621681180885"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180885"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180884"><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681180884"><span class="hs-identifier hs-var">new_or_data</span></a></span></span><span> </span><span id="local-6989586621681180883"><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681180883"><span class="hs-identifier hs-var">cType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180882"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180882"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180881"><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="#local-6989586621681180881"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180880"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180880"><span class="hs-identifier hs-var">tycl_hdr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>              </span><span id="local-6989586621681180879"><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681180879"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621681180878"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681180878"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180877"><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681180877"><span class="hs-identifier hs-var">maybe_deriv</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180876"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180876"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180875"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180875"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180874"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180874"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180873"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180873"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180872"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180872"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180880"><span class="hs-identifier hs-var">tycl_hdr</span></a></span><span>
</span><span id="line-313"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180871"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180871"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180885"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-314"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180870"><span class="annot"><span class="annottext">anns' :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180870"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180885"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180872"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180871"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180876"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span>
</span><span id="line-315"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180869"><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621681180869"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NewOrData
-&gt; Maybe (LocatedP CType)
-&gt; Maybe (LHsContext GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; HsDeriving GhcPs
-&gt; P (HsDataDefn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-var">mkDataDefn</span></a></span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681180884"><span class="hs-identifier hs-var">new_or_data</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681180883"><span class="hs-identifier hs-var">cType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180882"><span class="hs-identifier hs-var">mcxt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681180879"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681180878"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681180877"><span class="hs-identifier hs-var">maybe_deriv</span></a></span><span>
</span><span id="line-316"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180885"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XDataFamInstD pass -&gt; DataFamInstDecl pass -&gt; InstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-var">DataFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180870"><span class="hs-identifier hs-var">anns'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. FamEqn pass (HsDataDefn pass) -&gt; DataFamInstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a></span><span>
</span><span id="line-317"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_ext :: XCFamEqn GhcPs (HsDataDefn GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180870"><span class="hs-identifier hs-var">anns'</span></a></span><span>
</span><span id="line-318"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180875"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-319"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_bndrs :: HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="#local-6989586621681180881"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-320"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_pats :: [LHsTypeArg GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180874"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-321"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180873"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-322"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_rhs :: HsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621681180869"><span class="hs-identifier hs-var">defn</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInst"><span class="hs-identifier hs-type">mkTyFamInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-325"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstEqn"><span class="hs-identifier hs-type">TyFamInstEqn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-326"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-327"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span id="mkTyFamInst"><span class="annot"><span class="annottext">mkTyFamInst :: SrcSpan -&gt; TyFamInstEqn GhcPs -&gt; [AddEpAnn] -&gt; P (LInstDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTyFamInst"><span class="hs-identifier hs-var hs-var">mkTyFamInst</span></a></span></span><span> </span><span id="local-6989586621681180866"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180866"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180865"><span class="annot"><span class="annottext">TyFamInstEqn GhcPs
</span><a href="#local-6989586621681180865"><span class="hs-identifier hs-var">eqn</span></a></span></span><span> </span><span id="local-6989586621681180864"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180864"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-329"></span><span>  </span><span id="local-6989586621681180863"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180863"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180866"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-330"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180866"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XTyFamInstD pass -&gt; TyFamInstDecl pass -&gt; InstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#TyFamInstD"><span class="hs-identifier hs-var">TyFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-331"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XCTyFamInstDecl pass -&gt; TyFamInstEqn pass -&gt; TyFamInstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#TyFamInstDecl"><span class="hs-identifier hs-var">TyFamInstDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180866"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180864"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180863"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyFamInstEqn GhcPs
</span><a href="#local-6989586621681180865"><span class="hs-identifier hs-var">eqn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkFamDecl"><span class="hs-identifier hs-type">mkFamDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-334"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyInfo"><span class="hs-identifier hs-type">FamilyInfo</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-335"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a></span><span>
</span><span id="line-336"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>                   </span><span class="hs-comment">-- LHS</span><span>
</span><span id="line-337"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyResultSig"><span class="hs-identifier hs-type">FamilyResultSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Optional result signature</span><span>
</span><span id="line-338"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInjectivityAnn"><span class="hs-identifier hs-type">LInjectivityAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Injectivity annotation</span><span>
</span><span id="line-339"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-340"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span id="mkFamDecl"><span class="annot"><span class="annottext">mkFamDecl :: SrcSpan
-&gt; FamilyInfo GhcPs
-&gt; TopLevelFlag
-&gt; LHsType GhcPs
-&gt; Located (FamilyResultSig GhcPs)
-&gt; Maybe (LInjectivityAnn GhcPs)
-&gt; [AddEpAnn]
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkFamDecl"><span class="hs-identifier hs-var hs-var">mkFamDecl</span></a></span></span><span> </span><span id="local-6989586621681180860"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180860"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180859"><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621681180859"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681180858"><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681180858"><span class="hs-identifier hs-var">topLevel</span></a></span></span><span> </span><span id="local-6989586621681180857"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180857"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681180856"><span class="annot"><span class="annottext">Located (FamilyResultSig GhcPs)
</span><a href="#local-6989586621681180856"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621681180855"><span class="annot"><span class="annottext">Maybe (LInjectivityAnn GhcPs)
</span><a href="#local-6989586621681180855"><span class="hs-identifier hs-var">injAnn</span></a></span></span><span> </span><span id="local-6989586621681180854"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180854"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180853"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180853"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180852"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180852"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180851"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180851"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180850"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180850"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180857"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-343"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180849"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180849"><span class="hs-identifier hs-var">cs1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180860"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan [temp]</span><span>
</span><span id="line-344"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180848"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681180848"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621681180859"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681180847"><span class="hs-identifier hs-var">equals_or_where</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180853"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681180852"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-345"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180846"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180846"><span class="hs-identifier hs-var">cs2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180860"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan [temp]</span><span>
</span><span id="line-346"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180845"><span class="annot"><span class="annottext">anns' :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180845"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180860"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180854"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180850"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180849"><span class="hs-identifier hs-var">cs1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180846"><span class="hs-identifier hs-var">cs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180860"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass. XFamDecl pass -&gt; FamilyDecl pass -&gt; TyClDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-348"></span><span>                                         </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a></span><span>
</span><span id="line-349"></span><span>                                           </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fdExt :: XCFamilyDecl GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fdExt"><span class="hs-identifier hs-var">fdExt</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180845"><span class="hs-identifier hs-var">anns'</span></a></span><span>
</span><span id="line-350"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdTopLevel :: TopLevelFlag
</span><a href="Language.Haskell.Syntax.Decls.html#fdTopLevel"><span class="hs-identifier hs-var">fdTopLevel</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681180858"><span class="hs-identifier hs-var">topLevel</span></a></span><span>
</span><span id="line-351"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdInfo :: FamilyInfo GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fdInfo"><span class="hs-identifier hs-var">fdInfo</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621681180859"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdLName :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fdLName"><span class="hs-identifier hs-var">fdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180853"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-352"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdTyVars :: LHsQTyVars GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fdTyVars"><span class="hs-identifier hs-var">fdTyVars</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681180848"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-353"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdFixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#fdFixity"><span class="hs-identifier hs-var">fdFixity</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180851"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-354"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdResultSig :: LFamilyResultSig GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fdResultSig"><span class="hs-identifier hs-var">fdResultSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (FamilyResultSig GhcPs)
</span><a href="#local-6989586621681180856"><span class="hs-identifier hs-var">ksig</span></a></span><span>
</span><span id="line-355"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdInjectivityAnn :: Maybe (LInjectivityAnn GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#fdInjectivityAnn"><span class="hs-identifier hs-var">fdInjectivityAnn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LInjectivityAnn GhcPs)
</span><a href="#local-6989586621681180855"><span class="hs-identifier hs-var">injAnn</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-357"></span><span>    </span><span id="local-6989586621681180847"><span class="annot"><span class="annottext">equals_or_where :: SDoc
</span><a href="#local-6989586621681180847"><span class="hs-identifier hs-var hs-var">equals_or_where</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621681180859"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-358"></span><span>                        </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#DataFamily"><span class="hs-identifier hs-var">DataFamily</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-359"></span><span>                        </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#OpenTypeFamily"><span class="hs-identifier hs-var">OpenTypeFamily</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-360"></span><span>                        </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClosedTypeFamily"><span class="hs-identifier hs-type">ClosedTypeFamily</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-var">whereDots</span></a></span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSpliceDecl"><span class="hs-identifier hs-type">mkSpliceDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span class="hs-comment">-- If the user wrote</span><span>
</span><span id="line-364"></span><span class="hs-comment">--      [pads| ... ]   then return a QuasiQuoteD</span><span>
</span><span id="line-365"></span><span class="hs-comment">--      $(e)           then return a SpliceD</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- but if they wrote, say,</span><span>
</span><span id="line-367"></span><span class="hs-comment">--      f x            then behave as if they'd written $(f x)</span><span>
</span><span id="line-368"></span><span class="hs-comment">--                     ie a SpliceD</span><span>
</span><span id="line-369"></span><span class="hs-comment">--</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- Typed splices are not allowed at the top level, thus we do not represent them</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- as spliced declaration.  See #10945</span><span>
</span><span id="line-372"></span><span id="mkSpliceDecl"><span class="annot"><span class="annottext">mkSpliceDecl :: LHsExpr GhcPs -&gt; P (LHsDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkSpliceDecl"><span class="hs-identifier hs-var hs-var">mkSpliceDecl</span></a></span></span><span> </span><span id="local-6989586621681180830"><span class="annot"><span class="annottext">lexpr :: LHsExpr GhcPs
</span><a href="#local-6989586621681180830"><span class="hs-identifier hs-var">lexpr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180829"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180828"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681180828"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsSpliceE"><span class="hs-identifier hs-type">HsSpliceE</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceE GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180826"><span class="annot"><span class="annottext">splice :: HsSplice GhcPs
</span><a href="#local-6989586621681180826"><span class="hs-identifier hs-var">splice</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-type">HsUntypedSplice</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681180828"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>    </span><span id="local-6989586621681180824"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180824"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Monoid ann =&gt; SrcAnn ann -&gt; EpAnnComments -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#addCommentsToSrcAnn"><span class="hs-identifier hs-var">addCommentsToSrcAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180824"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. XSpliceD p -&gt; SpliceDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
XSpliceDecl p
-&gt; XRec p (HsSplice p) -&gt; SpliceExplicitFlag -&gt; SpliceDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621681180826"><span class="hs-identifier hs-var">splice</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SpliceExplicitFlag
</span><a href="GHC.Types.Basic.html#ExplicitSplice"><span class="hs-identifier hs-var">ExplicitSplice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsSpliceE"><span class="hs-identifier hs-type">HsSpliceE</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceE GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180819"><span class="annot"><span class="annottext">splice :: HsSplice GhcPs
</span><a href="#local-6989586621681180819"><span class="hs-identifier hs-var">splice</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsQuasiQuote"><span class="hs-identifier hs-type">HsQuasiQuote</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681180828"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-378"></span><span>    </span><span id="local-6989586621681180817"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180817"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Monoid ann =&gt; SrcAnn ann -&gt; EpAnnComments -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#addCommentsToSrcAnn"><span class="hs-identifier hs-var">addCommentsToSrcAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180817"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. XSpliceD p -&gt; SpliceDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
XSpliceDecl p
-&gt; XRec p (HsSplice p) -&gt; SpliceExplicitFlag -&gt; SpliceDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621681180819"><span class="hs-identifier hs-var">splice</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SpliceExplicitFlag
</span><a href="GHC.Types.Basic.html#ExplicitSplice"><span class="hs-identifier hs-var">ExplicitSplice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-382"></span><span>    </span><span id="local-6989586621681180816"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180816"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Monoid ann =&gt; SrcAnn ann -&gt; EpAnnComments -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#addCommentsToSrcAnn"><span class="hs-identifier hs-var">addCommentsToSrcAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180816"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. XSpliceD p -&gt; SpliceDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
XSpliceDecl p
-&gt; XRec p (HsSplice p) -&gt; SpliceExplicitFlag -&gt; SpliceDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-384"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180829"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
-&gt; SpliceDecoration -&gt; LHsExpr GhcPs -&gt; HsSplice GhcPs
</span><a href="GHC.Hs.Utils.html#mkUntypedSplice"><span class="hs-identifier hs-var">mkUntypedSplice</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SpliceDecoration
</span><a href="Language.Haskell.Syntax.Expr.html#BareSplice"><span class="hs-identifier hs-var">BareSplice</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180830"><span class="hs-identifier hs-var">lexpr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>                                       </span><span class="annot"><span class="annottext">SpliceExplicitFlag
</span><a href="GHC.Types.Basic.html#ImplicitSplice"><span class="hs-identifier hs-var">ImplicitSplice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRoleAnnotDecl"><span class="hs-identifier hs-type">mkRoleAnnotDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-388"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>                </span><span class="hs-comment">-- type being annotated</span><span>
</span><span id="line-389"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- roles</span><span>
</span><span id="line-390"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-391"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LRoleAnnotDecl"><span class="hs-identifier hs-type">LRoleAnnotDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span id="mkRoleAnnotDecl"><span class="annot"><span class="annottext">mkRoleAnnotDecl :: SrcSpan
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [Located (Maybe FastString)]
-&gt; [AddEpAnn]
-&gt; P (LRoleAnnotDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRoleAnnotDecl"><span class="hs-identifier hs-var hs-var">mkRoleAnnotDecl</span></a></span></span><span> </span><span id="local-6989586621681180811"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180811"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180810"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180810"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621681180809"><span class="annot"><span class="annottext">[Located (Maybe FastString)]
</span><a href="#local-6989586621681180809"><span class="hs-identifier hs-var">roles</span></a></span></span><span> </span><span id="local-6989586621681180808"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180808"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-393"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681180807"><span class="annot"><span class="annottext">[GenLocated SrcSpan (Maybe Role)]
</span><a href="#local-6989586621681180807"><span class="hs-identifier hs-var">roles'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Maybe FastString) -&gt; P (GenLocated SrcSpan (Maybe Role))
</span><a href="#local-6989586621681180806"><span class="hs-identifier hs-var">parse_role</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Maybe FastString)]
</span><a href="#local-6989586621681180809"><span class="hs-identifier hs-var">roles</span></a></span><span>
</span><span id="line-394"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180805"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180805"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180811"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-395"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180811"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>         </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass.
XCRoleAnnotDecl pass
-&gt; LIdP pass -&gt; [XRec pass (Maybe Role)] -&gt; RoleAnnotDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#RoleAnnotDecl"><span class="hs-identifier hs-var">RoleAnnotDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180811"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180808"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180805"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180810"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (Maybe Role)]
</span><a href="#local-6989586621681180807"><span class="hs-identifier hs-var">roles'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-397"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-398"></span><span>    </span><span id="local-6989586621681180799"><span class="annot"><span class="annottext">role_data_type :: DataType
</span><a href="#local-6989586621681180799"><span class="hs-identifier hs-var hs-var">role_data_type</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Data a =&gt; a -&gt; DataType
</span><a href="../../base-4.16.4.0/src/Data-Data.html#dataTypeOf"><span class="hs-identifier hs-var">dataTypeOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Err.html#undefined"><span class="hs-identifier hs-var">undefined</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#Role"><span class="hs-identifier hs-type">Role</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>    </span><span id="local-6989586621681180796"><span class="annot"><span class="annottext">all_roles :: [Role]
</span><a href="#local-6989586621681180796"><span class="hs-identifier hs-var hs-var">all_roles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Data a =&gt; Constr -&gt; a
</span><a href="../../base-4.16.4.0/src/Data-Data.html#fromConstr"><span class="hs-identifier hs-var">fromConstr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType -&gt; [Constr]
</span><a href="../../base-4.16.4.0/src/Data-Data.html#dataTypeConstrs"><span class="hs-identifier hs-var">dataTypeConstrs</span></a></span><span> </span><span class="annot"><span class="annottext">DataType
</span><a href="#local-6989586621681180799"><span class="hs-identifier hs-var">role_data_type</span></a></span><span>
</span><span id="line-400"></span><span>    </span><span id="local-6989586621681180795"><span class="annot"><span class="annottext">possible_roles :: [(FastString, Role)]
</span><a href="#local-6989586621681180795"><span class="hs-identifier hs-var hs-var">possible_roles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Role -&gt; FastString
</span><a href="GHC.Core.Coercion.Axiom.html#fsFromRole"><span class="hs-identifier hs-var">fsFromRole</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681180794"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681180794"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681180794"><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681180794"><span class="hs-keyword hs-var">role</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Role]
</span><a href="#local-6989586621681180796"><span class="hs-identifier hs-var">all_roles</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span>    </span><span id="local-6989586621681180806"><span class="annot"><span class="annottext">parse_role :: Located (Maybe FastString) -&gt; P (GenLocated SrcSpan (Maybe Role))
</span><a href="#local-6989586621681180806"><span class="hs-identifier hs-var hs-var">parse_role</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180793"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180793"><span class="hs-identifier hs-var">loc_role</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180793"><span class="hs-identifier hs-var">loc_role</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-403"></span><span>    </span><span class="annot"><a href="#local-6989586621681180806"><span class="hs-identifier hs-var">parse_role</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180792"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180792"><span class="hs-identifier hs-var">loc_role</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681180791"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681180791"><span class="hs-keyword hs-var">role</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><a href="../../base-4.16.4.0/src/GHC-List.html#lookup"><span class="hs-identifier hs-var">lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681180791"><span class="hs-keyword hs-var">role</span></a></span><span> </span><span class="annot"><span class="annottext">[(FastString, Role)]
</span><a href="#local-6989586621681180795"><span class="hs-identifier hs-var">possible_roles</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-405"></span><span>          </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681180789"><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681180789"><span class="hs-identifier hs-var">found_role</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180792"><span class="hs-identifier hs-var">loc_role</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681180789"><span class="hs-identifier hs-var">found_role</span></a></span><span>
</span><span id="line-406"></span><span>          </span><span class="annot"><span class="annottext">Maybe Role
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-407"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180788"><span class="annot"><span class="annottext">nearby :: [Role]
</span><a href="#local-6989586621681180788"><span class="hs-identifier hs-var hs-var">nearby</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; [(String, a)] -&gt; [a]
</span><a href="GHC.Utils.Misc.html#fuzzyLookup"><span class="hs-identifier hs-var">fuzzyLookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681180791"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a c b. (a -&gt; c) -&gt; [(a, b)] -&gt; [(c, b)]
</span><a href="GHC.Utils.Misc.html#mapFst"><span class="hs-identifier hs-var">mapFst</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">[(FastString, Role)]
</span><a href="#local-6989586621681180795"><span class="hs-identifier hs-var">possible_roles</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>            </span><span class="hs-keyword">in</span><span>
</span><span id="line-410"></span><span>            </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; [Role] -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIllegalRoleName"><span class="hs-identifier hs-var">PsErrIllegalRoleName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681180791"><span class="hs-keyword hs-var">role</span></a></span><span> </span><span class="annot"><span class="annottext">[Role]
</span><a href="#local-6989586621681180788"><span class="hs-identifier hs-var">nearby</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180792"><span class="hs-identifier hs-var">loc_role</span></a></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-comment">-- | Converts a list of 'LHsTyVarBndr's annotated with their 'Specificity' to</span><span>
</span><span id="line-413"></span><span class="hs-comment">-- binders without annotations. Only accepts specified variables, and errors if</span><span>
</span><span id="line-414"></span><span class="hs-comment">-- any of the provided binders has an 'InferredSpec' annotation.</span><span>
</span><span id="line-415"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndrs"><span class="hs-identifier hs-type">fromSpecTyVarBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-416"></span><span id="fromSpecTyVarBndrs"><span class="annot"><span class="annottext">fromSpecTyVarBndrs :: [LHsTyVarBndr Specificity GhcPs] -&gt; P [LHsTyVarBndr () GhcPs]
</span><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndrs"><span class="hs-identifier hs-var hs-var">fromSpecTyVarBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier hs-var">fromSpecTyVarBndr</span></a></span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span class="hs-comment">-- | Converts 'LHsTyVarBndr' annotated with its 'Specificity' to one without</span><span>
</span><span id="line-419"></span><span class="hs-comment">-- annotations. Only accepts specified variables, and errors if the provided</span><span>
</span><span id="line-420"></span><span class="hs-comment">-- binder has an 'InferredSpec' annotation.</span><span>
</span><span id="line-421"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier hs-type">fromSpecTyVarBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span id="fromSpecTyVarBndr"><span class="annot"><span class="annottext">fromSpecTyVarBndr :: LHsTyVarBndr Specificity GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier hs-var hs-var">fromSpecTyVarBndr</span></a></span></span><span> </span><span id="local-6989586621681180783"><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcPs
</span><a href="#local-6989586621681180783"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcPs
</span><a href="#local-6989586621681180783"><span class="hs-identifier hs-var">bndr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-423"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180782"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180782"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#UserTyVar"><span class="hs-identifier hs-type">UserTyVar</span></a></span><span> </span><span id="local-6989586621681180780"><span class="annot"><span class="annottext">XUserTyVar GhcPs
</span><a href="#local-6989586621681180780"><span class="hs-identifier hs-var">xtv</span></a></span></span><span> </span><span id="local-6989586621681180779"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621681180779"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span id="local-6989586621681180778"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681180778"><span class="hs-identifier hs-var">idp</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Specificity -&gt; SrcSpanAnnA -&gt; P ()
</span><a href="#local-6989586621681180777"><span class="hs-identifier hs-var">check_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621681180779"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180782"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-424"></span><span>                                          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180782"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall flag pass.
XUserTyVar pass -&gt; flag -&gt; LIdP pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XUserTyVar GhcPs
</span><a href="#local-6989586621681180780"><span class="hs-identifier hs-var">xtv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681180778"><span class="hs-identifier hs-var">idp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180776"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180776"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#KindedTyVar"><span class="hs-identifier hs-type">KindedTyVar</span></a></span><span> </span><span id="local-6989586621681180774"><span class="annot"><span class="annottext">XKindedTyVar GhcPs
</span><a href="#local-6989586621681180774"><span class="hs-identifier hs-var">xtv</span></a></span></span><span> </span><span id="local-6989586621681180773"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621681180773"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span id="local-6989586621681180772"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681180772"><span class="hs-identifier hs-var">idp</span></a></span></span><span> </span><span id="local-6989586621681180771"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180771"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Specificity -&gt; SrcSpanAnnA -&gt; P ()
</span><a href="#local-6989586621681180777"><span class="hs-identifier hs-var">check_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621681180773"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180776"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-426"></span><span>                                          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180776"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall flag pass.
XKindedTyVar pass
-&gt; flag -&gt; LIdP pass -&gt; LHsKind pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
</span><a href="#local-6989586621681180774"><span class="hs-identifier hs-var">xtv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681180772"><span class="hs-identifier hs-var">idp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180771"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-428"></span><span>    </span><span class="annot"><a href="#local-6989586621681180777"><span class="hs-identifier hs-type">check_spec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>    </span><span id="local-6989586621681180777"><span class="annot"><span class="annottext">check_spec :: Specificity -&gt; SrcSpanAnnA -&gt; P ()
</span><a href="#local-6989586621681180777"><span class="hs-identifier hs-var hs-var">check_spec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="GHC.Types.Var.html#SpecifiedSpec"><span class="hs-identifier hs-var">SpecifiedSpec</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>    </span><span class="annot"><a href="#local-6989586621681180777"><span class="hs-identifier hs-var">check_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="GHC.Types.Var.html#InferredSpec"><span class="hs-identifier hs-var">InferredSpec</span></a></span><span>  </span><span id="local-6989586621681180768"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180768"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrInferredTypeVarNotAllowed"><span class="hs-identifier hs-var">PsErrInferredTypeVarNotAllowed</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180768"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span class="hs-comment">-- | Add the annotation for a 'where' keyword to existing @HsLocalBinds@</span><span>
</span><span id="line-433"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier hs-type">annBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-434"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span id="annBinds"><span class="annot"><span class="annottext">annBinds :: AddEpAnn
-&gt; EpAnnComments
-&gt; HsLocalBinds GhcPs
-&gt; (HsLocalBinds GhcPs, Maybe EpAnnComments)
</span><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier hs-var hs-var">annBinds</span></a></span></span><span> </span><span id="local-6989586621681180766"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180766"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681180765"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180765"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span id="local-6989586621681180763"><span class="annot"><span class="annottext">XHsValBinds GhcPs GhcPs
</span><a href="#local-6989586621681180763"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681180762"><span class="annot"><span class="annottext">HsValBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681180762"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR.
XHsValBinds idL idR
-&gt; HsValBindsLR idL idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-var">HsValBinds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn -&gt; EpAnn AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
</span><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var">add_where</span></a></span><span> </span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180766"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">XHsValBinds GhcPs GhcPs
</span><a href="#local-6989586621681180763"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180765"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681180762"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier hs-var">annBinds</span></a></span><span> </span><span id="local-6989586621681180760"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180760"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681180759"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180759"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span id="local-6989586621681180757"><span class="annot"><span class="annottext">XHsIPBinds GhcPs GhcPs
</span><a href="#local-6989586621681180757"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681180756"><span class="annot"><span class="annottext">HsIPBinds GhcPs
</span><a href="#local-6989586621681180756"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR.
XHsIPBinds idL idR -&gt; HsIPBinds idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-var">HsIPBinds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn -&gt; EpAnn AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
</span><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var">add_where</span></a></span><span> </span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180760"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIPBinds GhcPs GhcPs
</span><a href="#local-6989586621681180757"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180759"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsIPBinds GhcPs
</span><a href="#local-6989586621681180756"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier hs-var">annBinds</span></a></span><span> </span><span class="annot"><span class="annottext">AddEpAnn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180755"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180755"><span class="hs-identifier hs-var">cs</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-type">EmptyLocalBinds</span></a></span><span> </span><span id="local-6989586621681180753"><span class="annot"><span class="annottext">XEmptyLocalBinds GhcPs GhcPs
</span><a href="#local-6989586621681180753"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR. XEmptyLocalBinds idL idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-var">EmptyLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcPs GhcPs
</span><a href="#local-6989586621681180753"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180755"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-type">add_where</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span>
</span><span id="line-440"></span><span id="add_where"><span class="annot"><span class="annottext">add_where :: AddEpAnn -&gt; EpAnn AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
</span><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var hs-var">add_where</span></a></span></span><span> </span><span id="local-6989586621681180752"><span class="annot"><span class="annottext">an :: AddEpAnn
</span><a href="#local-6989586621681180752"><span class="hs-identifier hs-var">an</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-type">EpaSpan</span></a></span><span> </span><span id="local-6989586621681180749"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180749"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681180748"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180748"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span id="local-6989586621681180746"><span class="annot"><span class="annottext">Maybe Anchor
</span><a href="#local-6989586621681180746"><span class="hs-identifier hs-var">anc</span></a></span></span><span> </span><span id="local-6989586621681180745"><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681180745"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681180744"><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681180744"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681180743"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180743"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681180742"><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681180742"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180741"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180741"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180740"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180740"><span class="hs-identifier hs-var">cs2</span></a></span></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#valid_anchor"><span class="hs-identifier hs-var">valid_anchor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#anchor"><span class="hs-identifier hs-var">anchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180748"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#widenAnchor"><span class="hs-identifier hs-var">widenAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180748"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180752"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Anchor
-&gt; Maybe AddEpAnn
-&gt; Maybe AddEpAnn
-&gt; [AddEpAnn]
-&gt; [TrailingAnn]
-&gt; AnnList
</span><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-var">AnnList</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Anchor
</span><a href="#local-6989586621681180746"><span class="hs-identifier hs-var">anc</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681180745"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681180744"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180752"><span class="hs-identifier hs-var">an</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180743"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681180742"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180741"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180740"><span class="hs-identifier hs-var">cs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-444"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Anchor -&gt; Anchor
</span><a href="GHC.Parser.PostProcess.html#patch_anchor"><span class="hs-identifier hs-var">patch_anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180749"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180748"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Anchor
-&gt; Maybe AddEpAnn
-&gt; Maybe AddEpAnn
-&gt; [AddEpAnn]
-&gt; [TrailingAnn]
-&gt; AnnList
</span><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-var">AnnList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Anchor -&gt; Anchor
</span><a href="GHC.Parser.PostProcess.html#patch_anchor"><span class="hs-identifier hs-var">patch_anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180749"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Anchor
</span><a href="#local-6989586621681180746"><span class="hs-identifier hs-var">anc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681180745"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681180744"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180752"><span class="hs-identifier hs-var">an</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180743"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681180742"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180741"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180740"><span class="hs-identifier hs-var">cs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var">add_where</span></a></span><span> </span><span id="local-6989586621681180735"><span class="annot"><span class="annottext">an :: AddEpAnn
</span><a href="#local-6989586621681180735"><span class="hs-identifier hs-var">an</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-type">EpaSpan</span></a></span><span> </span><span id="local-6989586621681180734"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180734"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnn AnnList
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span id="local-6989586621681180732"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180732"><span class="hs-identifier hs-var">cs</span></a></span></span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180734"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Anchor
-&gt; Maybe AddEpAnn
-&gt; Maybe AddEpAnn
-&gt; [AddEpAnn]
-&gt; [TrailingAnn]
-&gt; AnnList
</span><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-var">AnnList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180734"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180735"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180732"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-449"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var">add_where</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaDelta"><span class="hs-identifier hs-type">EpaDelta</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaPos
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnn AnnList
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;add_where&quot;</span></span><span>
</span><span id="line-450"></span><span> </span><span class="hs-comment">-- EpaDelta should only be used for transformations</span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#valid_anchor"><span class="hs-identifier hs-type">valid_anchor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-453"></span><span id="valid_anchor"><span class="annot"><span class="annottext">valid_anchor :: RealSrcSpan -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#valid_anchor"><span class="hs-identifier hs-var hs-var">valid_anchor</span></a></span></span><span> </span><span id="local-6989586621681180728"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180728"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanStartLine"><span class="hs-identifier hs-var">srcSpanStartLine</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180728"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-comment">-- If the decl list for where binds is empty, the anchor ends up</span><span>
</span><span id="line-456"></span><span class="hs-comment">-- invalid. In this case, use the parent one</span><span>
</span><span id="line-457"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#patch_anchor"><span class="hs-identifier hs-type">patch_anchor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-type">Anchor</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-type">Anchor</span></a></span><span>
</span><span id="line-458"></span><span id="patch_anchor"><span class="annot"><span class="annottext">patch_anchor :: RealSrcSpan -&gt; Anchor -&gt; Anchor
</span><a href="GHC.Parser.PostProcess.html#patch_anchor"><span class="hs-identifier hs-var hs-var">patch_anchor</span></a></span></span><span> </span><span id="local-6989586621681180726"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180726"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-type">Anchor</span></a></span><span> </span><span id="local-6989586621681180725"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180725"><span class="hs-identifier hs-var">r0</span></a></span></span><span> </span><span id="local-6989586621681180724"><span class="annot"><span class="annottext">AnchorOperation
</span><a href="#local-6989586621681180724"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180723"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="#local-6989586621681180724"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-459"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-460"></span><span>    </span><span id="local-6989586621681180723"><span class="annot"><span class="annottext">r :: RealSrcSpan
</span><a href="#local-6989586621681180723"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanStartLine"><span class="hs-identifier hs-var">srcSpanStartLine</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180725"><span class="hs-identifier hs-var">r0</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180726"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180725"><span class="hs-identifier hs-var">r0</span></a></span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span class="hs-comment">{- **********************************************************************

  #cvBinds-etc# Converting to @HsBinds@, etc.

  ********************************************************************* -}</span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span class="hs-comment">-- | Function definitions are restructured here. Each is assumed to be recursive</span><span>
</span><span id="line-469"></span><span class="hs-comment">-- initially, and non recursive definitions are discovered by the dependency</span><span>
</span><span id="line-470"></span><span class="hs-comment">-- analyser.</span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-comment">--  | Groups together bindings for a single function</span><span>
</span><span id="line-474"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvTopDecls"><span class="hs-identifier hs-type">cvTopDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-475"></span><span id="cvTopDecls"><span class="annot"><span class="annottext">cvTopDecls :: OrdList (LHsDecl GhcPs) -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#cvTopDecls"><span class="hs-identifier hs-var hs-var">cvTopDecls</span></a></span></span><span> </span><span id="local-6989586621681180721"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681180721"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. OrdList a -&gt; [a]
</span><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier hs-var">fromOL</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681180721"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="hs-comment">-- Declaration list may only contain value bindings and signatures.</span><span>
</span><span id="line-478"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindGroup"><span class="hs-identifier hs-type">cvBindGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span id="cvBindGroup"><span class="annot"><span class="annottext">cvBindGroup :: OrdList (LHsDecl GhcPs) -&gt; P (HsValBindsLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#cvBindGroup"><span class="hs-identifier hs-var hs-var">cvBindGroup</span></a></span></span><span> </span><span id="local-6989586621681180717"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681180717"><span class="hs-identifier hs-var">binding</span></a></span></span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180716"><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs))
</span><a href="#local-6989586621681180716"><span class="hs-identifier hs-var">mbs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180715"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcPs)]
</span><a href="#local-6989586621681180715"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180714"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (FamilyDecl GhcPs)]
</span><a href="#local-6989586621681180714"><span class="hs-identifier hs-var">fam_ds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180713"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)]
</span><a href="#local-6989586621681180713"><span class="hs-identifier hs-var">tfam_insts</span></a></span></span><span>
</span><span id="line-481"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180712"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)]
</span><a href="#local-6989586621681180712"><span class="hs-identifier hs-var">dfam_insts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA DocDecl]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-var">cvBindsAndSigs</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681180717"><span class="hs-identifier hs-var">binding</span></a></span><span>
</span><span id="line-482"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-identifier">ASSERT</span><span class="hs-special">(</span><span> </span><span class="hs-identifier">null</span><span> </span><span class="hs-identifier">fam_ds</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">null</span><span> </span><span class="hs-identifier">tfam_insts</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">null</span><span> </span><span class="hs-identifier">dfam_insts</span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>         </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall idL idR.
XValBinds idL idR
-&gt; LHsBindsLR idL idR -&gt; [LSig idR] -&gt; HsValBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-var">ValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">AnnSortKey
</span><a href="GHC.Parser.Annotation.html#NoAnnSortKey"><span class="hs-identifier hs-var">NoAnnSortKey</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs))
</span><a href="#local-6989586621681180716"><span class="hs-identifier hs-var">mbs</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcPs)]
</span><a href="#local-6989586621681180715"><span class="hs-identifier hs-var">sigs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-type">cvBindsAndSigs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyDecl"><span class="hs-identifier hs-type">LFamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-487"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyFamInstDecl"><span class="hs-identifier hs-type">LTyFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDataFamInstDecl"><span class="hs-identifier hs-type">LDataFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDocDecl"><span class="hs-identifier hs-type">LDocDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span class="hs-comment">-- Input decls contain just value bindings and signatures</span><span>
</span><span id="line-489"></span><span class="hs-comment">-- and in case of class or instance declarations also</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- associated type declarations. They might also contain Haddock comments.</span><span>
</span><span id="line-491"></span><span id="cvBindsAndSigs"><span class="annot"><span class="annottext">cvBindsAndSigs :: OrdList (LHsDecl GhcPs)
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-var hs-var">cvBindsAndSigs</span></a></span></span><span> </span><span id="local-6989586621681180706"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681180706"><span class="hs-identifier hs-var">fb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-492"></span><span>  </span><span id="local-6989586621681180705"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681180705"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a}.
MonadP m =&gt;
[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681180704"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. OrdList a -&gt; [a]
</span><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier hs-var">fromOL</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681180706"><span class="hs-identifier hs-var">fb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
-&gt; (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
    [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl GhcPs])
</span><a href="GHC.Hs.Decls.html#partitionBindsAndSigs"><span class="hs-identifier hs-var">partitionBindsAndSigs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681180705"><span class="hs-identifier hs-var">fb'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-495"></span><span>    </span><span class="hs-comment">-- cvBindsAndSigs is called in several places in the parser,</span><span>
</span><span id="line-496"></span><span>    </span><span class="hs-comment">-- and its items can be produced by various productions:</span><span>
</span><span id="line-497"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-498"></span><span>    </span><span class="hs-comment">--    * decl       (when parsing a where clause or a let-expression)</span><span>
</span><span id="line-499"></span><span>    </span><span class="hs-comment">--    * decl_inst  (when parsing an instance declaration)</span><span>
</span><span id="line-500"></span><span>    </span><span class="hs-comment">--    * decl_cls   (when parsing a class declaration)</span><span>
</span><span id="line-501"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-502"></span><span>    </span><span class="hs-comment">-- partitionBindsAndSigs can handle almost all declaration forms produced</span><span>
</span><span id="line-503"></span><span>    </span><span class="hs-comment">-- by the aforementioned productions, except for SpliceD, which we filter</span><span>
</span><span id="line-504"></span><span>    </span><span class="hs-comment">-- out here (in drop_bad_decls).</span><span>
</span><span id="line-505"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-506"></span><span>    </span><span class="hs-comment">-- We're not concerned with every declaration form possible, such as those</span><span>
</span><span id="line-507"></span><span>    </span><span class="hs-comment">-- produced by the topdecl parser production, because cvBindsAndSigs is not</span><span>
</span><span id="line-508"></span><span>    </span><span class="hs-comment">-- called on top-level declarations.</span><span>
</span><span id="line-509"></span><span>    </span><span id="local-6989586621681180704"><span class="annot"><span class="annottext">drop_bad_decls :: [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681180704"><span class="hs-identifier hs-var hs-var">drop_bad_decls</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-510"></span><span>    </span><span class="annot"><a href="#local-6989586621681180704"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180692"><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681180692"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SpliceD"><span class="hs-identifier hs-type">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180691"><span class="annot"><span class="annottext">SpliceDecl GhcPs
</span><a href="#local-6989586621681180691"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681180690"><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681180690"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-511"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpliceDecl GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrDeclSpliceNotAtTopLevel"><span class="hs-identifier hs-var">PsErrDeclSpliceNotAtTopLevel</span></a></span><span> </span><span class="annot"><span class="annottext">SpliceDecl GhcPs
</span><a href="#local-6989586621681180691"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681180692"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span>      </span><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681180704"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681180690"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-513"></span><span>    </span><span class="annot"><a href="#local-6989586621681180704"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180687"><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)
</span><a href="#local-6989586621681180687"><span class="hs-identifier hs-var">d</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681180686"><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681180686"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)
</span><a href="#local-6989586621681180687"><span class="hs-identifier hs-var">d</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681180704"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681180686"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-516"></span><span class="hs-comment">-- Group function bindings into equation groups</span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-type">getMonoBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-519"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-520"></span><span class="hs-comment">-- Suppose      (b',ds') = getMonoBind b ds</span><span>
</span><span id="line-521"></span><span class="hs-comment">--      ds is a list of parsed bindings</span><span>
</span><span id="line-522"></span><span class="hs-comment">--      b is a MonoBinds that has just been read off the front</span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-comment">-- Then b' is the result of grouping more equations from ds that</span><span>
</span><span id="line-525"></span><span class="hs-comment">-- belong with b into a single MonoBinds, and ds' is the depleted</span><span>
</span><span id="line-526"></span><span class="hs-comment">-- list of parsed bindings.</span><span>
</span><span id="line-527"></span><span class="hs-comment">--</span><span>
</span><span id="line-528"></span><span class="hs-comment">-- All Haddock comments between equations inside the group are</span><span>
</span><span id="line-529"></span><span class="hs-comment">-- discarded.</span><span>
</span><span id="line-530"></span><span class="hs-comment">--</span><span>
</span><span id="line-531"></span><span class="hs-comment">-- No AndMonoBinds or EmptyMonoBinds here; just single equations</span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span id="getMonoBind"><span class="annot"><span class="annottext">getMonoBind :: LHsBind GhcPs
-&gt; [LHsDecl GhcPs] -&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-var hs-var">getMonoBind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180683"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180683"><span class="hs-identifier hs-var">loc1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681180680"><span class="annot"><span class="annottext">fun_id1 :: LIdP GhcPs
</span><a href="#local-6989586621681180680"><span class="hs-identifier hs-var">fun_id1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180679"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180679"><span class="hs-identifier hs-var">f1</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-534"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_matches :: forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-535"></span><span>                               </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180675"><span class="annot"><span class="annottext">m1 :: [GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681180675"><span class="hs-identifier hs-var">m1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180674"><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681180674"><span class="hs-identifier hs-var">mtchs1</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-536"></span><span>            </span><span id="local-6989586621681180673"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180673"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-537"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)] -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-var">has_args</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681180675"><span class="hs-identifier hs-var">m1</span></a></span><span>
</span><span id="line-538"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpanAnnA
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621681180671"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcAnn ann -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#removeCommentsA"><span class="hs-identifier hs-var">removeCommentsA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180683"><span class="hs-identifier hs-var">loc1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681180674"><span class="hs-identifier hs-var">mtchs1</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Monoid ann =&gt; SrcAnn ann -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#commentsOnlyA"><span class="hs-identifier hs-var">commentsOnlyA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180683"><span class="hs-identifier hs-var">loc1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180673"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-539"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-540"></span><span>    </span><span class="annot"><a href="#local-6989586621681180671"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-541"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-542"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- AZ</span><span>
</span><span id="line-543"></span><span>    </span><span id="local-6989586621681180671"><span class="annot"><span class="annottext">go :: [LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpanAnnA
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621681180671"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621681180668"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681180668"><span class="hs-identifier hs-var">mtchs</span></a></span></span><span> </span><span id="local-6989586621681180667"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180667"><span class="hs-identifier hs-var">loc</span></a></span></span><span>
</span><span id="line-544"></span><span>       </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180666"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180666"><span class="hs-identifier hs-var">loc2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180664"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180664"><span class="hs-identifier hs-var">f2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-545"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_matches :: forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-546"></span><span>                                    </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180663"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180663"><span class="hs-identifier hs-var">lm2</span></a></span></span><span> </span><span id="local-6989586621681180662"><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681180662"><span class="hs-identifier hs-var">mtchs2</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>         </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681180661"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180661"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-548"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180679"><span class="hs-identifier hs-var">f1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180664"><span class="hs-identifier hs-var">f2</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-549"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180660"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180660"><span class="hs-identifier hs-var">loc2'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180659"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180659"><span class="hs-identifier hs-var">lm2'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnA -&gt; (SrcSpanAnnA, SrcSpanAnnA)
</span><a href="GHC.Parser.Annotation.html#transferAnnsA"><span class="hs-identifier hs-var">transferAnnsA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180666"><span class="hs-identifier hs-var">loc2</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180663"><span class="hs-identifier hs-var">lm2</span></a></span><span>
</span><span id="line-550"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpanAnnA
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621681180671"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180659"><span class="hs-identifier hs-var">lm2'</span></a></span><span> </span><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681180662"><span class="hs-identifier hs-var">mtchs2</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681180668"><span class="hs-identifier hs-var">mtchs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; SrcAnn a -&gt; SrcAnn a -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineSrcSpansA"><span class="hs-identifier hs-var">combineSrcSpansA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180667"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180660"><span class="hs-identifier hs-var">loc2'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180661"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-552"></span><span>    </span><span class="annot"><a href="#local-6989586621681180671"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681180656"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681180656"><span class="hs-identifier hs-var">mtchs</span></a></span></span><span> </span><span id="local-6989586621681180655"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180655"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180654"><span class="annot"><span class="annottext">doc_decl :: LHsDecl GhcPs
</span><a href="#local-6989586621681180654"><span class="hs-identifier hs-var">doc_decl</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180653"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180653"><span class="hs-identifier hs-var">loc2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681180651"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180651"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180650"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180650"><span class="hs-identifier hs-var">doc_decls</span></a></span></span><span>
</span><span id="line-553"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180649"><span class="annot"><span class="annottext">doc_decls' :: [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681180649"><span class="hs-identifier hs-var hs-var">doc_decls'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621681180654"><span class="hs-identifier hs-var">doc_decl</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180650"><span class="hs-identifier hs-var">doc_decls</span></a></span><span>
</span><span id="line-554"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpanAnnA
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621681180671"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681180656"><span class="hs-identifier hs-var">mtchs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; SrcAnn a -&gt; SrcAnn a -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineSrcSpansA"><span class="hs-identifier hs-var">combineSrcSpansA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180655"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180653"><span class="hs-identifier hs-var">loc2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180651"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681180649"><span class="hs-identifier hs-var">doc_decls'</span></a></span><span>
</span><span id="line-555"></span><span>    </span><span class="annot"><a href="#local-6989586621681180671"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681180648"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681180648"><span class="hs-identifier hs-var">mtchs</span></a></span></span><span> </span><span id="local-6989586621681180647"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180647"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180646"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180646"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621681180645"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180645"><span class="hs-identifier hs-var">doc_decls</span></a></span></span><span>
</span><span id="line-556"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180647"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var">makeFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681180680"><span class="hs-identifier hs-var">fun_id1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e2 an.
Semigroup a =&gt;
[GenLocated (SrcAnn a) e2]
-&gt; LocatedAn an [GenLocated (SrcAnn a) e2]
</span><a href="GHC.Hs.Utils.html#mkLocatedList"><span class="hs-identifier hs-var">mkLocatedList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681180648"><span class="hs-identifier hs-var">mtchs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-557"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180645"><span class="hs-identifier hs-var">doc_decls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180646"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span>        </span><span class="hs-comment">-- Reverse the final matches, to get it back in the right order</span><span>
</span><span id="line-559"></span><span>        </span><span class="hs-comment">-- Do the same thing with the trailing doc comments</span><span>
</span><span id="line-560"></span><span>
</span><span id="line-561"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-var">getMonoBind</span></a></span><span> </span><span id="local-6989586621681180642"><span class="annot"><span class="annottext">LHsBind GhcPs
</span><a href="#local-6989586621681180642"><span class="hs-identifier hs-var">bind</span></a></span></span><span> </span><span id="local-6989586621681180641"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180641"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsBind GhcPs
</span><a href="#local-6989586621681180642"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180641"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-562"></span><span>
</span><span id="line-563"></span><span class="hs-comment">-- Group together adjacent FunBinds for every function.</span><span>
</span><span id="line-564"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-type">getMonoBindAll</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-565"></span><span id="getMonoBindAll"><span class="annot"><span class="annottext">getMonoBindAll :: [LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var hs-var">getMonoBindAll</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-566"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180640"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180640"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180639"><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681180639"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681180638"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180638"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-567"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180637"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180637"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span id="local-6989586621681180636"><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681180636"><span class="hs-identifier hs-var">b'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180635"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180635"><span class="hs-identifier hs-var">ds'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsBind GhcPs
-&gt; [LHsDecl GhcPs] -&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-var">getMonoBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180640"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681180639"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180638"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-568"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180637"><span class="hs-identifier hs-var">l'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XValD p -&gt; HsBind p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-var">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681180636"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180635"><span class="hs-identifier hs-var">ds'</span></a></span><span>
</span><span id="line-569"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180634"><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621681180634"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681180633"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180633"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621681180634"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681180633"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-570"></span><span>
</span><span id="line-571"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-type">has_args</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-572"></span><span id="has_args"><span class="annot"><span class="annottext">has_args :: [LMatch GhcPs (LHsExpr GhcPs)] -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-var hs-var">has_args</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.Parser.PostProcess.has_args&quot;</span></span><span>
</span><span id="line-573"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-var">has_args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; [LPat p]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681180630"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180630"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180630"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-574"></span><span>        </span><span class="hs-comment">-- Don't group together FunBinds if they have</span><span>
</span><span id="line-575"></span><span>        </span><span class="hs-comment">-- no arguments.  This is necessary now that variable bindings</span><span>
</span><span id="line-576"></span><span>        </span><span class="hs-comment">-- with no arguments are now treated as FunBinds rather</span><span>
</span><span id="line-577"></span><span>        </span><span class="hs-comment">-- than pattern bindings (tests/rename/should_fail/rnfail002).</span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span class="hs-comment">{- **********************************************************************

  #PrefixToHS-utils# Utilities for conversion

  ********************************************************************* -}</span><span>
</span><span id="line-584"></span><span>
</span><span id="line-585"></span><span class="hs-comment">{- Note [Parsing data constructors is hard]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The problem with parsing data constructors is that they look a lot like types.
Compare:

  (s1)   data T = C t1 t2
  (s2)   type T = C t1 t2

Syntactically, there's little difference between these declarations, except in
(s1) 'C' is a data constructor, but in (s2) 'C' is a type constructor.

This similarity would pose no problem if we knew ahead of time if we are
parsing a type or a constructor declaration. Looking at (s1) and (s2), a simple
(but wrong!) rule comes to mind: in 'data' declarations assume we are parsing
data constructors, and in other contexts (e.g. 'type' declarations) assume we
are parsing type constructors.

This simple rule does not work because of two problematic cases:

  (p1)   data T = C t1 t2 :+ t3
  (p2)   data T = C t1 t2 =&gt; t3

In (p1) we encounter (:+) and it turns out we are parsing an infix data
declaration, so (C t1 t2) is a type and 'C' is a type constructor.
In (p2) we encounter (=&gt;) and it turns out we are parsing an existential
context, so (C t1 t2) is a constraint and 'C' is a type constructor.

As the result, in order to determine whether (C t1 t2) declares a data
constructor, a type, or a context, we would need unlimited lookahead which
'happy' is not so happy with.
-}</span><span>
</span><span id="line-617"></span><span>
</span><span id="line-618"></span><span class="hs-comment">-- | Reinterpret a type constructor, including type operators, as a data</span><span>
</span><span id="line-619"></span><span class="hs-comment">--   constructor.</span><span>
</span><span id="line-620"></span><span class="hs-comment">-- See Note [Parsing data constructors is hard]</span><span>
</span><span id="line-621"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-type">tyConToDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-type">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-622"></span><span id="tyConToDataCon"><span class="annot"><span class="annottext">tyConToDataCon :: GenLocated SrcSpanAnnN RdrName
-&gt; Either PsError (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var hs-var">tyConToDataCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180628"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180628"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180627"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180627"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-623"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-var">isTcOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180626"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-var">isDataOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180626"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-624"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexCon"><span class="hs-identifier hs-var">isLexCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180626"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-625"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180628"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180627"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#srcDataName"><span class="hs-identifier hs-var">srcDataName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>
</span><span id="line-627"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-628"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="../../base-4.16.4.0/src/Data-Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrNotADataCon"><span class="hs-identifier hs-var">PsErrNotADataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180627"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180628"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-629"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-630"></span><span>    </span><span id="local-6989586621681180626"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621681180626"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180627"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatSynMatchGroup"><span class="hs-identifier hs-type">mkPatSynMatchGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-633"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-635"></span><span id="mkPatSynMatchGroup"><span class="annot"><span class="annottext">mkPatSynMatchGroup :: GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL (OrdList (LHsDecl GhcPs))
-&gt; P (MatchGroup GhcPs (LHsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkPatSynMatchGroup"><span class="hs-identifier hs-var hs-var">mkPatSynMatchGroup</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180620"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180620"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180619"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180619"><span class="hs-identifier hs-var">patsyn_name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180618"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681180618"><span class="hs-identifier hs-var">ld</span></a></span></span><span> </span><span id="local-6989586621681180617"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681180617"><span class="hs-identifier hs-var">decls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-636"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681180616"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681180616"><span class="hs-identifier hs-var">matches</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621681180615"><span class="hs-identifier hs-var">fromDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. OrdList a -&gt; [a]
</span><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier hs-var">fromOL</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681180617"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-637"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681180616"><span class="hs-identifier hs-var">matches</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="#local-6989586621681180613"><span class="hs-identifier hs-var">wrongNumberErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180620"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-638"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681180618"><span class="hs-identifier hs-var">ld</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681180616"><span class="hs-identifier hs-var">matches</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-639"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-640"></span><span>    </span><span id="local-6989586621681180615"><span class="annot"><span class="annottext">fromDecl :: GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621681180615"><span class="hs-identifier hs-var hs-var">fromDecl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180610"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180610"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180609"><span class="annot"><span class="annottext">decl :: HsDecl GhcPs
</span><a href="#local-6989586621681180609"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-type">PatBind</span></a></span><span> </span><span class="annot"><span class="annottext">XPatBind GhcPs GhcPs
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-641"></span><span>                                 </span><span class="hs-comment">-- AZ: where should these anns come from?</span><span>
</span><span id="line-642"></span><span>                         </span><span id="local-6989586621681180607"><span class="annot"><span class="annottext">pat :: LPat GhcPs
</span><a href="#local-6989586621681180607"><span class="hs-identifier hs-var">pat</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span> </span><span id="local-6989586621681180605"><span class="annot"><span class="annottext">XConPat GhcPs
</span><a href="#local-6989586621681180605"><span class="hs-identifier hs-var">noAnn</span></a></span></span><span> </span><span id="local-6989586621681180604"><span class="annot"><span class="annottext">ln :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="#local-6989586621681180604"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180603"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180603"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180602"><span class="annot"><span class="annottext">HsConPatDetails GhcPs
</span><a href="#local-6989586621681180602"><span class="hs-identifier hs-var">details</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-643"></span><span>                               </span><span id="local-6989586621681180601"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681180601"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="annot"><span class="annottext">([CoreTickish], [[CoreTickish]])
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-644"></span><span>        </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180603"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180619"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-645"></span><span>               </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsDecl GhcPs -&gt; P ()
</span><a href="#local-6989586621681180599"><span class="hs-identifier hs-var">wrongNameBindingErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180610"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681180609"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-646"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681180598"><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681180598"><span class="hs-identifier hs-var">match</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsConPatDetails GhcPs
</span><a href="#local-6989586621681180602"><span class="hs-identifier hs-var">details</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-647"></span><span>               </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[HsPatSigType (NoGhcTc GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180596"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180596"><span class="hs-identifier hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConPat GhcPs
</span><a href="#local-6989586621681180605"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-648"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext (NoGhcTc GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcPs
</span><a href="#local-6989586621681180593"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180596"><span class="hs-identifier hs-var">pats</span></a></span><span>
</span><span id="line-649"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681180601"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-650"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-651"></span><span>                     </span><span id="local-6989586621681180593"><span class="annot"><span class="annottext">ctxt :: HsMatchContext GhcPs
</span><a href="#local-6989586621681180593"><span class="hs-identifier hs-var hs-var">ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (ConLikeP GhcPs)
</span><a href="#local-6989586621681180604"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-652"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span>
</span><span id="line-653"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="Language.Haskell.Syntax.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-654"></span><span>
</span><span id="line-655"></span><span>               </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621681180584"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681180584"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621681180583"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681180583"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConPat GhcPs
</span><a href="#local-6989586621681180605"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-656"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext (NoGhcTc GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcPs
</span><a href="#local-6989586621681180582"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-657"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681180584"><span class="hs-identifier hs-var">p1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681180583"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-658"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681180601"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-659"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-660"></span><span>                     </span><span id="local-6989586621681180582"><span class="annot"><span class="annottext">ctxt :: HsMatchContext GhcPs
</span><a href="#local-6989586621681180582"><span class="hs-identifier hs-var hs-var">ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (ConLikeP GhcPs)
</span><a href="#local-6989586621681180604"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-661"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span>
</span><span id="line-662"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="Language.Haskell.Syntax.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-663"></span><span>
</span><span id="line-664"></span><span>               </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; LPat GhcPs -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#recordPatSynErr"><span class="hs-identifier hs-var">recordPatSynErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180610"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681180607"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-665"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180610"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681180598"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-666"></span><span>    </span><span class="annot"><a href="#local-6989586621681180615"><span class="hs-identifier hs-var">fromDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180578"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180578"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180577"><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681180577"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; HsDecl GhcPs
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621681180576"><span class="hs-identifier hs-var">extraDeclErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180578"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681180577"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-667"></span><span>
</span><span id="line-668"></span><span>    </span><span id="local-6989586621681180576"><span class="annot"><span class="annottext">extraDeclErr :: SrcSpan
-&gt; HsDecl GhcPs
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621681180576"><span class="hs-identifier hs-var hs-var">extraDeclErr</span></a></span></span><span> </span><span id="local-6989586621681180575"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180575"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180574"><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681180574"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-669"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; HsDecl GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrNoSingleWhereBindInPatSynDecl"><span class="hs-identifier hs-var">PsErrNoSingleWhereBindInPatSynDecl</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180619"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681180574"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180575"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span>    </span><span id="local-6989586621681180599"><span class="annot"><span class="annottext">wrongNameBindingErr :: SrcSpan -&gt; HsDecl GhcPs -&gt; P ()
</span><a href="#local-6989586621681180599"><span class="hs-identifier hs-var hs-var">wrongNameBindingErr</span></a></span></span><span> </span><span id="local-6989586621681180572"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180572"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180571"><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681180571"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-672"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; HsDecl GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrInvalidWhereBindInPatSynDecl"><span class="hs-identifier hs-var">PsErrInvalidWhereBindInPatSynDecl</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180619"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681180571"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180572"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-673"></span><span>
</span><span id="line-674"></span><span>    </span><span id="local-6989586621681180613"><span class="annot"><span class="annottext">wrongNumberErr :: SrcSpan -&gt; P ()
</span><a href="#local-6989586621681180613"><span class="hs-identifier hs-var hs-var">wrongNumberErr</span></a></span></span><span> </span><span id="local-6989586621681180569"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180569"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-675"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrEmptyWhereInPatSynDecl"><span class="hs-identifier hs-var">PsErrEmptyWhereInPatSynDecl</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180619"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180569"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span id="local-6989586621681181998"><span class="annot"><a href="GHC.Parser.PostProcess.html#recordPatSynErr"><span class="hs-identifier hs-type">recordPatSynErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181998"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-678"></span><span id="recordPatSynErr"><span class="annot"><span class="annottext">recordPatSynErr :: forall a. SrcSpan -&gt; LPat GhcPs -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#recordPatSynErr"><span class="hs-identifier hs-var hs-var">recordPatSynErr</span></a></span></span><span> </span><span id="local-6989586621681180566"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180566"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180565"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681180565"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-679"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrRecordSyntaxInPatSynDecl"><span class="hs-identifier hs-var">PsErrRecordSyntaxInPatSynDecl</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681180565"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180566"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-680"></span><span>
</span><span id="line-681"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier hs-type">mkConDeclH98</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-682"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclH98Details"><span class="hs-identifier hs-type">HsConDeclH98Details</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-683"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-684"></span><span>
</span><span id="line-685"></span><span id="mkConDeclH98"><span class="annot"><span class="annottext">mkConDeclH98 :: EpAnn [AddEpAnn]
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; Maybe [LHsTyVarBndr Specificity GhcPs]
-&gt; Maybe (LHsContext GhcPs)
-&gt; HsConDeclH98Details GhcPs
-&gt; ConDecl GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier hs-var hs-var">mkConDeclH98</span></a></span></span><span> </span><span id="local-6989586621681180563"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180563"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681180562"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180562"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681180561"><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621681180561"><span class="hs-identifier hs-var">mb_forall</span></a></span></span><span> </span><span id="local-6989586621681180560"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180560"><span class="hs-identifier hs-var">mb_cxt</span></a></span></span><span> </span><span id="local-6989586621681180559"><span class="annot"><span class="annottext">HsConDeclH98Details GhcPs
</span><a href="#local-6989586621681180559"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-686"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclH98"><span class="hs-identifier hs-type">ConDeclH98</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_ext :: XConDeclH98 GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_ext"><span class="hs-identifier hs-var">con_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180563"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-687"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_name :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_name"><span class="hs-identifier hs-var">con_name</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180562"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-688"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_forall :: Bool
</span><a href="Language.Haskell.Syntax.Decls.html#con_forall"><span class="hs-identifier hs-var">con_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621681180561"><span class="hs-identifier hs-var">mb_forall</span></a></span><span>
</span><span id="line-689"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_ex_tvs :: [LHsTyVarBndr Specificity GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#con_ex_tvs"><span class="hs-identifier hs-var">con_ex_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621681180561"><span class="hs-identifier hs-var">mb_forall</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; a -&gt; a
</span><a href="GHC.Data.Maybe.html#orElse"><span class="hs-operator hs-var">`orElse`</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-690"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180560"><span class="hs-identifier hs-var">mb_cxt</span></a></span><span>
</span><span id="line-691"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_args :: HsConDeclH98Details GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_args"><span class="hs-identifier hs-var">con_args</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsConDeclH98Details GhcPs
</span><a href="#local-6989586621681180559"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-692"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_doc :: Maybe LHsDocString
</span><a href="Language.Haskell.Syntax.Decls.html#con_doc"><span class="hs-identifier hs-var">con_doc</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-693"></span><span>
</span><span id="line-694"></span><span class="hs-comment">-- | Construct a GADT-style data constructor from the constructor names and</span><span>
</span><span id="line-695"></span><span class="hs-comment">-- their type. Some interesting aspects of this function:</span><span>
</span><span id="line-696"></span><span class="hs-comment">--</span><span>
</span><span id="line-697"></span><span class="hs-comment">-- * This splits up the constructor type into its quantified type variables (if</span><span>
</span><span id="line-698"></span><span class="hs-comment">--   provided), context (if provided), argument types, and result type, and</span><span>
</span><span id="line-699"></span><span class="hs-comment">--   records whether this is a prefix or record GADT constructor. See</span><span>
</span><span id="line-700"></span><span class="hs-comment">--   Note [GADT abstract syntax] in &quot;GHC.Hs.Decls&quot; for more details.</span><span>
</span><span id="line-701"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkGadtDecl"><span class="hs-identifier hs-type">mkGadtDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-702"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-703"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-704"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-705"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-706"></span><span id="mkGadtDecl"><span class="annot"><span class="annottext">mkGadtDecl :: SrcSpan
-&gt; [GenLocated SrcSpanAnnN RdrName]
-&gt; LHsSigType GhcPs
-&gt; [AddEpAnn]
-&gt; P (LConDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkGadtDecl"><span class="hs-identifier hs-var hs-var">mkGadtDecl</span></a></span></span><span> </span><span id="local-6989586621681180548"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180548"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180547"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180547"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621681180546"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681180546"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681180545"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180545"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-707"></span><span>  </span><span id="local-6989586621681180544"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180544"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180548"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180543"><span class="annot"><span class="annottext">l :: SrcSpanAnnA
</span><a href="#local-6989586621681180543"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180548"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-709"></span><span>
</span><span id="line-710"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180542"><span class="annot"><span class="annottext">HsConDeclGADTDetails GhcPs
</span><a href="#local-6989586621681180542"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180541"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681180541"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180540"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180540"><span class="hs-identifier hs-var">annsa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180539"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180539"><span class="hs-identifier hs-var">csa</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-711"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180538"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180538"><span class="hs-identifier hs-var">ll</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span id="local-6989586621681180536"><span class="annot"><span class="annottext">XFunTy GhcPs
</span><a href="#local-6989586621681180536"><span class="hs-identifier hs-var">af</span></a></span></span><span> </span><span id="local-6989586621681180535"><span class="annot"><span class="annottext">HsArrow GhcPs
</span><a href="#local-6989586621681180535"><span class="hs-identifier hs-var">_w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180534"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180534"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsRecTy"><span class="hs-identifier hs-type">HsRecTy</span></a></span><span> </span><span id="local-6989586621681180532"><span class="annot"><span class="annottext">XRecTy GhcPs
</span><a href="#local-6989586621681180532"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681180531"><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621681180531"><span class="hs-identifier hs-var">rf</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180530"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180530"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180529"><span class="hs-identifier hs-var">body_ty</span></a></span><span>
</span><span id="line-712"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-713"></span><span>            </span><span id="local-6989586621681180528"><span class="annot"><span class="annottext">an' :: EpAnn AnnList
</span><a href="#local-6989586621681180528"><span class="hs-identifier hs-var hs-var">an'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; TrailingAnn -&gt; EpAnnComments -&gt; EpAnn AnnList -&gt; EpAnn AnnList
</span><a href="GHC.Parser.Annotation.html#addTrailingAnnToL"><span class="hs-identifier hs-var">addTrailingAnnToL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180534"><span class="hs-identifier hs-var">loc'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. EpAnn ann -&gt; ann
</span><a href="GHC.Parser.Annotation.html#anns"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy GhcPs
</span><a href="#local-6989586621681180536"><span class="hs-identifier hs-var">af</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. EpAnn ann -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#comments"><span class="hs-identifier hs-var">comments</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy GhcPs
</span><a href="#local-6989586621681180536"><span class="hs-identifier hs-var">af</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRecTy GhcPs
</span><a href="#local-6989586621681180532"><span class="hs-identifier hs-var">an</span></a></span><span>
</span><span id="line-714"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall pass.
XRec pass [LConDeclField pass] -&gt; HsConDeclGADTDetails pass
</span><a href="Language.Haskell.Syntax.Decls.html#RecConGADT"><span class="hs-identifier hs-var">RecConGADT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnList
</span><a href="#local-6989586621681180528"><span class="hs-identifier hs-var">an'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180534"><span class="hs-identifier hs-var">loc'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621681180531"><span class="hs-identifier hs-var">rf</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180530"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-715"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall ann. EpAnn ann -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#epAnnComments"><span class="hs-identifier hs-var">epAnnComments</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; a
</span><a href="GHC.Parser.Annotation.html#ann"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180538"><span class="hs-identifier hs-var">ll</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-716"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-717"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180520"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180520"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180519"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180519"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180518"><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
</span><a href="#local-6989586621681180518"><span class="hs-identifier hs-var">arg_types</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180517"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180517"><span class="hs-identifier hs-var">res_type</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass).
LHsType (GhcPass p)
-&gt; ([AddEpAnn], EpAnnComments,
    [HsScaled (GhcPass p) (LHsType (GhcPass p))], LHsType (GhcPass p))
</span><a href="GHC.Hs.Type.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180529"><span class="hs-identifier hs-var">body_ty</span></a></span><span>
</span><span id="line-718"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
[HsScaled pass (LBangType pass)] -&gt; HsConDeclGADTDetails pass
</span><a href="Language.Haskell.Syntax.Decls.html#PrefixConGADT"><span class="hs-identifier hs-var">PrefixConGADT</span></a></span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
</span><a href="#local-6989586621681180518"><span class="hs-identifier hs-var">arg_types</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180517"><span class="hs-identifier hs-var">res_type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180520"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180519"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-719"></span><span>
</span><span id="line-720"></span><span>      </span><span id="local-6989586621681180514"><span class="annot"><span class="annottext">an :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180514"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
</span><a href="#local-6989586621681180513"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-721"></span><span>        </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180548"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180545"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180540"><span class="hs-identifier hs-var">annsa</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180544"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180539"><span class="hs-identifier hs-var">csa</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-722"></span><span>
</span><span id="line-723"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180543"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclGADT"><span class="hs-identifier hs-type">ConDeclGADT</span></a></span><span>
</span><span id="line-724"></span><span>                     </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_g_ext :: XConDeclGADT GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_g_ext"><span class="hs-identifier hs-var">con_g_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180514"><span class="hs-identifier hs-var">an</span></a></span><span>
</span><span id="line-725"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_names :: [LIdP GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#con_names"><span class="hs-identifier hs-var">con_names</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681180547"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-726"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_bndrs :: XRec GhcPs (HsOuterSigTyVarBndrs GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#con_bndrs"><span class="hs-identifier hs-var">con_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681180546"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
</span><a href="#local-6989586621681180513"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span>
</span><span id="line-727"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180508"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-728"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_g_args :: HsConDeclGADTDetails GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_g_args"><span class="hs-identifier hs-var">con_g_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsConDeclGADTDetails GhcPs
</span><a href="#local-6989586621681180542"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-729"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_res_ty :: LHsType GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_res_ty"><span class="hs-identifier hs-var">con_res_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681180541"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-730"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_doc :: Maybe LHsDocString
</span><a href="Language.Haskell.Syntax.Decls.html#con_doc"><span class="hs-identifier hs-var">con_doc</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-731"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-732"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681180513"><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
</span><a href="#local-6989586621681180513"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180508"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681180508"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681180529"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180529"><span class="hs-identifier hs-var">body_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
-&gt; (HsOuterSigTyVarBndrs GhcPs, Maybe (LHsContext GhcPs),
    LHsType GhcPs)
</span><a href="GHC.Hs.Type.html#splitLHsGadtTy"><span class="hs-identifier hs-var">splitLHsGadtTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681180546"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-733"></span><span>
</span><span id="line-734"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-type">setRdrNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-735"></span><span class="hs-comment">-- ^ This rather gruesome function is used mainly by the parser.</span><span>
</span><span id="line-736"></span><span class="hs-comment">-- When parsing:</span><span>
</span><span id="line-737"></span><span class="hs-comment">--</span><span>
</span><span id="line-738"></span><span class="hs-comment">-- &gt; data T a = T | T1 Int</span><span>
</span><span id="line-739"></span><span class="hs-comment">--</span><span>
</span><span id="line-740"></span><span class="hs-comment">-- we parse the data constructors as /types/ because of parser ambiguities,</span><span>
</span><span id="line-741"></span><span class="hs-comment">-- so then we need to change the /type constr/ to a /data constr/</span><span>
</span><span id="line-742"></span><span class="hs-comment">--</span><span>
</span><span id="line-743"></span><span class="hs-comment">-- The exact-name case /can/ occur when parsing:</span><span>
</span><span id="line-744"></span><span class="hs-comment">--</span><span>
</span><span id="line-745"></span><span class="hs-comment">-- &gt; data [] a = [] | a : [a]</span><span>
</span><span id="line-746"></span><span class="hs-comment">--</span><span>
</span><span id="line-747"></span><span class="hs-comment">-- For the exact-name case we return an original name.</span><span>
</span><span id="line-748"></span><span id="setRdrNameSpace"><span class="annot"><span class="annottext">setRdrNameSpace :: RdrName -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var hs-var">setRdrNameSpace</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621681180503"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180503"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180502"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180502"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180502"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180503"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-749"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621681180499"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621681180499"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681180498"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180498"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180497"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180497"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-var">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621681180499"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180497"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180498"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-750"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621681180495"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681180495"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681180494"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180494"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180493"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180493"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-var">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681180495"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180493"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180494"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-751"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621681180491"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681180491"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>    </span><span id="local-6989586621681180490"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180490"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-752"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681180489"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621681180489"><span class="hs-identifier hs-var">thing</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe TyThing
</span><a href="GHC.Types.Name.html#wiredInNameTyThing_maybe"><span class="hs-identifier hs-var">wiredInNameTyThing_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681180491"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-753"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var">setWiredInNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621681180489"><span class="hs-identifier hs-var">thing</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180490"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-754"></span><span>    </span><span class="hs-comment">-- Preserve Exact Names for wired-in things,</span><span>
</span><span id="line-755"></span><span>    </span><span class="hs-comment">-- notably tuples and lists</span><span>
</span><span id="line-756"></span><span>
</span><span id="line-757"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isExternalName"><span class="hs-identifier hs-var">isExternalName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681180491"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-758"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-var">Orig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Name -&gt; Module
</span><a href="GHC.Types.Name.html#nameModule"><span class="hs-identifier hs-var">nameModule</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681180491"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180484"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-759"></span><span>
</span><span id="line-760"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-comment">-- This can happen when quoting and then</span><span>
</span><span id="line-761"></span><span>                </span><span class="hs-comment">-- splicing a fixity declaration for a type</span><span>
</span><span id="line-762"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; OccName -&gt; SrcSpan -&gt; Name
</span><a href="GHC.Types.Name.html#mkSystemNameAt"><span class="hs-identifier hs-var">mkSystemNameAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Unique
</span><a href="GHC.Types.Name.html#nameUnique"><span class="hs-identifier hs-var">nameUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681180491"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180484"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SrcSpan
</span><a href="GHC.Types.Name.html#nameSrcSpan"><span class="hs-identifier hs-var">nameSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681180491"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-763"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-764"></span><span>    </span><span id="local-6989586621681180484"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621681180484"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180490"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681180491"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-type">setWiredInNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-767"></span><span id="setWiredInNameSpace"><span class="annot"><span class="annottext">setWiredInNameSpace :: TyThing -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var hs-var">setWiredInNameSpace</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621681180478"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180478"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180477"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180477"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-768"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var">isDataConNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180477"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-769"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#ty_con_data_con"><span class="hs-identifier hs-var">ty_con_data_con</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180478"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-770"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-var">isTcClsNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180477"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-771"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180478"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- No-op</span><span>
</span><span id="line-772"></span><span>
</span><span id="line-773"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var">setWiredInNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621681180470"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681180470"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180469"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180469"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-774"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-var">isTcClsNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180469"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-775"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#data_con_ty_con"><span class="hs-identifier hs-var">data_con_ty_con</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681180470"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-776"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var">isDataConNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180469"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-777"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681180470"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- No-op</span><span>
</span><span id="line-778"></span><span>
</span><span id="line-779"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var">setWiredInNameSpace</span></a></span><span> </span><span id="local-6989586621681180467"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621681180467"><span class="hs-identifier hs-var">thing</span></a></span></span><span> </span><span id="local-6989586621681180466"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180466"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;setWiredinNameSpace&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-var">pprNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681180466"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621681180467"><span class="hs-identifier hs-var">thing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-781"></span><span>
</span><span id="line-782"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#ty_con_data_con"><span class="hs-identifier hs-type">ty_con_data_con</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-783"></span><span id="ty_con_data_con"><span class="annot"><span class="annottext">ty_con_data_con :: TyCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#ty_con_data_con"><span class="hs-identifier hs-var hs-var">ty_con_data_con</span></a></span></span><span> </span><span id="local-6989586621681180462"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180462"><span class="hs-identifier hs-var">tc</span></a></span></span><span>
</span><span id="line-784"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isTupleTyCon"><span class="hs-identifier hs-var">isTupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180462"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-785"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681180461"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681180461"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe DataCon
</span><a href="GHC.Core.TyCon.html#tyConSingleDataCon_maybe"><span class="hs-identifier hs-var">tyConSingleDataCon_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180462"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-786"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681180461"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-787"></span><span>
</span><span id="line-788"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180462"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#listTyConKey"><span class="hs-identifier hs-var">listTyConKey</span></a></span><span>
</span><span id="line-789"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.html#nilDataConName"><span class="hs-identifier hs-var">nilDataConName</span></a></span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>  </span><span class="hs-comment">-- See Note [setRdrNameSpace for wired-in names]</span><span>
</span><span id="line-792"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#srcDataName"><span class="hs-identifier hs-var">srcDataName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180462"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-793"></span><span>
</span><span id="line-794"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#data_con_ty_con"><span class="hs-identifier hs-type">data_con_ty_con</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-795"></span><span id="data_con_ty_con"><span class="annot"><span class="annottext">data_con_ty_con :: DataCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#data_con_ty_con"><span class="hs-identifier hs-var hs-var">data_con_ty_con</span></a></span></span><span> </span><span id="local-6989586621681180459"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681180459"><span class="hs-identifier hs-var">dc</span></a></span></span><span>
</span><span id="line-796"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180458"><span class="annot"><span class="annottext">tc :: TyCon
</span><a href="#local-6989586621681180458"><span class="hs-identifier hs-var hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; TyCon
</span><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier hs-var">dataConTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681180459"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-797"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isTupleTyCon"><span class="hs-identifier hs-var">isTupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180458"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-798"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681180458"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-799"></span><span>
</span><span id="line-800"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681180459"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#nilDataConKey"><span class="hs-identifier hs-var">nilDataConKey</span></a></span><span>
</span><span id="line-801"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.html#listTyConName"><span class="hs-identifier hs-var">listTyConName</span></a></span><span>
</span><span id="line-802"></span><span>
</span><span id="line-803"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>  </span><span class="hs-comment">-- See Note [setRdrNameSpace for wired-in names]</span><span>
</span><span id="line-804"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681180459"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-805"></span><span>
</span><span id="line-806"></span><span>
</span><span id="line-807"></span><span>
</span><span id="line-808"></span><span class="hs-comment">{- Note [setRdrNameSpace for wired-in names]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In GHC.Types, which declares (:), we have
  infixr 5 :
The ambiguity about which &quot;:&quot; is meant is resolved by parsing it as a
data constructor, but then using dataTcOccs to try the type constructor too;
and that in turn calls setRdrNameSpace to change the name-space of &quot;:&quot; to
tcClsName.  There isn't a corresponding &quot;:&quot; type constructor, but it's painful
to make setRdrNameSpace partial, so we just make an Unqual name instead. It
really doesn't matter!
-}</span><span>
</span><span id="line-819"></span><span>
</span><span id="line-820"></span><span id="local-6989586621681181965"><span id="local-6989586621681181966"><span class="annot"><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-type">eitherToP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181966"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-type">PsError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181965"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681181966"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181965"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-821"></span><span class="hs-comment">-- Adapts the Either monad to the P monad</span><span>
</span><span id="line-822"></span><span id="eitherToP"><span class="annot"><span class="annottext">eitherToP :: forall (m :: * -&gt; *) a. MonadP m =&gt; Either PsError a -&gt; m a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var hs-var">eitherToP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621681180451"><span class="annot"><span class="annottext">PsError
</span><a href="#local-6989586621681180451"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">PsError
</span><a href="#local-6989586621681180451"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-823"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681180450"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681180450"><span class="hs-identifier hs-var">thing</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681180450"><span class="hs-identifier hs-var">thing</span></a></span><span>
</span><span id="line-824"></span><span>
</span><span id="line-825"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-type">checkTyVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-826"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- the synthesized type variables</span><span>
</span><span id="line-827"></span><span class="hs-comment">-- ^ Check whether the given list of type parameters are all type variables</span><span>
</span><span id="line-828"></span><span class="hs-comment">-- (possibly with a kind signature).</span><span>
</span><span id="line-829"></span><span id="checkTyVars"><span class="annot"><span class="annottext">checkTyVars :: SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var hs-var">checkTyVars</span></a></span></span><span> </span><span id="local-6989586621681180449"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681180449"><span class="hs-identifier hs-var">pp_what</span></a></span></span><span> </span><span id="local-6989586621681180448"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681180448"><span class="hs-identifier hs-var">equals_or_where</span></a></span></span><span> </span><span id="local-6989586621681180447"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180447"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621681180446"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180446"><span class="hs-identifier hs-var">tparms</span></a></span></span><span>
</span><span id="line-830"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681180445"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
</span><a href="#local-6989586621681180445"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">HsArg
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
</span><a href="#local-6989586621681180444"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180446"><span class="hs-identifier hs-var">tparms</span></a></span><span>
</span><span id="line-831"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs] -&gt; LHsQTyVars GhcPs
</span><a href="GHC.Hs.Type.html#mkHsQTvs"><span class="hs-identifier hs-var">mkHsQTvs</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
</span><a href="#local-6989586621681180445"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-832"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-833"></span><span>    </span><span id="local-6989586621681180444"><span class="annot"><span class="annottext">check :: HsArg
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
</span><a href="#local-6989586621681180444"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTypeArg"><span class="hs-identifier hs-type">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180441"><span class="annot"><span class="annottext">ki :: GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681180441"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180440"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180440"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SDoc -&gt; RdrName -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrUnexpectedTypeAppInDecl"><span class="hs-identifier hs-var">PsErrUnexpectedTypeAppInDecl</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681180441"><span class="hs-identifier hs-var">ki</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681180449"><span class="hs-identifier hs-var">pp_what</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180447"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180440"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-834"></span><span>    </span><span class="annot"><a href="#local-6989586621681180444"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span id="local-6989586621681180437"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681180437"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681180436"><span class="hs-identifier hs-var">chkParens</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681180437"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-835"></span><span>    </span><span class="annot"><a href="#local-6989586621681180444"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArgPar"><span class="hs-identifier hs-type">HsArgPar</span></a></span><span> </span><span id="local-6989586621681180434"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180434"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; RdrName -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrMalformedDecl"><span class="hs-identifier hs-var">PsErrMalformedDecl</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681180449"><span class="hs-identifier hs-var">pp_what</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180447"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180434"><span class="hs-identifier hs-var">sp</span></a></span><span>
</span><span id="line-836"></span><span>        </span><span class="hs-comment">-- Keep around an action for adjusting the annotations of extra parens</span><span>
</span><span id="line-837"></span><span>    </span><span class="annot"><a href="#local-6989586621681180436"><span class="hs-identifier hs-type">chkParens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-838"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-839"></span><span>    </span><span id="local-6989586621681180436"><span class="annot"><span class="annottext">chkParens :: [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681180436"><span class="hs-identifier hs-var hs-var">chkParens</span></a></span></span><span> </span><span id="local-6989586621681180432"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180432"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180431"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180431"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180430"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180430"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180429"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180429"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span id="local-6989586621681180427"><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681180427"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681180426"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180426"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-840"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-841"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621681180425"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180425"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180424"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180424"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; (AddEpAnn, AddEpAnn)
</span><a href="GHC.Parser.Lexer.html#mkParensEpAnn"><span class="hs-identifier hs-var">mkParensEpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180429"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-842"></span><span>        </span><span class="hs-keyword">in</span><span>
</span><span id="line-843"></span><span>          </span><span class="annot"><span class="annottext">[AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681180436"><span class="hs-identifier hs-var">chkParens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180425"><span class="hs-identifier hs-var">o</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180432"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180424"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180431"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180430"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. EpAnn ann -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#epAnnComments"><span class="hs-identifier hs-var">epAnnComments</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681180427"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180426"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-844"></span><span>    </span><span class="annot"><a href="#local-6989586621681180436"><span class="hs-identifier hs-var">chkParens</span></a></span><span> </span><span id="local-6989586621681180421"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180421"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180420"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180420"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180419"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180419"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span id="local-6989586621681180418"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180418"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681180417"><span class="hs-identifier hs-var">chk</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180421"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180420"><span class="hs-identifier hs-var">cps</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180419"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180418"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-845"></span><span>
</span><span id="line-846"></span><span>        </span><span class="hs-comment">-- Check that the name space is correct!</span><span>
</span><span id="line-847"></span><span>    </span><span class="annot"><a href="#local-6989586621681180417"><span class="hs-identifier hs-type">chk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-848"></span><span>    </span><span id="local-6989586621681180417"><span class="annot"><span class="annottext">chk :: [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681180417"><span class="hs-identifier hs-var hs-var">chk</span></a></span></span><span> </span><span id="local-6989586621681180416"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180416"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180415"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180415"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180414"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180414"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180413"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180413"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsKindSig"><span class="hs-identifier hs-type">HsKindSig</span></a></span><span> </span><span id="local-6989586621681180411"><span class="annot"><span class="annottext">XKindSig GhcPs
</span><a href="#local-6989586621681180411"><span class="hs-identifier hs-var">annk</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180410"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180410"><span class="hs-identifier hs-var">annt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span id="local-6989586621681180408"><span class="annot"><span class="annottext">XTyVar GhcPs
</span><a href="#local-6989586621681180408"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180407"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180407"><span class="hs-identifier hs-var">lv</span></a></span></span><span> </span><span id="local-6989586621681180406"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180406"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180405"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180405"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-849"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTyVar"><span class="hs-identifier hs-var">isRdrTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180406"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-850"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-851"></span><span>                </span><span id="local-6989586621681180403"><span class="annot"><span class="annottext">an :: [AddEpAnn]
</span><a href="#local-6989586621681180403"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180416"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180415"><span class="hs-identifier hs-var">cps</span></a></span><span>
</span><span id="line-852"></span><span>              </span><span class="hs-keyword">in</span><span>
</span><span id="line-853"></span><span>                </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall an. SrcSpanAnn' an -&gt; [AddEpAnn] -&gt; SrcSpanAnn' an
</span><a href="GHC.Parser.Annotation.html#widenLocatedAn"><span class="hs-identifier hs-var">widenLocatedAn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180413"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180410"><span class="hs-identifier hs-var">annt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180403"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-854"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall flag pass.
XKindedTyVar pass
-&gt; flag -&gt; LIdP pass -&gt; LHsKind pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XKindSig GhcPs
</span><a href="#local-6989586621681180411"><span class="hs-identifier hs-var">annk</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><a href="#local-6989586621681180408"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180403"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180414"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180407"><span class="hs-identifier hs-var">lv</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180406"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180405"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-855"></span><span>    </span><span class="annot"><a href="#local-6989586621681180417"><span class="hs-identifier hs-var">chk</span></a></span><span> </span><span id="local-6989586621681180401"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180401"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180400"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180400"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180399"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180399"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180398"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180398"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span id="local-6989586621681180397"><span class="annot"><span class="annottext">XTyVar GhcPs
</span><a href="#local-6989586621681180397"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180396"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180396"><span class="hs-identifier hs-var">ltv</span></a></span></span><span> </span><span id="local-6989586621681180395"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180395"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-856"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTyVar"><span class="hs-identifier hs-var">isRdrTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180395"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-857"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-858"></span><span>                </span><span id="local-6989586621681180394"><span class="annot"><span class="annottext">an :: [AddEpAnn]
</span><a href="#local-6989586621681180394"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180401"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180400"><span class="hs-identifier hs-var">cps</span></a></span><span>
</span><span id="line-859"></span><span>              </span><span class="hs-keyword">in</span><span>
</span><span id="line-860"></span><span>                </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall an. SrcSpanAnn' an -&gt; [AddEpAnn] -&gt; SrcSpanAnn' an
</span><a href="GHC.Parser.Annotation.html#widenLocatedAn"><span class="hs-identifier hs-var">widenLocatedAn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180398"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180394"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-861"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall flag pass.
XUserTyVar pass -&gt; flag -&gt; LIdP pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><a href="#local-6989586621681180397"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180394"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180399"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180396"><span class="hs-identifier hs-var">ltv</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180395"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-862"></span><span>    </span><span class="annot"><a href="#local-6989586621681180417"><span class="hs-identifier hs-var">chk</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180393"><span class="annot"><span class="annottext">t :: LHsType GhcPs
</span><a href="#local-6989586621681180393"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180392"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180392"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-863"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; SDoc -&gt; RdrName -&gt; [LHsTypeArg GhcPs] -&gt; SDoc -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrUnexpectedTypeInDecl"><span class="hs-identifier hs-var">PsErrUnexpectedTypeInDecl</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180393"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681180449"><span class="hs-identifier hs-var">pp_what</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180447"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180446"><span class="hs-identifier hs-var">tparms</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681180448"><span class="hs-identifier hs-var">equals_or_where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180392"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-864"></span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-type">whereDots</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-type">equalsDots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-867"></span><span class="hs-comment">-- Second argument to checkTyVars</span><span>
</span><span id="line-868"></span><span id="whereDots"><span class="annot"><span class="annottext">whereDots :: SDoc
</span><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-var hs-var">whereDots</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;where ...&quot;</span></span><span>
</span><span id="line-869"></span><span id="equalsDots"><span class="annot"><span class="annottext">equalsDots :: SDoc
</span><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-var hs-var">equalsDots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;= ...&quot;</span></span><span>
</span><span id="line-870"></span><span>
</span><span id="line-871"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-type">checkDatatypeContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-872"></span><span id="checkDatatypeContext"><span class="annot"><span class="annottext">checkDatatypeContext :: Maybe (LHsContext GhcPs) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-var hs-var">checkDatatypeContext</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-873"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-var">checkDatatypeContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681180390"><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621681180390"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-874"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681180389"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180389"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#DatatypeContextsBit"><span class="hs-identifier hs-var">DatatypeContextsBit</span></a></span><span>
</span><span id="line-875"></span><span>         </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180389"><span class="hs-identifier hs-var">allowed</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIllegalDataTypeContext"><span class="hs-identifier hs-var">PsErrIllegalDataTypeContext</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621681180390"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621681180390"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-876"></span><span>
</span><span id="line-877"></span><span class="hs-keyword">type</span><span> </span><span id="LRuleTyTmVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier hs-var">LRuleTyTmVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span>
</span><span id="line-878"></span><span class="hs-keyword">data</span><span> </span><span id="RuleTyTmVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-var">RuleTyTmVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RuleTyTmVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-var">RuleTyTmVar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-879"></span><span class="hs-comment">-- ^ Essentially a wrapper for a @RuleBndr GhcPs@</span><span>
</span><span id="line-880"></span><span>
</span><span id="line-881"></span><span class="hs-comment">-- turns RuleTyTmVars into RuleBnrs - this is straightforward</span><span>
</span><span id="line-882"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleBndrs"><span class="hs-identifier hs-type">mkRuleBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier hs-type">LRuleTyTmVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LRuleBndr"><span class="hs-identifier hs-type">LRuleBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-883"></span><span id="mkRuleBndrs"><span class="annot"><span class="annottext">mkRuleBndrs :: [LRuleTyTmVar] -&gt; [LRuleBndr GhcPs]
</span><a href="GHC.Parser.PostProcess.html#mkRuleBndrs"><span class="hs-identifier hs-var hs-var">mkRuleBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RuleTyTmVar -&gt; RuleBndr GhcPs
</span><a href="#local-6989586621681180384"><span class="hs-identifier hs-var">cvt_one</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-884"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681180384"><span class="annot"><span class="annottext">cvt_one :: RuleTyTmVar -&gt; RuleBndr GhcPs
</span><a href="#local-6989586621681180384"><span class="hs-identifier hs-var hs-var">cvt_one</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621681180383"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180383"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681180382"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180382"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall pass. XCRuleBndr pass -&gt; LIdP pass -&gt; RuleBndr pass
</span><a href="Language.Haskell.Syntax.Decls.html#RuleBndr"><span class="hs-identifier hs-var">RuleBndr</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180383"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180382"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-885"></span><span>        </span><span class="annot"><a href="#local-6989586621681180384"><span class="hs-identifier hs-var">cvt_one</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621681180380"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180380"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681180379"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180379"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681180378"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180378"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-886"></span><span>          </span><span class="annot"><span class="annottext">forall pass.
XRuleBndrSig pass
-&gt; LIdP pass -&gt; HsPatSigType pass -&gt; RuleBndr pass
</span><a href="Language.Haskell.Syntax.Decls.html#RuleBndrSig"><span class="hs-identifier hs-var">RuleBndrSig</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180380"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180379"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpaLocation -&gt; LHsType GhcPs -&gt; HsPatSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-var">mkHsPatSigType</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180378"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-887"></span><span>
</span><span id="line-888"></span><span class="hs-comment">-- turns RuleTyTmVars into HsTyVarBndrs - this is more interesting</span><span>
</span><span id="line-889"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleTyVarBndrs"><span class="hs-identifier hs-type">mkRuleTyVarBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier hs-type">LRuleTyTmVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-890"></span><span id="mkRuleTyVarBndrs"><span class="annot"><span class="annottext">mkRuleTyVarBndrs :: [LRuleTyTmVar] -&gt; [LHsTyVarBndr () GhcPs]
</span><a href="GHC.Parser.PostProcess.html#mkRuleTyVarBndrs"><span class="hs-identifier hs-var hs-var">mkRuleTyVarBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall {ann}.
LRuleTyTmVar -&gt; GenLocated (SrcAnn ann) (HsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681180375"><span class="hs-identifier hs-var">cvt_one</span></a></span><span>
</span><span id="line-891"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681180375"><span class="annot"><span class="annottext">cvt_one :: LRuleTyTmVar -&gt; GenLocated (SrcAnn ann) (HsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681180375"><span class="hs-identifier hs-var hs-var">cvt_one</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180372"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180372"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621681180371"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180371"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681180370"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180370"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-892"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180372"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall flag pass.
XUserTyVar pass -&gt; flag -&gt; LIdP pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180371"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName
</span><a href="#local-6989586621681180369"><span class="hs-identifier hs-var">tm_to_ty</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180370"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-893"></span><span>        </span><span class="annot"><a href="#local-6989586621681180375"><span class="hs-identifier hs-var">cvt_one</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180368"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180368"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621681180367"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180367"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681180366"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180366"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681180365"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180365"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-894"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180368"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall flag pass.
XKindedTyVar pass
-&gt; flag -&gt; LIdP pass -&gt; LHsKind pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180367"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName
</span><a href="#local-6989586621681180369"><span class="hs-identifier hs-var">tm_to_ty</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180366"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180365"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-895"></span><span>    </span><span class="hs-comment">-- takes something in namespace 'varName' to something in namespace 'tvName'</span><span>
</span><span id="line-896"></span><span>        </span><span id="local-6989586621681180369"><span class="annot"><span class="annottext">tm_to_ty :: RdrName -&gt; RdrName
</span><a href="#local-6989586621681180369"><span class="hs-identifier hs-var hs-var">tm_to_ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621681180364"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180364"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-var">tvName</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180364"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-897"></span><span>        </span><span class="annot"><a href="#local-6989586621681180369"><span class="hs-identifier hs-var">tm_to_ty</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkRuleTyVarBndrs&quot;</span></span><span>
</span><span id="line-898"></span><span>
</span><span id="line-899"></span><span class="hs-comment">-- See note [Parsing explicit foralls in Rules] in Parser.y</span><span>
</span><span id="line-900"></span><span id="local-6989586621681181948"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRuleTyVarBndrNames"><span class="hs-identifier hs-type">checkRuleTyVarBndrNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181948"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-901"></span><span id="checkRuleTyVarBndrNames"><span class="annot"><span class="annottext">checkRuleTyVarBndrNames :: forall flag. [LHsTyVarBndr flag GhcPs] -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkRuleTyVarBndrNames"><span class="hs-identifier hs-var hs-var">checkRuleTyVarBndrNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {f :: * -&gt; *} {a}.
MonadP f =&gt;
GenLocated (SrcSpanAnn' a) RdrName -&gt; f ()
</span><a href="#local-6989586621681180357"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall flag (p :: Pass).
HsTyVarBndr flag (GhcPass p) -&gt; IdP (GhcPass p)
</span><a href="GHC.Hs.Type.html#hsTyVarName"><span class="hs-identifier hs-var">hsTyVarName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-902"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681180357"><span class="annot"><span class="annottext">check :: GenLocated (SrcSpanAnn' a) RdrName -&gt; f ()
</span><a href="#local-6989586621681180357"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180344"><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681180344"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621681180343"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180343"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-903"></span><span>          </span><span class="hs-comment">-- TODO: don't use string here, OccName has a Unique/FastString</span><span>
</span><span id="line-904"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; String
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180343"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#any"><span class="hs-operator hs-var">`any`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;forall&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;family&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;role&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-905"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrParseErrorOnInput"><span class="hs-identifier hs-var">PsErrParseErrorOnInput</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180343"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681180344"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-906"></span><span>        </span><span class="annot"><a href="#local-6989586621681180357"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;checkRuleTyVarBndrNames&quot;</span></span><span>
</span><span id="line-907"></span><span>
</span><span id="line-908"></span><span id="local-6989586621681181930"><span id="local-6989586621681181931"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-type">checkRecordSyntax</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181931"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181930"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181930"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681181931"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181930"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-909"></span><span id="checkRecordSyntax"><span class="annot"><span class="annottext">checkRecordSyntax :: forall (m :: * -&gt; *) a.
(MonadP m, Outputable a) =&gt;
LocatedA a -&gt; m (LocatedA a)
</span><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-var hs-var">checkRecordSyntax</span></a></span></span><span> </span><span id="local-6989586621681180328"><span class="annot"><span class="annottext">lr :: LocatedA a
</span><a href="#local-6989586621681180328"><span class="hs-identifier hs-var">lr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180327"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180327"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180326"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681180326"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-910"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681180325"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180325"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#TraditionalRecordSyntaxBit"><span class="hs-identifier hs-var">TraditionalRecordSyntaxBit</span></a></span><span>
</span><span id="line-911"></span><span>         </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180325"><span class="hs-identifier hs-var">allowed</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIllegalTraditionalRecordSyntax"><span class="hs-identifier hs-var">PsErrIllegalTraditionalRecordSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681180326"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180327"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-912"></span><span>         </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA a
</span><a href="#local-6989586621681180328"><span class="hs-identifier hs-var">lr</span></a></span><span>
</span><span id="line-913"></span><span>
</span><span id="line-914"></span><span class="hs-comment">-- | Check if the gadt_constrlist is empty. Only raise parse error for</span><span>
</span><span id="line-915"></span><span class="hs-comment">-- `data T where` to avoid affecting existing error message, see #8258.</span><span>
</span><span id="line-916"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier hs-type">checkEmptyGADTs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-917"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span id="checkEmptyGADTs"><span class="annot"><span class="annottext">checkEmptyGADTs :: Located ([AddEpAnn], [LConDecl GhcPs])
-&gt; P (Located ([AddEpAnn], [LConDecl GhcPs]))
</span><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier hs-var hs-var">checkEmptyGADTs</span></a></span></span><span> </span><span id="local-6989586621681180322"><span class="annot"><span class="annottext">gadts :: Located ([AddEpAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621681180322"><span class="hs-identifier hs-var">gadts</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180321"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180321"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- Empty GADT declaration.</span><span>
</span><span id="line-919"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681180320"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180320"><span class="hs-identifier hs-var">gadtSyntax</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#GadtSyntaxBit"><span class="hs-identifier hs-var">GadtSyntaxBit</span></a></span><span>   </span><span class="hs-comment">-- GADTs implies GADTSyntax</span><span>
</span><span id="line-920"></span><span>         </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180320"><span class="hs-identifier hs-var">gadtSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIllegalWhereInDataDecl"><span class="hs-identifier hs-var">PsErrIllegalWhereInDataDecl</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180321"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-921"></span><span>         </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located ([AddEpAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621681180322"><span class="hs-identifier hs-var">gadts</span></a></span><span>
</span><span id="line-922"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier hs-var">checkEmptyGADTs</span></a></span><span> </span><span id="local-6989586621681180317"><span class="annot"><span class="annottext">Located ([AddEpAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621681180317"><span class="hs-identifier hs-var">gadts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located ([AddEpAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621681180317"><span class="hs-identifier hs-var">gadts</span></a></span><span>              </span><span class="hs-comment">-- Ordinary GADT declaration.</span><span>
</span><span id="line-923"></span><span>
</span><span id="line-924"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-type">checkTyClHdr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>               </span><span class="hs-comment">-- True  &lt;=&gt; class header</span><span>
</span><span id="line-925"></span><span>                                   </span><span class="hs-comment">-- False &lt;=&gt; type header</span><span>
</span><span id="line-926"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-927"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span>     </span><span class="hs-comment">-- the head symbol (type or class name)</span><span>
</span><span id="line-928"></span><span>                   </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- parameters of head symbol</span><span>
</span><span id="line-929"></span><span>                   </span><span class="annot"><a href="GHC.Types.Fixity.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a></span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- the declaration is in infix format</span><span>
</span><span id="line-930"></span><span>                   </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- API Annotation for HsParTy</span><span>
</span><span id="line-931"></span><span>                                         </span><span class="hs-comment">-- when stripping parens</span><span>
</span><span id="line-932"></span><span class="hs-comment">-- Well-formedness check and decomposition of type and class heads.</span><span>
</span><span id="line-933"></span><span class="hs-comment">-- Decomposes   T ty1 .. tyn   into    (T, [ty1, ..., tyn])</span><span>
</span><span id="line-934"></span><span class="hs-comment">--              Int :*: Bool   into    (:*:, [Int, Bool])</span><span>
</span><span id="line-935"></span><span class="hs-comment">-- returning the pieces</span><span>
</span><span id="line-936"></span><span id="checkTyClHdr"><span class="annot"><span class="annottext">checkTyClHdr :: Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var hs-var">checkTyClHdr</span></a></span></span><span> </span><span id="local-6989586621681180316"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180316"><span class="hs-identifier hs-var">is_cls</span></a></span></span><span> </span><span id="local-6989586621681180315"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180315"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-937"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681180314"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180315"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span>
</span><span id="line-938"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-939"></span><span>    </span><span id="local-6989586621681180314"><span class="annot"><span class="annottext">goL :: GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681180314"><span class="hs-identifier hs-var hs-var">goL</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180313"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180313"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681180312"><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621681180312"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180311"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180311"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681180310"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180310"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180309"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180309"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180308"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180308"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; HsType GhcPs
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681180307"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180313"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621681180312"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180311"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180310"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180309"><span class="hs-identifier hs-var">cps</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180308"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-940"></span><span>
</span><span id="line-941"></span><span>    </span><span class="hs-comment">-- workaround to define '*' despite StarIsType</span><span>
</span><span id="line-942"></span><span>    </span><span id="local-6989586621681180307"><span class="annot"><span class="annottext">go :: SrcSpan
-&gt; HsType GhcPs
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681180307"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span id="local-6989586621681180306"><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681180306"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180305"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180305"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsStarTy"><span class="hs-identifier hs-type">HsStarTy</span></a></span><span> </span><span class="annot"><span class="annottext">XStarTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180303"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180303"><span class="hs-identifier hs-var">isUni</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180302"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180302"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681180301"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180301"><span class="hs-identifier hs-var">ops'</span></a></span></span><span> </span><span id="local-6989586621681180300"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180300"><span class="hs-identifier hs-var">cps'</span></a></span></span><span> </span><span id="local-6989586621681180299"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180299"><span class="hs-identifier hs-var">fix</span></a></span></span><span>
</span><span id="line-943"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; WarningFlag -&gt; PsWarning -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addWarning"><span class="hs-identifier hs-var">addWarning</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="GHC.Driver.Flags.html#Opt_WarnStarBinder"><span class="hs-identifier hs-var">Opt_WarnStarBinder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PsWarning
</span><a href="GHC.Parser.Errors.html#PsWarnStarBinder"><span class="hs-identifier hs-var">PsWarnStarBinder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180305"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-944"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180295"><span class="annot"><span class="annottext">name :: OccName
</span><a href="#local-6989586621681180295"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; String -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; String
</span><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-var">starSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180303"><span class="hs-identifier hs-var">isUni</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-945"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180293"><span class="annot"><span class="annottext">a' :: SrcSpanAnnN
</span><a href="#local-6989586621681180293"><span class="hs-identifier hs-var hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; EpAnn AnnParen -&gt; SrcSpanAnnN
</span><a href="#local-6989586621681180292"><span class="hs-identifier hs-var">newAnns</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180305"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681180306"><span class="hs-identifier hs-var">an</span></a></span><span>
</span><span id="line-946"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180293"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681180295"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180302"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180299"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-947"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180301"><span class="hs-identifier hs-var">ops'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180300"><span class="hs-identifier hs-var">cps'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-948"></span><span>
</span><span id="line-949"></span><span>    </span><span class="annot"><a href="#local-6989586621681180307"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180291"><span class="annot"><span class="annottext">ltc :: LIdP GhcPs
</span><a href="#local-6989586621681180291"><span class="hs-identifier hs-var">ltc</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180290"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180290"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180289"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180289"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681180288"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180288"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180287"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180287"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180286"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180286"><span class="hs-identifier hs-var">fix</span></a></span></span><span>
</span><span id="line-950"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTc"><span class="hs-identifier hs-var">isRdrTc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180290"><span class="hs-identifier hs-var">tc</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681180291"><span class="hs-identifier hs-var">ltc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180289"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180286"><span class="hs-identifier hs-var">fix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180288"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180287"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-951"></span><span>    </span><span class="annot"><a href="#local-6989586621681180307"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOpTy"><span class="hs-identifier hs-type">HsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">XOpTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180283"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180283"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681180282"><span class="annot"><span class="annottext">ltc :: LIdP GhcPs
</span><a href="#local-6989586621681180282"><span class="hs-identifier hs-var">ltc</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180281"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180281"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180280"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180280"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180279"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180279"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681180278"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180278"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180277"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180277"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180276"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180276"><span class="hs-identifier hs-var">_fix</span></a></span></span><span>
</span><span id="line-952"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTc"><span class="hs-identifier hs-var">isRdrTc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180281"><span class="hs-identifier hs-var">tc</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681180282"><span class="hs-identifier hs-var">ltc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall tm ty. tm -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180283"><span class="hs-identifier hs-var">t1</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">forall tm ty. tm -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180280"><span class="hs-identifier hs-var">t2</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180279"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180278"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180277"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-953"></span><span>    </span><span class="annot"><a href="#local-6989586621681180307"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681180275"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180275"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180274"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180274"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>    </span><span id="local-6989586621681180273"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180273"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681180272"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180272"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180271"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180271"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180270"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180270"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681180314"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180274"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180273"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180269"><span class="hs-identifier hs-var">o</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180272"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180268"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180271"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180270"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-954"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-955"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681180269"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180269"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180268"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681180268"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; (AddEpAnn, AddEpAnn)
</span><a href="GHC.Parser.Lexer.html#mkParensEpAnn"><span class="hs-identifier hs-var">mkParensEpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180275"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-956"></span><span>    </span><span class="annot"><a href="#local-6989586621681180307"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsAppTy"><span class="hs-identifier hs-type">HsAppTy</span></a></span><span> </span><span class="annot"><span class="annottext">XAppTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180266"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180266"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681180265"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180265"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180264"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180264"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681180263"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180263"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180262"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180262"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180261"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180261"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681180314"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180266"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall tm ty. tm -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180265"><span class="hs-identifier hs-var">t2</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180264"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180263"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180262"><span class="hs-identifier hs-var">cps</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180261"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-957"></span><span>    </span><span class="annot"><a href="#local-6989586621681180307"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsAppKindTy"><span class="hs-identifier hs-type">HsAppKindTy</span></a></span><span> </span><span id="local-6989586621681180259"><span class="annot"><span class="annottext">XAppKindTy GhcPs
</span><a href="#local-6989586621681180259"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681180258"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180258"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681180257"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180257"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180256"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180256"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681180255"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180255"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180254"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180254"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180253"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180253"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681180314"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180258"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall tm ty. SrcSpan -&gt; ty -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsTypeArg"><span class="hs-identifier hs-var">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">XAppKindTy GhcPs
</span><a href="#local-6989586621681180259"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180257"><span class="hs-identifier hs-var">ki</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681180256"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180255"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180254"><span class="hs-identifier hs-var">cps</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180253"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-958"></span><span>    </span><span class="annot"><a href="#local-6989586621681180307"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681180252"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180252"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="Language.Haskell.Syntax.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span id="local-6989586621681180249"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681180249"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621681180248"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180248"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681180247"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180247"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681180246"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180246"><span class="hs-identifier hs-var">fix</span></a></span></span><span>
</span><span id="line-959"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180252"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-var">nameRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681180244"><span class="hs-identifier hs-var">tup_name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-960"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall tm ty. tm -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681180249"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681180246"><span class="hs-identifier hs-var">fix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180248"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180247"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-961"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-962"></span><span>        </span><span id="local-6989586621681180243"><span class="annot"><span class="annottext">arity :: Int
</span><a href="#local-6989586621681180243"><span class="hs-identifier hs-var hs-var">arity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681180249"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-963"></span><span>        </span><span id="local-6989586621681180244"><span class="annot"><span class="annottext">tup_name :: Name
</span><a href="#local-6989586621681180244"><span class="hs-identifier hs-var hs-var">tup_name</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180316"><span class="hs-identifier hs-var">is_cls</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Name
</span><a href="GHC.Builtin.Types.html#cTupleTyConName"><span class="hs-identifier hs-var">cTupleTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681180243"><span class="hs-identifier hs-var">arity</span></a></span><span>
</span><span id="line-964"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; Int -&gt; TyCon
</span><a href="GHC.Builtin.Types.html#tupleTyCon"><span class="hs-identifier hs-var">tupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681180243"><span class="hs-identifier hs-var">arity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-965"></span><span>          </span><span class="hs-comment">-- See Note [Unit tuples] in GHC.Hs.Type  (TODO: is this still relevant?)</span><span>
</span><span id="line-966"></span><span>    </span><span class="annot"><a href="#local-6989586621681180307"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681180240"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180240"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-967"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrMalformedTyOrClDecl"><span class="hs-identifier hs-var">PsErrMalformedTyOrClDecl</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180315"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180240"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-968"></span><span>
</span><span id="line-969"></span><span>    </span><span class="hs-comment">-- Combine the annotations from the HsParTy and HsStarTy into a</span><span>
</span><span id="line-970"></span><span>    </span><span class="hs-comment">-- new one for the LocatedN RdrName</span><span>
</span><span id="line-971"></span><span>    </span><span class="annot"><a href="#local-6989586621681180292"><span class="hs-identifier hs-type">newAnns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnN"><span class="hs-identifier hs-type">SrcSpanAnnN</span></a></span><span>
</span><span id="line-972"></span><span>    </span><span id="local-6989586621681180292"><span class="annot"><span class="annottext">newAnns :: SrcSpanAnnA -&gt; EpAnn AnnParen -&gt; SrcSpanAnnN
</span><a href="#local-6989586621681180292"><span class="hs-identifier hs-var hs-var">newAnns</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-type">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span id="local-6989586621681180238"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180238"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681180237"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180237"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="annot"><span class="annottext">ParenType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180235"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180235"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681180234"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180234"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180233"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180233"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-973"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-974"></span><span>        </span><span id="local-6989586621681180232"><span class="annot"><span class="annottext">lr :: RealSrcSpan
</span><a href="#local-6989586621681180232"><span class="hs-identifier hs-var hs-var">lr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; RealSrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineRealSrcSpans"><span class="hs-identifier hs-var">combineRealSrcSpans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180238"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#anchor"><span class="hs-identifier hs-var">anchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180237"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-975"></span><span>        </span><span class="hs-comment">-- lr = widenAnchorR as (realSrcSpan l)</span><span>
</span><span id="line-976"></span><span>        </span><span id="local-6989586621681180230"><span class="annot"><span class="annottext">an :: EpAnn NameAnn
</span><a href="#local-6989586621681180230"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180232"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameAdornment
-&gt; EpaLocation
-&gt; EpaLocation
-&gt; EpaLocation
-&gt; [TrailingAnn]
-&gt; NameAnn
</span><a href="GHC.Parser.Annotation.html#NameAnn"><span class="hs-identifier hs-var">NameAnn</span></a></span><span> </span><span class="annot"><span class="annottext">NameAdornment
</span><a href="GHC.Parser.Annotation.html#NameParens"><span class="hs-identifier hs-var">NameParens</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180235"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-var">EpaSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180238"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180234"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180233"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn NameAnn
</span><a href="#local-6989586621681180230"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180232"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-978"></span><span>    </span><span class="annot"><a href="#local-6989586621681180292"><span class="hs-identifier hs-var">newAnns</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnParen
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;missing AnnParen&quot;</span></span><span>
</span><span id="line-979"></span><span>    </span><span class="annot"><a href="#local-6989586621681180292"><span class="hs-identifier hs-var">newAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-type">SrcSpanAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681180226"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180226"><span class="hs-identifier hs-var">ap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnListItem"><span class="hs-identifier hs-type">AnnListItem</span></a></span><span> </span><span id="local-6989586621681180224"><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681180224"><span class="hs-identifier hs-var">ta</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180223"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180223"><span class="hs-identifier hs-var">csp</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180222"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180222"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681180221"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180221"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="annot"><span class="annottext">ParenType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180220"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180220"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681180219"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180219"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180218"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180218"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-980"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-981"></span><span>        </span><span id="local-6989586621681180217"><span class="annot"><span class="annottext">lr :: RealSrcSpan
</span><a href="#local-6989586621681180217"><span class="hs-identifier hs-var hs-var">lr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; RealSrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineRealSrcSpans"><span class="hs-identifier hs-var">combineRealSrcSpans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#anchor"><span class="hs-identifier hs-var">anchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180226"><span class="hs-identifier hs-var">ap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#anchor"><span class="hs-identifier hs-var">anchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180221"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span>        </span><span id="local-6989586621681180216"><span class="annot"><span class="annottext">an :: EpAnn NameAnn
</span><a href="#local-6989586621681180216"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180217"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameAdornment
-&gt; EpaLocation
-&gt; EpaLocation
-&gt; EpaLocation
-&gt; [TrailingAnn]
-&gt; NameAnn
</span><a href="GHC.Parser.Annotation.html#NameAnn"><span class="hs-identifier hs-var">NameAnn</span></a></span><span> </span><span class="annot"><span class="annottext">NameAdornment
</span><a href="GHC.Parser.Annotation.html#NameParens"><span class="hs-identifier hs-var">NameParens</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180220"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-var">EpaSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180222"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180219"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681180224"><span class="hs-identifier hs-var">ta</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180223"><span class="hs-identifier hs-var">csp</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180218"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-983"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn NameAnn
</span><a href="#local-6989586621681180216"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681180217"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-984"></span><span>
</span><span id="line-985"></span><span class="hs-comment">-- | Yield a parse error if we have a function applied directly to a do block</span><span>
</span><span id="line-986"></span><span class="hs-comment">-- etc. and BlockArguments is not enabled.</span><span>
</span><span id="line-987"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-type">checkExpBlockArguments</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-988"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier hs-type">checkCmdBlockArguments</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-989"></span><span class="hs-special">(</span><span id="checkExpBlockArguments"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span></span><span class="hs-special">,</span><span> </span><span id="checkCmdBlockArguments"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
LHsCmd GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier hs-var">checkCmdBlockArguments</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="#local-6989586621681180200"><span class="hs-identifier hs-var">checkExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV ()
</span><a href="#local-6989586621681180199"><span class="hs-identifier hs-var">checkCmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-990"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-991"></span><span>    </span><span class="annot"><a href="#local-6989586621681180200"><span class="hs-identifier hs-type">checkExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-992"></span><span>    </span><span id="local-6989586621681180200"><span class="annot"><span class="annottext">checkExpr :: LHsExpr GhcPs -&gt; PV ()
</span><a href="#local-6989586621681180200"><span class="hs-identifier hs-var hs-var">checkExpr</span></a></span></span><span> </span><span id="local-6989586621681180198"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-993"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span class="annot"><span class="annottext">XDo GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DoExpr"><span class="hs-identifier hs-type">DoExpr</span></a></span><span> </span><span id="local-6989586621681180195"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681180195"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs [ExprLStmt GhcPs]
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrDoInFunAppExpr"><span class="hs-identifier hs-var">PsErrDoInFunAppExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681180195"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>     </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-994"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span class="annot"><span class="annottext">XDo GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MDoExpr"><span class="hs-identifier hs-type">MDoExpr</span></a></span><span> </span><span id="local-6989586621681180191"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681180191"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs [ExprLStmt GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrMDoInFunAppExpr"><span class="hs-identifier hs-var">PsErrMDoInFunAppExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681180191"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-995"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrLambdaInFunAppExpr"><span class="hs-identifier hs-var">PsErrLambdaInFunAppExpr</span></a></span><span>     </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-996"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCase"><span class="hs-identifier hs-type">HsCase</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrCaseInFunAppExpr"><span class="hs-identifier hs-var">PsErrCaseInFunAppExpr</span></a></span><span>       </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-997"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLamCase"><span class="hs-identifier hs-type">HsLamCase</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrLambdaCaseInFunAppExpr"><span class="hs-identifier hs-var">PsErrLambdaCaseInFunAppExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-998"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-type">HsLet</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrLetInFunAppExpr"><span class="hs-identifier hs-var">PsErrLetInFunAppExpr</span></a></span><span>        </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-999"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsIf"><span class="hs-identifier hs-type">HsIf</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIfInFunAppExpr"><span class="hs-identifier hs-var">PsErrIfInFunAppExpr</span></a></span><span>         </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1000"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsProc"><span class="hs-identifier hs-type">HsProc</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrProcInFunAppExpr"><span class="hs-identifier hs-var">PsErrProcInFunAppExpr</span></a></span><span>       </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681180198"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1001"></span><span>      </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1002"></span><span>
</span><span id="line-1003"></span><span>    </span><span class="annot"><a href="#local-6989586621681180199"><span class="hs-identifier hs-type">checkCmd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1004"></span><span>    </span><span id="local-6989586621681180199"><span class="annot"><span class="annottext">checkCmd :: LHsCmd GhcPs -&gt; PV ()
</span><a href="#local-6989586621681180199"><span class="hs-identifier hs-var hs-var">checkCmd</span></a></span></span><span> </span><span id="local-6989586621681180177"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681180177"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681180177"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1005"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdLam"><span class="hs-identifier hs-type">HsCmdLam</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrLambdaCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrLambdaCmdInFunAppCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681180177"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1006"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdCase"><span class="hs-identifier hs-type">HsCmdCase</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrCaseCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrCaseCmdInFunAppCmd</span></a></span><span>   </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681180177"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1007"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdIf"><span class="hs-identifier hs-type">HsCmdIf</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIfCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrIfCmdInFunAppCmd</span></a></span><span>     </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681180177"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1008"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdLet"><span class="hs-identifier hs-type">HsCmdLet</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrLetCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrLetCmdInFunAppCmd</span></a></span><span>    </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681180177"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1009"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdDo"><span class="hs-identifier hs-type">HsCmdDo</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrDoCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrDoCmdInFunAppCmd</span></a></span><span>     </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681180177"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1010"></span><span>      </span><span class="annot"><span class="annottext">HsCmd GhcPs
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1011"></span><span>
</span><span id="line-1012"></span><span>    </span><span id="local-6989586621681180194"><span class="annot"><span class="annottext">check :: (GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681180194"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span id="local-6989586621681180159"><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc
</span><a href="#local-6989586621681180159"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span id="local-6989586621681180158"><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e
</span><a href="#local-6989586621681180158"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1013"></span><span>      </span><span id="local-6989586621681180157"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180157"><span class="hs-identifier hs-var">blockArguments</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#BlockArgumentsBit"><span class="hs-identifier hs-var">BlockArgumentsBit</span></a></span><span>
</span><span id="line-1014"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180157"><span class="hs-identifier hs-var">blockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1015"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e -&gt; PsErrorDesc
</span><a href="#local-6989586621681180159"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e
</span><a href="#local-6989586621681180158"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e
</span><a href="#local-6989586621681180158"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1016"></span><span>
</span><span id="line-1017"></span><span class="hs-comment">-- | Validate the context constraints and break up a context into a list</span><span>
</span><span id="line-1018"></span><span class="hs-comment">-- of predicates.</span><span>
</span><span id="line-1019"></span><span class="hs-comment">--</span><span>
</span><span id="line-1020"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1021"></span><span class="hs-comment">--     (Eq a, Ord b)        --&gt;  [Eq a, Ord b]</span><span>
</span><span id="line-1022"></span><span class="hs-comment">--     Eq a                 --&gt;  [Eq a]</span><span>
</span><span id="line-1023"></span><span class="hs-comment">--     (Eq a)               --&gt;  [Eq a]</span><span>
</span><span id="line-1024"></span><span class="hs-comment">--     (((Eq a)))           --&gt;  [Eq a]</span><span>
</span><span id="line-1025"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1026"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkContext"><span class="hs-identifier hs-type">checkContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1027"></span><span id="checkContext"><span class="annot"><span class="annottext">checkContext :: LHsType GhcPs -&gt; P (LHsContext GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkContext"><span class="hs-identifier hs-var hs-var">checkContext</span></a></span></span><span> </span><span id="local-6989586621681180155"><span class="annot"><span class="annottext">orig_t :: LHsType GhcPs
</span><a href="#local-6989586621681180155"><span class="hs-identifier hs-var">orig_t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-type">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180154"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180154"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180153"><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621681180153"><span class="hs-identifier hs-var">_orig_t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1028"></span><span>  </span><span class="annot"><span class="annottext">([EpaLocation], [EpaLocation], EpAnnComments)
-&gt; LHsType GhcPs -&gt; P (LHsContext GhcPs)
</span><a href="#local-6989586621681180152"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180155"><span class="hs-identifier hs-var">orig_t</span></a></span><span>
</span><span id="line-1029"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1030"></span><span>  </span><span class="annot"><a href="#local-6989586621681180152"><span class="hs-identifier hs-type">check</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1031"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1032"></span><span>  </span><span id="local-6989586621681180152"><span class="annot"><span class="annottext">check :: ([EpaLocation], [EpaLocation], EpAnnComments)
-&gt; LHsType GhcPs -&gt; P (LHsContext GhcPs)
</span><a href="#local-6989586621681180152"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180151"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180151"><span class="hs-identifier hs-var">oparens</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180150"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180150"><span class="hs-identifier hs-var">cparens</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180149"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180149"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180148"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180148"><span class="hs-identifier hs-var">_l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span id="local-6989586621681180147"><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><a href="#local-6989586621681180147"><span class="hs-identifier hs-var">ann'</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="Language.Haskell.Syntax.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span id="local-6989586621681180146"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681180146"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1033"></span><span>    </span><span class="hs-comment">-- (Eq a, Ord b) shows up as a tuple type. Only boxed tuples can</span><span>
</span><span id="line-1034"></span><span>    </span><span class="hs-comment">-- be used as context constraints.</span><span>
</span><span id="line-1035"></span><span>    </span><span class="hs-comment">-- Ditto ()</span><span>
</span><span id="line-1036"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1037"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180145"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180145"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180144"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180144"><span class="hs-identifier hs-var">cp</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180143"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180143"><span class="hs-identifier hs-var">cs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><a href="#local-6989586621681180147"><span class="hs-identifier hs-var">ann'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1038"></span><span>              </span><span class="annot"><span class="annottext">EpAnn AnnParen
XTupleTy GhcPs
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1039"></span><span>              </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="annot"><span class="annottext">ParenType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180142"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180142"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681180141"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180141"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180140"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180140"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180142"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180141"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180140"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1040"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180154"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1041"></span><span>                              </span><span class="hs-comment">-- Append parens so that the original order in the source is maintained</span><span>
</span><span id="line-1042"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (IsUnicodeSyntax, EpaLocation)
-&gt; [EpaLocation] -&gt; [EpaLocation] -&gt; AnnContext
</span><a href="GHC.Parser.Annotation.html#AnnContext"><span class="hs-identifier hs-var">AnnContext</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180151"><span class="hs-identifier hs-var">oparens</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180145"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180144"><span class="hs-identifier hs-var">cp</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180150"><span class="hs-identifier hs-var">cparens</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180149"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180143"><span class="hs-identifier hs-var">cs'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180154"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681180146"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1043"></span><span>
</span><span id="line-1044"></span><span>  </span><span class="annot"><a href="#local-6989586621681180152"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180138"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180138"><span class="hs-identifier hs-var">opi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180137"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180137"><span class="hs-identifier hs-var">cpi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180136"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180136"><span class="hs-identifier hs-var">csi</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180135"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180135"><span class="hs-identifier hs-var">_lp1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span id="local-6989586621681180134"><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681180134"><span class="hs-identifier hs-var">ann'</span></a></span></span><span> </span><span id="local-6989586621681180133"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180133"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1045"></span><span>                                  </span><span class="hs-comment">-- to be sure HsParTy doesn't get into the way</span><span>
</span><span id="line-1046"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1047"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180132"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180132"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180131"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180131"><span class="hs-identifier hs-var">cp</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180130"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180130"><span class="hs-identifier hs-var">cs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681180134"><span class="hs-identifier hs-var">ann'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1048"></span><span>                    </span><span class="annot"><span class="annottext">EpAnn AnnParen
XParTy GhcPs
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1049"></span><span>                    </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="annot"><span class="annottext">ParenType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180129"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180129"><span class="hs-identifier hs-var">open</span></a></span></span><span> </span><span id="local-6989586621681180128"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180128"><span class="hs-identifier hs-var">close</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180127"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180127"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180129"><span class="hs-identifier hs-var">open</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180128"><span class="hs-identifier hs-var">close</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180127"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1050"></span><span>        </span><span class="annot"><span class="annottext">([EpaLocation], [EpaLocation], EpAnnComments)
-&gt; LHsType GhcPs -&gt; P (LHsContext GhcPs)
</span><a href="#local-6989586621681180152"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180132"><span class="hs-identifier hs-var">op</span></a></span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180138"><span class="hs-identifier hs-var">opi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180131"><span class="hs-identifier hs-var">cp</span></a></span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180137"><span class="hs-identifier hs-var">cpi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180130"><span class="hs-identifier hs-var">cs'</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180136"><span class="hs-identifier hs-var">csi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180133"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1051"></span><span>
</span><span id="line-1052"></span><span>  </span><span class="hs-comment">-- No need for anns, returning original</span><span>
</span><span id="line-1053"></span><span>  </span><span class="annot"><a href="#local-6989586621681180152"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681180126"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180126"><span class="hs-identifier hs-var">_opi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180125"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681180125"><span class="hs-identifier hs-var">_cpi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180124"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180124"><span class="hs-identifier hs-var">_csi</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180123"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180123"><span class="hs-identifier hs-var">_t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1054"></span><span>                 </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180154"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (IsUnicodeSyntax, EpaLocation)
-&gt; [EpaLocation] -&gt; [EpaLocation] -&gt; AnnContext
</span><a href="GHC.Parser.Annotation.html#AnnContext"><span class="hs-identifier hs-var">AnnContext</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681180154"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681180155"><span class="hs-identifier hs-var">orig_t</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1055"></span><span>
</span><span id="line-1056"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportDecl"><span class="hs-identifier hs-type">checkImportDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span>
</span><span id="line-1057"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span>
</span><span id="line-1058"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1059"></span><span id="checkImportDecl"><span class="annot"><span class="annottext">checkImportDecl :: Maybe EpaLocation -&gt; Maybe EpaLocation -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkImportDecl"><span class="hs-identifier hs-var hs-var">checkImportDecl</span></a></span></span><span> </span><span id="local-6989586621681180122"><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681180122"><span class="hs-identifier hs-var">mPre</span></a></span></span><span> </span><span id="local-6989586621681180121"><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681180121"><span class="hs-identifier hs-var">mPost</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1060"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180118"><span class="annot"><span class="annottext">whenJust :: Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621681180118"><span class="hs-identifier hs-var hs-var">whenJust</span></a></span></span><span> </span><span id="local-6989586621681180117"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621681180117"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span id="local-6989586621681180116"><span class="annot"><span class="annottext">a -&gt; f ()
</span><a href="#local-6989586621681180116"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; f ()
</span><a href="#local-6989586621681180116"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621681180117"><span class="hs-identifier hs-var">mg</span></a></span><span>
</span><span id="line-1061"></span><span>
</span><span id="line-1062"></span><span>  </span><span id="local-6989586621681180114"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180114"><span class="hs-identifier hs-var">importQualifiedPostEnabled</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#ImportQualifiedPostBit"><span class="hs-identifier hs-var">ImportQualifiedPostBit</span></a></span><span>
</span><span id="line-1063"></span><span>
</span><span id="line-1064"></span><span>  </span><span class="hs-comment">-- Error if 'qualified' found in postpositive position and</span><span>
</span><span id="line-1065"></span><span>  </span><span class="hs-comment">-- 'ImportQualifiedPost' is not in effect.</span><span>
</span><span id="line-1066"></span><span>  </span><span class="annot"><span class="annottext">forall {f :: * -&gt; *} {a}.
Applicative f =&gt;
Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621681180118"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681180121"><span class="hs-identifier hs-var">mPost</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681180112"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180112"><span class="hs-identifier hs-var">post</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1067"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180114"><span class="hs-identifier hs-var">importQualifiedPostEnabled</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1068"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failOpNotEnabledImportQualifiedPost"><span class="hs-identifier hs-var">failOpNotEnabledImportQualifiedPost</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpaLocation -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#epaLocationRealSrcSpan"><span class="hs-identifier hs-var">epaLocationRealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180112"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1069"></span><span>
</span><span id="line-1070"></span><span>  </span><span class="hs-comment">-- Error if 'qualified' occurs in both pre and postpositive</span><span>
</span><span id="line-1071"></span><span>  </span><span class="hs-comment">-- positions.</span><span>
</span><span id="line-1072"></span><span>  </span><span class="annot"><span class="annottext">forall {f :: * -&gt; *} {a}.
Applicative f =&gt;
Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621681180118"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681180121"><span class="hs-identifier hs-var">mPost</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681180110"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180110"><span class="hs-identifier hs-var">post</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1073"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681180122"><span class="hs-identifier hs-var">mPre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1074"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failOpImportQualifiedTwice"><span class="hs-identifier hs-var">failOpImportQualifiedTwice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpaLocation -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#epaLocationRealSrcSpan"><span class="hs-identifier hs-var">epaLocationRealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180110"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1075"></span><span>
</span><span id="line-1076"></span><span>  </span><span class="hs-comment">-- Warn if 'qualified' found in prepositive position and</span><span>
</span><span id="line-1077"></span><span>  </span><span class="hs-comment">-- 'Opt_WarnPrepositiveQualifiedModule' is enabled.</span><span>
</span><span id="line-1078"></span><span>  </span><span class="annot"><span class="annottext">forall {f :: * -&gt; *} {a}.
Applicative f =&gt;
Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621681180118"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681180122"><span class="hs-identifier hs-var">mPre</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681180109"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180109"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1079"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier hs-var">warnPrepositiveQualifiedModule</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpaLocation -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#epaLocationRealSrcSpan"><span class="hs-identifier hs-var">epaLocationRealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180109"><span class="hs-identifier hs-var">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1080"></span><span>
</span><span id="line-1081"></span><span class="hs-comment">-- -------------------------------------------------------------------------</span><span>
</span><span id="line-1082"></span><span class="hs-comment">-- Checking Patterns.</span><span>
</span><span id="line-1083"></span><span>
</span><span id="line-1084"></span><span class="hs-comment">-- We parse patterns as expressions and check for valid patterns below,</span><span>
</span><span id="line-1085"></span><span class="hs-comment">-- converting the expression into a pattern at the same time.</span><span>
</span><span id="line-1086"></span><span>
</span><span id="line-1087"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier hs-type">checkPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1088"></span><span id="checkPattern"><span class="annot"><span class="annottext">checkPattern :: LocatedA (PatBuilder GhcPs) -&gt; P (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier hs-var hs-var">checkPattern</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var">runPV</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span>
</span><span id="line-1089"></span><span>
</span><span id="line-1090"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern_hints"><span class="hs-identifier hs-type">checkPattern_hints</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Errors.html#Hint"><span class="hs-identifier hs-type">Hint</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1091"></span><span id="checkPattern_hints"><span class="annot"><span class="annottext">checkPattern_hints :: [Hint] -&gt; PV (LocatedA (PatBuilder GhcPs)) -&gt; P (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPattern_hints"><span class="hs-identifier hs-var hs-var">checkPattern_hints</span></a></span></span><span> </span><span id="local-6989586621681180107"><span class="annot"><span class="annottext">[Hint]
</span><a href="#local-6989586621681180107"><span class="hs-identifier hs-var">hints</span></a></span></span><span> </span><span id="local-6989586621681180106"><span class="annot"><span class="annottext">PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681180106"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [Hint] -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_hints"><span class="hs-identifier hs-var">runPV_hints</span></a></span><span> </span><span class="annot"><span class="annottext">[Hint]
</span><a href="#local-6989586621681180107"><span class="hs-identifier hs-var">hints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681180106"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1092"></span><span>
</span><span id="line-1093"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-type">checkLPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1094"></span><span id="checkLPat"><span class="annot"><span class="annottext">checkLPat :: LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var hs-var">checkLPat</span></a></span></span><span> </span><span id="local-6989586621681180104"><span class="annot"><span class="annottext">e :: LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180104"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180103"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180103"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [HsPatSigType GhcPs]
-&gt; [LPat GhcPs]
-&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180103"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180104"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1095"></span><span>
</span><span id="line-1096"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-type">checkPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsPatSigType"><span class="hs-identifier hs-type">HsPatSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1097"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1098"></span><span id="checkPat"><span class="annot"><span class="annottext">checkPat :: SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [HsPatSigType GhcPs]
-&gt; [LPat GhcPs]
-&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var hs-var">checkPat</span></a></span></span><span> </span><span id="local-6989586621681180101"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180101"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180100"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180100"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681180099"><span class="annot"><span class="annottext">e :: PatBuilder GhcPs
</span><a href="#local-6989586621681180099"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180097"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180097"><span class="hs-identifier hs-var">ln</span></a></span></span><span> </span><span id="local-6989586621681180096"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180096"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180095"><span class="annot"><span class="annottext">[HsPatSigType GhcPs]
</span><a href="#local-6989586621681180095"><span class="hs-identifier hs-var">tyargs</span></a></span></span><span> </span><span id="local-6989586621681180094"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180094"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-1099"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180096"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180101"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1100"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-comment">-- AZ: where should this come from?</span><span>
</span><span id="line-1101"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180097"><span class="hs-identifier hs-var">ln</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180096"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1102"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyarg arg rec.
[tyarg] -&gt; [arg] -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[HsPatSigType GhcPs]
</span><a href="#local-6989586621681180095"><span class="hs-identifier hs-var">tyargs</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180094"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1103"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-1104"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[HsPatSigType GhcPs]
</span><a href="#local-6989586621681180095"><span class="hs-identifier hs-var">tyargs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1105"></span><span>      </span><span class="annot"><span class="annottext">forall a. Hint -&gt; PV a -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#add_hint"><span class="hs-identifier hs-var">add_hint</span></a></span><span> </span><span class="annot"><span class="annottext">Hint
</span><a href="GHC.Parser.Errors.html#TypeApplicationsInPatternsOnlyDataCons"><span class="hs-identifier hs-var">TypeApplicationsInPatternsOnlyDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1106"></span><span>      </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180100"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681180099"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsPatSigType GhcPs
</span><a href="#local-6989586621681180084"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681180084"><span class="annot"><span class="annottext">HsPatSigType GhcPs
</span><a href="#local-6989586621681180084"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[HsPatSigType GhcPs]
</span><a href="#local-6989586621681180095"><span class="hs-identifier hs-var">tyargs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1107"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180094"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#patIsRec"><span class="hs-identifier hs-var">patIsRec</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180096"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1108"></span><span>      </span><span class="annot"><span class="annottext">forall a. Hint -&gt; PV a -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#add_hint"><span class="hs-identifier hs-var">add_hint</span></a></span><span> </span><span class="annot"><span class="annottext">Hint
</span><a href="GHC.Parser.Errors.html#SuggestRecursiveDo"><span class="hs-identifier hs-var">SuggestRecursiveDo</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1109"></span><span>      </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180100"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681180099"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1110"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621681180081"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180081"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderAppType"><span class="hs-identifier hs-type">PatBuilderAppType</span></a></span><span> </span><span id="local-6989586621681180079"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180079"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681180078"><span class="annot"><span class="annottext">HsPatSigType GhcPs
</span><a href="#local-6989586621681180078"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180077"><span class="annot"><span class="annottext">[HsPatSigType GhcPs]
</span><a href="#local-6989586621681180077"><span class="hs-identifier hs-var">tyargs</span></a></span></span><span> </span><span id="local-6989586621681180076"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180076"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1111"></span><span>  </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [HsPatSigType GhcPs]
-&gt; [LPat GhcPs]
-&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180081"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180079"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsPatSigType GhcPs
</span><a href="#local-6989586621681180078"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[HsPatSigType GhcPs]
</span><a href="#local-6989586621681180077"><span class="hs-identifier hs-var">tyargs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180076"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1112"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621681180075"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180075"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderApp"><span class="hs-identifier hs-type">PatBuilderApp</span></a></span><span> </span><span id="local-6989586621681180073"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180073"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681180072"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180072"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621681180071"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180071"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1113"></span><span>  </span><span id="local-6989586621681180070"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681180070"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180072"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1114"></span><span>  </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [HsPatSigType GhcPs]
-&gt; [LPat GhcPs]
-&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180075"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180073"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681180070"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681180071"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1115"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621681180069"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180069"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180068"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180068"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681180067"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681180067"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1116"></span><span>  </span><span id="local-6989586621681180066"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681180066"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; PV (Pat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkAPat"><span class="hs-identifier hs-var">checkAPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180069"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681180067"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1117"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180068"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681180066"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1118"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621681180064"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180064"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180063"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180063"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">[HsPatSigType GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180064"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180063"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1119"></span><span>
</span><span id="line-1120"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkAPat"><span class="hs-identifier hs-type">checkAPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1121"></span><span id="checkAPat"><span class="annot"><span class="annottext">checkAPat :: SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; PV (Pat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkAPat"><span class="hs-identifier hs-var hs-var">checkAPat</span></a></span></span><span> </span><span id="local-6989586621681180062"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180062"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681180061"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681180061"><span class="hs-identifier hs-var">e0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1122"></span><span> </span><span id="local-6989586621681180060"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180060"><span class="hs-identifier hs-var">nPlusKPatterns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#NPlusKPatternsBit"><span class="hs-identifier hs-var">NPlusKPatternsBit</span></a></span><span>
</span><span id="line-1123"></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681180061"><span class="hs-identifier hs-var">e0</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1124"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-type">PatBuilderPat</span></a></span><span> </span><span id="local-6989586621681180057"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681180057"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681180057"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-1125"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span id="local-6989586621681180056"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180056"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XVarPat p -&gt; LIdP p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#VarPat"><span class="hs-identifier hs-var">VarPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180056"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1126"></span><span>
</span><span id="line-1127"></span><span>   </span><span class="hs-comment">-- Overloaded numeric patterns (e.g. f 0 x = x)</span><span>
</span><span id="line-1128"></span><span>   </span><span class="hs-comment">-- Negation is recorded separately, so that the literal is zero or +ve</span><span>
</span><span id="line-1129"></span><span>   </span><span class="hs-comment">-- NB. Negative *primitive* literals are already handled by the lexer</span><span>
</span><span id="line-1130"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621681180053"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681180053"><span class="hs-identifier hs-var">pos_lit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (HsOverLit GhcPs)
-&gt; Maybe (SyntaxExpr GhcPs) -&gt; EpAnn [AddEpAnn] -&gt; Pat GhcPs
</span><a href="GHC.Hs.Utils.html#mkNPat"><span class="hs-identifier hs-var">mkNPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180062"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681180053"><span class="hs-identifier hs-var">pos_lit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1131"></span><span>
</span><span id="line-1132"></span><span>   </span><span class="hs-comment">-- n+k patterns</span><span>
</span><span id="line-1133"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span>
</span><span id="line-1134"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180050"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180050"><span class="hs-identifier hs-var">nloc</span></a></span></span><span> </span><span id="local-6989586621681180049"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180049"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1135"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180048"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180048"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681180047"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180047"><span class="hs-identifier hs-var">plus</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1136"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180046"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180046"><span class="hs-identifier hs-var">lloc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621681180045"><span class="annot"><span class="annottext">lit :: HsOverLit GhcPs
</span><a href="#local-6989586621681180045"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#OverLit"><span class="hs-identifier hs-type">OverLit</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">ol_val :: forall p. HsOverLit p -&gt; OverLitVal
</span><a href="Language.Haskell.Syntax.Lit.html#ol_val"><span class="hs-identifier hs-var">ol_val</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsIntegral"><span class="hs-identifier hs-type">HsIntegral</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1137"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681180041"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180041"><span class="hs-identifier hs-var">anc</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180040"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180040"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1138"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681180060"><span class="hs-identifier hs-var">nPlusKPatterns</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180047"><span class="hs-identifier hs-var">plus</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Parser.PostProcess.html#plus_RDR"><span class="hs-identifier hs-var">plus_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1139"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; Located (HsOverLit GhcPs) -&gt; EpAnn EpaLocation -&gt; Pat GhcPs
</span><a href="GHC.Hs.Utils.html#mkNPlusKPat"><span class="hs-identifier hs-var">mkNPlusKPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180050"><span class="hs-identifier hs-var">nloc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180049"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180046"><span class="hs-identifier hs-var">lloc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681180045"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1140"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681180041"><span class="hs-identifier hs-var">anc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcAnn ann -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#epaLocationFromSrcAnn"><span class="hs-identifier hs-var">epaLocationFromSrcAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180048"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681180040"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1141"></span><span>
</span><span id="line-1142"></span><span>   </span><span class="hs-comment">-- Improve error messages for the @-operator when the user meant an @-pattern</span><span>
</span><span id="line-1143"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681180036"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180036"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#opIsAt"><span class="hs-identifier hs-var">opIsAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180036"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1144"></span><span>     </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrAtInPatPos"><span class="hs-identifier hs-var">PsErrAtInPatPos</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681180036"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1145"></span><span>     </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XWildPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#WildPat"><span class="hs-identifier hs-var">WildPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1146"></span><span>
</span><span id="line-1147"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span id="local-6989586621681180032"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180032"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180031"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180031"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span id="local-6989586621681180030"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180030"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681180029"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180029"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681180028"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180028"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-1148"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180030"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1149"></span><span>         </span><span id="local-6989586621681180027"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681180027"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180032"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1150"></span><span>         </span><span id="local-6989586621681180026"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681180026"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180029"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1151"></span><span>         </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1152"></span><span>           </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681180028"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-1153"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681180031"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681180030"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1154"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyarg arg rec. arg -&gt; arg -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681180027"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681180026"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1155"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-1156"></span><span>
</span><span id="line-1157"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderPar"><span class="hs-identifier hs-type">PatBuilderPar</span></a></span><span> </span><span id="local-6989586621681180024"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180024"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681180023"><span class="annot"><span class="annottext">an :: AnnParen
</span><a href="#local-6989586621681180023"><span class="hs-identifier hs-var">an</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span id="local-6989586621681180022"><span class="annot"><span class="annottext">ParenType
</span><a href="#local-6989586621681180022"><span class="hs-identifier hs-var">pt</span></a></span></span><span> </span><span id="local-6989586621681180021"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180021"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681180020"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180020"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1158"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681180019"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180019"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681180018"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681180018"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681180024"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1159"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681180017"><span class="annot"><span class="annottext">aa :: [AddEpAnn]
</span><a href="#local-6989586621681180017"><span class="hs-identifier hs-var hs-var">aa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnnKeywordId -&gt; EpaLocation -&gt; AddEpAnn
</span><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-var">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="#local-6989586621681180016"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180021"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnKeywordId -&gt; EpaLocation -&gt; AddEpAnn
</span><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-var">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="#local-6989586621681180015"><span class="hs-identifier hs-var">ac</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681180020"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1160"></span><span>         </span><span class="hs-special">(</span><span id="local-6989586621681180016"><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="#local-6989586621681180016"><span class="hs-identifier hs-var">ai</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681180015"><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="#local-6989586621681180015"><span class="hs-identifier hs-var">ac</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParenType -&gt; (AnnKeywordId, AnnKeywordId)
</span><a href="GHC.Parser.Annotation.html#parenTypeKws"><span class="hs-identifier hs-var">parenTypeKws</span></a></span><span> </span><span class="annot"><span class="annottext">ParenType
</span><a href="#local-6989586621681180022"><span class="hs-identifier hs-var">pt</span></a></span><span>
</span><span id="line-1161"></span><span>     </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XParPat p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#ParPat"><span class="hs-identifier hs-var">ParPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddEpAnn] -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#widenSpan"><span class="hs-identifier hs-var">widenSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180019"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681180017"><span class="hs-identifier hs-var">aa</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnParen
</span><a href="#local-6989586621681180023"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180019"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681180018"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1162"></span><span>   </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681180062"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681180061"><span class="hs-identifier hs-var">e0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1163"></span><span>
</span><span id="line-1164"></span><span id="local-6989586621681181877"><span class="annot"><a href="GHC.Parser.PostProcess.html#placeHolderPunRhs"><span class="hs-identifier hs-type">placeHolderPunRhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181877"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181877"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1165"></span><span class="hs-comment">-- The RHS of a punned record field will be filled in by the renamer</span><span>
</span><span id="line-1166"></span><span class="hs-comment">-- It's better not to make it an error, in case we want to print it when</span><span>
</span><span id="line-1167"></span><span class="hs-comment">-- debugging</span><span>
</span><span id="line-1168"></span><span id="placeHolderPunRhs"><span class="annot"><span class="annottext">placeHolderPunRhs :: forall b. DisambECP b =&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#placeHolderPunRhs"><span class="hs-identifier hs-var hs-var">placeHolderPunRhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b.
DisambECP b =&gt;
GenLocated SrcSpanAnnN RdrName -&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#mkHsVarPV"><span class="hs-identifier hs-var">mkHsVarPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a an. a -&gt; LocatedAn an a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Parser.PostProcess.html#pun_RDR"><span class="hs-identifier hs-var">pun_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1169"></span><span>
</span><span id="line-1170"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#plus_RDR"><span class="hs-identifier hs-type">plus_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pun_RDR"><span class="hs-identifier hs-type">pun_RDR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1171"></span><span id="plus_RDR"><span class="annot"><span class="annottext">plus_RDR :: RdrName
</span><a href="GHC.Parser.PostProcess.html#plus_RDR"><span class="hs-identifier hs-var hs-var">plus_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;+&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Hack</span><span>
</span><span id="line-1172"></span><span id="pun_RDR"><span class="annot"><span class="annottext">pun_RDR :: RdrName
</span><a href="GHC.Parser.PostProcess.html#pun_RDR"><span class="hs-identifier hs-var hs-var">pun_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pun-right-hand-side&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1173"></span><span>
</span><span id="line-1174"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPatField"><span class="hs-identifier hs-type">checkPatField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1175"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1176"></span><span id="checkPatField"><span class="annot"><span class="annottext">checkPatField :: LHsRecField GhcPs (LocatedA (PatBuilder GhcPs))
-&gt; PV (LHsRecField GhcPs (LPat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkPatField"><span class="hs-identifier hs-var hs-var">checkPatField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179998"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179998"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179997"><span class="annot"><span class="annottext">HsRecField' (FieldOcc GhcPs) (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179997"><span class="hs-identifier hs-var">fld</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681179996"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681179996"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id arg. HsRecField' id arg -&gt; arg
</span><a href="Language.Haskell.Syntax.Pat.html#hsRecFieldArg"><span class="hs-identifier hs-var">hsRecFieldArg</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecField' (FieldOcc GhcPs) (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179997"><span class="hs-identifier hs-var">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1177"></span><span>                             </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179998"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsRecField' (FieldOcc GhcPs) (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179997"><span class="hs-identifier hs-var">fld</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsRecFieldArg :: GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#hsRecFieldArg"><span class="hs-identifier hs-var">hsRecFieldArg</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681179996"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1178"></span><span>
</span><span id="line-1179"></span><span id="local-6989586621681181887"><span class="annot"><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-type">patFail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181887"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1180"></span><span id="patFail"><span class="annot"><span class="annottext">patFail :: forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var hs-var">patFail</span></a></span></span><span> </span><span id="local-6989586621681179993"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179993"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681179992"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681179992"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrParseErrorInPat"><span class="hs-identifier hs-var">PsErrParseErrorInPat</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681179992"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179993"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-1181"></span><span>
</span><span id="line-1182"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#patIsRec"><span class="hs-identifier hs-type">patIsRec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1183"></span><span id="patIsRec"><span class="annot"><span class="annottext">patIsRec :: RdrName -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#patIsRec"><span class="hs-identifier hs-var hs-var">patIsRec</span></a></span></span><span> </span><span id="local-6989586621681179990"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179990"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179990"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rec&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1184"></span><span>
</span><span id="line-1185"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-1186"></span><span class="hs-comment">-- Check Equation Syntax</span><span>
</span><span id="line-1187"></span><span>
</span><span id="line-1188"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier hs-type">checkValDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1189"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1190"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1191"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1192"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1193"></span><span>
</span><span id="line-1194"></span><span id="checkValDef"><span class="annot"><span class="annottext">checkValDef :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; Maybe (AddEpAnn, LHsType GhcPs)
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier hs-var hs-var">checkValDef</span></a></span></span><span> </span><span id="local-6989586621681179989"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179989"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681179988"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179988"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681179987"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681179987"><span class="hs-identifier hs-var">sigAnn</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681179986"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179986"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179985"><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681179985"><span class="hs-identifier hs-var">grhss</span></a></span></span><span>
</span><span id="line-1195"></span><span>        </span><span class="hs-comment">-- x :: ty = rhs  parses as a *pattern* binding</span><span>
</span><span id="line-1196"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681179984"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681179984"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var">runPV</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall b.
DisambECP b =&gt;
SrcSpanAnnA
-&gt; LocatedA b -&gt; LHsType GhcPs -&gt; [AddEpAnn] -&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#mkHsTySigPV"><span class="hs-identifier hs-var">mkHsTySigPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e1 e2.
Semigroup a =&gt;
GenLocated (SrcAnn a) e1 -&gt; GenLocated (SrcAnn a) e2 -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineLocsA"><span class="hs-identifier hs-var">combineLocsA</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179988"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179986"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179988"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179986"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681179987"><span class="hs-identifier hs-var">sigAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1197"></span><span>                        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span>
</span><span id="line-1198"></span><span>       </span><span class="annot"><span class="annottext">SrcSpan
-&gt; [AddEpAnn]
-&gt; LPat GhcPs
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var">checkPatBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179989"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681179984"><span class="hs-identifier hs-var">lhs'</span></a></span><span> </span><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681179985"><span class="hs-identifier hs-var">grhss</span></a></span><span>
</span><span id="line-1199"></span><span>
</span><span id="line-1200"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier hs-var">checkValDef</span></a></span><span> </span><span id="local-6989586621681179980"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179980"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681179979"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179979"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (AddEpAnn, LHsType GhcPs)
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span id="local-6989586621681179978"><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681179978"><span class="hs-identifier hs-var">g</span></a></span></span><span>
</span><span id="line-1201"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681179977"><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder GhcPs)], [AddEpAnn])
</span><a href="#local-6989586621681179977"><span class="hs-identifier hs-var">mb_fun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
-&gt; P (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder GhcPs)], [AddEpAnn]))
</span><a href="GHC.Parser.PostProcess.html#isFunLhs"><span class="hs-identifier hs-var">isFunLhs</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179979"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1202"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder GhcPs)], [AddEpAnn])
</span><a href="#local-6989586621681179977"><span class="hs-identifier hs-var">mb_fun</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1203"></span><span>            </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681179975"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179975"><span class="hs-identifier hs-var">fun</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681179974"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681179974"><span class="hs-identifier hs-var">is_infix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681179973"><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681179973"><span class="hs-identifier hs-var">pats</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681179972"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179972"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1204"></span><span>              </span><span class="annot"><span class="annottext">SrcStrictness
-&gt; SrcSpan
-&gt; [AddEpAnn]
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LexicalFixity
-&gt; [LocatedA (PatBuilder GhcPs)]
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkFunBind"><span class="hs-identifier hs-var">checkFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179980"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179972"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-1205"></span><span>                           </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179975"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681179974"><span class="hs-identifier hs-var">is_infix</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681179973"><span class="hs-identifier hs-var">pats</span></a></span><span> </span><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681179978"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-1206"></span><span>            </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder GhcPs)], [AddEpAnn])
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1207"></span><span>              </span><span id="local-6989586621681179970"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681179970"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; P (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier hs-var">checkPattern</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179979"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1208"></span><span>              </span><span class="annot"><span class="annottext">SrcSpan
-&gt; [AddEpAnn]
-&gt; LPat GhcPs
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var">checkPatBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179980"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681179970"><span class="hs-identifier hs-var">lhs'</span></a></span><span> </span><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681179978"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1209"></span><span>
</span><span id="line-1210"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkFunBind"><span class="hs-identifier hs-type">checkFunBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a></span><span>
</span><span id="line-1211"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1212"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1213"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1214"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a></span><span>
</span><span id="line-1215"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1216"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1217"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1218"></span><span id="checkFunBind"><span class="annot"><span class="annottext">checkFunBind :: SrcStrictness
-&gt; SrcSpan
-&gt; [AddEpAnn]
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LexicalFixity
-&gt; [LocatedA (PatBuilder GhcPs)]
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkFunBind"><span class="hs-identifier hs-var hs-var">checkFunBind</span></a></span></span><span> </span><span id="local-6989586621681179969"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681179969"><span class="hs-identifier hs-var">strictness</span></a></span></span><span> </span><span id="local-6989586621681179968"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179968"><span class="hs-identifier hs-var">locF</span></a></span></span><span> </span><span id="local-6989586621681179967"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179967"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681179966"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179966"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621681179965"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681179965"><span class="hs-identifier hs-var">is_infix</span></a></span></span><span> </span><span id="local-6989586621681179964"><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681179964"><span class="hs-identifier hs-var">pats</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179963"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681179963"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1219"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span id="local-6989586621681179962"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681179962"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. [Hint] -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_hints"><span class="hs-identifier hs-var">runPV_hints</span></a></span><span> </span><span class="annot"><span class="annottext">[Hint]
</span><a href="#local-6989586621681179961"><span class="hs-identifier hs-var">param_hints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681179964"><span class="hs-identifier hs-var">pats</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1220"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179960"><span class="annot"><span class="annottext">match_span :: SrcSpanAnnA
</span><a href="#local-6989586621681179960"><span class="hs-identifier hs-var hs-var">match_span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179968"><span class="hs-identifier hs-var">locF</span></a></span><span>
</span><span id="line-1221"></span><span>        </span><span id="local-6989586621681179959"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179959"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179968"><span class="hs-identifier hs-var">locF</span></a></span><span>
</span><span id="line-1222"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var">makeFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179966"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179960"><span class="hs-identifier hs-var">match_span</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1223"></span><span>                 </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179960"><span class="hs-identifier hs-var">match_span</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179968"><span class="hs-identifier hs-var">locF</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179967"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179959"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1224"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext (NoGhcTc GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span>
</span><span id="line-1225"></span><span>                                          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179966"><span class="hs-identifier hs-var">fun</span></a></span><span>
</span><span id="line-1226"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681179965"><span class="hs-identifier hs-var">is_infix</span></a></span><span>
</span><span id="line-1227"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="Language.Haskell.Syntax.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681179969"><span class="hs-identifier hs-var">strictness</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1228"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681179962"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1229"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681179963"><span class="hs-identifier hs-var">grhss</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1230"></span><span>        </span><span class="hs-comment">-- The span of the match covers the entire equation.</span><span>
</span><span id="line-1231"></span><span>        </span><span class="hs-comment">-- That isn't quite right, but it'll do for now.</span><span>
</span><span id="line-1232"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1233"></span><span>    </span><span id="local-6989586621681179961"><span class="annot"><span class="annottext">param_hints :: [Hint]
</span><a href="#local-6989586621681179961"><span class="hs-identifier hs-var hs-var">param_hints</span></a></span></span><span>
</span><span id="line-1234"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681179965"><span class="hs-identifier hs-var">is_infix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">RdrName -&gt; Hint
</span><a href="GHC.Parser.Errors.html#SuggestInfixBindMaybeAtPat"><span class="hs-identifier hs-var">SuggestInfixBindMaybeAtPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179966"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1235"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1236"></span><span>
</span><span id="line-1237"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-type">makeFunBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1238"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1239"></span><span class="hs-comment">-- Like GHC.Hs.Utils.mkFunBind, but we need to be able to set the fixity too</span><span>
</span><span id="line-1240"></span><span id="makeFunBind"><span class="annot"><span class="annottext">makeFunBind :: GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var hs-var">makeFunBind</span></a></span></span><span> </span><span id="local-6989586621681179957"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179957"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621681179956"><span class="annot"><span class="annottext">LocatedL [LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681179956"><span class="hs-identifier hs-var">ms</span></a></span></span><span>
</span><span id="line-1241"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_ext :: XFunBind GhcPs GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#fun_ext"><span class="hs-identifier hs-var">fun_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1242"></span><span>              </span><span class="annot"><span class="annottext">fun_id :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179957"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1243"></span><span>              </span><span class="annot"><span class="annottext">fun_matches :: MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedL [LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681179956"><span class="hs-identifier hs-var">ms</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1244"></span><span>              </span><span class="annot"><span class="annottext">fun_tick :: [CoreTickish]
</span><a href="Language.Haskell.Syntax.Binds.html#fun_tick"><span class="hs-identifier hs-var">fun_tick</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1245"></span><span>
</span><span id="line-1246"></span><span class="hs-comment">-- See Note [FunBind vs PatBind]</span><span>
</span><span id="line-1247"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-type">checkPatBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1248"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1249"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1250"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1251"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1252"></span><span id="checkPatBind"><span class="annot"><span class="annottext">checkPatBind :: SrcSpan
-&gt; [AddEpAnn]
-&gt; LPat GhcPs
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var hs-var">checkPatBind</span></a></span></span><span> </span><span id="local-6989586621681179953"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179953"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681179952"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179952"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#BangPat"><span class="hs-identifier hs-type">BangPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179950"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179950"><span class="hs-identifier hs-var">ans</span></a></span></span><span> </span><span id="local-6989586621681179949"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179949"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#VarPat"><span class="hs-identifier hs-type">VarPat</span></a></span><span> </span><span class="annot"><span class="annottext">XVarPat GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179948"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681179948"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1253"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179947"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179947"><span class="hs-identifier hs-var">_match_span</span></a></span></span><span> </span><span id="local-6989586621681179946"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681179946"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1254"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var">makeFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681179948"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179953"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1255"></span><span>                </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179953"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
-&gt; LIdP GhcPs
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179945"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179953"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179950"><span class="hs-identifier hs-var">ans</span></a></span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179952"><span class="hs-identifier hs-var">annsIn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179949"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681179948"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1256"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1257"></span><span>    </span><span id="local-6989586621681179945"><span class="annot"><span class="annottext">m :: EpAnn [AddEpAnn]
-&gt; LIdP GhcPs
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179945"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681179944"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179944"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681179943"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681179943"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179944"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1258"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext (NoGhcTc GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681179943"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1259"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span>
</span><span id="line-1260"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="Language.Haskell.Syntax.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#SrcStrict"><span class="hs-identifier hs-var">SrcStrict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1261"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1262"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681179946"><span class="hs-identifier hs-var">grhss</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1263"></span><span>
</span><span id="line-1264"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var">checkPatBind</span></a></span><span> </span><span id="local-6989586621681179941"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179941"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681179940"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179940"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span> </span><span id="local-6989586621681179939"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681179939"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179938"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681179938"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1265"></span><span>  </span><span id="local-6989586621681179937"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179937"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179941"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-1266"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall idL idR.
XPatBind idL idR
-&gt; LPat idL
-&gt; GRHSs idR (LHsExpr idR)
-&gt; ([CoreTickish], [[CoreTickish]])
-&gt; HsBindLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-var">PatBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179941"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179940"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179937"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681179939"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681179938"><span class="hs-identifier hs-var">grhss</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1267"></span><span>
</span><span id="line-1268"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier hs-type">checkValSigLhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1269"></span><span id="checkValSigLhs"><span class="annot"><span class="annottext">checkValSigLhs :: LHsExpr GhcPs -&gt; P (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier hs-var hs-var">checkValSigLhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179935"><span class="annot"><span class="annottext">lrdr :: LIdP GhcPs
</span><a href="#local-6989586621681179935"><span class="hs-identifier hs-var">lrdr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179934"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179934"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1270"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier hs-var">isUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179934"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1271"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-var">isDataOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179934"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1272"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681179935"><span class="hs-identifier hs-var">lrdr</span></a></span><span>
</span><span id="line-1273"></span><span>
</span><span id="line-1274"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier hs-var">checkValSigLhs</span></a></span><span> </span><span id="local-6989586621681179933"><span class="annot"><span class="annottext">lhs :: LHsExpr GhcPs
</span><a href="#local-6989586621681179933"><span class="hs-identifier hs-var">lhs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179932"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179932"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1275"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrInvalidTypeSignature"><span class="hs-identifier hs-var">PsErrInvalidTypeSignature</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179933"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179932"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1276"></span><span>
</span><span id="line-1277"></span><span id="local-6989586621681181855"><span id="local-6989586621681181856"><span id="local-6989586621681181857"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-type">checkDoAndIfThenElse</span></a></span><span>
</span><span id="line-1278"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181857"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181856"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181855"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1279"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681181857"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681181856"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681181855"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.html#PsErrorDesc"><span class="hs-identifier hs-type">PsErrorDesc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1280"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181857"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181856"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181855"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1281"></span><span id="checkDoAndIfThenElse"><span class="annot"><span class="annottext">checkDoAndIfThenElse :: forall a b c.
(Outputable a, Outputable b, Outputable c) =&gt;
(a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsErrorDesc)
-&gt; LocatedA a -&gt; Bool -&gt; LocatedA b -&gt; Bool -&gt; LocatedA c -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-var hs-var">checkDoAndIfThenElse</span></a></span></span><span> </span><span id="local-6989586621681179921"><span class="annot"><span class="annottext">a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsErrorDesc
</span><a href="#local-6989586621681179921"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span id="local-6989586621681179920"><span class="annot"><span class="annottext">LocatedA a
</span><a href="#local-6989586621681179920"><span class="hs-identifier hs-var">guardExpr</span></a></span></span><span> </span><span id="local-6989586621681179919"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179919"><span class="hs-identifier hs-var">semiThen</span></a></span></span><span> </span><span id="local-6989586621681179918"><span class="annot"><span class="annottext">LocatedA b
</span><a href="#local-6989586621681179918"><span class="hs-identifier hs-var">thenExpr</span></a></span></span><span> </span><span id="local-6989586621681179917"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179917"><span class="hs-identifier hs-var">semiElse</span></a></span></span><span> </span><span id="local-6989586621681179916"><span class="annot"><span class="annottext">LocatedA c
</span><a href="#local-6989586621681179916"><span class="hs-identifier hs-var">elseExpr</span></a></span></span><span>
</span><span id="line-1282"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179919"><span class="hs-identifier hs-var">semiThen</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179917"><span class="hs-identifier hs-var">semiElse</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1283"></span><span>      </span><span id="local-6989586621681179915"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179915"><span class="hs-identifier hs-var">doAndIfThenElse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#DoAndIfThenElseBit"><span class="hs-identifier hs-var">DoAndIfThenElseBit</span></a></span><span>
</span><span id="line-1284"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179913"><span class="annot"><span class="annottext">e :: PsErrorDesc
</span><a href="#local-6989586621681179913"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsErrorDesc
</span><a href="#local-6989586621681179921"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA a
</span><a href="#local-6989586621681179920"><span class="hs-identifier hs-var">guardExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1285"></span><span>                    </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179919"><span class="hs-identifier hs-var">semiThen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA b
</span><a href="#local-6989586621681179918"><span class="hs-identifier hs-var">thenExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1286"></span><span>                    </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179917"><span class="hs-identifier hs-var">semiElse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA c
</span><a href="#local-6989586621681179916"><span class="hs-identifier hs-var">elseExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1287"></span><span>          </span><span id="local-6989586621681179912"><span class="annot"><span class="annottext">loc :: SrcSpan
</span><a href="#local-6989586621681179912"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. Located a -&gt; Located b -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineLocs"><span class="hs-identifier hs-var">combineLocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. LocatedAn a e -&gt; Located e
</span><a href="GHC.Parser.Annotation.html#reLoc"><span class="hs-identifier hs-var">reLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA a
</span><a href="#local-6989586621681179920"><span class="hs-identifier hs-var">guardExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. LocatedAn a e -&gt; Located e
</span><a href="GHC.Parser.Annotation.html#reLoc"><span class="hs-identifier hs-var">reLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA c
</span><a href="#local-6989586621681179916"><span class="hs-identifier hs-var">elseExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1288"></span><span>
</span><span id="line-1289"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179915"><span class="hs-identifier hs-var">doAndIfThenElse</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="#local-6989586621681179913"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179912"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1290"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1291"></span><span>
</span><span id="line-1292"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#isFunLhs"><span class="hs-identifier hs-type">isFunLhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1293"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1294"></span><span>                   </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1295"></span><span class="hs-comment">-- A variable binding is parsed as a FunBind.</span><span>
</span><span id="line-1296"></span><span class="hs-comment">-- Just (fun, is_infix, arg_pats) if e is a function LHS</span><span>
</span><span id="line-1297"></span><span id="isFunLhs"><span class="annot"><span class="annottext">isFunLhs :: LocatedA (PatBuilder GhcPs)
-&gt; P (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder GhcPs)], [AddEpAnn]))
</span><a href="GHC.Parser.PostProcess.html#isFunLhs"><span class="hs-identifier hs-var hs-var">isFunLhs</span></a></span></span><span> </span><span id="local-6989586621681179909"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179909"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {p}.
Monad m =&gt;
LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681179908"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179909"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1298"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1299"></span><span>   </span><span id="local-6989586621681179908"><span class="annot"><span class="annottext">go :: LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681179908"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179900"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179900"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681179899"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179899"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179898"><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179898"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621681179897"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179897"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681179896"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179896"><span class="hs-identifier hs-var">cps</span></a></span></span><span>
</span><span id="line-1300"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179899"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179900"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179899"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179898"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179897"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179896"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1301"></span><span>   </span><span class="annot"><a href="#local-6989586621681179908"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderApp"><span class="hs-identifier hs-type">PatBuilderApp</span></a></span><span> </span><span id="local-6989586621681179895"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179895"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681179894"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179894"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179893"><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179893"><span class="hs-identifier hs-var">es</span></a></span></span><span>       </span><span id="local-6989586621681179892"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179892"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681179891"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179891"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681179908"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179895"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179894"><span class="hs-identifier hs-var">e</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179893"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179892"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179891"><span class="hs-identifier hs-var">cps</span></a></span><span>
</span><span id="line-1302"></span><span>   </span><span class="annot"><a href="#local-6989586621681179908"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179890"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179890"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderPar"><span class="hs-identifier hs-type">PatBuilderPar</span></a></span><span> </span><span id="local-6989586621681179889"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179889"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">AnnParen
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179888"><span class="annot"><span class="annottext">es :: [LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179888"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179887"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179887"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681179886"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179886"><span class="hs-identifier hs-var">cps</span></a></span></span><span>
</span><span id="line-1303"></span><span>                                      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-1304"></span><span>                                          </span><span class="hs-special">(</span><span id="local-6989586621681179885"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681179885"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681179884"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681179884"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; (AddEpAnn, AddEpAnn)
</span><a href="GHC.Parser.Lexer.html#mkParensEpAnn"><span class="hs-identifier hs-var">mkParensEpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179890"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1305"></span><span>                                        </span><span class="hs-keyword">in</span><span>
</span><span id="line-1306"></span><span>                                          </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681179908"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179889"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179888"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681179885"><span class="hs-identifier hs-var">o</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179887"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681179884"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179886"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1307"></span><span>   </span><span class="annot"><a href="#local-6989586621681179908"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179883"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179883"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span id="local-6989586621681179882"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179882"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179881"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179881"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span id="local-6989586621681179880"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179880"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179879"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179879"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681179878"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681179878"><span class="hs-identifier hs-var">loca</span></a></span></span><span> </span><span id="local-6989586621681179877"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179877"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span id="local-6989586621681179876"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179876"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179875"><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179875"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621681179874"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179874"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681179873"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179873"><span class="hs-identifier hs-var">cps</span></a></span></span><span>
</span><span id="line-1308"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179880"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-comment">-- We have found the function!</span><span>
</span><span id="line-1309"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179881"><span class="hs-identifier hs-var">loc'</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179880"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179882"><span class="hs-identifier hs-var">l</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179879"><span class="hs-identifier hs-var">r</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179875"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179877"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179874"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179873"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1310"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                     </span><span class="hs-comment">-- Infix data con; keep going</span><span>
</span><span id="line-1311"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681179872"><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
</span><a href="#local-6989586621681179872"><span class="hs-identifier hs-var">mb_l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681179908"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179882"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179875"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179874"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179873"><span class="hs-identifier hs-var">cps</span></a></span><span>
</span><span id="line-1312"></span><span>             </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
</span><a href="#local-6989586621681179872"><span class="hs-identifier hs-var">mb_l</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1313"></span><span>                 </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681179871"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179871"><span class="hs-identifier hs-var">op'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681179870"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179870"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681179869"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179869"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681179868"><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179868"><span class="hs-identifier hs-var">es'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681179867"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179867"><span class="hs-identifier hs-var">anns'</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1314"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179871"><span class="hs-identifier hs-var">op'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179870"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179866"><span class="hs-identifier hs-var">op_app</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681179868"><span class="hs-identifier hs-var">es'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179867"><span class="hs-identifier hs-var">anns'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1315"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1316"></span><span>                     </span><span id="local-6989586621681179866"><span class="annot"><span class="annottext">op_app :: LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179866"><span class="hs-identifier hs-var hs-var">op_app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179883"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
LocatedA (PatBuilder p)
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LocatedA (PatBuilder p)
-&gt; EpAnn [AddEpAnn]
-&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-var">PatBuilderOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179869"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-1317"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179881"><span class="hs-identifier hs-var">loc'</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179880"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681179879"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681179878"><span class="hs-identifier hs-var">loca</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179874"><span class="hs-identifier hs-var">ops</span></a></span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179873"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179876"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1318"></span><span>                 </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1319"></span><span>   </span><span class="annot"><a href="#local-6989586621681179908"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1320"></span><span>
</span><span id="line-1321"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkBangTy"><span class="hs-identifier hs-type">mkBangTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1322"></span><span id="mkBangTy"><span class="annot"><span class="annottext">mkBangTy :: EpAnn [AddEpAnn] -&gt; SrcStrictness -&gt; LHsType GhcPs -&gt; HsType GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkBangTy"><span class="hs-identifier hs-var hs-var">mkBangTy</span></a></span></span><span> </span><span id="local-6989586621681179865"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179865"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span id="local-6989586621681179864"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681179864"><span class="hs-identifier hs-var">strictness</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1323"></span><span>  </span><span class="annot"><span class="annottext">forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179865"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="GHC.Core.DataCon.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681179864"><span class="hs-identifier hs-var">strictness</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1324"></span><span>
</span><span id="line-1325"></span><span class="hs-comment">-- | Result of parsing @{-\# UNPACK \#-}@ or @{-\# NOUNPACK \#-}@.</span><span>
</span><span id="line-1326"></span><span class="hs-keyword">data</span><span> </span><span id="UnpackednessPragma"><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-var">UnpackednessPragma</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1327"></span><span>  </span><span id="UnpackednessPragma"><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-var">UnpackednessPragma</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a></span><span>
</span><span id="line-1328"></span><span>
</span><span id="line-1329"></span><span class="hs-comment">-- | Annotate a type with either an @{-\# UNPACK \#-}@ or a @{-\# NOUNPACK \#-}@ pragma.</span><span>
</span><span id="line-1330"></span><span id="local-6989586621681181839"><span class="annot"><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier hs-type">addUnpackednessP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181839"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-type">UnpackednessPragma</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681181839"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1331"></span><span id="addUnpackednessP"><span class="annot"><span class="annottext">addUnpackednessP :: forall (m :: * -&gt; *).
MonadP m =&gt;
Located UnpackednessPragma -&gt; LHsType GhcPs -&gt; m (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier hs-var hs-var">addUnpackednessP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179853"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179853"><span class="hs-identifier hs-var">lprag</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-type">UnpackednessPragma</span></a></span><span> </span><span id="local-6989586621681179852"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179852"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span id="local-6989586621681179851"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681179851"><span class="hs-identifier hs-var">prag</span></a></span></span><span> </span><span id="local-6989586621681179850"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621681179850"><span class="hs-identifier hs-var">unpk</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179849"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179849"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1332"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179848"><span class="annot"><span class="annottext">l' :: SrcSpan
</span><a href="#local-6989586621681179848"><span class="hs-identifier hs-var hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179853"><span class="hs-identifier hs-var">lprag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179849"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1333"></span><span>    </span><span id="local-6989586621681179846"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179846"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179848"><span class="hs-identifier hs-var">l'</span></a></span><span>
</span><span id="line-1334"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179845"><span class="annot"><span class="annottext">an :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179845"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179848"><span class="hs-identifier hs-var">l'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179852"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179846"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1335"></span><span>        </span><span id="local-6989586621681179844"><span class="annot"><span class="annottext">t' :: HsType GhcPs
</span><a href="#local-6989586621681179844"><span class="hs-identifier hs-var hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
</span><a href="#local-6989586621681179843"><span class="hs-identifier hs-var">addUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179845"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179849"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1336"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179848"><span class="hs-identifier hs-var">l'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621681179844"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1337"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1338"></span><span>    </span><span class="hs-comment">-- If we have a HsBangTy that only has a strictness annotation,</span><span>
</span><span id="line-1339"></span><span>    </span><span class="hs-comment">-- such as ~T or !T, then add the pragma to the existing HsBangTy.</span><span>
</span><span id="line-1340"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-1341"></span><span>    </span><span class="hs-comment">-- Otherwise, wrap the type in a new HsBangTy constructor.</span><span>
</span><span id="line-1342"></span><span>    </span><span id="local-6989586621681179843"><span class="annot"><span class="annottext">addUnpackedness :: EpAnn [AddEpAnn]
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
</span><a href="#local-6989586621681179843"><span class="hs-identifier hs-var hs-var">addUnpackedness</span></a></span></span><span> </span><span id="local-6989586621681179842"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179842"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-type">HsBangTy</span></a></span><span> </span><span id="local-6989586621681179841"><span class="annot"><span class="annottext">XBangTy GhcPs
</span><a href="#local-6989586621681179841"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681179840"><span class="annot"><span class="annottext">HsSrcBang
</span><a href="#local-6989586621681179840"><span class="hs-identifier hs-var">bang</span></a></span></span><span> </span><span id="local-6989586621681179839"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179839"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1343"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="GHC.Core.DataCon.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a></span><span> </span><span id="local-6989586621681179838"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681179838"><span class="hs-identifier hs-var">strictness</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSrcBang
</span><a href="#local-6989586621681179840"><span class="hs-identifier hs-var">bang</span></a></span><span>
</span><span id="line-1344"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179842"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#epAnnAnns"><span class="hs-identifier hs-var">epAnnAnns</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs
</span><a href="#local-6989586621681179841"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. EpAnn ann -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#epAnnComments"><span class="hs-identifier hs-var">epAnnComments</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs
</span><a href="#local-6989586621681179841"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681179851"><span class="hs-identifier hs-var">prag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621681179850"><span class="hs-identifier hs-var">unpk</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681179838"><span class="hs-identifier hs-var">strictness</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179839"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1345"></span><span>    </span><span class="annot"><a href="#local-6989586621681179843"><span class="hs-identifier hs-var">addUnpackedness</span></a></span><span> </span><span id="local-6989586621681179836"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179836"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681179835"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681179835"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-1346"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179836"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681179851"><span class="hs-identifier hs-var">prag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621681179850"><span class="hs-identifier hs-var">unpk</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681179835"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1347"></span><span>
</span><span id="line-1348"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-1349"></span><span class="hs-comment">-- | Check for monad comprehensions</span><span>
</span><span id="line-1350"></span><span class="hs-comment">--</span><span>
</span><span id="line-1351"></span><span class="hs-comment">-- If the flag MonadComprehensions is set, return a 'MonadComp' context,</span><span>
</span><span id="line-1352"></span><span class="hs-comment">-- otherwise use the usual 'ListComp' context</span><span>
</span><span id="line-1353"></span><span>
</span><span id="line-1354"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkMonadComp"><span class="hs-identifier hs-type">checkMonadComp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1355"></span><span id="checkMonadComp"><span class="annot"><span class="annottext">checkMonadComp :: PV (HsStmtContext GhcRn)
</span><a href="GHC.Parser.PostProcess.html#checkMonadComp"><span class="hs-identifier hs-var hs-var">checkMonadComp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1356"></span><span>    </span><span id="local-6989586621681179834"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179834"><span class="hs-identifier hs-var">monadComprehensions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#MonadComprehensionsBit"><span class="hs-identifier hs-var">MonadComprehensionsBit</span></a></span><span>
</span><span id="line-1357"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179834"><span class="hs-identifier hs-var">monadComprehensions</span></a></span><span>
</span><span id="line-1358"></span><span>                </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall p. HsStmtContext p
</span><a href="Language.Haskell.Syntax.Expr.html#MonadComp"><span class="hs-identifier hs-var">MonadComp</span></a></span><span>
</span><span id="line-1359"></span><span>                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall p. HsStmtContext p
</span><a href="Language.Haskell.Syntax.Expr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a></span><span>
</span><span id="line-1360"></span><span>
</span><span id="line-1361"></span><span class="hs-comment">-- -------------------------------------------------------------------------</span><span>
</span><span id="line-1362"></span><span class="hs-comment">-- Expression/command/pattern ambiguity.</span><span>
</span><span id="line-1363"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1364"></span><span class="hs-comment">--</span><span>
</span><span id="line-1365"></span><span>
</span><span id="line-1366"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1367"></span><span class="hs-comment">--</span><span>
</span><span id="line-1368"></span><span class="hs-comment">-- This newtype is required to avoid impredicative types in monadic</span><span>
</span><span id="line-1369"></span><span class="hs-comment">-- productions. That is, in a production that looks like</span><span>
</span><span id="line-1370"></span><span class="hs-comment">--</span><span>
</span><span id="line-1371"></span><span class="hs-comment">--    | ... {% return (ECP ...) }</span><span>
</span><span id="line-1372"></span><span class="hs-comment">--</span><span>
</span><span id="line-1373"></span><span class="hs-comment">-- we are dealing with</span><span>
</span><span id="line-1374"></span><span class="hs-comment">--    P ECP</span><span>
</span><span id="line-1375"></span><span class="hs-comment">-- whereas without a newtype we would be dealing with</span><span>
</span><span id="line-1376"></span><span class="hs-comment">--    P (forall b. DisambECP b =&gt; PV (Located b))</span><span>
</span><span id="line-1377"></span><span class="hs-comment">--</span><span>
</span><span id="line-1378"></span><span class="hs-keyword">newtype</span><span> </span><span id="ECP"><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1379"></span><span>  </span><span id="ECP"><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unECP"><span class="annot"><span class="annottext">ECP -&gt; forall b. DisambECP b =&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#unECP"><span class="hs-identifier hs-var hs-var">unECP</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681179824"><span class="annot"><a href="#local-6989586621681179824"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179824"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179824"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1380"></span><span>
</span><span id="line-1381"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromExp"><span class="hs-identifier hs-type">ecpFromExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-type">ECP</span></a></span><span>
</span><span id="line-1382"></span><span id="ecpFromExp"><span class="annot"><span class="annottext">ecpFromExp :: LHsExpr GhcPs -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ecpFromExp"><span class="hs-identifier hs-var hs-var">ecpFromExp</span></a></span></span><span> </span><span id="local-6989586621681179823"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179823"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. DisambECP b =&gt; PV (LocatedA b)) -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b. DisambECP b =&gt; LHsExpr GhcPs -&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#ecpFromExp%27"><span class="hs-identifier hs-var">ecpFromExp'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179823"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1383"></span><span>
</span><span id="line-1384"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromCmd"><span class="hs-identifier hs-type">ecpFromCmd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-type">ECP</span></a></span><span>
</span><span id="line-1385"></span><span id="ecpFromCmd"><span class="annot"><span class="annottext">ecpFromCmd :: LHsCmd GhcPs -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ecpFromCmd"><span class="hs-identifier hs-var hs-var">ecpFromCmd</span></a></span></span><span> </span><span id="local-6989586621681179816"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681179816"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. DisambECP b =&gt; PV (LocatedA b)) -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b. DisambECP b =&gt; LHsCmd GhcPs -&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#ecpFromCmd%27"><span class="hs-identifier hs-var">ecpFromCmd'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681179816"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1386"></span><span>
</span><span id="line-1387"></span><span class="hs-comment">-- The 'fbinds' parser rule produces values of this type. See Note</span><span>
</span><span id="line-1388"></span><span class="hs-comment">-- [RecordDotSyntax field updates].</span><span>
</span><span id="line-1389"></span><span class="hs-keyword">type</span><span> </span><span id="Fbind"><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-var">Fbind</span></a></span></span><span> </span><span id="local-6989586621681179809"><span class="annot"><a href="#local-6989586621681179809"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179809"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecProj"><span class="hs-identifier hs-type">LHsRecProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179809"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1390"></span><span>
</span><span id="line-1391"></span><span class="hs-comment">-- | Disambiguate infix operators.</span><span>
</span><span id="line-1392"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1393"></span><span class="hs-keyword">class</span><span> </span><span id="DisambInfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-var">DisambInfixOp</span></a></span></span><span> </span><span id="local-6989586621681181828"><span class="annot"><a href="#local-6989586621681181828"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1394"></span><span>  </span><span id="mkHsVarOpPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsVarOpPV"><span class="hs-identifier hs-type">mkHsVarOpPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181828"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1395"></span><span>  </span><span id="mkHsConOpPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsConOpPV"><span class="hs-identifier hs-type">mkHsConOpPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181828"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1396"></span><span>  </span><span id="mkHsInfixHolePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsInfixHolePV"><span class="hs-identifier hs-type">mkHsInfixHolePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#EpAnnUnboundVar"><span class="hs-identifier hs-type">EpAnnUnboundVar</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181828"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1397"></span><span>
</span><span id="line-1398"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-type">DisambInfixOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1399"></span><span>  </span><span id="local-6989586621681179799"><span class="annot"><span class="annottext">mkHsVarOpPV :: GenLocated SrcSpanAnnN RdrName -&gt; PV (LocatedN (HsExpr GhcPs))
</span><a href="#local-6989586621681179799"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarOpPV</span></a></span></span><span> </span><span id="local-6989586621681179798"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179798"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179798"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XVar p -&gt; LIdP p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179798"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1400"></span><span>  </span><span id="local-6989586621681179796"><span class="annot"><span class="annottext">mkHsConOpPV :: GenLocated SrcSpanAnnN RdrName -&gt; PV (LocatedN (HsExpr GhcPs))
</span><a href="#local-6989586621681179796"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsConOpPV</span></a></span></span><span> </span><span id="local-6989586621681179795"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179795"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179795"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XVar p -&gt; LIdP p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179795"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1401"></span><span>  </span><span id="local-6989586621681179791"><span class="annot"><span class="annottext">mkHsInfixHolePV :: SrcSpan
-&gt; (EpAnnComments -&gt; EpAnn EpAnnUnboundVar)
-&gt; PV (Located (HsExpr GhcPs))
</span><a href="#local-6989586621681179791"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsInfixHolePV</span></a></span></span><span> </span><span id="local-6989586621681179790"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179790"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179789"><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnn EpAnnUnboundVar
</span><a href="#local-6989586621681179789"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1402"></span><span>    </span><span id="local-6989586621681179788"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179788"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179790"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1403"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179790"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnn EpAnnUnboundVar
</span><a href="#local-6989586621681179789"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179788"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1404"></span><span>
</span><span id="line-1405"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-type">DisambInfixOp</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1406"></span><span>  </span><span id="local-6989586621681179781"><span class="annot"><span class="annottext">mkHsConOpPV :: GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681179781"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsConOpPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179780"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179780"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179779"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179779"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179780"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179779"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1407"></span><span>  </span><span id="local-6989586621681179777"><span class="annot"><span class="annottext">mkHsVarOpPV :: GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681179777"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarOpPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179776"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179776"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179775"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179775"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179776"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179775"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1408"></span><span>  </span><span id="local-6989586621681179773"><span class="annot"><span class="annottext">mkHsInfixHolePV :: SrcSpan
-&gt; (EpAnnComments -&gt; EpAnn EpAnnUnboundVar) -&gt; PV (Located RdrName)
</span><a href="#local-6989586621681179773"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsInfixHolePV</span></a></span></span><span> </span><span id="local-6989586621681179772"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179772"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnn EpAnnUnboundVar
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrInvalidInfixHole"><span class="hs-identifier hs-var">PsErrInvalidInfixHole</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179772"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1409"></span><span>
</span><span id="line-1410"></span><span class="hs-keyword">type</span><span> </span><span id="AnnoBody"><span class="annot"><a href="GHC.Parser.PostProcess.html#AnnoBody"><span class="hs-identifier hs-var">AnnoBody</span></a></span></span><span> </span><span id="local-6989586621681179770"><span class="annot"><a href="#local-6989586621681179770"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-1411"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1412"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnL"><span class="hs-identifier hs-type">SrcSpanAnnL</span></a></span><span>
</span><span id="line-1413"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1414"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1415"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1416"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnL"><span class="hs-identifier hs-type">SrcSpanAnnL</span></a></span><span>
</span><span id="line-1417"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1418"></span><span>
</span><span id="line-1419"></span><span class="hs-comment">-- | Disambiguate constructs that may appear when we do not know ahead of time whether we are</span><span>
</span><span id="line-1420"></span><span class="hs-comment">-- parsing an expression, a command, or a pattern.</span><span>
</span><span id="line-1421"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1422"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#AnnoBody"><span class="hs-identifier hs-type">AnnoBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="DisambECP"><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-var">DisambECP</span></a></span></span><span> </span><span id="local-6989586621681181874"><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1423"></span><span>  </span><span class="hs-comment">-- | See Note [Body in DisambECP]</span><span>
</span><span id="line-1424"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span id="local-6989586621681181874"><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-1425"></span><span>  </span><span class="hs-comment">-- | Return a command without ambiguity, or fail in a non-command context.</span><span>
</span><span id="line-1426"></span><span>  </span><span id="ecpFromCmd%27"><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromCmd%27"><span class="hs-identifier hs-type">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1427"></span><span>  </span><span class="hs-comment">-- | Return an expression without ambiguity, or fail in a non-expression context.</span><span>
</span><span id="line-1428"></span><span>  </span><span id="ecpFromExp%27"><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromExp%27"><span class="hs-identifier hs-type">ecpFromExp'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1429"></span><span>  </span><span id="mkHsProjUpdatePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsProjUpdatePV"><span class="hs-identifier hs-type">mkHsProjUpdatePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsFieldLabel"><span class="hs-identifier hs-type">HsFieldLabel</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1430"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecProj"><span class="hs-identifier hs-type">LHsRecProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1431"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;\... -&gt; ...&quot; (lambda)</span><span>
</span><span id="line-1432"></span><span>  </span><span id="mkHsLamPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLamPV"><span class="hs-identifier hs-type">mkHsLamPV</span></a></span></span><span>
</span><span id="line-1433"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1434"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;let ... in ...&quot;</span><span>
</span><span id="line-1435"></span><span>  </span><span id="mkHsLetPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLetPV"><span class="hs-identifier hs-type">mkHsLetPV</span></a></span></span><span>
</span><span id="line-1436"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#AnnsLet"><span class="hs-identifier hs-type">AnnsLet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1437"></span><span>  </span><span class="hs-comment">-- | Infix operator representation</span><span>
</span><span id="line-1438"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span id="local-6989586621681181874"><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-1439"></span><span>  </span><span class="hs-comment">-- | Bring superclass constraints on InfixOp into scope.</span><span>
</span><span id="line-1440"></span><span>  </span><span class="hs-comment">-- See Note [UndecidableSuperClasses for associated types]</span><span>
</span><span id="line-1441"></span><span>  </span><span id="superInfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#superInfixOp"><span class="hs-identifier hs-type">superInfixOp</span></a></span></span><span>
</span><span id="line-1442"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-type">DisambInfixOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-type">InfixOp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1443"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f # x&quot; (infix operator)</span><span>
</span><span id="line-1444"></span><span>  </span><span id="mkHsOpAppPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsOpAppPV"><span class="hs-identifier hs-type">mkHsOpAppPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-type">InfixOp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1445"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1446"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;case ... of ...&quot;</span><span>
</span><span id="line-1447"></span><span>  </span><span id="mkHsCasePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsCasePV"><span class="hs-identifier hs-type">mkHsCasePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1448"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#EpAnnHsCase"><span class="hs-identifier hs-type">EpAnnHsCase</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1449"></span><span>  </span><span id="mkHsLamCasePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLamCasePV"><span class="hs-identifier hs-type">mkHsLamCasePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1450"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1451"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1452"></span><span>  </span><span class="hs-comment">-- | Function argument representation</span><span>
</span><span id="line-1453"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span id="local-6989586621681181874"><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-1454"></span><span>  </span><span class="hs-comment">-- | Bring superclass constraints on FunArg into scope.</span><span>
</span><span id="line-1455"></span><span>  </span><span class="hs-comment">-- See Note [UndecidableSuperClasses for associated types]</span><span>
</span><span id="line-1456"></span><span>  </span><span id="superFunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#superFunArg"><span class="hs-identifier hs-type">superFunArg</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-type">FunArg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1457"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f x&quot; (function application)</span><span>
</span><span id="line-1458"></span><span>  </span><span id="mkHsAppPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppPV"><span class="hs-identifier hs-type">mkHsAppPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-type">FunArg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1459"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f @t&quot; (visible type application)</span><span>
</span><span id="line-1460"></span><span>  </span><span id="mkHsAppTypePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppTypePV"><span class="hs-identifier hs-type">mkHsAppTypePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1461"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;if ... then ... else ...&quot;</span><span>
</span><span id="line-1462"></span><span>  </span><span id="mkHsIfPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsIfPV"><span class="hs-identifier hs-type">mkHsIfPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1463"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1464"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>  </span><span class="hs-comment">-- semicolon?</span><span>
</span><span id="line-1465"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1466"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>  </span><span class="hs-comment">-- semicolon?</span><span>
</span><span id="line-1467"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1468"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#AnnsIf"><span class="hs-identifier hs-type">AnnsIf</span></a></span><span>
</span><span id="line-1469"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1470"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;do { ... }&quot; (do notation)</span><span>
</span><span id="line-1471"></span><span>  </span><span id="mkHsDoPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsDoPV"><span class="hs-identifier hs-type">mkHsDoPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1472"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1473"></span><span>    </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1474"></span><span>    </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1475"></span><span>    </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1476"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1477"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;( ... )&quot; (parentheses)</span><span>
</span><span id="line-1478"></span><span>  </span><span id="mkHsParPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsParPV"><span class="hs-identifier hs-type">mkHsParPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1479"></span><span>  </span><span class="hs-comment">-- | Disambiguate a variable &quot;f&quot; or a data constructor &quot;MkF&quot;.</span><span>
</span><span id="line-1480"></span><span>  </span><span id="mkHsVarPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsVarPV"><span class="hs-identifier hs-type">mkHsVarPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1481"></span><span>  </span><span class="hs-comment">-- | Disambiguate a monomorphic literal</span><span>
</span><span id="line-1482"></span><span>  </span><span id="mkHsLitPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLitPV"><span class="hs-identifier hs-type">mkHsLitPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1483"></span><span>  </span><span class="hs-comment">-- | Disambiguate an overloaded literal</span><span>
</span><span id="line-1484"></span><span>  </span><span id="mkHsOverLitPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsOverLitPV"><span class="hs-identifier hs-type">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsOverLit"><span class="hs-identifier hs-type">HsOverLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1485"></span><span>  </span><span class="hs-comment">-- | Disambiguate a wildcard</span><span>
</span><span id="line-1486"></span><span>  </span><span id="mkHsWildCardPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsWildCardPV"><span class="hs-identifier hs-type">mkHsWildCardPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1487"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;a :: t&quot; (type annotation)</span><span>
</span><span id="line-1488"></span><span>  </span><span id="mkHsTySigPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsTySigPV"><span class="hs-identifier hs-type">mkHsTySigPV</span></a></span></span><span>
</span><span id="line-1489"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1490"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;[a,b,c]&quot; (list syntax)</span><span>
</span><span id="line-1491"></span><span>  </span><span id="mkHsExplicitListPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsExplicitListPV"><span class="hs-identifier hs-type">mkHsExplicitListPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1492"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;$(...)&quot; and &quot;[quasi|...|]&quot; (TH splices)</span><span>
</span><span id="line-1493"></span><span>  </span><span id="mkHsSplicePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsSplicePV"><span class="hs-identifier hs-type">mkHsSplicePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1494"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f { a = b, ... }&quot; syntax (record construction and record updates)</span><span>
</span><span id="line-1495"></span><span>  </span><span id="mkHsRecordPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsRecordPV"><span class="hs-identifier hs-type">mkHsRecordPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1496"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- Is OverloadedRecordUpdate in effect?</span><span>
</span><span id="line-1497"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1498"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1499"></span><span>    </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1500"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-type">Fbind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1501"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1502"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1503"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;-a&quot; (negation)</span><span>
</span><span id="line-1504"></span><span>  </span><span id="mkHsNegAppPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsNegAppPV"><span class="hs-identifier hs-type">mkHsNegAppPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1505"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;(# a)&quot; (right operator section)</span><span>
</span><span id="line-1506"></span><span>  </span><span id="mkHsSectionR_PV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsSectionR_PV"><span class="hs-identifier hs-type">mkHsSectionR_PV</span></a></span></span><span>
</span><span id="line-1507"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-type">InfixOp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1508"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;(a -&gt; b)&quot; (view pattern)</span><span>
</span><span id="line-1509"></span><span>  </span><span id="mkHsViewPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsViewPatPV"><span class="hs-identifier hs-type">mkHsViewPatPV</span></a></span></span><span>
</span><span id="line-1510"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1511"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;a@b&quot; (as-pattern)</span><span>
</span><span id="line-1512"></span><span>  </span><span id="mkHsAsPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAsPatPV"><span class="hs-identifier hs-type">mkHsAsPatPV</span></a></span></span><span>
</span><span id="line-1513"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1514"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;~a&quot; (lazy pattern)</span><span>
</span><span id="line-1515"></span><span>  </span><span id="mkHsLazyPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLazyPatPV"><span class="hs-identifier hs-type">mkHsLazyPatPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1516"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;!a&quot; (bang pattern)</span><span>
</span><span id="line-1517"></span><span>  </span><span id="mkHsBangPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsBangPatPV"><span class="hs-identifier hs-type">mkHsBangPatPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1518"></span><span>  </span><span class="hs-comment">-- | Disambiguate tuple sections and unboxed sums</span><span>
</span><span id="line-1519"></span><span>  </span><span id="mkSumOrTuplePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePV"><span class="hs-identifier hs-type">mkSumOrTuplePV</span></a></span></span><span>
</span><span id="line-1520"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1521"></span><span>  </span><span class="hs-comment">-- | Validate infixexp LHS to reject unwanted {-# SCC ... #-} pragmas</span><span>
</span><span id="line-1522"></span><span>  </span><span id="rejectPragmaPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-type">rejectPragmaPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1523"></span><span>
</span><span id="line-1524"></span><span class="hs-comment">{- Note [UndecidableSuperClasses for associated types]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
(This Note is about the code in GHC, not about the user code that we are parsing)

Assume we have a class C with an associated type T:

  class C a where
    type T a
    ...

If we want to add 'C (T a)' as a superclass, we need -XUndecidableSuperClasses:

  {-# LANGUAGE UndecidableSuperClasses #-}
  class C (T a) =&gt; C a where
    type T a
    ...

Unfortunately, -XUndecidableSuperClasses don't work all that well, sometimes
making GHC loop. The workaround is to bring this constraint into scope
manually with a helper method:

  class C a where
    type T a
    superT :: (C (T a) =&gt; r) -&gt; r

In order to avoid ambiguous types, 'r' must mention 'a'.

For consistency, we use this approach for all constraints on associated types,
even when -XUndecidableSuperClasses are not required.
-}</span><span>
</span><span id="line-1554"></span><span>
</span><span id="line-1555"></span><span class="hs-comment">{- Note [Body in DisambECP]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
There are helper functions (mkBodyStmt, mkBindStmt, unguardedRHS, etc) that
require their argument to take a form of (body GhcPs) for some (body :: Type -&gt;
*). To satisfy this requirement, we say that (b ~ Body b GhcPs) in the
superclass constraints of DisambECP.

The alternative is to change mkBodyStmt, mkBindStmt, unguardedRHS, etc, to drop
this requirement. It is possible and would allow removing the type index of
PatBuilder, but leads to worse type inference, breaking some code in the
typechecker.
-}</span><span>
</span><span id="line-1567"></span><span>
</span><span id="line-1568"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1569"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span>
</span><span id="line-1570"></span><span>  </span><span id="local-6989586621681179694"><span class="annot"><span class="annottext">ecpFromCmd' :: LHsCmd GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179694"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1571"></span><span>  </span><span id="local-6989586621681179690"><span class="annot"><span class="annottext">ecpFromExp' :: LHsExpr GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179690"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromExp'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179689"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179689"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179688"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681179688"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179689"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681179688"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1572"></span><span>  </span><span id="local-6989586621681179685"><span class="annot"><span class="annottext">mkHsProjUpdatePV :: SrcSpan
-&gt; Located [Located (HsFieldLabel GhcPs)]
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; Bool
-&gt; [AddEpAnn]
-&gt; PV (LHsRecProj GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
</span><a href="#local-6989586621681179685"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsProjUpdatePV</span></a></span></span><span> </span><span id="local-6989586621681179684"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179684"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Located [Located (HsFieldLabel GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179684"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1573"></span><span>  </span><span id="local-6989586621681179679"><span class="annot"><span class="annottext">mkHsLamPV :: SrcSpan
-&gt; (EpAnnComments
    -&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179679"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamPV</span></a></span></span><span> </span><span id="local-6989586621681179678"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179678"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179677"><span class="annot"><span class="annottext">EpAnnComments
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179677"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1574"></span><span>    </span><span id="local-6989586621681179676"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179676"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179678"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1575"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179678"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. XCmdLam id -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdLam"><span class="hs-identifier hs-var">HsCmdLam</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#NoExtField"><span class="hs-identifier hs-var">NoExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179677"><span class="hs-identifier hs-var">mg</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179676"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1576"></span><span>  </span><span id="local-6989586621681179671"><span class="annot"><span class="annottext">mkHsLetPV :: SrcSpan
-&gt; HsLocalBinds GhcPs
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; AnnsLet
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179671"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLetPV</span></a></span></span><span> </span><span id="local-6989586621681179670"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179670"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179669"><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681179669"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621681179668"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179668"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681179667"><span class="annot"><span class="annottext">AnnsLet
</span><a href="#local-6989586621681179667"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1577"></span><span>    </span><span id="local-6989586621681179666"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179666"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179670"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1578"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179670"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. XCmdLet id -&gt; HsLocalBinds id -&gt; LHsCmd id -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdLet"><span class="hs-identifier hs-var">HsCmdLet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179670"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnsLet
</span><a href="#local-6989586621681179667"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179666"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681179669"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179668"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1579"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1580"></span><span>  </span><span id="local-6989586621681179663"><span class="annot"><span class="annottext">superInfixOp :: (DisambInfixOp (InfixOp (HsCmd GhcPs)) =&gt;
 PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179663"><span class="hs-identifier hs-var hs-var hs-var hs-var">superInfixOp</span></a></span></span><span> </span><span id="local-6989586621681179662"><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (HsCmd GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179662"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (HsCmd GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179662"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1581"></span><span>  </span><span id="local-6989586621681179650"><span class="annot"><span class="annottext">mkHsOpAppPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; LocatedN (InfixOp (HsCmd GhcPs))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179650"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpAppPV</span></a></span></span><span> </span><span id="local-6989586621681179649"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179649"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179648"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179648"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span id="local-6989586621681179647"><span class="annot"><span class="annottext">LocatedN (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621681179647"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681179646"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179646"><span class="hs-identifier hs-var">c2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1582"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179641"><span class="annot"><span class="annottext">cmdArg :: GenLocated (SrcSpanAnn' a) (HsCmd p)
-&gt; GenLocated SrcSpan (HsCmdTop p)
</span><a href="#local-6989586621681179641"><span class="hs-identifier hs-var hs-var">cmdArg</span></a></span></span><span> </span><span id="local-6989586621681179640"><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsCmd p)
</span><a href="#local-6989586621681179640"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsCmd p)
</span><a href="#local-6989586621681179640"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. XCmdTop p -&gt; LHsCmd p -&gt; HsCmdTop p
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdTop"><span class="hs-identifier hs-var">HsCmdTop</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsCmd p)
</span><a href="#local-6989586621681179640"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1583"></span><span>    </span><span id="local-6989586621681179638"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179638"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179649"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1584"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179649"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall id.
XCmdArrForm id
-&gt; LHsExpr id
-&gt; LexicalFixity
-&gt; Maybe Fixity
-&gt; [LHsCmdTop id]
-&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdArrForm"><span class="hs-identifier hs-var">HsCmdArrForm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179649"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Anchor
-&gt; Maybe AddEpAnn
-&gt; Maybe AddEpAnn
-&gt; [AddEpAnn]
-&gt; [TrailingAnn]
-&gt; AnnList
</span><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-var">AnnList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179638"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall e. LocatedN e -&gt; LocatedA e
</span><a href="GHC.Parser.Annotation.html#reLocL"><span class="hs-identifier hs-var">reLocL</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedN (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621681179647"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall {p} {a}.
(XCmdTop p ~ NoExtField,
 XRec p (HsCmd p) ~ GenLocated (SrcSpanAnn' a) (HsCmd p)) =&gt;
GenLocated (SrcSpanAnn' a) (HsCmd p)
-&gt; GenLocated SrcSpan (HsCmdTop p)
</span><a href="#local-6989586621681179641"><span class="hs-identifier hs-var">cmdArg</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179648"><span class="hs-identifier hs-var">c1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall {p} {a}.
(XCmdTop p ~ NoExtField,
 XRec p (HsCmd p) ~ GenLocated (SrcSpanAnn' a) (HsCmd p)) =&gt;
GenLocated (SrcSpanAnn' a) (HsCmd p)
-&gt; GenLocated SrcSpan (HsCmdTop p)
</span><a href="#local-6989586621681179641"><span class="hs-identifier hs-var">cmdArg</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179646"><span class="hs-identifier hs-var">c2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1585"></span><span>  </span><span id="local-6989586621681179631"><span class="annot"><span class="annottext">mkHsCasePV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; LocatedL [LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
-&gt; EpAnnHsCase
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179631"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsCasePV</span></a></span></span><span> </span><span id="local-6989586621681179630"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179630"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179629"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179629"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179628"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681179628"><span class="hs-identifier hs-var">lm</span></a></span></span><span> </span><span id="local-6989586621681179627"><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681179627"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179626"><span class="annot"><span class="annottext">EpAnnHsCase
</span><a href="#local-6989586621681179626"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1586"></span><span>    </span><span id="local-6989586621681179625"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179625"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179630"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1587"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179624"><span class="annot"><span class="annottext">mg :: MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179624"><span class="hs-identifier hs-var hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681179628"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681179627"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1588"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179630"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id.
XCmdCase id -&gt; LHsExpr id -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdCase"><span class="hs-identifier hs-var">HsCmdCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179630"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnHsCase
</span><a href="#local-6989586621681179626"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179625"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179629"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179624"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1589"></span><span>  </span><span id="local-6989586621681179619"><span class="annot"><span class="annottext">mkHsLamCasePV :: SrcSpan
-&gt; LocatedL [LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179619"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamCasePV</span></a></span></span><span> </span><span id="local-6989586621681179618"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179618"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179617"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681179617"><span class="hs-identifier hs-var">lm</span></a></span></span><span> </span><span id="local-6989586621681179616"><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681179616"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179615"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179615"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1590"></span><span>    </span><span id="local-6989586621681179614"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179614"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179618"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1591"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179613"><span class="annot"><span class="annottext">mg :: MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179613"><span class="hs-identifier hs-var hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681179617"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681179616"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1592"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179618"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. XCmdLamCase id -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdLamCase"><span class="hs-identifier hs-var">HsCmdLamCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179618"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179615"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179614"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179613"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1593"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1594"></span><span>  </span><span id="local-6989586621681179608"><span class="annot"><span class="annottext">superFunArg :: (DisambECP (FunArg (HsCmd GhcPs)) =&gt;
 PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179608"><span class="hs-identifier hs-var hs-var hs-var hs-var">superFunArg</span></a></span></span><span> </span><span id="local-6989586621681179607"><span class="annot"><span class="annottext">DisambECP (FunArg (HsCmd GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179607"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DisambECP (FunArg (HsCmd GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179607"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1595"></span><span>  </span><span id="local-6989586621681179601"><span class="annot"><span class="annottext">mkHsAppPV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; LocatedA (FunArg (HsCmd GhcPs))
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179601"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppPV</span></a></span></span><span> </span><span id="local-6989586621681179600"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179600"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179599"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179599"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681179598"><span class="annot"><span class="annottext">LocatedA (FunArg (HsCmd GhcPs))
</span><a href="#local-6989586621681179598"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1596"></span><span>    </span><span id="local-6989586621681179597"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179597"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179600"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1597"></span><span>    </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier hs-var">checkCmdBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179599"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1598"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (FunArg (HsCmd GhcPs))
</span><a href="#local-6989586621681179598"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1599"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179600"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. XCmdApp id -&gt; LHsCmd id -&gt; LHsExpr id -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdApp"><span class="hs-identifier hs-var">HsCmdApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnnCO
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179600"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179597"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179599"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (FunArg (HsCmd GhcPs))
</span><a href="#local-6989586621681179598"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1600"></span><span>  </span><span id="local-6989586621681179586"><span class="annot"><span class="annottext">mkHsAppTypePV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; SrcSpan
-&gt; LHsType GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179586"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTypePV</span></a></span></span><span> </span><span id="local-6989586621681179585"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179585"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179584"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179584"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179583"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179583"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179585"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179584"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179583"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1601"></span><span>  </span><span id="local-6989586621681179573"><span class="annot"><span class="annottext">mkHsIfPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; AnnsIf
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179573"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsIfPV</span></a></span></span><span> </span><span id="local-6989586621681179572"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179572"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179571"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179571"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681179570"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179570"><span class="hs-identifier hs-var">semi1</span></a></span></span><span> </span><span id="local-6989586621681179569"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179569"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681179568"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179568"><span class="hs-identifier hs-var">semi2</span></a></span></span><span> </span><span id="local-6989586621681179567"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179567"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681179566"><span class="annot"><span class="annottext">AnnsIf
</span><a href="#local-6989586621681179566"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1602"></span><span>    </span><span class="annot"><span class="annottext">forall a b c.
(Outputable a, Outputable b, Outputable c) =&gt;
(a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsErrorDesc)
-&gt; LocatedA a -&gt; Bool -&gt; LocatedA b -&gt; Bool -&gt; LocatedA c -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-var">checkDoAndIfThenElse</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
-&gt; Bool -&gt; HsCmd GhcPs -&gt; Bool -&gt; HsCmd GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrSemiColonsInCondCmd"><span class="hs-identifier hs-var">PsErrSemiColonsInCondCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179571"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179570"><span class="hs-identifier hs-var">semi1</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179569"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179568"><span class="hs-identifier hs-var">semi2</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179567"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1603"></span><span>    </span><span id="local-6989586621681179564"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179564"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179572"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1604"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179572"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs
-&gt; LHsCmd GhcPs -&gt; LHsCmd GhcPs -&gt; EpAnn AnnsIf -&gt; HsCmd GhcPs
</span><a href="GHC.Hs.Utils.html#mkHsCmdIf"><span class="hs-identifier hs-var">mkHsCmdIf</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179571"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179569"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179567"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179572"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnsIf
</span><a href="#local-6989586621681179566"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179564"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1605"></span><span>  </span><span id="local-6989586621681179558"><span class="annot"><span class="annottext">mkHsDoPV :: SrcSpan
-&gt; Maybe ModuleName
-&gt; LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
-&gt; AnnList
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179558"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsDoPV</span></a></span></span><span> </span><span id="local-6989586621681179557"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179557"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span id="local-6989586621681179556"><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681179556"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span id="local-6989586621681179555"><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681179555"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1606"></span><span>    </span><span id="local-6989586621681179554"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179554"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179557"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1607"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179557"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. XCmdDo id -&gt; XRec id [CmdLStmt id] -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdDo"><span class="hs-identifier hs-var">HsCmdDo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179557"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681179555"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179554"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681179556"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1608"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsDoPV"><span class="hs-identifier hs-var">mkHsDoPV</span></a></span><span> </span><span id="local-6989586621681179553"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179553"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681179552"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621681179552"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnList
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrQualifiedDoInCmd"><span class="hs-identifier hs-var">PsErrQualifiedDoInCmd</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621681179552"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179553"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1609"></span><span>  </span><span id="local-6989586621681179547"><span class="annot"><span class="annottext">mkHsParPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; AnnParen
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179547"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsParPV</span></a></span></span><span> </span><span id="local-6989586621681179546"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179546"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179545"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179545"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681179544"><span class="annot"><span class="annottext">AnnParen
</span><a href="#local-6989586621681179544"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1610"></span><span>    </span><span id="local-6989586621681179543"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179543"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179546"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1611"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179546"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall id. XCmdPar id -&gt; LHsCmd id -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdPar"><span class="hs-identifier hs-var">HsCmdPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179546"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnParen
</span><a href="#local-6989586621681179544"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179543"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179545"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1612"></span><span>  </span><span id="local-6989586621681179540"><span class="annot"><span class="annottext">mkHsVarPV :: GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179540"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179539"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179539"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179538"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179538"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179539"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681179538"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1613"></span><span>  </span><span id="local-6989586621681179535"><span class="annot"><span class="annottext">mkHsLitPV :: Located (HsLit GhcPs) -&gt; PV (Located (HsCmd GhcPs))
</span><a href="#local-6989586621681179535"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179534"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179534"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179533"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681179533"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179534"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681179533"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1614"></span><span>  </span><span id="local-6989586621681179529"><span class="annot"><span class="annottext">mkHsOverLitPV :: Located (HsOverLit GhcPs) -&gt; PV (Located (HsCmd GhcPs))
</span><a href="#local-6989586621681179529"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179528"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179528"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179527"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681179527"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179528"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681179527"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1615"></span><span>  </span><span id="local-6989586621681179526"><span class="annot"><span class="annottext">mkHsWildCardPV :: SrcSpan -&gt; PV (Located (HsCmd GhcPs))
</span><a href="#local-6989586621681179526"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsWildCardPV</span></a></span></span><span> </span><span id="local-6989586621681179525"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179525"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179525"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1616"></span><span>  </span><span id="local-6989586621681179518"><span class="annot"><span class="annottext">mkHsTySigPV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179518"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsTySigPV</span></a></span></span><span> </span><span id="local-6989586621681179517"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179517"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179516"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179516"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681179515"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179515"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179517"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179516"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;::&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179515"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1617"></span><span>  </span><span id="local-6989586621681179511"><span class="annot"><span class="annottext">mkHsExplicitListPV :: SrcSpan
-&gt; [GenLocated SrcSpanAnnA (HsCmd GhcPs)]
-&gt; AnnList
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179511"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsExplicitListPV</span></a></span></span><span> </span><span id="local-6989586621681179510"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179510"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179509"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsCmd GhcPs)]
</span><a href="#local-6989586621681179509"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="annot"><span class="annottext">AnnList
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179510"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1618"></span><span>    </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#fsep"><span class="hs-identifier hs-var">fsep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
</span><a href="GHC.Utils.Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsCmd GhcPs)]
</span><a href="#local-6989586621681179509"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1619"></span><span>  </span><span id="local-6989586621681179501"><span class="annot"><span class="annottext">mkHsSplicePV :: Located (HsSplice GhcPs) -&gt; PV (Located (HsCmd GhcPs))
</span><a href="#local-6989586621681179501"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSplicePV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179500"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179500"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179499"><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621681179499"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179500"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621681179499"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1620"></span><span>  </span><span id="local-6989586621681179483"><span class="annot"><span class="annottext">mkHsRecordPV :: Bool
-&gt; SrcSpan
-&gt; SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; ([Fbind (HsCmd GhcPs)], Maybe SrcSpan)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179483"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsRecordPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179482"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179482"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179481"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179481"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681179480"><span class="annot"><span class="annottext">[Fbind (HsCmd GhcPs)]
</span><a href="#local-6989586621681179480"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681179479"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681179479"><span class="hs-identifier hs-var">ddLoc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1621"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681179478"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681179478"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681179477"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldLabelStrings GhcPs) (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681179477"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. [Either a b] -&gt; ([a], [b])
</span><a href="../../base-4.16.4.0/src/Data-Either.html#partitionEithers"><span class="hs-identifier hs-var">partitionEithers</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsCmd GhcPs)]
</span><a href="#local-6989586621681179480"><span class="hs-identifier hs-var">fbinds</span></a></span><span>
</span><span id="line-1622"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldLabelStrings GhcPs) (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681179477"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1623"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179482"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1624"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179482"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179481"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass) arg.
[LocatedA (HsRecField (GhcPass p) arg)]
-&gt; Maybe SrcSpan -&gt; HsRecFields (GhcPass p) arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681179478"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681179479"><span class="hs-identifier hs-var">ddLoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1625"></span><span>  </span><span id="local-6989586621681179471"><span class="annot"><span class="annottext">mkHsNegAppPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179471"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsNegAppPV</span></a></span></span><span> </span><span id="local-6989586621681179470"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179470"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179469"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179469"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179470"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179469"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1626"></span><span>  </span><span id="local-6989586621681179464"><span class="annot"><span class="annottext">mkHsSectionR_PV :: SrcSpan
-&gt; LocatedA (InfixOp (HsCmd GhcPs))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (Located (HsCmd GhcPs))
</span><a href="#local-6989586621681179464"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSectionR_PV</span></a></span></span><span> </span><span id="local-6989586621681179463"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179463"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179462"><span class="annot"><span class="annottext">LocatedA (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621681179462"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681179461"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179461"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179463"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1627"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179460"><span class="annot"><span class="annottext">pp_op :: SDoc
</span><a href="#local-6989586621681179460"><span class="hs-identifier hs-var hs-var">pp_op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cannot print infix operator&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1628"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass).
OutputableBndrId p =&gt;
HsExpr (GhcPass p) -&gt; Maybe SDoc
</span><a href="GHC.Hs.Expr.html#ppr_infix_expr"><span class="hs-identifier hs-var">ppr_infix_expr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621681179462"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1629"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681179460"><span class="hs-identifier hs-var">pp_op</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179461"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1630"></span><span>  </span><span id="local-6989586621681179451"><span class="annot"><span class="annottext">mkHsViewPatPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179451"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsViewPatPV</span></a></span></span><span> </span><span id="local-6989586621681179450"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179450"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179449"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179449"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681179448"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179448"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179450"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1631"></span><span>    </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179449"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179448"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1632"></span><span>  </span><span id="local-6989586621681179443"><span class="annot"><span class="annottext">mkHsAsPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179443"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAsPatPV</span></a></span></span><span> </span><span id="local-6989586621681179442"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179442"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179441"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179441"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681179440"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179440"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179442"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1633"></span><span>    </span><span class="annot"><span class="annottext">forall a. OutputableBndr a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179441"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179440"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1634"></span><span>  </span><span id="local-6989586621681179435"><span class="annot"><span class="annottext">mkHsLazyPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179435"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLazyPatPV</span></a></span></span><span> </span><span id="local-6989586621681179434"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179434"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179433"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179433"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179434"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1635"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;~&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179433"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1636"></span><span>  </span><span id="local-6989586621681179429"><span class="annot"><span class="annottext">mkHsBangPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179429"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsBangPatPV</span></a></span></span><span> </span><span id="local-6989586621681179428"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179428"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179427"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179427"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179428"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1637"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;!&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681179427"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1638"></span><span>  </span><span id="local-6989586621681179424"><span class="annot"><span class="annottext">mkSumOrTuplePV :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681179424"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkSumOrTuplePV</span></a></span></span><span> </span><span id="local-6989586621681179423"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179423"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179422"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681179422"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span id="local-6989586621681179421"><span class="annot"><span class="annottext">SumOrTuple (HsCmd GhcPs)
</span><a href="#local-6989586621681179421"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179423"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b. Outputable b =&gt; Boxity -&gt; SumOrTuple b -&gt; SDoc
</span><a href="GHC.Parser.Types.html#pprSumOrTuple"><span class="hs-identifier hs-var">pprSumOrTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681179422"><span class="hs-identifier hs-var">boxity</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (HsCmd GhcPs)
</span><a href="#local-6989586621681179421"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1639"></span><span>  </span><span id="local-6989586621681179418"><span class="annot"><span class="annottext">rejectPragmaPV :: GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
</span><a href="#local-6989586621681179418"><span class="hs-identifier hs-var hs-var hs-var hs-var">rejectPragmaPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1640"></span><span>
</span><span id="line-1641"></span><span id="local-6989586621681179417"><span class="annot"><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-type">cmdFail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681179417"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1642"></span><span id="cmdFail"><span class="annot"><span class="annottext">cmdFail :: forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var hs-var">cmdFail</span></a></span></span><span> </span><span id="local-6989586621681179415"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179415"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681179414"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681179414"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrParseErrorInCmd"><span class="hs-identifier hs-var">PsErrParseErrorInCmd</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681179414"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179415"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-1643"></span><span>
</span><span id="line-1644"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1645"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span>
</span><span id="line-1646"></span><span>  </span><span id="local-6989586621681179367"><span class="annot"><span class="annottext">ecpFromCmd' :: LHsCmd GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179367"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179366"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179366"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179365"><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621681179365"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1647"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsCmd GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrArrowCmdInExpr"><span class="hs-identifier hs-var">PsErrArrowCmdInExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621681179365"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179366"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1648"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179366"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1649"></span><span>  </span><span id="local-6989586621681179362"><span class="annot"><span class="annottext">ecpFromExp' :: LHsExpr GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179362"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromExp'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1650"></span><span>  </span><span id="local-6989586621681179358"><span class="annot"><span class="annottext">mkHsProjUpdatePV :: SrcSpan
-&gt; Located [Located (HsFieldLabel GhcPs)]
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; Bool
-&gt; [AddEpAnn]
-&gt; PV (LHsRecProj GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681179358"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsProjUpdatePV</span></a></span></span><span> </span><span id="local-6989586621681179357"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179357"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179356"><span class="annot"><span class="annottext">Located [Located (HsFieldLabel GhcPs)]
</span><a href="#local-6989586621681179356"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span id="local-6989586621681179355"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179355"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681179354"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179354"><span class="hs-identifier hs-var">isPun</span></a></span></span><span> </span><span id="local-6989586621681179353"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179353"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1651"></span><span>    </span><span id="local-6989586621681179352"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179352"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179357"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1652"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Located [Located (HsFieldLabel GhcPs)]
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; EpAnn [AddEpAnn]
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-var">mkRdrProjUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179357"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located [Located (HsFieldLabel GhcPs)]
</span><a href="#local-6989586621681179356"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179355"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179354"><span class="hs-identifier hs-var">isPun</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179357"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179353"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179352"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1653"></span><span>  </span><span id="local-6989586621681179347"><span class="annot"><span class="annottext">mkHsLamPV :: SrcSpan
-&gt; (EpAnnComments
    -&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179347"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamPV</span></a></span></span><span> </span><span id="local-6989586621681179346"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179346"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179345"><span class="annot"><span class="annottext">EpAnnComments
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179345"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1654"></span><span>    </span><span id="local-6989586621681179344"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179344"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179346"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1655"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179346"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XLam p -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-var">HsLam</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#NoExtField"><span class="hs-identifier hs-var">NoExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179345"><span class="hs-identifier hs-var">mg</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179344"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1656"></span><span>  </span><span id="local-6989586621681179340"><span class="annot"><span class="annottext">mkHsLetPV :: SrcSpan
-&gt; HsLocalBinds GhcPs
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; AnnsLet
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179340"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLetPV</span></a></span></span><span> </span><span id="local-6989586621681179339"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179339"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179338"><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681179338"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621681179337"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179337"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681179336"><span class="annot"><span class="annottext">AnnsLet
</span><a href="#local-6989586621681179336"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1657"></span><span>    </span><span id="local-6989586621681179335"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179335"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179339"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1658"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179339"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XLet p -&gt; HsLocalBinds p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-var">HsLet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179339"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnsLet
</span><a href="#local-6989586621681179336"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179335"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681179338"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179337"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1659"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1660"></span><span>  </span><span id="local-6989586621681179332"><span class="annot"><span class="annottext">superInfixOp :: (DisambInfixOp (InfixOp (HsExpr GhcPs)) =&gt;
 PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179332"><span class="hs-identifier hs-var hs-var hs-var hs-var">superInfixOp</span></a></span></span><span> </span><span id="local-6989586621681179331"><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (HsExpr GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179331"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (HsExpr GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179331"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1661"></span><span>  </span><span id="local-6989586621681179327"><span class="annot"><span class="annottext">mkHsOpAppPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; LocatedN (InfixOp (HsExpr GhcPs))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179327"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpAppPV</span></a></span></span><span> </span><span id="local-6989586621681179326"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179326"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179325"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179325"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621681179324"><span class="annot"><span class="annottext">LocatedN (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621681179324"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681179323"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179323"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1662"></span><span>    </span><span id="local-6989586621681179322"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179322"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179326"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1663"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179326"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall p.
XOpApp p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-var">OpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179326"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179322"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179325"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall e. LocatedN e -&gt; LocatedA e
</span><a href="GHC.Parser.Annotation.html#reLocL"><span class="hs-identifier hs-var">reLocL</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedN (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621681179324"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179323"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-1664"></span><span>  </span><span id="local-6989586621681179316"><span class="annot"><span class="annottext">mkHsCasePV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; LocatedL [LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
-&gt; EpAnnHsCase
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179316"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsCasePV</span></a></span></span><span> </span><span id="local-6989586621681179315"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179315"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179314"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179314"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179313"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681179313"><span class="hs-identifier hs-var">lm</span></a></span></span><span> </span><span id="local-6989586621681179312"><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681179312"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179311"><span class="annot"><span class="annottext">EpAnnHsCase
</span><a href="#local-6989586621681179311"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1665"></span><span>    </span><span id="local-6989586621681179310"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179310"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179315"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1666"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179309"><span class="annot"><span class="annottext">mg :: MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179309"><span class="hs-identifier hs-var hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681179313"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681179312"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1667"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179315"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
XCase p -&gt; LHsExpr p -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsCase"><span class="hs-identifier hs-var">HsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179315"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnHsCase
</span><a href="#local-6989586621681179311"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179310"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179314"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179309"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1668"></span><span>  </span><span id="local-6989586621681179304"><span class="annot"><span class="annottext">mkHsLamCasePV :: SrcSpan
-&gt; LocatedL [LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179304"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamCasePV</span></a></span></span><span> </span><span id="local-6989586621681179303"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179303"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179302"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681179302"><span class="hs-identifier hs-var">lm</span></a></span></span><span> </span><span id="local-6989586621681179301"><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681179301"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179300"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179300"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1669"></span><span>    </span><span id="local-6989586621681179299"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179299"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179303"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1670"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179298"><span class="annot"><span class="annottext">mg :: MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179298"><span class="hs-identifier hs-var hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681179302"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681179301"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1671"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179303"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XLamCase p -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLamCase"><span class="hs-identifier hs-var">HsLamCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179303"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179300"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179299"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179298"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1672"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1673"></span><span>  </span><span id="local-6989586621681179295"><span class="annot"><span class="annottext">superFunArg :: (DisambECP (FunArg (HsExpr GhcPs)) =&gt;
 PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179295"><span class="hs-identifier hs-var hs-var hs-var hs-var">superFunArg</span></a></span></span><span> </span><span id="local-6989586621681179294"><span class="annot"><span class="annottext">DisambECP (FunArg (HsExpr GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179294"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DisambECP (FunArg (HsExpr GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179294"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1674"></span><span>  </span><span id="local-6989586621681179288"><span class="annot"><span class="annottext">mkHsAppPV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; LocatedA (FunArg (HsExpr GhcPs))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179288"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppPV</span></a></span></span><span> </span><span id="local-6989586621681179287"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179287"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179286"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179286"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621681179285"><span class="annot"><span class="annottext">LocatedA (FunArg (HsExpr GhcPs))
</span><a href="#local-6989586621681179285"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1675"></span><span>    </span><span id="local-6989586621681179284"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179284"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179287"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1676"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179286"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-1677"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (FunArg (HsExpr GhcPs))
</span><a href="#local-6989586621681179285"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-1678"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179287"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XApp p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsApp"><span class="hs-identifier hs-var">HsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnnCO
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179287"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179284"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179286"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (FunArg (HsExpr GhcPs))
</span><a href="#local-6989586621681179285"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1679"></span><span>  </span><span id="local-6989586621681179280"><span class="annot"><span class="annottext">mkHsAppTypePV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; SrcSpan
-&gt; LHsType GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179280"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTypePV</span></a></span></span><span> </span><span id="local-6989586621681179279"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179279"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179278"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179278"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681179277"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179277"><span class="hs-identifier hs-var">la</span></a></span></span><span> </span><span id="local-6989586621681179276"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179276"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1680"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179278"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1681"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179279"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
XAppTypeE p -&gt; LHsExpr p -&gt; LHsWcType (NoGhcTc p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsAppType"><span class="hs-identifier hs-var">HsAppType</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179277"><span class="hs-identifier hs-var">la</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179278"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall thing. thing -&gt; HsWildCardBndrs GhcPs thing
</span><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-var">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179276"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1682"></span><span>  </span><span id="local-6989586621681179265"><span class="annot"><span class="annottext">mkHsIfPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; AnnsIf
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179265"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsIfPV</span></a></span></span><span> </span><span id="local-6989586621681179264"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179264"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179263"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179263"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681179262"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179262"><span class="hs-identifier hs-var">semi1</span></a></span></span><span> </span><span id="local-6989586621681179261"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179261"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681179260"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179260"><span class="hs-identifier hs-var">semi2</span></a></span></span><span> </span><span id="local-6989586621681179259"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179259"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681179258"><span class="annot"><span class="annottext">AnnsIf
</span><a href="#local-6989586621681179258"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1683"></span><span>    </span><span class="annot"><span class="annottext">forall a b c.
(Outputable a, Outputable b, Outputable c) =&gt;
(a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsErrorDesc)
-&gt; LocatedA a -&gt; Bool -&gt; LocatedA b -&gt; Bool -&gt; LocatedA c -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-var">checkDoAndIfThenElse</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
-&gt; Bool -&gt; HsExpr GhcPs -&gt; Bool -&gt; HsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrSemiColonsInCondExpr"><span class="hs-identifier hs-var">PsErrSemiColonsInCondExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179263"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179262"><span class="hs-identifier hs-var">semi1</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179261"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179260"><span class="hs-identifier hs-var">semi2</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179259"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1684"></span><span>    </span><span id="local-6989586621681179256"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179256"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179264"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1685"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179264"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs
-&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; EpAnn AnnsIf -&gt; HsExpr GhcPs
</span><a href="GHC.Hs.Utils.html#mkHsIf"><span class="hs-identifier hs-var">mkHsIf</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179263"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179261"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179259"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179264"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnsIf
</span><a href="#local-6989586621681179258"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179256"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1686"></span><span>  </span><span id="local-6989586621681179251"><span class="annot"><span class="annottext">mkHsDoPV :: SrcSpan
-&gt; Maybe ModuleName
-&gt; LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
-&gt; AnnList
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179251"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsDoPV</span></a></span></span><span> </span><span id="local-6989586621681179250"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179250"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179249"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681179249"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621681179248"><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681179248"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span id="local-6989586621681179247"><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681179247"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1687"></span><span>    </span><span id="local-6989586621681179246"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179246"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179250"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1688"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179250"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
XDo p
-&gt; HsStmtContext (HsDoRn p) -&gt; XRec p [ExprLStmt p] -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-var">HsDo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179250"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681179247"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179246"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Maybe ModuleName -&gt; HsStmtContext p
</span><a href="Language.Haskell.Syntax.Expr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681179249"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681179248"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1689"></span><span>  </span><span id="local-6989586621681179242"><span class="annot"><span class="annottext">mkHsParPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; AnnParen
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179242"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsParPV</span></a></span></span><span> </span><span id="local-6989586621681179241"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179241"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179240"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179240"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681179239"><span class="annot"><span class="annottext">AnnParen
</span><a href="#local-6989586621681179239"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1690"></span><span>    </span><span id="local-6989586621681179238"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179238"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179241"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1691"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179241"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XPar p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsPar"><span class="hs-identifier hs-var">HsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179241"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnParen
</span><a href="#local-6989586621681179239"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179238"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179240"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1692"></span><span>  </span><span id="local-6989586621681179235"><span class="annot"><span class="annottext">mkHsVarPV :: GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179235"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarPV</span></a></span></span><span> </span><span id="local-6989586621681179234"><span class="annot"><span class="annottext">v :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179234"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179233"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179233"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#na2la"><span class="hs-identifier hs-var">na2la</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681179233"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XVar p -&gt; LIdP p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179234"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1693"></span><span>  </span><span id="local-6989586621681179228"><span class="annot"><span class="annottext">mkHsLitPV :: Located (HsLit GhcPs) -&gt; PV (Located (HsExpr GhcPs))
</span><a href="#local-6989586621681179228"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179227"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179227"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179226"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681179226"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1694"></span><span>    </span><span id="local-6989586621681179225"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179225"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179227"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1695"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179227"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XLitE p -&gt; HsLit p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnnCO
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179227"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179225"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681179226"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1696"></span><span>  </span><span id="local-6989586621681179220"><span class="annot"><span class="annottext">mkHsOverLitPV :: Located (HsOverLit GhcPs) -&gt; PV (Located (HsExpr GhcPs))
</span><a href="#local-6989586621681179220"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179219"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179219"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179218"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681179218"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1697"></span><span>    </span><span id="local-6989586621681179217"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179217"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179219"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1698"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179219"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XOverLitE p -&gt; HsOverLit p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsOverLit"><span class="hs-identifier hs-var">HsOverLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnnCO
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179219"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179217"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681179218"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1699"></span><span>  </span><span id="local-6989586621681179214"><span class="annot"><span class="annottext">mkHsWildCardPV :: SrcSpan -&gt; PV (Located (HsExpr GhcPs))
</span><a href="#local-6989586621681179214"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsWildCardPV</span></a></span></span><span> </span><span id="local-6989586621681179213"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179213"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179213"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1700"></span><span>  </span><span id="local-6989586621681179209"><span class="annot"><span class="annottext">mkHsTySigPV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179209"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsTySigPV</span></a></span></span><span> </span><span id="local-6989586621681179208"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179208"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179207"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179207"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681179206"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179206"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span id="local-6989586621681179205"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179205"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1701"></span><span>    </span><span id="local-6989586621681179204"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179204"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179208"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1702"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179208"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
XExprWithTySig p
-&gt; LHsExpr p -&gt; LHsSigWcType (NoGhcTc p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExprWithTySig"><span class="hs-identifier hs-var">ExprWithTySig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179208"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179205"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179204"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179207"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsSigWcType GhcPs
</span><a href="GHC.Hs.Utils.html#hsTypeToHsSigWcType"><span class="hs-identifier hs-var">hsTypeToHsSigWcType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179206"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1703"></span><span>  </span><span id="local-6989586621681179198"><span class="annot"><span class="annottext">mkHsExplicitListPV :: SrcSpan
-&gt; [GenLocated SrcSpanAnnA (HsExpr GhcPs)]
-&gt; AnnList
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179198"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsExplicitListPV</span></a></span></span><span> </span><span id="local-6989586621681179197"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179197"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179196"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsExpr GhcPs)]
</span><a href="#local-6989586621681179196"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621681179195"><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681179195"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1704"></span><span>    </span><span id="local-6989586621681179194"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179194"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179197"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1705"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179197"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XExplicitList p -&gt; [LHsExpr p] -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExplicitList"><span class="hs-identifier hs-var">ExplicitList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179197"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681179195"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179194"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsExpr GhcPs)]
</span><a href="#local-6989586621681179196"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1706"></span><span>  </span><span id="local-6989586621681179189"><span class="annot"><span class="annottext">mkHsSplicePV :: Located (HsSplice GhcPs) -&gt; PV (Located (HsExpr GhcPs))
</span><a href="#local-6989586621681179189"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSplicePV</span></a></span></span><span> </span><span id="local-6989586621681179188"><span class="annot"><span class="annottext">sp :: Located (HsSplice GhcPs)
</span><a href="#local-6989586621681179188"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179187"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179187"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsSplice GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1707"></span><span>    </span><span id="local-6989586621681179186"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179186"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179187"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1708"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b l. (a -&gt; b) -&gt; GenLocated l a -&gt; GenLocated l b
</span><a href="GHC.Types.SrcLoc.html#mapLoc"><span class="hs-identifier hs-var">mapLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XSpliceE p -&gt; HsSplice p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsSpliceE"><span class="hs-identifier hs-var">HsSpliceE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179187"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NoEpAnns
</span><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-var">NoEpAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179186"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located (HsSplice GhcPs)
</span><a href="#local-6989586621681179188"><span class="hs-identifier hs-var">sp</span></a></span><span>
</span><span id="line-1709"></span><span>  </span><span id="local-6989586621681179177"><span class="annot"><span class="annottext">mkHsRecordPV :: Bool
-&gt; SrcSpan
-&gt; SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; ([Fbind (HsExpr GhcPs)], Maybe SrcSpan)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179177"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsRecordPV</span></a></span></span><span> </span><span id="local-6989586621681179176"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179176"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681179175"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179175"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179174"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179174"><span class="hs-identifier hs-var">lrec</span></a></span></span><span> </span><span id="local-6989586621681179173"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179173"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681179172"><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681179172"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681179171"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681179171"><span class="hs-identifier hs-var">ddLoc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681179170"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179170"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1710"></span><span>    </span><span id="local-6989586621681179169"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179169"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179175"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1711"></span><span>    </span><span id="local-6989586621681179168"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681179168"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsExpr GhcPs
-&gt; SrcSpan
-&gt; ([Fbind (HsExpr GhcPs)], Maybe SrcSpan)
-&gt; EpAnn [AddEpAnn]
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-var">mkRecConstrOrUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681179176"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179173"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179174"><span class="hs-identifier hs-var">lrec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681179172"><span class="hs-identifier hs-var">fbinds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681179171"><span class="hs-identifier hs-var">ddLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179175"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179170"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179169"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1712"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(MonadP m, Outputable a) =&gt;
LocatedA a -&gt; m (LocatedA a)
</span><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-var">checkRecordSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179175"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681179168"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1713"></span><span>  </span><span id="local-6989586621681179163"><span class="annot"><span class="annottext">mkHsNegAppPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179163"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsNegAppPV</span></a></span></span><span> </span><span id="local-6989586621681179162"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179162"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179161"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179161"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681179160"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179160"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1714"></span><span>    </span><span id="local-6989586621681179159"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179159"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179162"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1715"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179162"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XNegApp p -&gt; LHsExpr p -&gt; SyntaxExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#NegApp"><span class="hs-identifier hs-var">NegApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179162"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681179160"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179159"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179161"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass). IsPass p =&gt; SyntaxExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1716"></span><span>  </span><span id="local-6989586621681179153"><span class="annot"><span class="annottext">mkHsSectionR_PV :: SrcSpan
-&gt; LocatedA (InfixOp (HsExpr GhcPs))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (Located (HsExpr GhcPs))
</span><a href="#local-6989586621681179153"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSectionR_PV</span></a></span></span><span> </span><span id="local-6989586621681179152"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179152"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179151"><span class="annot"><span class="annottext">LocatedA (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621681179151"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681179150"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179150"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1717"></span><span>    </span><span id="local-6989586621681179149"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179149"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179152"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1718"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179152"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XSectionR p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#SectionR"><span class="hs-identifier hs-var">SectionR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnnCO
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179152"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179149"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621681179151"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179150"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1719"></span><span>  </span><span id="local-6989586621681179144"><span class="annot"><span class="annottext">mkHsViewPatPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179144"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsViewPatPV</span></a></span></span><span> </span><span id="local-6989586621681179143"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179143"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179142"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179142"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681179141"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179141"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrViewPatInExpr"><span class="hs-identifier hs-var">PsErrViewPatInExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179142"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179141"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179143"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1720"></span><span>                          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179143"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1721"></span><span>  </span><span id="local-6989586621681179136"><span class="annot"><span class="annottext">mkHsAsPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179136"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAsPatPV</span></a></span></span><span> </span><span id="local-6989586621681179135"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179135"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179134"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179134"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681179133"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179133"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrTypeAppWithoutSpace"><span class="hs-identifier hs-var">PsErrTypeAppWithoutSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681179134"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179133"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179135"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1722"></span><span>                          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179135"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1723"></span><span>  </span><span id="local-6989586621681179128"><span class="annot"><span class="annottext">mkHsLazyPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179128"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLazyPatPV</span></a></span></span><span> </span><span id="local-6989586621681179127"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179127"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179126"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179126"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrLazyPatWithoutSpace"><span class="hs-identifier hs-var">PsErrLazyPatWithoutSpace</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179126"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179127"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1724"></span><span>                          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179127"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1725"></span><span>  </span><span id="local-6989586621681179121"><span class="annot"><span class="annottext">mkHsBangPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179121"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsBangPatPV</span></a></span></span><span> </span><span id="local-6989586621681179120"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179120"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179119"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179119"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrBangPatWithoutSpace"><span class="hs-identifier hs-var">PsErrBangPatWithoutSpace</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681179119"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179120"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1726"></span><span>                          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179120"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1727"></span><span>  </span><span id="local-6989586621681179117"><span class="annot"><span class="annottext">mkSumOrTuplePV :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681179117"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkSumOrTuplePV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var">mkSumOrTupleExpr</span></a></span><span>
</span><span id="line-1728"></span><span>  </span><span id="local-6989586621681179112"><span class="annot"><span class="annottext">rejectPragmaPV :: GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
</span><a href="#local-6989586621681179112"><span class="hs-identifier hs-var hs-var hs-var hs-var">rejectPragmaPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-type">OpApp</span></a></span><span> </span><span class="annot"><span class="annottext">XOpApp GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179111"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179111"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1729"></span><span>    </span><span class="hs-comment">-- assuming left-associative parsing of operators</span><span>
</span><span id="line-1730"></span><span>    </span><span class="annot"><span class="annottext">forall b. DisambECP b =&gt; LocatedA b -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var">rejectPragmaPV</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681179111"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1731"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var">rejectPragmaPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179110"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179110"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsPragE"><span class="hs-identifier hs-type">HsPragE</span></a></span><span> </span><span class="annot"><span class="annottext">XPragE GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681179108"><span class="annot"><span class="annottext">HsPragE GhcPs
</span><a href="#local-6989586621681179108"><span class="hs-identifier hs-var">prag</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsPragE GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrUnallowedPragma"><span class="hs-identifier hs-var">PsErrUnallowedPragma</span></a></span><span> </span><span class="annot"><span class="annottext">HsPragE GhcPs
</span><a href="#local-6989586621681179108"><span class="hs-identifier hs-var">prag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179110"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1732"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var">rejectPragmaPV</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><span class="hs-identifier">_</span></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1733"></span><span>
</span><span id="line-1734"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-type">hsHoleExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#EpAnnUnboundVar"><span class="hs-identifier hs-type">EpAnnUnboundVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1735"></span><span id="hsHoleExpr"><span class="annot"><span class="annottext">hsHoleExpr :: EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var hs-var">hsHoleExpr</span></a></span></span><span> </span><span id="local-6989586621681179106"><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar
</span><a href="#local-6989586621681179106"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p. XUnboundVar p -&gt; OccName -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsUnboundVar"><span class="hs-identifier hs-var">HsUnboundVar</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar
</span><a href="#local-6989586621681179106"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOcc"><span class="hs-identifier hs-var">mkVarOcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1736"></span><span>
</span><span id="line-1737"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Anno"><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-var">Anno</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1738"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Anno"><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-var">Anno</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnL"><span class="hs-identifier hs-type">SrcSpanAnnL</span></a></span><span>
</span><span id="line-1739"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Anno"><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-var">Anno</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1740"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Anno"><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-var">Anno</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1741"></span><span>
</span><span id="line-1742"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1743"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span>
</span><span id="line-1744"></span><span>  </span><span id="local-6989586621681179060"><span class="annot"><span class="annottext">ecpFromCmd' :: LHsCmd GhcPs -&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179060"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179059"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179059"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179058"><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621681179058"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsCmd GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrArrowCmdInPat"><span class="hs-identifier hs-var">PsErrArrowCmdInPat</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621681179058"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179059"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1745"></span><span>  </span><span id="local-6989586621681179055"><span class="annot"><span class="annottext">ecpFromExp' :: LHsExpr GhcPs -&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179055"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromExp'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681179054"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179054"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179053"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681179053"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrArrowExprInPat"><span class="hs-identifier hs-var">PsErrArrowExprInPat</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681179053"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179054"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1746"></span><span>  </span><span id="local-6989586621681179050"><span class="annot"><span class="annottext">mkHsLamPV :: SrcSpan
-&gt; (EpAnnComments
    -&gt; MatchGroup GhcPs (LocatedA (PatBuilder GhcPs)))
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179050"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamPV</span></a></span></span><span> </span><span id="local-6989586621681179049"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179049"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; MatchGroup GhcPs (LocatedA (PatBuilder GhcPs))
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrLambdaInPat"><span class="hs-identifier hs-var">PsErrLambdaInPat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179049"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1747"></span><span>  </span><span id="local-6989586621681179046"><span class="annot"><span class="annottext">mkHsLetPV :: SrcSpan
-&gt; HsLocalBinds GhcPs
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; AnnsLet
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179046"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLetPV</span></a></span></span><span> </span><span id="local-6989586621681179045"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179045"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnsLet
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrLetInPat"><span class="hs-identifier hs-var">PsErrLetInPat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179045"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1748"></span><span>  </span><span id="local-6989586621681179042"><span class="annot"><span class="annottext">mkHsProjUpdatePV :: SrcSpan
-&gt; Located [Located (HsFieldLabel GhcPs)]
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; Bool
-&gt; [AddEpAnn]
-&gt; PV (LHsRecProj GhcPs (LocatedA (PatBuilder GhcPs)))
</span><a href="#local-6989586621681179042"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsProjUpdatePV</span></a></span></span><span> </span><span id="local-6989586621681179041"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179041"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Located [Located (HsFieldLabel GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179041"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1749"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1750"></span><span>  </span><span id="local-6989586621681179038"><span class="annot"><span class="annottext">superInfixOp :: (DisambInfixOp (InfixOp (PatBuilder GhcPs)) =&gt;
 PV (LocatedA (PatBuilder GhcPs)))
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179038"><span class="hs-identifier hs-var hs-var hs-var hs-var">superInfixOp</span></a></span></span><span> </span><span id="local-6989586621681179037"><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (PatBuilder GhcPs)) =&gt;
PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179037"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (PatBuilder GhcPs)) =&gt;
PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179037"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1751"></span><span>  </span><span id="local-6989586621681179033"><span class="annot"><span class="annottext">mkHsOpAppPV :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LocatedN (InfixOp (PatBuilder GhcPs))
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179033"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpAppPV</span></a></span></span><span> </span><span id="local-6989586621681179032"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179032"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179031"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179031"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621681179030"><span class="annot"><span class="annottext">LocatedN (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621681179030"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681179029"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179029"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1752"></span><span>    </span><span id="local-6989586621681179028"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179028"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179032"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1753"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179027"><span class="annot"><span class="annottext">anns :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179027"><span class="hs-identifier hs-var hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179032"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179028"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1754"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179032"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall p.
LocatedA (PatBuilder p)
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LocatedA (PatBuilder p)
-&gt; EpAnn [AddEpAnn]
-&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-var">PatBuilderOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179031"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedN (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621681179030"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179029"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681179027"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-1755"></span><span>  </span><span id="local-6989586621681179025"><span class="annot"><span class="annottext">mkHsCasePV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; LocatedL [LMatch GhcPs (LocatedA (PatBuilder GhcPs))]
-&gt; EpAnnHsCase
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179025"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsCasePV</span></a></span></span><span> </span><span id="local-6989586621681179024"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179024"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedL [LMatch GhcPs (LocatedA (PatBuilder GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnnHsCase
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrCaseInPat"><span class="hs-identifier hs-var">PsErrCaseInPat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179024"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1756"></span><span>  </span><span id="local-6989586621681179021"><span class="annot"><span class="annottext">mkHsLamCasePV :: SrcSpan
-&gt; LocatedL [LMatch GhcPs (LocatedA (PatBuilder GhcPs))]
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179021"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamCasePV</span></a></span></span><span> </span><span id="local-6989586621681179020"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179020"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">LocatedL [LMatch GhcPs (LocatedA (PatBuilder GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrLambdaCaseInPat"><span class="hs-identifier hs-var">PsErrLambdaCaseInPat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179020"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1757"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1758"></span><span>  </span><span id="local-6989586621681179017"><span class="annot"><span class="annottext">superFunArg :: (DisambECP (FunArg (PatBuilder GhcPs)) =&gt;
 PV (LocatedA (PatBuilder GhcPs)))
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179017"><span class="hs-identifier hs-var hs-var hs-var hs-var">superFunArg</span></a></span></span><span> </span><span id="local-6989586621681179016"><span class="annot"><span class="annottext">DisambECP (FunArg (PatBuilder GhcPs)) =&gt;
PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179016"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DisambECP (FunArg (PatBuilder GhcPs)) =&gt;
PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179016"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1759"></span><span>  </span><span id="local-6989586621681179014"><span class="annot"><span class="annottext">mkHsAppPV :: SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LocatedA (FunArg (PatBuilder GhcPs))
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179014"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppPV</span></a></span></span><span> </span><span id="local-6989586621681179013"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179013"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179012"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179012"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621681179011"><span class="annot"><span class="annottext">LocatedA (FunArg (PatBuilder GhcPs))
</span><a href="#local-6989586621681179011"><span class="hs-identifier hs-var">p2</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179013"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
LocatedA (PatBuilder p) -&gt; LocatedA (PatBuilder p) -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderApp"><span class="hs-identifier hs-var">PatBuilderApp</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179012"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (FunArg (PatBuilder GhcPs))
</span><a href="#local-6989586621681179011"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1760"></span><span>  </span><span id="local-6989586621681179007"><span class="annot"><span class="annottext">mkHsAppTypePV :: SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; SrcSpan
-&gt; LHsType GhcPs
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681179007"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTypePV</span></a></span></span><span> </span><span id="local-6989586621681179006"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179006"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681179005"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179005"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621681179004"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179004"><span class="hs-identifier hs-var">la</span></a></span></span><span> </span><span id="local-6989586621681179003"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179003"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1761"></span><span>    </span><span id="local-6989586621681179002"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179002"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179006"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1762"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681179001"><span class="annot"><span class="annottext">anns :: EpAnn EpaLocation
</span><a href="#local-6989586621681179001"><span class="hs-identifier hs-var hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179004"><span class="hs-identifier hs-var">la</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179003"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-var">EpaSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681179004"><span class="hs-identifier hs-var">la</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681179002"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1763"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681179006"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p.
LocatedA (PatBuilder p) -&gt; HsPatSigType GhcPs -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderAppType"><span class="hs-identifier hs-var">PatBuilderAppType</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681179005"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpaLocation -&gt; LHsType GhcPs -&gt; HsPatSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-var">mkHsPatSigType</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpaLocation
</span><a href="#local-6989586621681179001"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681179003"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1764"></span><span>  </span><span id="local-6989586621681178999"><span class="annot"><span class="annottext">mkHsIfPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; Bool
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; AnnsIf
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178999"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsIfPV</span></a></span></span><span> </span><span id="local-6989586621681178998"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178998"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnsIf
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIfTheElseInPat"><span class="hs-identifier hs-var">PsErrIfTheElseInPat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178998"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1765"></span><span>  </span><span id="local-6989586621681178995"><span class="annot"><span class="annottext">mkHsDoPV :: SrcSpan
-&gt; Maybe ModuleName
-&gt; LocatedL [LStmt GhcPs (LocatedA (PatBuilder GhcPs))]
-&gt; AnnList
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178995"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsDoPV</span></a></span></span><span> </span><span id="local-6989586621681178994"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178994"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (LocatedA (PatBuilder GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnList
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrDoNotationInPat"><span class="hs-identifier hs-var">PsErrDoNotationInPat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178994"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1766"></span><span>  </span><span id="local-6989586621681178991"><span class="annot"><span class="annottext">mkHsParPV :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; AnnParen
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178991"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsParPV</span></a></span></span><span> </span><span id="local-6989586621681178990"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178990"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178989"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178989"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621681178988"><span class="annot"><span class="annottext">AnnParen
</span><a href="#local-6989586621681178988"><span class="hs-identifier hs-var">an</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178990"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. LocatedA (PatBuilder p) -&gt; AnnParen -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPar"><span class="hs-identifier hs-var">PatBuilderPar</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178989"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">AnnParen
</span><a href="#local-6989586621681178988"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1767"></span><span>  </span><span id="local-6989586621681178986"><span class="annot"><span class="annottext">mkHsVarPV :: GenLocated SrcSpanAnnN RdrName -&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178986"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarPV</span></a></span></span><span> </span><span id="local-6989586621681178985"><span class="annot"><span class="annottext">v :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178985"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621681178984"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681178984"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#na2la"><span class="hs-identifier hs-var">na2la</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681178984"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. GenLocated SrcSpanAnnN RdrName -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-var">PatBuilderVar</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178985"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1768"></span><span>  </span><span id="local-6989586621681178981"><span class="annot"><span class="annottext">mkHsLitPV :: Located (HsLit GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621681178981"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLitPV</span></a></span></span><span> </span><span id="local-6989586621681178980"><span class="annot"><span class="annottext">lit :: Located (HsLit GhcPs)
</span><a href="#local-6989586621681178980"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178979"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178979"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178978"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681178978"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1769"></span><span>    </span><span class="annot"><span class="annottext">Located (HsLit GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkUnboxedStringLitPat"><span class="hs-identifier hs-var">checkUnboxedStringLitPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (HsLit GhcPs)
</span><a href="#local-6989586621681178980"><span class="hs-identifier hs-var">lit</span></a></span><span>
</span><span id="line-1770"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178979"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XLitPat p -&gt; HsLit p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#LitPat"><span class="hs-identifier hs-var">LitPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681178978"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1771"></span><span>  </span><span id="local-6989586621681178974"><span class="annot"><span class="annottext">mkHsOverLitPV :: Located (HsOverLit GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621681178974"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178973"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178973"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178972"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681178972"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178973"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. HsOverLit GhcPs -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderOverLit"><span class="hs-identifier hs-var">PatBuilderOverLit</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681178972"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1772"></span><span>  </span><span id="local-6989586621681178970"><span class="annot"><span class="annottext">mkHsWildCardPV :: SrcSpan -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621681178970"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsWildCardPV</span></a></span></span><span> </span><span id="local-6989586621681178969"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178969"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178969"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XWildPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#WildPat"><span class="hs-identifier hs-var">WildPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1773"></span><span>  </span><span id="local-6989586621681178964"><span class="annot"><span class="annottext">mkHsTySigPV :: SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178964"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsTySigPV</span></a></span></span><span> </span><span id="local-6989586621681178963"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178963"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178962"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178962"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681178961"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178961"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span id="local-6989586621681178960"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178960"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1774"></span><span>    </span><span id="local-6989586621681178959"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178959"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178962"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1775"></span><span>    </span><span id="local-6989586621681178958"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178958"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178963"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1776"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178963"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XSigPat p -&gt; LPat p -&gt; HsPatSigType (NoGhcTc p) -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#SigPat"><span class="hs-identifier hs-var">SigPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178963"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178960"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178958"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178959"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpaLocation -&gt; LHsType GhcPs -&gt; HsPatSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-var">mkHsPatSigType</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178961"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1777"></span><span>  </span><span id="local-6989586621681178950"><span class="annot"><span class="annottext">mkHsExplicitListPV :: SrcSpan
-&gt; [LocatedA (PatBuilder GhcPs)]
-&gt; AnnList
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178950"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsExplicitListPV</span></a></span></span><span> </span><span id="local-6989586621681178949"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178949"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178948"><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681178948"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621681178947"><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681178947"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1778"></span><span>    </span><span id="local-6989586621681178946"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681178946"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681178948"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1779"></span><span>    </span><span id="local-6989586621681178944"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178944"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178949"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1780"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178949"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XListPat p -&gt; [LPat p] -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#ListPat"><span class="hs-identifier hs-var">ListPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178949"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681178947"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178944"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681178946"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1781"></span><span>  </span><span id="local-6989586621681178941"><span class="annot"><span class="annottext">mkHsSplicePV :: Located (HsSplice GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621681178941"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSplicePV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178940"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178940"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178939"><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621681178939"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178940"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XSplicePat p -&gt; HsSplice p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#SplicePat"><span class="hs-identifier hs-var">SplicePat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621681178939"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1782"></span><span>  </span><span id="local-6989586621681178930"><span class="annot"><span class="annottext">mkHsRecordPV :: Bool
-&gt; SrcSpan
-&gt; SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; ([Fbind (PatBuilder GhcPs)], Maybe SrcSpan)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178930"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsRecordPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178929"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178929"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178928"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178928"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178927"><span class="annot"><span class="annottext">[Fbind (PatBuilder GhcPs)]
</span><a href="#local-6989586621681178927"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178926"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681178926"><span class="hs-identifier hs-var">ddLoc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178925"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178925"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1783"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178924"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField' (FieldOcc GhcPs) (LocatedA (PatBuilder GhcPs)))]
</span><a href="#local-6989586621681178924"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178923"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldLabelStrings GhcPs) (LocatedA (PatBuilder GhcPs)))]
</span><a href="#local-6989586621681178923"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. [Either a b] -&gt; ([a], [b])
</span><a href="../../base-4.16.4.0/src/Data-Either.html#partitionEithers"><span class="hs-identifier hs-var">partitionEithers</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (PatBuilder GhcPs)]
</span><a href="#local-6989586621681178927"><span class="hs-identifier hs-var">fbinds</span></a></span><span>
</span><span id="line-1784"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldLabelStrings GhcPs) (LocatedA (PatBuilder GhcPs)))]
</span><a href="#local-6989586621681178923"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1785"></span><span>     </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178929"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1786"></span><span>     </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1787"></span><span>       </span><span id="local-6989586621681178922"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178922"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178929"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1788"></span><span>       </span><span id="local-6989586621681178921"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681178921"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
-&gt; HsRecFields GhcPs (LocatedA (PatBuilder GhcPs))
-&gt; EpAnn [AddEpAnn]
-&gt; PV (PatBuilder GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-var">mkPatRec</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178928"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass) arg.
[LocatedA (HsRecField (GhcPass p) arg)]
-&gt; Maybe SrcSpan -&gt; HsRecFields (GhcPass p) arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField' (FieldOcc GhcPs) (LocatedA (PatBuilder GhcPs)))]
</span><a href="#local-6989586621681178924"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681178926"><span class="hs-identifier hs-var">ddLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178929"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178925"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178922"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1789"></span><span>       </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(MonadP m, Outputable a) =&gt;
LocatedA a -&gt; m (LocatedA a)
</span><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-var">checkRecordSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178929"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681178921"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1790"></span><span>  </span><span id="local-6989586621681178912"><span class="annot"><span class="annottext">mkHsNegAppPV :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178912"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsNegAppPV</span></a></span></span><span> </span><span id="local-6989586621681178911"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178911"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178910"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178910"><span class="hs-identifier hs-var">lp</span></a></span></span><span> </span><span id="local-6989586621681178909"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681178909"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178908"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178908"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1791"></span><span>    </span><span id="local-6989586621681178907"><span class="annot"><span class="annottext">Located (HsOverLit GhcPs)
</span><a href="#local-6989586621681178907"><span class="hs-identifier hs-var">lit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681178909"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1792"></span><span>      </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621681178906"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681178906"><span class="hs-identifier hs-var">pos_lit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178910"><span class="hs-identifier hs-var">lp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681178906"><span class="hs-identifier hs-var">pos_lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1793"></span><span>      </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178911"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681178909"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1794"></span><span>    </span><span id="local-6989586621681178905"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178905"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178911"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1795"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178904"><span class="annot"><span class="annottext">an :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178904"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178911"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178908"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178905"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1796"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178911"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (HsOverLit GhcPs)
-&gt; Maybe (SyntaxExpr GhcPs) -&gt; EpAnn [AddEpAnn] -&gt; Pat GhcPs
</span><a href="GHC.Hs.Utils.html#mkNPat"><span class="hs-identifier hs-var">mkNPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (HsOverLit GhcPs)
</span><a href="#local-6989586621681178907"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass). IsPass p =&gt; SyntaxExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178904"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1797"></span><span>  </span><span id="local-6989586621681178901"><span class="annot"><span class="annottext">mkHsSectionR_PV :: SrcSpan
-&gt; LocatedA (InfixOp (PatBuilder GhcPs))
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621681178901"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSectionR_PV</span></a></span></span><span> </span><span id="local-6989586621681178900"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178900"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178899"><span class="annot"><span class="annottext">LocatedA (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621681178899"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681178898"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178898"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178900"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. OutputableBndr a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621681178899"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178898"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1798"></span><span>  </span><span id="local-6989586621681178892"><span class="annot"><span class="annottext">mkHsViewPatPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178892"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsViewPatPV</span></a></span></span><span> </span><span id="local-6989586621681178891"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178891"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178890"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178890"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681178889"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178889"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681178888"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178888"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1799"></span><span>    </span><span id="local-6989586621681178887"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178887"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178889"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1800"></span><span>    </span><span id="local-6989586621681178886"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178886"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178891"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1801"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178891"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XViewPat p -&gt; LHsExpr p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#ViewPat"><span class="hs-identifier hs-var">ViewPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178891"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178888"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178886"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178890"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178887"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1802"></span><span>  </span><span id="local-6989586621681178880"><span class="annot"><span class="annottext">mkHsAsPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178880"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAsPatPV</span></a></span></span><span> </span><span id="local-6989586621681178879"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178879"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178878"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178878"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681178877"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178877"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681178876"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178876"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1803"></span><span>    </span><span id="local-6989586621681178875"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178875"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178877"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1804"></span><span>    </span><span id="local-6989586621681178874"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178874"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178879"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1805"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178879"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XAsPat p -&gt; LIdP p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#AsPat"><span class="hs-identifier hs-var">AsPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178879"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178876"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178874"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178878"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178875"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1806"></span><span>  </span><span id="local-6989586621681178868"><span class="annot"><span class="annottext">mkHsLazyPatPV :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178868"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLazyPatPV</span></a></span></span><span> </span><span id="local-6989586621681178867"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178867"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178866"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178866"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681178865"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178865"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1807"></span><span>    </span><span id="local-6989586621681178864"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178864"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178866"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1808"></span><span>    </span><span id="local-6989586621681178863"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178863"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178867"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1809"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178867"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XLazyPat p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#LazyPat"><span class="hs-identifier hs-var">LazyPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178867"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178865"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178863"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178864"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1810"></span><span>  </span><span id="local-6989586621681178856"><span class="annot"><span class="annottext">mkHsBangPatPV :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178856"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsBangPatPV</span></a></span></span><span> </span><span id="local-6989586621681178855"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178855"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178854"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178854"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681178853"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178853"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1811"></span><span>    </span><span id="local-6989586621681178852"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178852"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178854"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1812"></span><span>    </span><span id="local-6989586621681178851"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178851"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178855"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1813"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178850"><span class="annot"><span class="annottext">pb :: Pat GhcPs
</span><a href="#local-6989586621681178850"><span class="hs-identifier hs-var hs-var">pb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p. XBangPat p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#BangPat"><span class="hs-identifier hs-var">BangPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178855"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178853"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178851"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178852"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-1814"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; Pat GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier hs-var">hintBangPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178855"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681178850"><span class="hs-identifier hs-var">pb</span></a></span><span>
</span><span id="line-1815"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178855"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681178850"><span class="hs-identifier hs-var">pb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1816"></span><span>  </span><span id="local-6989586621681178849"><span class="annot"><span class="annottext">mkSumOrTuplePV :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178849"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkSumOrTuplePV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var">mkSumOrTuplePat</span></a></span><span>
</span><span id="line-1817"></span><span>  </span><span id="local-6989586621681178846"><span class="annot"><span class="annottext">rejectPragmaPV :: LocatedA (PatBuilder GhcPs) -&gt; PV ()
</span><a href="#local-6989586621681178846"><span class="hs-identifier hs-var hs-var hs-var hs-var">rejectPragmaPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1818"></span><span>
</span><span id="line-1819"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkUnboxedStringLitPat"><span class="hs-identifier hs-type">checkUnboxedStringLitPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1820"></span><span id="checkUnboxedStringLitPat"><span class="annot"><span class="annottext">checkUnboxedStringLitPat :: Located (HsLit GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkUnboxedStringLitPat"><span class="hs-identifier hs-var hs-var">checkUnboxedStringLitPat</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178845"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178845"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681178844"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681178844"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1821"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681178844"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1822"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsStringPrim"><span class="hs-identifier hs-type">HsStringPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsStringPrim GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-comment">-- Trac #13260</span><span>
</span><span id="line-1823"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIllegalUnboxedStringInPat"><span class="hs-identifier hs-var">PsErrIllegalUnboxedStringInPat</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681178844"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178845"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-1824"></span><span>    </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1825"></span><span>
</span><span id="line-1826"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-type">mkPatRec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1827"></span><span>  </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1828"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1829"></span><span>  </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1830"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1831"></span><span id="mkPatRec"><span class="annot"><span class="annottext">mkPatRec :: LocatedA (PatBuilder GhcPs)
-&gt; HsRecFields GhcPs (LocatedA (PatBuilder GhcPs))
-&gt; EpAnn [AddEpAnn]
-&gt; PV (PatBuilder GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-var hs-var">mkPatRec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span id="local-6989586621681178841"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178841"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span id="local-6989586621681178839"><span class="annot"><span class="annottext">[LHsRecField GhcPs (LocatedA (PatBuilder GhcPs))]
</span><a href="#local-6989586621681178839"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span id="local-6989586621681178838"><span class="annot"><span class="annottext">Maybe (Located Int)
</span><a href="#local-6989586621681178838"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178837"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178837"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-1832"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178841"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1833"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681178836"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldOcc GhcPs) (GenLocated SrcSpanAnnA (Pat GhcPs)))]
</span><a href="#local-6989586621681178836"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LHsRecField GhcPs (LocatedA (PatBuilder GhcPs))
-&gt; PV (LHsRecField GhcPs (LPat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkPatField"><span class="hs-identifier hs-var">checkPatField</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecField GhcPs (LocatedA (PatBuilder GhcPs))]
</span><a href="#local-6989586621681178839"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-1834"></span><span>       </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1835"></span><span>         </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178837"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-1836"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178841"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1837"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyarg arg rec. rec -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p arg.
[LHsRecField p arg] -&gt; Maybe (Located Int) -&gt; HsRecFields p arg
</span><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-var">HsRecFields</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldOcc GhcPs) (GenLocated SrcSpanAnnA (Pat GhcPs)))]
</span><a href="#local-6989586621681178836"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Located Int)
</span><a href="#local-6989586621681178838"><span class="hs-identifier hs-var">dd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1838"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-1839"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-var">mkPatRec</span></a></span><span> </span><span id="local-6989586621681178835"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178835"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsRecFields GhcPs (LocatedA (PatBuilder GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1840"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrInvalidRecordCon"><span class="hs-identifier hs-var">PsErrInvalidRecordCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178835"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178835"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1841"></span><span>
</span><span id="line-1842"></span><span class="hs-comment">-- | Disambiguate constructs that may appear when we do not know</span><span>
</span><span id="line-1843"></span><span class="hs-comment">-- ahead of time whether we are parsing a type or a newtype/data constructor.</span><span>
</span><span id="line-1844"></span><span class="hs-comment">--</span><span>
</span><span id="line-1845"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories] for the general idea.</span><span>
</span><span id="line-1846"></span><span class="hs-comment">--</span><span>
</span><span id="line-1847"></span><span class="hs-comment">-- See Note [Parsing data constructors is hard] for the specific issue this</span><span>
</span><span id="line-1848"></span><span class="hs-comment">-- particular class is solving.</span><span>
</span><span id="line-1849"></span><span class="hs-comment">--</span><span>
</span><span id="line-1850"></span><span class="hs-keyword">class</span><span> </span><span id="DisambTD"><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambTD"><span class="hs-identifier hs-var">DisambTD</span></a></span></span><span> </span><span id="local-6989586621681181728"><span class="annot"><a href="#local-6989586621681181728"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1851"></span><span>  </span><span class="hs-comment">-- | Process the head of a type-level function/constructor application,</span><span>
</span><span id="line-1852"></span><span>  </span><span class="hs-comment">-- i.e. the @H@ in @H a b c@.</span><span>
</span><span id="line-1853"></span><span>  </span><span id="mkHsAppTyHeadPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppTyHeadPV"><span class="hs-identifier hs-type">mkHsAppTyHeadPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181728"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1854"></span><span>  </span><span class="hs-comment">-- | Disambiguate @f x@ (function application or prefix data constructor).</span><span>
</span><span id="line-1855"></span><span>  </span><span id="mkHsAppTyPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppTyPV"><span class="hs-identifier hs-type">mkHsAppTyPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181728"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181728"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1856"></span><span>  </span><span class="hs-comment">-- | Disambiguate @f \@t@ (visible kind application)</span><span>
</span><span id="line-1857"></span><span>  </span><span id="mkHsAppKindTyPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppKindTyPV"><span class="hs-identifier hs-type">mkHsAppKindTyPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181728"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181728"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1858"></span><span>  </span><span class="hs-comment">-- | Disambiguate @f \# x@ (infix operator)</span><span>
</span><span id="line-1859"></span><span>  </span><span id="mkHsOpTyPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsOpTyPV"><span class="hs-identifier hs-type">mkHsOpTyPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181728"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1860"></span><span>  </span><span class="hs-comment">-- | Disambiguate @{-\# UNPACK \#-} t@ (unpack/nounpack pragma)</span><span>
</span><span id="line-1861"></span><span>  </span><span id="mkUnpackednessPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkUnpackednessPV"><span class="hs-identifier hs-type">mkUnpackednessPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-type">UnpackednessPragma</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181728"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181728"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1862"></span><span>
</span><span id="line-1863"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambTD"><span class="hs-identifier hs-type">DisambTD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1864"></span><span>  </span><span id="local-6989586621681178820"><span class="annot"><span class="annottext">mkHsAppTyHeadPV :: LHsType GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621681178820"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTyHeadPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1865"></span><span>  </span><span id="local-6989586621681178818"><span class="annot"><span class="annottext">mkHsAppTyPV :: GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; LHsType GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621681178818"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTyPV</span></a></span></span><span> </span><span id="local-6989586621681178817"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681178817"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681178816"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178816"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass).
LHsType (GhcPass p) -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsAppTy"><span class="hs-identifier hs-var">mkHsAppTy</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681178817"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178816"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1866"></span><span>  </span><span id="local-6989586621681178813"><span class="annot"><span class="annottext">mkHsAppKindTyPV :: GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; SrcSpan
-&gt; LHsType GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621681178813"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppKindTyPV</span></a></span></span><span> </span><span id="local-6989586621681178812"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681178812"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681178811"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178811"><span class="hs-identifier hs-var">l_at</span></a></span></span><span> </span><span id="local-6989586621681178810"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178810"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass).
XAppKindTy (GhcPass p)
-&gt; LHsType (GhcPass p)
-&gt; LHsType (GhcPass p)
-&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsAppKindTy"><span class="hs-identifier hs-var">mkHsAppKindTy</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178811"><span class="hs-identifier hs-var">l_at</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681178812"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178810"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1867"></span><span>  </span><span id="local-6989586621681178807"><span class="annot"><span class="annottext">mkHsOpTyPV :: LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621681178807"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpTyPV</span></a></span></span><span> </span><span id="local-6989586621681178806"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178806"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681178805"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178805"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681178804"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178804"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkLHsOpTy"><span class="hs-identifier hs-var">mkLHsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178806"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178805"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178804"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1868"></span><span>  </span><span id="local-6989586621681178801"><span class="annot"><span class="annottext">mkUnpackednessPV :: Located UnpackednessPragma
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621681178801"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkUnpackednessPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadP m =&gt;
Located UnpackednessPragma -&gt; LHsType GhcPs -&gt; m (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier hs-var">addUnpackednessP</span></a></span><span>
</span><span id="line-1869"></span><span>
</span><span id="line-1870"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderCon"><span class="hs-identifier hs-type">dataConBuilderCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#DataConBuilder"><span class="hs-identifier hs-type">DataConBuilder</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1871"></span><span id="dataConBuilderCon"><span class="annot"><span class="annottext">dataConBuilderCon :: DataConBuilder -&gt; GenLocated SrcSpanAnnN RdrName
</span><a href="GHC.Parser.PostProcess.html#dataConBuilderCon"><span class="hs-identifier hs-var hs-var">dataConBuilderCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-type">PrefixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178799"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178799"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178799"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-1872"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderCon"><span class="hs-identifier hs-var">dataConBuilderCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-type">InfixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178797"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178797"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178797"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-1873"></span><span>
</span><span id="line-1874"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier hs-type">dataConBuilderDetails</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#DataConBuilder"><span class="hs-identifier hs-type">DataConBuilder</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclH98Details"><span class="hs-identifier hs-type">HsConDeclH98Details</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1875"></span><span>
</span><span id="line-1876"></span><span class="hs-comment">-- Detect when the record syntax is used:</span><span>
</span><span id="line-1877"></span><span class="hs-comment">--   data T = MkT { ... }</span><span>
</span><span id="line-1878"></span><span id="dataConBuilderDetails"><span class="annot"><span class="annottext">dataConBuilderDetails :: DataConBuilder -&gt; HsConDeclH98Details GhcPs
</span><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier hs-var hs-var">dataConBuilderDetails</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-type">PrefixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681178796"><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><a href="#local-6989586621681178796"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1879"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178795"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178795"><span class="hs-identifier hs-var">l_t</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsRecTy"><span class="hs-identifier hs-type">HsRecTy</span></a></span><span> </span><span id="local-6989586621681178794"><span class="annot"><span class="annottext">XRecTy GhcPs
</span><a href="#local-6989586621681178794"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681178793"><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621681178793"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><a href="#local-6989586621681178796"><span class="hs-identifier hs-var">flds</span></a></span><span>
</span><span id="line-1880"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyarg arg rec. rec -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">XRecTy GhcPs
</span><a href="#local-6989586621681178794"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178795"><span class="hs-identifier hs-var">l_t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621681178793"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1881"></span><span>
</span><span id="line-1882"></span><span class="hs-comment">-- Normal prefix constructor, e.g.  data T = MkT A B C</span><span>
</span><span id="line-1883"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier hs-var">dataConBuilderDetails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-type">PrefixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681178791"><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><a href="#local-6989586621681178791"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1884"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyarg arg rec.
[tyarg] -&gt; [arg] -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><a href="Language.Haskell.Syntax.Type.html#noTypeArgs"><span class="hs-identifier hs-var">noTypeArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a pass. a -&gt; HsScaled pass a
</span><a href="Language.Haskell.Syntax.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><a href="#local-6989586621681178791"><span class="hs-identifier hs-var">flds</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1885"></span><span>
</span><span id="line-1886"></span><span class="hs-comment">-- Infix constructor, e.g. data T = Int :! Bool</span><span>
</span><span id="line-1887"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier hs-var">dataConBuilderDetails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-type">InfixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681178788"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178788"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178787"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178787"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1888"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyarg arg rec. arg -&gt; arg -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a pass. a -&gt; HsScaled pass a
</span><a href="Language.Haskell.Syntax.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178788"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a pass. a -&gt; HsScaled pass a
</span><a href="Language.Haskell.Syntax.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178787"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1889"></span><span>
</span><span id="line-1890"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambTD"><span class="hs-identifier hs-type">DisambTD</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#DataConBuilder"><span class="hs-identifier hs-type">DataConBuilder</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1891"></span><span>  </span><span id="local-6989586621681178780"><span class="annot"><span class="annottext">mkHsAppTyHeadPV :: LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="#local-6989586621681178780"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTyHeadPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-var">tyToDataConBuilder</span></a></span><span>
</span><span id="line-1892"></span><span>
</span><span id="line-1893"></span><span>  </span><span id="local-6989586621681178777"><span class="annot"><span class="annottext">mkHsAppTyPV :: LocatedA DataConBuilder
-&gt; LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="#local-6989586621681178777"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTyPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178776"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178776"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-type">PrefixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681178775"><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><a href="#local-6989586621681178775"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span id="local-6989586621681178774"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178774"><span class="hs-identifier hs-var">fn</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178773"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178773"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1894"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1895"></span><span>      </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178776"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178773"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1896"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-var">PrefixDataConBuilder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><a href="#local-6989586621681178775"><span class="hs-identifier hs-var">flds</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. OrdList a -&gt; a -&gt; OrdList a
</span><a href="GHC.Data.OrdList.html#snocOL"><span class="hs-operator hs-var">`snocOL`</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178773"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178774"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1897"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppTyPV"><span class="hs-identifier hs-var">mkHsAppTyPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-type">InfixDataConBuilder</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1898"></span><span>    </span><span class="hs-comment">-- This case is impossible because of the way</span><span>
</span><span id="line-1899"></span><span>    </span><span class="hs-comment">-- the grammar in Parser.y is written (see infixtype/ftype).</span><span>
</span><span id="line-1900"></span><span>    </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkHsAppTyPV: InfixDataConBuilder&quot;</span></span><span>
</span><span id="line-1901"></span><span>
</span><span id="line-1902"></span><span>  </span><span id="local-6989586621681178770"><span class="annot"><span class="annottext">mkHsAppKindTyPV :: LocatedA DataConBuilder
-&gt; SrcSpan -&gt; LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="#local-6989586621681178770"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppKindTyPV</span></a></span></span><span> </span><span id="local-6989586621681178769"><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681178769"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681178768"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178768"><span class="hs-identifier hs-var">l_at</span></a></span></span><span> </span><span id="local-6989586621681178767"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178767"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1903"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataConBuilder -&gt; HsType GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrUnexpectedKindAppInDataCon"><span class="hs-identifier hs-var">PsErrUnexpectedKindAppInDataCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681178769"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178767"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178768"><span class="hs-identifier hs-var">l_at</span></a></span><span>
</span><span id="line-1904"></span><span>
</span><span id="line-1905"></span><span>  </span><span id="local-6989586621681178758"><span class="annot"><span class="annottext">mkHsOpTyPV :: LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; PV (LocatedA DataConBuilder)
</span><a href="#local-6989586621681178758"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpTyPV</span></a></span></span><span> </span><span id="local-6989586621681178757"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178757"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681178756"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178756"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621681178755"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178755"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1906"></span><span>      </span><span class="annot"><span class="annottext">HsType GhcPs -&gt; PV ()
</span><a href="#local-6989586621681178754"><span class="hs-identifier hs-var">check_no_ops</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178755"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- check the RHS because parsing type operators is right-associative</span><span>
</span><span id="line-1907"></span><span>      </span><span id="local-6989586621681178753"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178753"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; Either PsError a -&gt; m a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; Either PsError (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var">tyConToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178756"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-1908"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178752"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-var">InfixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178757"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178753"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178755"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1909"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-1910"></span><span>      </span><span id="local-6989586621681178752"><span class="annot"><span class="annottext">l :: SrcSpanAnnA
</span><a href="#local-6989586621681178752"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a e1 e2.
Semigroup a =&gt;
GenLocated (SrcAnn a) e1 -&gt; GenLocated (SrcAnn a) e2 -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineLocsA"><span class="hs-identifier hs-var">combineLocsA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178757"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178755"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-1911"></span><span>      </span><span id="local-6989586621681178754"><span class="annot"><span class="annottext">check_no_ops :: HsType GhcPs -&gt; PV ()
</span><a href="#local-6989586621681178754"><span class="hs-identifier hs-var hs-var">check_no_ops</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-type">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsSrcBang
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178751"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178751"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs -&gt; PV ()
</span><a href="#local-6989586621681178754"><span class="hs-identifier hs-var">check_no_ops</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178751"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1912"></span><span>      </span><span class="annot"><a href="#local-6989586621681178754"><span class="hs-identifier hs-var">check_no_ops</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOpTy"><span class="hs-identifier hs-type">HsOpTy</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1913"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsType GhcPs -&gt; RdrName -&gt; HsType GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrInvalidInfixDataCon"><span class="hs-identifier hs-var">PsErrInvalidInfixDataCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178757"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178756"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178755"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178752"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1914"></span><span>      </span><span class="annot"><a href="#local-6989586621681178754"><span class="hs-identifier hs-var">check_no_ops</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1915"></span><span>
</span><span id="line-1916"></span><span>  </span><span id="local-6989586621681178742"><span class="annot"><span class="annottext">mkUnpackednessPV :: Located UnpackednessPragma
-&gt; LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
</span><a href="#local-6989586621681178742"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkUnpackednessPV</span></a></span></span><span> </span><span id="local-6989586621681178741"><span class="annot"><span class="annottext">Located UnpackednessPragma
</span><a href="#local-6989586621681178741"><span class="hs-identifier hs-var">unpk</span></a></span></span><span> </span><span id="local-6989586621681178740"><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681178740"><span class="hs-identifier hs-var">constr_stuff</span></a></span></span><span>
</span><span id="line-1917"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-type">InfixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681178739"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178739"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681178738"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178738"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span id="local-6989586621681178737"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178737"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681178740"><span class="hs-identifier hs-var">constr_stuff</span></a></span><span>
</span><span id="line-1918"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- When the user writes  data T = {-# UNPACK #-} Int :+ Bool</span><span>
</span><span id="line-1919"></span><span>      </span><span class="hs-comment">--   we apply {-# UNPACK #-} to the LHS</span><span>
</span><span id="line-1920"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681178736"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681178736"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadP m =&gt;
Located UnpackednessPragma -&gt; LHsType GhcPs -&gt; m (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier hs-var">addUnpackednessP</span></a></span><span> </span><span class="annot"><span class="annottext">Located UnpackednessPragma
</span><a href="#local-6989586621681178741"><span class="hs-identifier hs-var">unpk</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178739"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1921"></span><span>         </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178735"><span class="annot"><span class="annottext">l :: SrcSpanAnnA
</span><a href="#local-6989586621681178735"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a e1 e2.
Semigroup a =&gt;
GenLocated (SrcAnn a) e1 -&gt; GenLocated (SrcAnn a) e2 -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineLocsA"><span class="hs-identifier hs-var">combineLocsA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall e ann. Located e -&gt; LocatedAn ann e
</span><a href="GHC.Parser.Annotation.html#reLocA"><span class="hs-identifier hs-var">reLocA</span></a></span><span> </span><span class="annot"><span class="annottext">Located UnpackednessPragma
</span><a href="#local-6989586621681178741"><span class="hs-identifier hs-var">unpk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681178740"><span class="hs-identifier hs-var">constr_stuff</span></a></span><span>
</span><span id="line-1922"></span><span>         </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178735"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-var">InfixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681178736"><span class="hs-identifier hs-var">lhs'</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178738"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178737"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1923"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1924"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrUnpackDataCon"><span class="hs-identifier hs-var">PsErrUnpackDataCon</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located UnpackednessPragma
</span><a href="#local-6989586621681178741"><span class="hs-identifier hs-var">unpk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1925"></span><span>         </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681178740"><span class="hs-identifier hs-var">constr_stuff</span></a></span><span>
</span><span id="line-1926"></span><span>
</span><span id="line-1927"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-type">tyToDataConBuilder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#DataConBuilder"><span class="hs-identifier hs-type">DataConBuilder</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1928"></span><span id="tyToDataConBuilder"><span class="annot"><span class="annottext">tyToDataConBuilder :: LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-var hs-var">tyToDataConBuilder</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178732"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178732"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="GHC.Types.Basic.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a></span><span> </span><span id="local-6989586621681178730"><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681178730"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1929"></span><span>  </span><span id="local-6989586621681178729"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178729"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; Either PsError a -&gt; m a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; Either PsError (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var">tyConToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcPs
</span><a href="#local-6989586621681178730"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1930"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178732"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-var">PrefixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. OrdList a
</span><a href="GHC.Data.OrdList.html#nilOL"><span class="hs-identifier hs-var">nilOL</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178729"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1931"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-var">tyToDataConBuilder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178727"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178727"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="Language.Haskell.Syntax.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span id="local-6989586621681178726"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681178726"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1932"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178725"><span class="annot"><span class="annottext">data_con :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178725"><span class="hs-identifier hs-var hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178727"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; Int -&gt; DataCon
</span><a href="GHC.Builtin.Types.html#tupleDataCon"><span class="hs-identifier hs-var">tupleDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681178726"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1933"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178727"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-var">PrefixDataConBuilder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; OrdList a
</span><a href="GHC.Data.OrdList.html#toOL"><span class="hs-identifier hs-var">toOL</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681178726"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178725"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1934"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-var">tyToDataConBuilder</span></a></span><span> </span><span id="local-6989586621681178721"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178721"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1935"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsType GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrInvalidDataCon"><span class="hs-identifier hs-var">PsErrInvalidDataCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178721"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178721"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1936"></span><span>
</span><span id="line-1937"></span><span class="hs-comment">{- Note [Ambiguous syntactic categories]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
There are places in the grammar where we do not know whether we are parsing an
expression or a pattern without unlimited lookahead (which we do not have in
'happy'):

View patterns:

    f (Con a b     ) = ...  -- 'Con a b' is a pattern
    f (Con a b -&gt; x) = ...  -- 'Con a b' is an expression

do-notation:

    do { Con a b &lt;- x } -- 'Con a b' is a pattern
    do { Con a b }      -- 'Con a b' is an expression

Guards:

    x | True &lt;- p &amp;&amp; q = ...  -- 'True' is a pattern
    x | True           = ...  -- 'True' is an expression

Top-level value/function declarations (FunBind/PatBind):

    f ! a         -- TH splice
    f ! a = ...   -- function declaration

    Until we encounter the = sign, we don't know if it's a top-level
    TemplateHaskell splice where ! is used, or if it's a function declaration
    where ! is bound.

There are also places in the grammar where we do not know whether we are
parsing an expression or a command:

    proc x -&gt; do { (stuff) -&lt; x }   -- 'stuff' is an expression
    proc x -&gt; do { (stuff) }        -- 'stuff' is a command

    Until we encounter arrow syntax (-&lt;) we don't know whether to parse 'stuff'
    as an expression or a command.

In fact, do-notation is subject to both ambiguities:

    proc x -&gt; do { (stuff) -&lt; x }        -- 'stuff' is an expression
    proc x -&gt; do { (stuff) &lt;- f -&lt; x }   -- 'stuff' is a pattern
    proc x -&gt; do { (stuff) }             -- 'stuff' is a command

There are many possible solutions to this problem. For an overview of the ones
we decided against, see Note [Resolving parsing ambiguities: non-taken alternatives]

The solution that keeps basic definitions (such as HsExpr) clean, keeps the
concerns local to the parser, and does not require duplication of hsSyn types,
or an extra pass over the entire AST, is to parse into an overloaded
parser-validator (a so-called tagless final encoding):

    class DisambECP b where ...
    instance DisambECP (HsCmd GhcPs) where ...
    instance DisambECP (HsExp GhcPs) where ...
    instance DisambECP (PatBuilder GhcPs) where ...

The 'DisambECP' class contains functions to build and validate 'b'. For example,
to add parentheses we have:

  mkHsParPV :: DisambECP b =&gt; SrcSpan -&gt; Located b -&gt; PV (Located b)

'mkHsParPV' will wrap the inner value in HsCmdPar for commands, HsPar for
expressions, and 'PatBuilderPar' for patterns (later transformed into ParPat,
see Note [PatBuilder]).

Consider the 'alts' production used to parse case-of alternatives:

  alts :: { Located ([AddEpAnn],[LMatch GhcPs (LHsExpr GhcPs)]) }
    : alts1     { sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

We abstract over LHsExpr GhcPs, and it becomes:

  alts :: { forall b. DisambECP b =&gt; PV (Located ([AddEpAnn],[LMatch GhcPs (Located b)])) }
    : alts1     { $1 &gt;&gt;= \ $1 -&gt;
                  return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { $2 &gt;&gt;= \ $2 -&gt;
                  return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

Compared to the initial definition, the added bits are:

    forall b. DisambECP b =&gt; PV ( ... ) -- in the type signature
    $1 &gt;&gt;= \ $1 -&gt; return $             -- in one reduction rule
    $2 &gt;&gt;= \ $2 -&gt; return $             -- in another reduction rule

The overhead is constant relative to the size of the rest of the reduction
rule, so this approach scales well to large parser productions.

Note that we write ($1 &gt;&gt;= \ $1 -&gt; ...), so the second $1 is in a binding
position and shadows the previous $1. We can do this because internally
'happy' desugars $n to happy_var_n, and the rationale behind this idiom
is to be able to write (sLL $1 $&gt;) later on. The alternative would be to
write this as ($1 &gt;&gt;= \ fresh_name -&gt; ...), but then we couldn't refer
to the last fresh name as $&gt;.

Finally, we instantiate the polymorphic type to a concrete one, and run the
parser-validator, for example:

    stmt   :: { forall b. DisambECP b =&gt; PV (LStmt GhcPs (Located b)) }
    e_stmt :: { LStmt GhcPs (LHsExpr GhcPs) }
            : stmt {% runPV $1 }

In e_stmt, three things happen:

  1. we instantiate: b ~ HsExpr GhcPs
  2. we embed the PV computation into P by using runPV
  3. we run validation by using a monadic production, {% ... }

At this point the ambiguity is resolved.
-}</span><span>
</span><span id="line-2049"></span><span>
</span><span id="line-2050"></span><span>
</span><span id="line-2051"></span><span class="hs-comment">{- Note [Resolving parsing ambiguities: non-taken alternatives]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Alternative I, extra constructors in GHC.Hs.Expr
------------------------------------------------
We could add extra constructors to HsExpr to represent command-specific and
pattern-specific syntactic constructs. Under this scheme, we parse patterns
and commands as expressions and rejig later.  This is what GHC used to do, and
it polluted 'HsExpr' with irrelevant constructors:

  * for commands: 'HsArrForm', 'HsArrApp'
  * for patterns: 'EWildPat', 'EAsPat', 'EViewPat', 'ELazyPat'

(As of now, we still do that for patterns, but we plan to fix it).

There are several issues with this:

  * The implementation details of parsing are leaking into hsSyn definitions.

  * Code that uses HsExpr has to panic on these impossible-after-parsing cases.

  * HsExpr is arbitrarily selected as the extension basis. Why not extend
    HsCmd or HsPat with extra constructors instead?

Alternative II, extra constructors in GHC.Hs.Expr for GhcPs
-----------------------------------------------------------
We could address some of the problems with Alternative I by using Trees That
Grow and extending HsExpr only in the GhcPs pass. However, GhcPs corresponds to
the output of parsing, not to its intermediate results, so we wouldn't want
them there either.

Alternative III, extra constructors in GHC.Hs.Expr for GhcPrePs
---------------------------------------------------------------
We could introduce a new pass, GhcPrePs, to keep GhcPs pristine.
Unfortunately, creating a new pass would significantly bloat conversion code
and slow down the compiler by adding another linear-time pass over the entire
AST. For example, in order to build HsExpr GhcPrePs, we would need to build
HsLocalBinds GhcPrePs (as part of HsLet), and we never want HsLocalBinds
GhcPrePs.


Alternative IV, sum type and bottom-up data flow
------------------------------------------------
Expressions and commands are disjoint. There are no user inputs that could be
interpreted as either an expression or a command depending on outer context:

  5        -- definitely an expression
  x -&lt; y   -- definitely a command

Even though we have both 'HsLam' and 'HsCmdLam', we can look at
the body to disambiguate:

  \p -&gt; 5        -- definitely an expression
  \p -&gt; x -&lt; y   -- definitely a command

This means we could use a bottom-up flow of information to determine
whether we are parsing an expression or a command, using a sum type
for intermediate results:

  Either (LHsExpr GhcPs) (LHsCmd GhcPs)

There are two problems with this:

  * We cannot handle the ambiguity between expressions and
    patterns, which are not disjoint.

  * Bottom-up flow of information leads to poor error messages. Consider

        if ... then 5 else (x -&lt; y)

    Do we report that '5' is not a valid command or that (x -&lt; y) is not a
    valid expression?  It depends on whether we want the entire node to be
    'HsIf' or 'HsCmdIf', and this information flows top-down, from the
    surrounding parsing context (are we in 'proc'?)

Alternative V, backtracking with parser combinators
---------------------------------------------------
One might think we could sidestep the issue entirely by using a backtracking
parser and doing something along the lines of (try pExpr &lt;|&gt; pPat).

Turns out, this wouldn't work very well, as there can be patterns inside
expressions (e.g. via 'case', 'let', 'do') and expressions inside patterns
(e.g. view patterns). To handle this, we would need to backtrack while
backtracking, and unbound levels of backtracking lead to very fragile
performance.

Alternative VI, an intermediate data type
-----------------------------------------
There are common syntactic elements of expressions, commands, and patterns
(e.g. all of them must have balanced parentheses), and we can capture this
common structure in an intermediate data type, Frame:

data Frame
  = FrameVar RdrName
    -- ^ Identifier: Just, map, BS.length
  | FrameTuple [LTupArgFrame] Boxity
    -- ^ Tuple (section): (a,b) (a,b,c) (a,,) (,a,)
  | FrameTySig LFrame (LHsSigWcType GhcPs)
    -- ^ Type signature: x :: ty
  | FramePar (SrcSpan, SrcSpan) LFrame
    -- ^ Parentheses
  | FrameIf LFrame LFrame LFrame
    -- ^ If-expression: if p then x else y
  | FrameCase LFrame [LFrameMatch]
    -- ^ Case-expression: case x of { p1 -&gt; e1; p2 -&gt; e2 }
  | FrameDo (HsStmtContext GhcRn) [LFrameStmt]
    -- ^ Do-expression: do { s1; a &lt;- s2; s3 }
  ...
  | FrameExpr (HsExpr GhcPs)   -- unambiguously an expression
  | FramePat (HsPat GhcPs)     -- unambiguously a pattern
  | FrameCommand (HsCmd GhcPs) -- unambiguously a command

To determine which constructors 'Frame' needs to have, we take the union of
intersections between HsExpr, HsCmd, and HsPat.

The intersection between HsPat and HsExpr:

  HsPat  =  VarPat   | TuplePat      | SigPat        | ParPat   | ...
  HsExpr =  HsVar    | ExplicitTuple | ExprWithTySig | HsPar    | ...
  -------------------------------------------------------------------
  Frame  =  FrameVar | FrameTuple    | FrameTySig    | FramePar | ...

The intersection between HsCmd and HsExpr:

  HsCmd  = HsCmdIf | HsCmdCase | HsCmdDo | HsCmdPar
  HsExpr = HsIf    | HsCase    | HsDo    | HsPar
  ------------------------------------------------
  Frame = FrameIf  | FrameCase | FrameDo | FramePar

The intersection between HsCmd and HsPat:

  HsPat  = ParPat   | ...
  HsCmd  = HsCmdPar | ...
  -----------------------
  Frame  = FramePar | ...

Take the union of each intersection and this yields the final 'Frame' data
type. The problem with this approach is that we end up duplicating a good
portion of hsSyn:

    Frame         for  HsExpr, HsPat, HsCmd
    TupArgFrame   for  HsTupArg
    FrameMatch    for  Match
    FrameStmt     for  StmtLR
    FrameGRHS     for  GRHS
    FrameGRHSs    for  GRHSs
    ...

Alternative VII, a product type
-------------------------------
We could avoid the intermediate representation of Alternative VI by parsing
into a product of interpretations directly:

    type ExpCmdPat = ( PV (LHsExpr GhcPs)
                     , PV (LHsCmd GhcPs)
                     , PV (LHsPat GhcPs) )

This means that in positions where we do not know whether to produce
expression, a pattern, or a command, we instead produce a parser-validator for
each possible option.

Then, as soon as we have parsed far enough to resolve the ambiguity, we pick
the appropriate component of the product, discarding the rest:

    checkExpOf3 (e, _, _) = e  -- interpret as an expression
    checkCmdOf3 (_, c, _) = c  -- interpret as a command
    checkPatOf3 (_, _, p) = p  -- interpret as a pattern

We can easily define ambiguities between arbitrary subsets of interpretations.
For example, when we know ahead of type that only an expression or a command is
possible, but not a pattern, we can use a smaller type:

    type ExpCmd = (PV (LHsExpr GhcPs), PV (LHsCmd GhcPs))

    checkExpOf2 (e, _) = e  -- interpret as an expression
    checkCmdOf2 (_, c) = c  -- interpret as a command

However, there is a slight problem with this approach, namely code duplication
in parser productions. Consider the 'alts' production used to parse case-of
alternatives:

  alts :: { Located ([AddEpAnn],[LMatch GhcPs (LHsExpr GhcPs)]) }
    : alts1     { sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

Under the new scheme, we have to completely duplicate its type signature and
each reduction rule:

  alts :: { ( PV (Located ([AddEpAnn],[LMatch GhcPs (LHsExpr GhcPs)])) -- as an expression
            , PV (Located ([AddEpAnn],[LMatch GhcPs (LHsCmd GhcPs)]))  -- as a command
            ) }
    : alts1
        { ( checkExpOf2 $1 &gt;&gt;= \ $1 -&gt;
            return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1)
          , checkCmdOf2 $1 &gt;&gt;= \ $1 -&gt;
            return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1)
          ) }
    | ';' alts
        { ( checkExpOf2 $2 &gt;&gt;= \ $2 -&gt;
            return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2)
          , checkCmdOf2 $2 &gt;&gt;= \ $2 -&gt;
            return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2)
          ) }

And the same goes for other productions: 'altslist', 'alts1', 'alt', 'alt_rhs',
'ralt', 'gdpats', 'gdpat', 'exp', ... and so on. That is a lot of code!

Alternative VIII, a function from a GADT
----------------------------------------
We could avoid code duplication of the Alternative VII by representing the product
as a function from a GADT:

    data ExpCmdG b where
      ExpG :: ExpCmdG HsExpr
      CmdG :: ExpCmdG HsCmd

    type ExpCmd = forall b. ExpCmdG b -&gt; PV (Located (b GhcPs))

    checkExp :: ExpCmd -&gt; PV (LHsExpr GhcPs)
    checkCmd :: ExpCmd -&gt; PV (LHsCmd GhcPs)
    checkExp f = f ExpG  -- interpret as an expression
    checkCmd f = f CmdG  -- interpret as a command

Consider the 'alts' production used to parse case-of alternatives:

  alts :: { Located ([AddEpAnn],[LMatch GhcPs (LHsExpr GhcPs)]) }
    : alts1     { sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

We abstract over LHsExpr, and it becomes:

  alts :: { forall b. ExpCmdG b -&gt; PV (Located ([AddEpAnn],[LMatch GhcPs (Located (b GhcPs))])) }
    : alts1
        { \tag -&gt; $1 tag &gt;&gt;= \ $1 -&gt;
                  return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts
        { \tag -&gt; $2 tag &gt;&gt;= \ $2 -&gt;
                  return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

Note that 'ExpCmdG' is a singleton type, the value is completely
determined by the type:

  when (b~HsExpr),  tag = ExpG
  when (b~HsCmd),   tag = CmdG

This is a clear indication that we can use a class to pass this value behind
the scenes:

  class    ExpCmdI b      where expCmdG :: ExpCmdG b
  instance ExpCmdI HsExpr where expCmdG = ExpG
  instance ExpCmdI HsCmd  where expCmdG = CmdG

And now the 'alts' production is simplified, as we no longer need to
thread 'tag' explicitly:

  alts :: { forall b. ExpCmdI b =&gt; PV (Located ([AddEpAnn],[LMatch GhcPs (Located (b GhcPs))])) }
    : alts1     { $1 &gt;&gt;= \ $1 -&gt;
                  return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { $2 &gt;&gt;= \ $2 -&gt;
                  return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

This encoding works well enough, but introduces an extra GADT unlike the
tagless final encoding, and there's no need for this complexity.

-}</span><span>
</span><span id="line-2316"></span><span>
</span><span id="line-2317"></span><span class="hs-comment">{- Note [PatBuilder]
~~~~~~~~~~~~~~~~~~~~
Unlike HsExpr or HsCmd, the Pat type cannot accommodate all intermediate forms,
so we introduce the notion of a PatBuilder.

Consider a pattern like this:

  Con a b c

We parse arguments to &quot;Con&quot; one at a time in the  fexp aexp  parser production,
building the result with mkHsAppPV, so the intermediate forms are:

  1. Con
  2. Con a
  3. Con a b
  4. Con a b c

In 'HsExpr', we have 'HsApp', so the intermediate forms are represented like
this (pseudocode):

  1. &quot;Con&quot;
  2. HsApp &quot;Con&quot; &quot;a&quot;
  3. HsApp (HsApp &quot;Con&quot; &quot;a&quot;) &quot;b&quot;
  3. HsApp (HsApp (HsApp &quot;Con&quot; &quot;a&quot;) &quot;b&quot;) &quot;c&quot;

Similarly, in 'HsCmd' we have 'HsCmdApp'. In 'Pat', however, what we have
instead is 'ConPatIn', which is very awkward to modify and thus unsuitable for
the intermediate forms.

We also need an intermediate representation to postpone disambiguation between
FunBind and PatBind. Consider:

  a `Con` b = ...
  a `fun` b = ...

How do we know that (a `Con` b) is a PatBind but (a `fun` b) is a FunBind? We
learn this by inspecting an intermediate representation in 'isFunLhs' and
seeing that 'Con' is a data constructor but 'f' is not. We need an intermediate
representation capable of representing both a FunBind and a PatBind, so Pat is
insufficient.

PatBuilder is an extension of Pat that is capable of representing intermediate
parsing results for patterns and function bindings:

  data PatBuilder p
    = PatBuilderPat (Pat p)
    | PatBuilderApp (LocatedA (PatBuilder p)) (LocatedA (PatBuilder p))
    | PatBuilderOpApp (LocatedA (PatBuilder p)) (LocatedA RdrName) (LocatedA (PatBuilder p))
    ...

It can represent any pattern via 'PatBuilderPat', but it also has a variety of
other constructors which were added by following a simple principle: we never
pattern match on the pattern stored inside 'PatBuilderPat'.
-}</span><span>
</span><span id="line-2371"></span><span>
</span><span id="line-2372"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-2373"></span><span class="hs-comment">-- Miscellaneous utilities</span><span>
</span><span id="line-2374"></span><span>
</span><span id="line-2375"></span><span class="hs-comment">-- | Check if a fixity is valid. We support bypassing the usual bound checks</span><span>
</span><span id="line-2376"></span><span class="hs-comment">-- for some special operators.</span><span>
</span><span id="line-2377"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPrecP"><span class="hs-identifier hs-type">checkPrecP</span></a></span><span>
</span><span id="line-2378"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>              </span><span class="hs-comment">-- ^ precedence</span><span>
</span><span id="line-2379"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- ^ operators</span><span>
</span><span id="line-2380"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2381"></span><span id="checkPrecP"><span class="annot"><span class="annottext">checkPrecP :: Located (SourceText, Int)
-&gt; Located (OrdList (GenLocated SrcSpanAnnN RdrName)) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkPrecP"><span class="hs-identifier hs-var hs-var">checkPrecP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178719"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178719"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621681178718"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178718"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178717"><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681178717"><span class="hs-identifier hs-var">ol</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2382"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178718"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178718"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="GHC.Types.Fixity.html#maxPrecedence"><span class="hs-identifier hs-var">maxPrecedence</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2383"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#all"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="annot"><span class="annottext">forall {l}. GenLocated l RdrName -&gt; Bool
</span><a href="#local-6989586621681178713"><span class="hs-identifier hs-var">specialOp</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681178717"><span class="hs-identifier hs-var">ol</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2384"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrPrecedenceOutOfRange"><span class="hs-identifier hs-var">PsErrPrecedenceOutOfRange</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178718"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178719"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-2385"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2386"></span><span>    </span><span class="hs-comment">-- If you change this, consider updating Note [Fixity of (-&gt;)] in GHC/Types.hs</span><span>
</span><span id="line-2387"></span><span>    </span><span id="local-6989586621681178713"><span class="annot"><span class="annottext">specialOp :: GenLocated l RdrName -&gt; Bool
</span><a href="#local-6989586621681178713"><span class="hs-identifier hs-var hs-var">specialOp</span></a></span></span><span> </span><span id="local-6989586621681178708"><span class="annot"><span class="annottext">GenLocated l RdrName
</span><a href="#local-6989586621681178708"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated l RdrName
</span><a href="#local-6989586621681178708"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Types.html#eqTyCon_RDR"><span class="hs-identifier hs-var">eqTyCon_RDR</span></a></span><span>
</span><span id="line-2388"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="GHC.Builtin.Types.html#unrestrictedFunTyCon"><span class="hs-identifier hs-var">unrestrictedFunTyCon</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2389"></span><span>
</span><span id="line-2390"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-type">mkRecConstrOrUpdate</span></a></span><span>
</span><span id="line-2391"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-2392"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2393"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-2394"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-type">Fbind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2395"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2396"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2397"></span><span id="mkRecConstrOrUpdate"><span class="annot"><span class="annottext">mkRecConstrOrUpdate :: Bool
-&gt; LHsExpr GhcPs
-&gt; SrcSpan
-&gt; ([Fbind (HsExpr GhcPs)], Maybe SrcSpan)
-&gt; EpAnn [AddEpAnn]
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-var hs-var">mkRecConstrOrUpdate</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178706"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681178706"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178705"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178705"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178704"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178704"><span class="hs-identifier hs-var">_lrec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178703"><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681178703"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681178702"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681178702"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178701"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178701"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-2398"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178705"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-2399"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2400"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178700"><span class="annot"><span class="annottext">[LocatedA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178700"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178699"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldLabelStrings GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178699"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. [Either a b] -&gt; ([a], [b])
</span><a href="../../base-4.16.4.0/src/Data-Either.html#partitionEithers"><span class="hs-identifier hs-var">partitionEithers</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681178703"><span class="hs-identifier hs-var">fbinds</span></a></span><span>
</span><span id="line-2401"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldLabelStrings GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178699"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2402"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldLabelStrings GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178699"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2403"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; HsRecordBinds GhcPs -&gt; EpAnn [AddEpAnn] -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-var">mkRdrRecordCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681178706"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178705"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass) arg.
[LocatedA (HsRecField (GhcPass p) arg)]
-&gt; Maybe SrcSpan -&gt; HsRecFields (GhcPass p) arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178700"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681178702"><span class="hs-identifier hs-var">dd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178701"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2404"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-var">mkRecConstrOrUpdate</span></a></span><span> </span><span id="local-6989586621681178697"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178697"><span class="hs-identifier hs-var">overloaded_update</span></a></span></span><span> </span><span id="local-6989586621681178696"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178696"><span class="hs-identifier hs-var">exp</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178695"><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681178695"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681178694"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681178694"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178693"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178693"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-2405"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681178692"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178692"><span class="hs-identifier hs-var">dd_loc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681178694"><span class="hs-identifier hs-var">dd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrDotsInRecordUpdate"><span class="hs-identifier hs-var">PsErrDotsInRecordUpdate</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178692"><span class="hs-identifier hs-var">dd_loc</span></a></span><span>
</span><span id="line-2406"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsExpr GhcPs
-&gt; [Fbind (HsExpr GhcPs)]
-&gt; EpAnn [AddEpAnn]
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier hs-var">mkRdrRecordUpd</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178697"><span class="hs-identifier hs-var">overloaded_update</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178696"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681178695"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178693"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2407"></span><span>
</span><span id="line-2408"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier hs-type">mkRdrRecordUpd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-type">Fbind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2409"></span><span id="mkRdrRecordUpd"><span class="annot"><span class="annottext">mkRdrRecordUpd :: Bool
-&gt; LHsExpr GhcPs
-&gt; [Fbind (HsExpr GhcPs)]
-&gt; EpAnn [AddEpAnn]
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier hs-var hs-var">mkRdrRecordUpd</span></a></span></span><span> </span><span id="local-6989586621681178690"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178690"><span class="hs-identifier hs-var">overloaded_on</span></a></span></span><span> </span><span id="local-6989586621681178689"><span class="annot"><span class="annottext">exp :: LHsExpr GhcPs
</span><a href="#local-6989586621681178689"><span class="hs-identifier hs-var">exp</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178688"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178688"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178687"><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681178687"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span> </span><span id="local-6989586621681178686"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178686"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2410"></span><span>  </span><span class="hs-comment">-- We do not need to know if OverloadedRecordDot is in effect. We do</span><span>
</span><span id="line-2411"></span><span>  </span><span class="hs-comment">-- however need to know if OverloadedRecordUpdate (passed in</span><span>
</span><span id="line-2412"></span><span>  </span><span class="hs-comment">-- overloaded_on) is in effect because it affects the Left/Right nature</span><span>
</span><span id="line-2413"></span><span>  </span><span class="hs-comment">-- of the RecordUpd value we calculate.</span><span>
</span><span id="line-2414"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178685"><span class="annot"><span class="annottext">[LocatedA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178685"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178684"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldLabelStrings GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178684"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. [Either a b] -&gt; ([a], [b])
</span><a href="../../base-4.16.4.0/src/Data-Either.html#partitionEithers"><span class="hs-identifier hs-var">partitionEithers</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681178687"><span class="hs-identifier hs-var">fbinds</span></a></span><span>
</span><span id="line-2415"></span><span>      </span><span id="local-6989586621681178683"><span class="annot"><span class="annottext">fs' :: [GenLocated
   SrcSpanAnnA
   (HsRecField'
      (AmbiguousFieldOcc GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178683"><span class="hs-identifier hs-var hs-var">fs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecField GhcPs (LHsExpr GhcPs) -&gt; HsRecUpdField GhcPs
</span><a href="GHC.Parser.PostProcess.html#mk_rec_upd_field"><span class="hs-identifier hs-var">mk_rec_upd_field</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocatedA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178685"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-2416"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178690"><span class="hs-identifier hs-var">overloaded_on</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2417"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (FieldLabelStrings GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178684"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2418"></span><span>      </span><span class="hs-comment">-- A '.' was found in an update and OverloadedRecordUpdate isn't on.</span><span>
</span><span id="line-2419"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrOverloadedRecordUpdateNotEnabled"><span class="hs-identifier hs-var">PsErrOverloadedRecordUpdateNotEnabled</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178688"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2420"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2421"></span><span>      </span><span class="hs-comment">-- This is just a regular record update.</span><span>
</span><span id="line-2422"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2423"></span><span>        </span><span class="annot"><span class="annottext">rupd_ext :: XRecordUpd GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_ext"><span class="hs-identifier hs-var">rupd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178686"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2424"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_expr :: LHsExpr GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178689"><span class="hs-identifier hs-var">exp</span></a></span><span>
</span><span id="line-2425"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_flds :: Either [LHsRecUpdField GhcPs] [LHsRecProj GhcPs (LHsExpr GhcPs)]
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="../../base-4.16.4.0/src/Data-Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (AmbiguousFieldOcc GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178683"><span class="hs-identifier hs-var">fs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2426"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2427"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178676"><span class="annot"><span class="annottext">qualifiedFields :: [GenLocated SrcSpan (AmbiguousFieldOcc GhcPs)]
</span><a href="#local-6989586621681178676"><span class="hs-identifier hs-var hs-var">qualifiedFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2428"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178675"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">AmbiguousFieldOcc GhcPs
</span><a href="#local-6989586621681178674"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span class="annot"><span class="annottext">XHsRecField (AmbiguousFieldOcc GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178675"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178675"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178674"><span class="annot"><span class="annottext">AmbiguousFieldOcc GhcPs
</span><a href="#local-6989586621681178674"><span class="hs-identifier hs-var">lbl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsRecField'
      (AmbiguousFieldOcc GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681178683"><span class="hs-identifier hs-var">fs'</span></a></span><span>
</span><span id="line-2429"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isQual"><span class="hs-identifier hs-var">isQual</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (p :: Pass). AmbiguousFieldOcc (GhcPass p) -&gt; RdrName
</span><a href="GHC.Hs.Type.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AmbiguousFieldOcc GhcPs
</span><a href="#local-6989586621681178674"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-2430"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-2431"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (AmbiguousFieldOcc GhcPs)]
</span><a href="#local-6989586621681178676"><span class="hs-identifier hs-var">qualifiedFields</span></a></span><span>
</span><span id="line-2432"></span><span>        </span><span class="hs-keyword">then</span><span>
</span><span id="line-2433"></span><span>          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrOverloadedRecordUpdateNoQualifiedFields"><span class="hs-identifier hs-var">PsErrOverloadedRecordUpdateNoQualifiedFields</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (AmbiguousFieldOcc GhcPs)]
</span><a href="#local-6989586621681178676"><span class="hs-identifier hs-var">qualifiedFields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2434"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="hs-comment">-- This is a RecordDotSyntax update.</span><span>
</span><span id="line-2435"></span><span>          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2436"></span><span>            </span><span class="annot"><span class="annottext">rupd_ext :: XRecordUpd GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_ext"><span class="hs-identifier hs-var">rupd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178686"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2437"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_expr :: LHsExpr GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178689"><span class="hs-identifier hs-var">exp</span></a></span><span>
</span><span id="line-2438"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_flds :: Either [LHsRecUpdField GhcPs] [LHsRecProj GhcPs (LHsExpr GhcPs)]
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><a href="../../base-4.16.4.0/src/Data-Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)] -&gt; [LHsRecProj GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681178669"><span class="hs-identifier hs-var">toProjUpdates</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681178687"><span class="hs-identifier hs-var">fbinds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2439"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2440"></span><span>    </span><span class="annot"><a href="#local-6989586621681178669"><span class="hs-identifier hs-type">toProjUpdates</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-type">Fbind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecUpdProj"><span class="hs-identifier hs-type">LHsRecUpdProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2441"></span><span>    </span><span id="local-6989586621681178669"><span class="annot"><span class="annottext">toProjUpdates :: [Fbind (HsExpr GhcPs)] -&gt; [LHsRecProj GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681178669"><span class="hs-identifier hs-var hs-var">toProjUpdates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681178667"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (HsRecField'
     (FieldLabelStrings GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681178667"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (HsRecField'
     (FieldLabelStrings GhcPs) (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681178667"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621681178666"><span class="annot"><span class="annottext">LocatedA (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681178666"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsRecField GhcPs (LHsExpr GhcPs)
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681178665"><span class="hs-identifier hs-var">recFieldToProjUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681178666"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2442"></span><span>
</span><span id="line-2443"></span><span>    </span><span class="hs-comment">-- Convert a top-level field update like {foo=2} or {bar} (punned)</span><span>
</span><span id="line-2444"></span><span>    </span><span class="hs-comment">-- to a projection update.</span><span>
</span><span id="line-2445"></span><span>    </span><span class="annot"><a href="#local-6989586621681178665"><span class="hs-identifier hs-type">recFieldToProjUpdate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecUpdProj"><span class="hs-identifier hs-type">LHsRecUpdProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2446"></span><span>    </span><span id="local-6989586621681178665"><span class="annot"><span class="annottext">recFieldToProjUpdate :: LHsRecField GhcPs (LHsExpr GhcPs)
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681178665"><span class="hs-identifier hs-var hs-var">recFieldToProjUpdate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178664"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178664"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span id="local-6989586621681178663"><span class="annot"><span class="annottext">XHsRecField (FieldOcc GhcPs)
</span><a href="#local-6989586621681178663"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178661"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681178661"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681178660"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178660"><span class="hs-identifier hs-var">rdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178659"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681178659"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681178658"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178658"><span class="hs-identifier hs-var">pun</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2447"></span><span>        </span><span class="hs-comment">-- The idea here is to convert the label to a singleton [FastString].</span><span>
</span><span id="line-2448"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178657"><span class="annot"><span class="annottext">f :: FastString
</span><a href="#local-6989586621681178657"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178660"><span class="hs-identifier hs-var">rdr</span></a></span><span>
</span><span id="line-2449"></span><span>            </span><span id="local-6989586621681178656"><span class="annot"><span class="annottext">fl :: HsFieldLabel GhcPs
</span><a href="#local-6989586621681178656"><span class="hs-identifier hs-var hs-var">fl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p. XCHsFieldLabel p -&gt; Located FastString -&gt; HsFieldLabel p
</span><a href="Language.Haskell.Syntax.Expr.html#HsFieldLabel"><span class="hs-identifier hs-var">HsFieldLabel</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178654"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178657"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- AZ: what about the ann?</span><span>
</span><span id="line-2450"></span><span>            </span><span id="local-6989586621681178654"><span class="annot"><span class="annottext">lf :: SrcSpan
</span><a href="#local-6989586621681178654"><span class="hs-identifier hs-var hs-var">lf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681178661"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2451"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Located [Located (HsFieldLabel GhcPs)]
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; EpAnn [AddEpAnn]
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-var">mkRdrProjUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178664"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178654"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178654"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">HsFieldLabel GhcPs
</span><a href="#local-6989586621681178656"><span class="hs-identifier hs-var">fl</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; LHsExpr GhcPs
</span><a href="#local-6989586621681178653"><span class="hs-identifier hs-var">punnedVar</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178657"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178658"><span class="hs-identifier hs-var">pun</span></a></span><span> </span><span class="annot"><span class="annottext">XHsRecField (FieldOcc GhcPs)
</span><a href="#local-6989586621681178663"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2452"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-2453"></span><span>          </span><span class="hs-comment">-- If punning, compute HsVar &quot;f&quot; otherwise just arg. This</span><span>
</span><span id="line-2454"></span><span>          </span><span class="hs-comment">-- has the effect that sentinel HsVar &quot;pun-rhs&quot; is replaced</span><span>
</span><span id="line-2455"></span><span>          </span><span class="hs-comment">-- by HsVar &quot;f&quot; here, before the update is written to a</span><span>
</span><span id="line-2456"></span><span>          </span><span class="hs-comment">-- setField expressions.</span><span>
</span><span id="line-2457"></span><span>          </span><span class="annot"><a href="#local-6989586621681178653"><span class="hs-identifier hs-type">punnedVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2458"></span><span>          </span><span id="local-6989586621681178653"><span class="annot"><span class="annottext">punnedVar :: FastString -&gt; LHsExpr GhcPs
</span><a href="#local-6989586621681178653"><span class="hs-identifier hs-var hs-var">punnedVar</span></a></span></span><span> </span><span id="local-6989586621681178652"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178652"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178658"><span class="hs-identifier hs-var">pun</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681178659"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a an. a -&gt; LocatedAn an a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall p. XVar p -&gt; LIdP p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a an. a -&gt; LocatedAn an a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkRdrUnqual"><span class="hs-identifier hs-var">mkRdrUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-var">mkVarOccFS</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178652"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-2459"></span><span>
</span><span id="line-2460"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-type">mkRdrRecordCon</span></a></span><span>
</span><span id="line-2461"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsRecordBinds"><span class="hs-identifier hs-type">HsRecordBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2462"></span><span id="mkRdrRecordCon"><span class="annot"><span class="annottext">mkRdrRecordCon :: GenLocated SrcSpanAnnN RdrName
-&gt; HsRecordBinds GhcPs -&gt; EpAnn [AddEpAnn] -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-var hs-var">mkRdrRecordCon</span></a></span></span><span> </span><span id="local-6989586621681178649"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178649"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621681178648"><span class="annot"><span class="annottext">HsRecordBinds GhcPs
</span><a href="#local-6989586621681178648"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span id="local-6989586621681178647"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178647"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-2463"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordCon"><span class="hs-identifier hs-type">RecordCon</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rcon_ext :: XRecordCon GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rcon_ext"><span class="hs-identifier hs-var">rcon_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178647"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rcon_con :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#rcon_con"><span class="hs-identifier hs-var">rcon_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178649"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rcon_flds :: HsRecordBinds GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rcon_flds"><span class="hs-identifier hs-var">rcon_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsRecordBinds GhcPs
</span><a href="#local-6989586621681178648"><span class="hs-identifier hs-var">flds</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2464"></span><span>
</span><span id="line-2465"></span><span id="local-6989586621681181776"><span id="local-6989586621681181777"><span class="annot"><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-type">mk_rec_fields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181777"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681181776"><span class="hs-identifier hs-type">arg</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181777"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681181776"><span class="hs-identifier hs-type">arg</span></a></span></span></span><span>
</span><span id="line-2466"></span><span id="mk_rec_fields"><span class="annot"><span class="annottext">mk_rec_fields :: forall (p :: Pass) arg.
[LocatedA (HsRecField (GhcPass p) arg)]
-&gt; Maybe SrcSpan -&gt; HsRecFields (GhcPass p) arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var hs-var">mk_rec_fields</span></a></span></span><span> </span><span id="local-6989586621681178641"><span class="annot"><span class="annottext">[LocatedA (HsRecField (GhcPass p) arg)]
</span><a href="#local-6989586621681178641"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rec_flds :: [LHsRecField (GhcPass p) arg]
</span><a href="Language.Haskell.Syntax.Pat.html#rec_flds"><span class="hs-identifier hs-var">rec_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsRecField (GhcPass p) arg)]
</span><a href="#local-6989586621681178641"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rec_dotdot :: Maybe (Located Int)
</span><a href="Language.Haskell.Syntax.Pat.html#rec_dotdot"><span class="hs-identifier hs-var">rec_dotdot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2467"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span id="local-6989586621681178638"><span class="annot"><span class="annottext">[LocatedA (HsRecField (GhcPass p) arg)]
</span><a href="#local-6989586621681178638"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681178637"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178637"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rec_flds :: [LHsRecField (GhcPass p) arg]
</span><a href="Language.Haskell.Syntax.Pat.html#rec_flds"><span class="hs-identifier hs-var">rec_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsRecField (GhcPass p) arg)]
</span><a href="#local-6989586621681178638"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-2468"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rec_dotdot :: Maybe (Located Int)
</span><a href="Language.Haskell.Syntax.Pat.html#rec_dotdot"><span class="hs-identifier hs-var">rec_dotdot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178637"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsRecField (GhcPass p) arg)]
</span><a href="#local-6989586621681178638"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2469"></span><span>
</span><span id="line-2470"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mk_rec_upd_field"><span class="hs-identifier hs-type">mk_rec_upd_field</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecUpdField"><span class="hs-identifier hs-type">HsRecUpdField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2471"></span><span id="mk_rec_upd_field"><span class="annot"><span class="annottext">mk_rec_upd_field :: HsRecField GhcPs (LHsExpr GhcPs) -&gt; HsRecUpdField GhcPs
</span><a href="GHC.Parser.PostProcess.html#mk_rec_upd_field"><span class="hs-identifier hs-var hs-var">mk_rec_upd_field</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span id="local-6989586621681178636"><span class="annot"><span class="annottext">XHsRecField (FieldOcc GhcPs)
</span><a href="#local-6989586621681178636"><span class="hs-identifier hs-var">noAnn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178635"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178635"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178634"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178634"><span class="hs-identifier hs-var">rdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178633"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178633"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681178632"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178632"><span class="hs-identifier hs-var">pun</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2472"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall id arg.
XHsRecField id -&gt; Located id -&gt; arg -&gt; Bool -&gt; HsRecField' id arg
</span><a href="Language.Haskell.Syntax.Pat.html#HsRecField"><span class="hs-identifier hs-var">HsRecField</span></a></span><span> </span><span class="annot"><span class="annottext">XHsRecField (FieldOcc GhcPs)
</span><a href="#local-6989586621681178636"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178635"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pass.
XUnambiguous pass
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; AmbiguousFieldOcc pass
</span><a href="Language.Haskell.Syntax.Type.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178634"><span class="hs-identifier hs-var">rdr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178633"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178632"><span class="hs-identifier hs-var">pun</span></a></span><span>
</span><span id="line-2473"></span><span>
</span><span id="line-2474"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInlinePragma"><span class="hs-identifier hs-type">mkInlinePragma</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#InlineSpec"><span class="hs-identifier hs-type">InlineSpec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Activation"><span class="hs-identifier hs-type">Activation</span></a></span><span>
</span><span id="line-2475"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span>
</span><span id="line-2476"></span><span class="hs-comment">-- The (Maybe Activation) is because the user can omit</span><span>
</span><span id="line-2477"></span><span class="hs-comment">-- the activation spec (and usually does)</span><span>
</span><span id="line-2478"></span><span id="mkInlinePragma"><span class="annot"><span class="annottext">mkInlinePragma :: SourceText
-&gt; (InlineSpec, RuleMatchInfo) -&gt; Maybe Activation -&gt; InlinePragma
</span><a href="GHC.Parser.PostProcess.html#mkInlinePragma"><span class="hs-identifier hs-var hs-var">mkInlinePragma</span></a></span></span><span> </span><span id="local-6989586621681178630"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681178630"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178629"><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621681178629"><span class="hs-identifier hs-var">inl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178628"><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="#local-6989586621681178628"><span class="hs-identifier hs-var">match_info</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178627"><span class="annot"><span class="annottext">Maybe Activation
</span><a href="#local-6989586621681178627"><span class="hs-identifier hs-var">mb_act</span></a></span></span><span>
</span><span id="line-2479"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">inl_src :: SourceText
</span><a href="GHC.Types.Basic.html#inl_src"><span class="hs-identifier hs-var">inl_src</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681178630"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="hs-comment">-- Note [Pragma source text] in GHC.Types.SourceText</span><span>
</span><span id="line-2480"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_inline :: InlineSpec
</span><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621681178629"><span class="hs-identifier hs-var">inl</span></a></span><span>
</span><span id="line-2481"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_sat :: Maybe Int
</span><a href="GHC.Types.Basic.html#inl_sat"><span class="hs-identifier hs-var">inl_sat</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-2482"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_act :: Activation
</span><a href="GHC.Types.Basic.html#inl_act"><span class="hs-identifier hs-var">inl_act</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621681178621"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-2483"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_rule :: RuleMatchInfo
</span><a href="GHC.Types.Basic.html#inl_rule"><span class="hs-identifier hs-var">inl_rule</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="#local-6989586621681178628"><span class="hs-identifier hs-var">match_info</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2484"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2485"></span><span>    </span><span id="local-6989586621681178621"><span class="annot"><span class="annottext">act :: Activation
</span><a href="#local-6989586621681178621"><span class="hs-identifier hs-var hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Activation
</span><a href="#local-6989586621681178627"><span class="hs-identifier hs-var">mb_act</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2486"></span><span>            </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681178619"><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621681178619"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621681178619"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-2487"></span><span>            </span><span class="annot"><span class="annottext">Maybe Activation
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- No phase specified</span><span>
</span><span id="line-2488"></span><span>                        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621681178629"><span class="hs-identifier hs-var">inl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2489"></span><span>                          </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="GHC.Types.Basic.html#NoInline"><span class="hs-identifier hs-var">NoInline</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a></span><span>
</span><span id="line-2490"></span><span>                          </span><span id="local-6989586621681178616"><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621681178616"><span class="hs-identifier hs-var">_other</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a></span><span>
</span><span id="line-2491"></span><span>
</span><span id="line-2492"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2493"></span><span class="hs-comment">-- utilities for foreign declarations</span><span>
</span><span id="line-2494"></span><span>
</span><span id="line-2495"></span><span class="hs-comment">-- construct a foreign import declaration</span><span>
</span><span id="line-2496"></span><span class="hs-comment">--</span><span>
</span><span id="line-2497"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImport"><span class="hs-identifier hs-type">mkImport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span>
</span><span id="line-2498"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#Safety"><span class="hs-identifier hs-type">Safety</span></a></span><span>
</span><span id="line-2499"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2500"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2501"></span><span id="mkImport"><span class="annot"><span class="annottext">mkImport :: Located CCallConv
-&gt; Located Safety
-&gt; (Located StringLiteral, GenLocated SrcSpanAnnN RdrName,
    LHsSigType GhcPs)
-&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkImport"><span class="hs-identifier hs-var hs-var">mkImport</span></a></span></span><span> </span><span id="local-6989586621681178614"><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681178614"><span class="hs-identifier hs-var">cconv</span></a></span></span><span> </span><span id="local-6989586621681178613"><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621681178613"><span class="hs-identifier hs-var">safety</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178612"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178612"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span> </span><span id="local-6989586621681178610"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681178610"><span class="hs-identifier hs-var">esrc</span></a></span></span><span> </span><span id="local-6989586621681178609"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178609"><span class="hs-identifier hs-var">entity</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe RealSrcSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178608"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178608"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178607"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681178607"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2502"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681178614"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2503"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-var">CCallConv</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignImport -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681178605"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">P ForeignImport
</span><a href="#local-6989586621681178603"><span class="hs-identifier hs-var">mkCImport</span></a></span><span>
</span><span id="line-2504"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2505"></span><span>        </span><span id="local-6989586621681178601"><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178601"><span class="hs-identifier hs-var">imp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">P ForeignImport
</span><a href="#local-6989586621681178603"><span class="hs-identifier hs-var">mkCImport</span></a></span><span>
</span><span id="line-2506"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ForeignImport -&gt; Bool
</span><a href="#local-6989586621681178600"><span class="hs-identifier hs-var">isCWrapperImport</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178601"><span class="hs-identifier hs-var">imp</span></a></span><span>
</span><span id="line-2507"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrInvalidCApiImport"><span class="hs-identifier hs-var">PsErrInvalidCApiImport</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178612"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2508"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ForeignImport -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681178605"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178601"><span class="hs-identifier hs-var">imp</span></a></span><span>
</span><span id="line-2509"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#StdCallConv"><span class="hs-identifier hs-var">StdCallConv</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignImport -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681178605"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">P ForeignImport
</span><a href="#local-6989586621681178603"><span class="hs-identifier hs-var">mkCImport</span></a></span><span>
</span><span id="line-2510"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#PrimCallConv"><span class="hs-identifier hs-var">PrimCallConv</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681178596"><span class="hs-identifier hs-var">mkOtherImport</span></a></span><span>
</span><span id="line-2511"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#JavaScriptCallConv"><span class="hs-identifier hs-var">JavaScriptCallConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681178596"><span class="hs-identifier hs-var">mkOtherImport</span></a></span><span>
</span><span id="line-2512"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2513"></span><span>    </span><span class="hs-comment">-- Parse a C-like entity string of the following form:</span><span>
</span><span id="line-2514"></span><span>    </span><span class="hs-comment">--   &quot;[static] [chname] [&amp;] [cid]&quot; | &quot;dynamic&quot; | &quot;wrapper&quot;</span><span>
</span><span id="line-2515"></span><span>    </span><span class="hs-comment">-- If 'cid' is missing, the function name 'v' is used instead as symbol</span><span>
</span><span id="line-2516"></span><span>    </span><span class="hs-comment">-- name (cf section 8.5.1 in Haskell 2010 report).</span><span>
</span><span id="line-2517"></span><span>    </span><span id="local-6989586621681178603"><span class="annot"><span class="annottext">mkCImport :: P ForeignImport
</span><a href="#local-6989586621681178603"><span class="hs-identifier hs-var hs-var">mkCImport</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2518"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178594"><span class="annot"><span class="annottext">e :: String
</span><a href="#local-6989586621681178594"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178609"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2519"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Located CCallConv
-&gt; Located Safety
-&gt; FastString
-&gt; String
-&gt; Located SourceText
-&gt; Maybe ForeignImport
</span><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-var">parseCImport</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681178614"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621681178613"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var">mkExtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178608"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178594"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178612"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681178610"><span class="hs-identifier hs-var">esrc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2520"></span><span>        </span><span class="annot"><span class="annottext">Maybe ForeignImport
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrMalformedEntityString"><span class="hs-identifier hs-var">PsErrMalformedEntityString</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178612"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2521"></span><span>        </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681178592"><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178592"><span class="hs-identifier hs-var">importSpec</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178592"><span class="hs-identifier hs-var">importSpec</span></a></span><span>
</span><span id="line-2522"></span><span>
</span><span id="line-2523"></span><span>    </span><span id="local-6989586621681178600"><span class="annot"><span class="annottext">isCWrapperImport :: ForeignImport -&gt; Bool
</span><a href="#local-6989586621681178600"><span class="hs-identifier hs-var hs-var">isCWrapperImport</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CImport"><span class="hs-identifier hs-type">CImport</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Located Safety
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe Header
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CWrapper"><span class="hs-identifier hs-var">CWrapper</span></a></span><span> </span><span class="annot"><span class="annottext">Located SourceText
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2524"></span><span>    </span><span class="annot"><a href="#local-6989586621681178600"><span class="hs-identifier hs-var">isCWrapperImport</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-2525"></span><span>
</span><span id="line-2526"></span><span>    </span><span class="hs-comment">-- currently, all the other import conventions only support a symbol name in</span><span>
</span><span id="line-2527"></span><span>    </span><span class="hs-comment">-- the entity string. If it is missing, we use the function name instead.</span><span>
</span><span id="line-2528"></span><span>    </span><span id="local-6989586621681178596"><span class="annot"><span class="annottext">mkOtherImport :: P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681178596"><span class="hs-identifier hs-var hs-var">mkOtherImport</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ForeignImport -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681178605"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178589"><span class="hs-identifier hs-var">importSpec</span></a></span><span>
</span><span id="line-2529"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2530"></span><span>        </span><span id="local-6989586621681178588"><span class="annot"><span class="annottext">entity' :: FastString
</span><a href="#local-6989586621681178588"><span class="hs-identifier hs-var hs-var">entity'</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Data.FastString.html#nullFS"><span class="hs-identifier hs-var">nullFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178609"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2531"></span><span>                        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var">mkExtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178608"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2532"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178609"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2533"></span><span>        </span><span id="local-6989586621681178586"><span class="annot"><span class="annottext">funcTarget :: CImportSpec
</span><a href="#local-6989586621681178586"><span class="hs-identifier hs-var hs-var">funcTarget</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CCallTarget -&gt; CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; Maybe Unit -&gt; Bool -&gt; CCallTarget
</span><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-var">StaticTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681178610"><span class="hs-identifier hs-var">esrc</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178588"><span class="hs-identifier hs-var">entity'</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-2534"></span><span>        </span><span id="local-6989586621681178589"><span class="annot"><span class="annottext">importSpec :: ForeignImport
</span><a href="#local-6989586621681178589"><span class="hs-identifier hs-var hs-var">importSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located CCallConv
-&gt; Located Safety
-&gt; Maybe Header
-&gt; CImportSpec
-&gt; Located SourceText
-&gt; ForeignImport
</span><a href="Language.Haskell.Syntax.Decls.html#CImport"><span class="hs-identifier hs-var">CImport</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681178614"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621681178613"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621681178586"><span class="hs-identifier hs-var">funcTarget</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178612"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681178610"><span class="hs-identifier hs-var">esrc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2535"></span><span>
</span><span id="line-2536"></span><span>    </span><span id="local-6989586621681178605"><span class="annot"><span class="annottext">returnSpec :: ForeignImport -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681178605"><span class="hs-identifier hs-var hs-var">returnSpec</span></a></span></span><span> </span><span id="local-6989586621681178583"><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178583"><span class="hs-identifier hs-var">spec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681178582"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178582"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall p. XForD p -&gt; ForeignDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-var">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span>
</span><span id="line-2537"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fd_i_ext :: XForeignImport GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_i_ext"><span class="hs-identifier hs-var">fd_i_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178582"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-2538"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_name :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_name"><span class="hs-identifier hs-var">fd_name</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178608"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-2539"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_sig_ty :: LHsSigType GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_sig_ty"><span class="hs-identifier hs-var">fd_sig_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681178607"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2540"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_fi :: ForeignImport
</span><a href="Language.Haskell.Syntax.Decls.html#fd_fi"><span class="hs-identifier hs-var">fd_fi</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178583"><span class="hs-identifier hs-var">spec</span></a></span><span>
</span><span id="line-2541"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-2542"></span><span>
</span><span id="line-2543"></span><span>
</span><span id="line-2544"></span><span>
</span><span id="line-2545"></span><span class="hs-comment">-- the string &quot;foo&quot; is ambiguous: either a header or a C identifier.  The</span><span>
</span><span id="line-2546"></span><span class="hs-comment">-- C identifier case comes first in the alternatives below, so we pick</span><span>
</span><span id="line-2547"></span><span class="hs-comment">-- that one.</span><span>
</span><span id="line-2548"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-type">parseCImport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#Safety"><span class="hs-identifier hs-type">Safety</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-2549"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span>
</span><span id="line-2550"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span>
</span><span id="line-2551"></span><span id="parseCImport"><span class="annot"><span class="annottext">parseCImport :: Located CCallConv
-&gt; Located Safety
-&gt; FastString
-&gt; String
-&gt; Located SourceText
-&gt; Maybe ForeignImport
</span><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-var hs-var">parseCImport</span></a></span></span><span> </span><span id="local-6989586621681178575"><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681178575"><span class="hs-identifier hs-var">cconv</span></a></span></span><span> </span><span id="local-6989586621681178574"><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621681178574"><span class="hs-identifier hs-var">safety</span></a></span></span><span> </span><span id="local-6989586621681178573"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178573"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621681178572"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178572"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621681178571"><span class="annot"><span class="annottext">Located SourceText
</span><a href="#local-6989586621681178571"><span class="hs-identifier hs-var">sourceText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2552"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#listToMaybe"><span class="hs-identifier hs-var">listToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../../base-4.16.4.0/src/Data-Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2553"></span><span>     </span><span class="annot"><span class="annottext">forall a. ReadP a -&gt; ReadS a
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#readP_to_S"><span class="hs-identifier hs-var">readP_to_S</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP ForeignImport
</span><a href="#local-6989586621681178568"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178572"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2554"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2555"></span><span>   </span><span id="local-6989586621681178568"><span class="annot"><span class="annottext">parse :: ReadP ForeignImport
</span><a href="#local-6989586621681178568"><span class="hs-identifier hs-var hs-var">parse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2556"></span><span>       </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2557"></span><span>       </span><span id="local-6989586621681178566"><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178566"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. [ReadP a] -&gt; ReadP a
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2558"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ReadP String
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dynamic&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621681178563"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CCallTarget -&gt; CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a></span><span> </span><span class="annot"><span class="annottext">CCallTarget
</span><a href="GHC.Types.ForeignCall.html#DynamicTarget"><span class="hs-identifier hs-var">DynamicTarget</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2559"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ReadP String
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;wrapper&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621681178563"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CWrapper"><span class="hs-identifier hs-var">CWrapper</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2560"></span><span>          </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">forall a. ReadP a -&gt; ReadP ()
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#optional"><span class="hs-identifier hs-var">optional</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ReadP ()
</span><a href="#local-6989586621681178560"><span class="hs-identifier hs-var">token</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;static&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2561"></span><span>             </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621681178563"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReadP CImportSpec
</span><a href="#local-6989586621681178559"><span class="hs-identifier hs-var">cimp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178573"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. ReadP a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span>
</span><span id="line-2562"></span><span>              </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681178557"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178557"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ReadP String
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#munch1"><span class="hs-identifier hs-var">munch1</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621681178555"><span class="hs-identifier hs-var">hdr_char</span></a></span><span>
</span><span id="line-2563"></span><span>                  </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2564"></span><span>                  </span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621681178563"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; Header
</span><a href="GHC.Types.ForeignCall.html#Header"><span class="hs-identifier hs-var">Header</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178557"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178557"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2565"></span><span>                      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReadP CImportSpec
</span><a href="#local-6989586621681178559"><span class="hs-identifier hs-var">cimp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178573"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2566"></span><span>         </span><span class="hs-special">]</span><span>
</span><span id="line-2567"></span><span>       </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2568"></span><span>       </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621681178566"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-2569"></span><span>
</span><span id="line-2570"></span><span>   </span><span id="local-6989586621681178560"><span class="annot"><span class="annottext">token :: String -&gt; ReadP ()
</span><a href="#local-6989586621681178560"><span class="hs-identifier hs-var hs-var">token</span></a></span></span><span> </span><span id="local-6989586621681178548"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178548"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; ReadP String
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178548"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2571"></span><span>                  </span><span id="local-6989586621681178547"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178547"><span class="hs-identifier hs-var">toks</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadP String
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#look"><span class="hs-identifier hs-var">look</span></a></span><span>
</span><span id="line-2572"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178547"><span class="hs-identifier hs-var">toks</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2573"></span><span>                      </span><span id="local-6989586621681178545"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178545"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2574"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621681178544"><span class="hs-identifier hs-var">id_char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178545"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ReadP a
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#pfail"><span class="hs-identifier hs-var">pfail</span></a></span><span>
</span><span id="line-2575"></span><span>                      </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2576"></span><span>
</span><span id="line-2577"></span><span>   </span><span id="local-6989586621681178563"><span class="annot"><span class="annottext">mk :: Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621681178563"><span class="hs-identifier hs-var hs-var">mk</span></a></span></span><span> </span><span id="local-6989586621681178542"><span class="annot"><span class="annottext">Maybe Header
</span><a href="#local-6989586621681178542"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621681178541"><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621681178541"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located CCallConv
-&gt; Located Safety
-&gt; Maybe Header
-&gt; CImportSpec
-&gt; Located SourceText
-&gt; ForeignImport
</span><a href="Language.Haskell.Syntax.Decls.html#CImport"><span class="hs-identifier hs-var">CImport</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681178575"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621681178574"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
</span><a href="#local-6989586621681178542"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621681178541"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Located SourceText
</span><a href="#local-6989586621681178571"><span class="hs-identifier hs-var">sourceText</span></a></span><span>
</span><span id="line-2578"></span><span>
</span><span id="line-2579"></span><span>   </span><span id="local-6989586621681178555"><span class="annot"><span class="annottext">hdr_char :: Char -&gt; Bool
</span><a href="#local-6989586621681178555"><span class="hs-identifier hs-var hs-var">hdr_char</span></a></span></span><span> </span><span id="local-6989586621681178540"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178540"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base-4.16.4.0/src/GHC-Unicode.html#isSpace"><span class="hs-identifier hs-var">isSpace</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178540"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2580"></span><span>   </span><span class="hs-comment">-- header files are filenames, which can contain</span><span>
</span><span id="line-2581"></span><span>   </span><span class="hs-comment">-- pretty much any char (depending on the platform),</span><span>
</span><span id="line-2582"></span><span>   </span><span class="hs-comment">-- so just accept any non-space character</span><span>
</span><span id="line-2583"></span><span>   </span><span id="local-6989586621681178537"><span class="annot"><span class="annottext">id_first_char :: Char -&gt; Bool
</span><a href="#local-6989586621681178537"><span class="hs-identifier hs-var hs-var">id_first_char</span></a></span></span><span> </span><span id="local-6989586621681178536"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178536"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base-4.16.4.0/src/GHC-Unicode.html#isAlpha"><span class="hs-identifier hs-var">isAlpha</span></a></span><span>    </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178536"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178536"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span>
</span><span id="line-2584"></span><span>   </span><span id="local-6989586621681178544"><span class="annot"><span class="annottext">id_char :: Char -&gt; Bool
</span><a href="#local-6989586621681178544"><span class="hs-identifier hs-var hs-var">id_char</span></a></span></span><span>       </span><span id="local-6989586621681178533"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178533"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base-4.16.4.0/src/GHC-Unicode.html#isAlphaNum"><span class="hs-identifier hs-var">isAlphaNum</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178533"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178533"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span>
</span><span id="line-2585"></span><span>
</span><span id="line-2586"></span><span>   </span><span id="local-6989586621681178559"><span class="annot"><span class="annottext">cimp :: FastString -&gt; ReadP CImportSpec
</span><a href="#local-6989586621681178559"><span class="hs-identifier hs-var hs-var">cimp</span></a></span></span><span> </span><span id="local-6989586621681178531"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178531"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; ReadP Char
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#char"><span class="hs-identifier hs-var">ReadP.char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'&amp;'</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CLabel"><span class="hs-identifier hs-var">CLabel</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP FastString
</span><a href="#local-6989586621681178528"><span class="hs-identifier hs-var">cid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2587"></span><span>             </span><span class="annot"><span class="annottext">forall a. ReadP a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681178527"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178527"><span class="hs-identifier hs-var">isFun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681178575"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2588"></span><span>                               </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2589"></span><span>                                  </span><span class="annot"><span class="annottext">forall a. a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#option"><span class="hs-identifier hs-var">option</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2590"></span><span>                                         </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">String -&gt; ReadP ()
</span><a href="#local-6989586621681178560"><span class="hs-identifier hs-var">token</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;value&quot;</span></span><span>
</span><span id="line-2591"></span><span>                                             </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2592"></span><span>                                             </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-2593"></span><span>                               </span><span class="annot"><span class="annottext">CCallConv
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2594"></span><span>                     </span><span id="local-6989586621681178525"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178525"><span class="hs-identifier hs-var">cid'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadP FastString
</span><a href="#local-6989586621681178528"><span class="hs-identifier hs-var">cid</span></a></span><span>
</span><span id="line-2595"></span><span>                     </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CCallTarget -&gt; CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; Maybe Unit -&gt; Bool -&gt; CCallTarget
</span><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-var">StaticTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178525"><span class="hs-identifier hs-var">cid'</span></a></span><span>
</span><span id="line-2596"></span><span>                                        </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178527"><span class="hs-identifier hs-var">isFun</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2597"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-2598"></span><span>            </span><span id="local-6989586621681178528"><span class="annot"><span class="annottext">cid :: ReadP FastString
</span><a href="#local-6989586621681178528"><span class="hs-identifier hs-var hs-var">cid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178531"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. ReadP a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span>
</span><span id="line-2599"></span><span>                  </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681178524"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178524"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ReadP Char
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621681178537"><span class="hs-identifier hs-var">id_first_char</span></a></span><span>
</span><span id="line-2600"></span><span>                      </span><span id="local-6989586621681178522"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178522"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>  </span><span class="annot"><span class="annottext">forall a. ReadP a -&gt; ReadP [a]
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#many"><span class="hs-identifier hs-var">many</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ReadP Char
</span><a href="../../base-4.16.4.0/src/Text-ParserCombinators-ReadP.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621681178544"><span class="hs-identifier hs-var">id_char</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2601"></span><span>                      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681178524"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681178522"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2602"></span><span>
</span><span id="line-2603"></span><span>
</span><span id="line-2604"></span><span class="hs-comment">-- construct a foreign export declaration</span><span>
</span><span id="line-2605"></span><span class="hs-comment">--</span><span>
</span><span id="line-2606"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExport"><span class="hs-identifier hs-type">mkExport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span>
</span><span id="line-2607"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2608"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2609"></span><span id="mkExport"><span class="annot"><span class="annottext">mkExport :: Located CCallConv
-&gt; (Located StringLiteral, GenLocated SrcSpanAnnN RdrName,
    LHsSigType GhcPs)
-&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkExport"><span class="hs-identifier hs-var hs-var">mkExport</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178520"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178520"><span class="hs-identifier hs-var">lc</span></a></span></span><span> </span><span id="local-6989586621681178519"><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621681178519"><span class="hs-identifier hs-var">cconv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178518"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178518"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span> </span><span id="local-6989586621681178517"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681178517"><span class="hs-identifier hs-var">esrc</span></a></span></span><span> </span><span id="local-6989586621681178516"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178516"><span class="hs-identifier hs-var">entity</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe RealSrcSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178515"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178515"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178514"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681178514"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2610"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681178513"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178513"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall p. XForD p -&gt; ForeignDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-var">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2611"></span><span>   </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fd_e_ext :: XForeignExport GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_e_ext"><span class="hs-identifier hs-var">fd_e_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178513"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_name :: LIdP GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_name"><span class="hs-identifier hs-var">fd_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178515"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_sig_ty :: LHsSigType GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_sig_ty"><span class="hs-identifier hs-var">fd_sig_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681178514"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2612"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_fe :: ForeignExport
</span><a href="Language.Haskell.Syntax.Decls.html#fd_fe"><span class="hs-identifier hs-var">fd_fe</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located CExportSpec -&gt; Located SourceText -&gt; ForeignExport
</span><a href="Language.Haskell.Syntax.Decls.html#CExport"><span class="hs-identifier hs-var">CExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178520"><span class="hs-identifier hs-var">lc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; CCallConv -&gt; CExportSpec
</span><a href="GHC.Types.ForeignCall.html#CExportStatic"><span class="hs-identifier hs-var">CExportStatic</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681178517"><span class="hs-identifier hs-var">esrc</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178507"><span class="hs-identifier hs-var">entity'</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621681178519"><span class="hs-identifier hs-var">cconv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2613"></span><span>                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178518"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681178517"><span class="hs-identifier hs-var">esrc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2614"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2615"></span><span>    </span><span id="local-6989586621681178507"><span class="annot"><span class="annottext">entity' :: FastString
</span><a href="#local-6989586621681178507"><span class="hs-identifier hs-var hs-var">entity'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Data.FastString.html#nullFS"><span class="hs-identifier hs-var">nullFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178516"><span class="hs-identifier hs-var">entity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var">mkExtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178515"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2616"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681178516"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2617"></span><span>
</span><span id="line-2618"></span><span class="hs-comment">-- Supplying the ext_name in a foreign decl is optional; if it</span><span>
</span><span id="line-2619"></span><span class="hs-comment">-- isn't there, the Haskell name is assumed. Note that no transformation</span><span>
</span><span id="line-2620"></span><span class="hs-comment">-- of the Haskell name is then performed, so if you foreign export (++),</span><span>
</span><span id="line-2621"></span><span class="hs-comment">-- it's external name will be &quot;++&quot;. Too bad; it's important because we don't</span><span>
</span><span id="line-2622"></span><span class="hs-comment">-- want z-encoding (e.g. names with z's in them shouldn't be doubled)</span><span>
</span><span id="line-2623"></span><span class="hs-comment">--</span><span>
</span><span id="line-2624"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-type">mkExtName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CLabelString"><span class="hs-identifier hs-type">CLabelString</span></a></span><span>
</span><span id="line-2625"></span><span id="mkExtName"><span class="annot"><span class="annottext">mkExtName :: RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var hs-var">mkExtName</span></a></span></span><span> </span><span id="local-6989586621681178505"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178505"><span class="hs-identifier hs-var">rdrNm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; String
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178505"><span class="hs-identifier hs-var">rdrNm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2626"></span><span>
</span><span id="line-2627"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-2628"></span><span class="hs-comment">-- Help with module system imports/exports</span><span>
</span><span id="line-2629"></span><span>
</span><span id="line-2630"></span><span class="hs-keyword">data</span><span> </span><span id="ImpExpSubSpec"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier hs-var">ImpExpSubSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ImpExpAbs"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAbs"><span class="hs-identifier hs-var">ImpExpAbs</span></a></span></span><span>
</span><span id="line-2631"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpAll"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAll"><span class="hs-identifier hs-var">ImpExpAll</span></a></span></span><span>
</span><span id="line-2632"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpList"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-var">ImpExpList</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2633"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpAllWith"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAllWith"><span class="hs-identifier hs-var">ImpExpAllWith</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2634"></span><span>
</span><span id="line-2635"></span><span class="hs-keyword">data</span><span> </span><span id="ImpExpQcSpec"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-var">ImpExpQcSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ImpExpQcName"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcName"><span class="hs-identifier hs-var">ImpExpQcName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2636"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpQcType"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcType"><span class="hs-identifier hs-var">ImpExpQcType</span></a></span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2637"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpQcWildcard"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span></span><span>
</span><span id="line-2638"></span><span>
</span><span id="line-2639"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkModuleImpExp"><span class="hs-identifier hs-type">mkModuleImpExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier hs-type">ImpExpSubSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.ImpExp.html#IE"><span class="hs-identifier hs-type">IE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2640"></span><span id="mkModuleImpExp"><span class="annot"><span class="annottext">mkModuleImpExp :: [AddEpAnn]
-&gt; LocatedA ImpExpQcSpec -&gt; ImpExpSubSpec -&gt; P (IE GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkModuleImpExp"><span class="hs-identifier hs-var hs-var">mkModuleImpExp</span></a></span></span><span> </span><span id="local-6989586621681178497"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178497"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178496"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178495"><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621681178495"><span class="hs-identifier hs-var">specname</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178494"><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="#local-6989586621681178494"><span class="hs-identifier hs-var">subs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2641"></span><span>  </span><span id="local-6989586621681178493"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178493"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- AZ: IEVar can discard comments</span><span>
</span><span id="line-2642"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178492"><span class="annot"><span class="annottext">ann :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178492"><span class="hs-identifier hs-var hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178497"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178493"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2643"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="#local-6989586621681178494"><span class="hs-identifier hs-var">subs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2644"></span><span>    </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAbs"><span class="hs-identifier hs-var">ImpExpAbs</span></a></span><span>
</span><span id="line-2645"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace
</span><a href="GHC.Types.Name.Reader.html#rdrNameSpace"><span class="hs-identifier hs-var">rdrNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178489"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2646"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall pass. XIEVar pass -&gt; LIEWrappedName (IdP pass) -&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEVar"><span class="hs-identifier hs-var">IEVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; IEWrappedName RdrName
</span><a href="#local-6989586621681178487"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621681178495"><span class="hs-identifier hs-var">specname</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2647"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall pass.
XIEThingAbs pass -&gt; LIEWrappedName (IdP pass) -&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEThingAbs"><span class="hs-identifier hs-var">IEThingAbs</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178492"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName RdrName)
</span><a href="#local-6989586621681178485"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2648"></span><span>    </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAll"><span class="hs-identifier hs-var">ImpExpAll</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall pass.
XIEThingAll pass -&gt; LIEWrappedName (IdP pass) -&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEThingAll"><span class="hs-identifier hs-var">IEThingAll</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178492"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName RdrName)
</span><a href="#local-6989586621681178485"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2649"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-type">ImpExpList</span></a></span><span> </span><span id="local-6989586621681178483"><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681178483"><span class="hs-identifier hs-var">xs</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2650"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681178482"><span class="annot"><span class="annottext">IEWrappedName RdrName
</span><a href="#local-6989586621681178482"><span class="hs-identifier hs-var">newName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall pass.
XIEThingWith pass
-&gt; LIEWrappedName (IdP pass)
-&gt; IEWildcard
-&gt; [LIEWrappedName (IdP pass)]
-&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEThingWith"><span class="hs-identifier hs-var">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178492"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IEWrappedName RdrName
</span><a href="#local-6989586621681178482"><span class="hs-identifier hs-var">newName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2651"></span><span>        </span><span class="annot"><span class="annottext">IEWildcard
</span><a href="GHC.Hs.ImpExp.html#NoIEWildcard"><span class="hs-identifier hs-var">NoIEWildcard</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {l}.
[GenLocated l ImpExpQcSpec]
-&gt; [GenLocated l (IEWrappedName RdrName)]
</span><a href="#local-6989586621681178479"><span class="hs-identifier hs-var">wrapped</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681178483"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName RdrName)
</span><a href="#local-6989586621681178485"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2652"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAllWith"><span class="hs-identifier hs-type">ImpExpAllWith</span></a></span><span> </span><span id="local-6989586621681178478"><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681178478"><span class="hs-identifier hs-var">xs</span></a></span></span><span>                       </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2653"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681178477"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178477"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#PatternSynonymsBit"><span class="hs-identifier hs-var">PatternSynonymsBit</span></a></span><span>
</span><span id="line-2654"></span><span>         </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178477"><span class="hs-identifier hs-var">allowed</span></a></span><span>
</span><span id="line-2655"></span><span>          </span><span class="hs-keyword">then</span><span>
</span><span id="line-2656"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178475"><span class="annot"><span class="annottext">withs :: [ImpExpQcSpec]
</span><a href="#local-6989586621681178475"><span class="hs-identifier hs-var hs-var">withs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681178478"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-2657"></span><span>                </span><span id="local-6989586621681178474"><span class="annot"><span class="annottext">pos :: IEWildcard
</span><a href="#local-6989586621681178474"><span class="hs-identifier hs-var hs-var">pos</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">IEWildcard
</span><a href="GHC.Hs.ImpExp.html#NoIEWildcard"><span class="hs-identifier hs-var">NoIEWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IEWildcard
</span><a href="GHC.Hs.ImpExp.html#IEWildcard"><span class="hs-identifier hs-var">IEWildcard</span></a></span><span>
</span><span id="line-2658"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; Maybe Int
</span><a href="../../base-4.16.4.0/src/Data-OldList.html#findIndex"><span class="hs-identifier hs-var">findIndex</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">[ImpExpQcSpec]
</span><a href="#local-6989586621681178475"><span class="hs-identifier hs-var">withs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2659"></span><span>                </span><span class="annot"><a href="#local-6989586621681178470"><span class="hs-identifier hs-type">ies</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.ImpExp.html#IEWrappedName"><span class="hs-identifier hs-type">IEWrappedName</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2660"></span><span>                </span><span id="local-6989586621681178470"><span class="annot"><span class="annottext">ies :: [LocatedA (IEWrappedName RdrName)]
</span><a href="#local-6989586621681178470"><span class="hs-identifier hs-var hs-var">ies</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {l}.
[GenLocated l ImpExpQcSpec]
-&gt; [GenLocated l (IEWrappedName RdrName)]
</span><a href="#local-6989586621681178479"><span class="hs-identifier hs-var">wrapped</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681178478"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-2661"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681178469"><span class="annot"><span class="annottext">IEWrappedName RdrName
</span><a href="#local-6989586621681178469"><span class="hs-identifier hs-var">newName</span></a></span></span><span>
</span><span id="line-2662"></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall pass.
XIEThingWith pass
-&gt; LIEWrappedName (IdP pass)
-&gt; IEWildcard
-&gt; [LIEWrappedName (IdP pass)]
-&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEThingWith"><span class="hs-identifier hs-var">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178492"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IEWrappedName RdrName
</span><a href="#local-6989586621681178469"><span class="hs-identifier hs-var">newName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IEWildcard
</span><a href="#local-6989586621681178474"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (IEWrappedName RdrName)]
</span><a href="#local-6989586621681178470"><span class="hs-identifier hs-var">ies</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2663"></span><span>               </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName RdrName)
</span><a href="#local-6989586621681178485"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2664"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIllegalPatSynExport"><span class="hs-identifier hs-var">PsErrIllegalPatSynExport</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2665"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2666"></span><span>    </span><span id="local-6989586621681178489"><span class="annot"><span class="annottext">name :: RdrName
</span><a href="#local-6989586621681178489"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; RdrName
</span><a href="#local-6989586621681178467"><span class="hs-identifier hs-var">ieNameVal</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621681178495"><span class="hs-identifier hs-var">specname</span></a></span><span>
</span><span id="line-2667"></span><span>    </span><span id="local-6989586621681178485"><span class="annot"><span class="annottext">nameT :: P (IEWrappedName RdrName)
</span><a href="#local-6989586621681178485"><span class="hs-identifier hs-var hs-var">nameT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2668"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace
</span><a href="GHC.Types.Name.Reader.html#rdrNameSpace"><span class="hs-identifier hs-var">rdrNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178489"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2669"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrVarForTyCon"><span class="hs-identifier hs-var">PsErrVarForTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178489"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178496"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2670"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; IEWrappedName RdrName
</span><a href="#local-6989586621681178487"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621681178495"><span class="hs-identifier hs-var">specname</span></a></span><span>
</span><span id="line-2671"></span><span>
</span><span id="line-2672"></span><span>    </span><span id="local-6989586621681178467"><span class="annot"><span class="annottext">ieNameVal :: ImpExpQcSpec -&gt; RdrName
</span><a href="#local-6989586621681178467"><span class="hs-identifier hs-var hs-var">ieNameVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcName"><span class="hs-identifier hs-type">ImpExpQcName</span></a></span><span> </span><span id="local-6989586621681178465"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178465"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178465"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2673"></span><span>    </span><span class="annot"><a href="#local-6989586621681178467"><span class="hs-identifier hs-var">ieNameVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcType"><span class="hs-identifier hs-type">ImpExpQcType</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178464"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178464"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178464"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2674"></span><span>    </span><span class="annot"><a href="#local-6989586621681178467"><span class="hs-identifier hs-var">ieNameVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ieNameVal got wildcard&quot;</span></span><span>
</span><span id="line-2675"></span><span>
</span><span id="line-2676"></span><span>    </span><span id="local-6989586621681178487"><span class="annot"><span class="annottext">ieNameFromSpec :: ImpExpQcSpec -&gt; IEWrappedName RdrName
</span><a href="#local-6989586621681178487"><span class="hs-identifier hs-var hs-var">ieNameFromSpec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcName"><span class="hs-identifier hs-type">ImpExpQcName</span></a></span><span>   </span><span id="local-6989586621681178463"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178463"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall name. LocatedN name -&gt; IEWrappedName name
</span><a href="GHC.Hs.ImpExp.html#IEName"><span class="hs-identifier hs-var">IEName</span></a></span><span>   </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178463"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2677"></span><span>    </span><span class="annot"><a href="#local-6989586621681178487"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcType"><span class="hs-identifier hs-type">ImpExpQcType</span></a></span><span> </span><span id="local-6989586621681178461"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681178461"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681178460"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178460"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall name. EpaLocation -&gt; LocatedN name -&gt; IEWrappedName name
</span><a href="GHC.Hs.ImpExp.html#IEType"><span class="hs-identifier hs-var">IEType</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681178461"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178460"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2678"></span><span>    </span><span class="annot"><a href="#local-6989586621681178487"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ieName got wildcard&quot;</span></span><span>
</span><span id="line-2679"></span><span>
</span><span id="line-2680"></span><span>    </span><span id="local-6989586621681178479"><span class="annot"><span class="annottext">wrapped :: [GenLocated l ImpExpQcSpec]
-&gt; [GenLocated l (IEWrappedName RdrName)]
</span><a href="#local-6989586621681178479"><span class="hs-identifier hs-var hs-var">wrapped</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b l. (a -&gt; b) -&gt; GenLocated l a -&gt; GenLocated l b
</span><a href="GHC.Types.SrcLoc.html#mapLoc"><span class="hs-identifier hs-var">mapLoc</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; IEWrappedName RdrName
</span><a href="#local-6989586621681178487"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2681"></span><span>
</span><span id="line-2682"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTypeImpExp"><span class="hs-identifier hs-type">mkTypeImpExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>   </span><span class="hs-comment">-- TcCls or Var name space</span><span>
</span><span id="line-2683"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2684"></span><span id="mkTypeImpExp"><span class="annot"><span class="annottext">mkTypeImpExp :: GenLocated SrcSpanAnnN RdrName
-&gt; P (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#mkTypeImpExp"><span class="hs-identifier hs-var hs-var">mkTypeImpExp</span></a></span></span><span> </span><span id="local-6989586621681178458"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178458"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2685"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681178457"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178457"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#ExplicitNamespacesBit"><span class="hs-identifier hs-var">ExplicitNamespacesBit</span></a></span><span>
</span><span id="line-2686"></span><span>     </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178457"><span class="hs-identifier hs-var">allowed</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIllegalExplicitNamespace"><span class="hs-identifier hs-var">PsErrIllegalExplicitNamespace</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178458"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2687"></span><span>     </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-operator hs-var">`setRdrNameSpace`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178458"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2688"></span><span>
</span><span id="line-2689"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportSpec"><span class="hs-identifier hs-type">checkImportSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2690"></span><span id="checkImportSpec"><span class="annot"><span class="annottext">checkImportSpec :: LocatedL [LIE GhcPs] -&gt; P (LocatedL [LIE GhcPs])
</span><a href="GHC.Parser.PostProcess.html#checkImportSpec"><span class="hs-identifier hs-var hs-var">checkImportSpec</span></a></span></span><span> </span><span id="local-6989586621681178454"><span class="annot"><span class="annottext">ie :: LocatedL [LIE GhcPs]
</span><a href="#local-6989586621681178454"><span class="hs-identifier hs-var">ie</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178453"><span class="annot"><span class="annottext">[LIE GhcPs]
</span><a href="#local-6989586621681178453"><span class="hs-identifier hs-var">specs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2691"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178452"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178452"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178452"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.ImpExp.html#IEThingWith"><span class="hs-identifier hs-type">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingWith GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIEWrappedName (IdP GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.ImpExp.html#IEWildcard"><span class="hs-identifier hs-type">IEWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIEWrappedName (IdP GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LIE GhcPs]
</span><a href="#local-6989586621681178453"><span class="hs-identifier hs-var">specs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2692"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedL [LIE GhcPs]
</span><a href="#local-6989586621681178454"><span class="hs-identifier hs-var">ie</span></a></span><span>
</span><span id="line-2693"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681178451"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178451"><span class="hs-identifier hs-var">l</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[SrcSpanAnnA]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a}. MonadP m =&gt; SrcSpan -&gt; m a
</span><a href="#local-6989586621681178450"><span class="hs-identifier hs-var">importSpecError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178451"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2694"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2695"></span><span>    </span><span id="local-6989586621681178450"><span class="annot"><span class="annottext">importSpecError :: SrcSpan -&gt; m a
</span><a href="#local-6989586621681178450"><span class="hs-identifier hs-var hs-var">importSpecError</span></a></span></span><span> </span><span id="local-6989586621681178447"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178447"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2696"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIllegalImportBundleForm"><span class="hs-identifier hs-var">PsErrIllegalImportBundleForm</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178447"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-2697"></span><span>
</span><span id="line-2698"></span><span class="hs-comment">-- In the correct order</span><span>
</span><span id="line-2699"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-type">mkImpExpSubSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier hs-type">ImpExpSubSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2700"></span><span id="mkImpExpSubSpec"><span class="annot"><span class="annottext">mkImpExpSubSpec :: [LocatedA ImpExpQcSpec] -&gt; P ([AddEpAnn], ImpExpSubSpec)
</span><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-var hs-var">mkImpExpSubSpec</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec] -&gt; ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-var">ImpExpList</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2701"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-var">mkImpExpSubSpec</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178445"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178445"><span class="hs-identifier hs-var">la</span></a></span></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2702"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnnKeywordId -&gt; EpaLocation -&gt; AddEpAnn
</span><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-var">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnDotdot"><span class="hs-identifier hs-var">AnnDotdot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-var">EpaSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#la2r"><span class="hs-identifier hs-var">la2r</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178445"><span class="hs-identifier hs-var">la</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAll"><span class="hs-identifier hs-var">ImpExpAll</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2703"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-var">mkImpExpSubSpec</span></a></span><span> </span><span id="local-6989586621681178442"><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681178442"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2704"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681178442"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2705"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec] -&gt; ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAllWith"><span class="hs-identifier hs-var">ImpExpAllWith</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681178442"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2706"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec] -&gt; ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-var">ImpExpList</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681178442"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2707"></span><span>
</span><span id="line-2708"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-type">isImpExpQcWildcard</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-2709"></span><span id="isImpExpQcWildcard"><span class="annot"><span class="annottext">isImpExpQcWildcard :: ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var hs-var">isImpExpQcWildcard</span></a></span></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2710"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-2711"></span><span>
</span><span id="line-2712"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2713"></span><span class="hs-comment">-- Warnings and failures</span><span>
</span><span id="line-2714"></span><span>
</span><span id="line-2715"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier hs-type">warnPrepositiveQualifiedModule</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2716"></span><span id="warnPrepositiveQualifiedModule"><span class="annot"><span class="annottext">warnPrepositiveQualifiedModule :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier hs-var hs-var">warnPrepositiveQualifiedModule</span></a></span></span><span> </span><span id="local-6989586621681178441"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178441"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2717"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; WarningFlag -&gt; PsWarning -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addWarning"><span class="hs-identifier hs-var">addWarning</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="GHC.Driver.Flags.html#Opt_WarnPrepositiveQualifiedModule"><span class="hs-identifier hs-var">Opt_WarnPrepositiveQualifiedModule</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PsWarning
</span><a href="GHC.Parser.Errors.html#PsWarnImportPreQualified"><span class="hs-identifier hs-var">PsWarnImportPreQualified</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178441"><span class="hs-identifier hs-var">span</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2718"></span><span>
</span><span id="line-2719"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpNotEnabledImportQualifiedPost"><span class="hs-identifier hs-type">failOpNotEnabledImportQualifiedPost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2720"></span><span id="failOpNotEnabledImportQualifiedPost"><span class="annot"><span class="annottext">failOpNotEnabledImportQualifiedPost :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failOpNotEnabledImportQualifiedPost"><span class="hs-identifier hs-var hs-var">failOpNotEnabledImportQualifiedPost</span></a></span></span><span> </span><span id="local-6989586621681178438"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178438"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrImportPostQualified"><span class="hs-identifier hs-var">PsErrImportPostQualified</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178438"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2721"></span><span>
</span><span id="line-2722"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpImportQualifiedTwice"><span class="hs-identifier hs-type">failOpImportQualifiedTwice</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2723"></span><span id="failOpImportQualifiedTwice"><span class="annot"><span class="annottext">failOpImportQualifiedTwice :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failOpImportQualifiedTwice"><span class="hs-identifier hs-var hs-var">failOpImportQualifiedTwice</span></a></span></span><span> </span><span id="local-6989586621681178436"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178436"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrImportQualifiedTwice"><span class="hs-identifier hs-var">PsErrImportQualifiedTwice</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178436"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2724"></span><span>
</span><span id="line-2725"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnStarIsType"><span class="hs-identifier hs-type">warnStarIsType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2726"></span><span id="warnStarIsType"><span class="annot"><span class="annottext">warnStarIsType :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnStarIsType"><span class="hs-identifier hs-var hs-var">warnStarIsType</span></a></span></span><span> </span><span id="local-6989586621681178434"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178434"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; WarningFlag -&gt; PsWarning -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addWarning"><span class="hs-identifier hs-var">addWarning</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="GHC.Driver.Flags.html#Opt_WarnStarIsType"><span class="hs-identifier hs-var">Opt_WarnStarIsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PsWarning
</span><a href="GHC.Parser.Errors.html#PsWarnStarIsType"><span class="hs-identifier hs-var">PsWarnStarIsType</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178434"><span class="hs-identifier hs-var">span</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2727"></span><span>
</span><span id="line-2728"></span><span id="local-6989586621681181641"><span id="local-6989586621681181642"><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier hs-type">failOpFewArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181642"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681181642"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181641"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-2729"></span><span id="failOpFewArgs"><span class="annot"><span class="annottext">failOpFewArgs :: forall (m :: * -&gt; *) a.
MonadP m =&gt;
GenLocated SrcSpanAnnN RdrName -&gt; m a
</span><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier hs-var hs-var">failOpFewArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178426"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681178426"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681178425"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178425"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2730"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681178424"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178424"><span class="hs-identifier hs-var">star_is_type</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#StarIsTypeBit"><span class="hs-identifier hs-var">StarIsTypeBit</span></a></span><span>
</span><span id="line-2731"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StarIsType -&gt; RdrName -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrOpFewArgs"><span class="hs-identifier hs-var">PsErrOpFewArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; StarIsType
</span><a href="GHC.Parser.Errors.html#StarIsType"><span class="hs-identifier hs-var">StarIsType</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178424"><span class="hs-identifier hs-var">star_is_type</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681178425"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681178426"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2732"></span><span>
</span><span id="line-2733"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2734"></span><span class="hs-comment">-- Misc utils</span><span>
</span><span id="line-2735"></span><span>
</span><span id="line-2736"></span><span class="hs-keyword">data</span><span> </span><span id="PV_Context"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-var">PV_Context</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2737"></span><span>  </span><span id="PV_Context"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-var">PV_Context</span></a></span></span><span>
</span><span id="line-2738"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="pv_options"><span class="annot"><span class="annottext">PV_Context -&gt; ParserOpts
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var hs-var">pv_options</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#ParserOpts"><span class="hs-identifier hs-type">ParserOpts</span></a></span><span>
</span><span id="line-2739"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_hints"><span class="annot"><span class="annottext">PV_Context -&gt; [Hint]
</span><a href="GHC.Parser.PostProcess.html#pv_hints"><span class="hs-identifier hs-var hs-var">pv_hints</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Errors.html#Hint"><span class="hs-identifier hs-type">Hint</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- See Note [Parser-Validator Hint]</span><span>
</span><span id="line-2740"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-2741"></span><span>
</span><span id="line-2742"></span><span class="hs-keyword">data</span><span> </span><span id="PV_Accum"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-var">PV_Accum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2743"></span><span>  </span><span id="PV_Accum"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-var">PV_Accum</span></a></span></span><span>
</span><span id="line-2744"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="pv_warnings"><span class="annot"><span class="annottext">PV_Accum -&gt; Bag PsWarning
</span><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var hs-var">pv_warnings</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Errors.html#PsWarning"><span class="hs-identifier hs-type">PsWarning</span></a></span><span>
</span><span id="line-2745"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_errors"><span class="annot"><span class="annottext">PV_Accum -&gt; Bag PsError
</span><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var hs-var">pv_errors</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-type">PsError</span></a></span><span>
</span><span id="line-2746"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_header_comments"><span class="annot"><span class="annottext">PV_Accum -&gt; Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var hs-var">pv_header_comments</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LEpaComment"><span class="hs-identifier hs-type">LEpaComment</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2747"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_comment_q"><span class="annot"><span class="annottext">PV_Accum -&gt; [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var hs-var">pv_comment_q</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LEpaComment"><span class="hs-identifier hs-type">LEpaComment</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2748"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-2749"></span><span>
</span><span id="line-2750"></span><span class="hs-keyword">data</span><span> </span><span id="PV_Result"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Result"><span class="hs-identifier hs-var">PV_Result</span></a></span></span><span> </span><span id="local-6989586621681181614"><span class="annot"><a href="#local-6989586621681181614"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PV_Ok"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181614"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="PV_Failed"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-var">PV_Failed</span></a></span></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span>
</span><span id="line-2751"></span><span>
</span><span id="line-2752"></span><span class="hs-comment">-- During parsing, we make use of several monadic effects: reporting parse errors,</span><span>
</span><span id="line-2753"></span><span class="hs-comment">-- accumulating warnings, adding API annotations, and checking for extensions. These</span><span>
</span><span id="line-2754"></span><span class="hs-comment">-- effects are captured by the 'MonadP' type class.</span><span>
</span><span id="line-2755"></span><span class="hs-comment">--</span><span>
</span><span id="line-2756"></span><span class="hs-comment">-- Sometimes we need to postpone some of these effects to a later stage due to</span><span>
</span><span id="line-2757"></span><span class="hs-comment">-- ambiguities described in Note [Ambiguous syntactic categories].</span><span>
</span><span id="line-2758"></span><span class="hs-comment">-- We could use two layers of the P monad, one for each stage:</span><span>
</span><span id="line-2759"></span><span class="hs-comment">--</span><span>
</span><span id="line-2760"></span><span class="hs-comment">--   abParser :: forall x. DisambAB x =&gt; P (P x)</span><span>
</span><span id="line-2761"></span><span class="hs-comment">--</span><span>
</span><span id="line-2762"></span><span class="hs-comment">-- The outer layer of P consumes the input and builds the inner layer, which</span><span>
</span><span id="line-2763"></span><span class="hs-comment">-- validates the input. But this type is not particularly helpful, as it obscures</span><span>
</span><span id="line-2764"></span><span class="hs-comment">-- the fact that the inner layer of P never consumes any input.</span><span>
</span><span id="line-2765"></span><span class="hs-comment">--</span><span>
</span><span id="line-2766"></span><span class="hs-comment">-- For clarity, we introduce the notion of a parser-validator: a parser that does</span><span>
</span><span id="line-2767"></span><span class="hs-comment">-- not consume any input, but may fail or use other effects. Thus we have:</span><span>
</span><span id="line-2768"></span><span class="hs-comment">--</span><span>
</span><span id="line-2769"></span><span class="hs-comment">--   abParser :: forall x. DisambAB x =&gt; P (PV x)</span><span>
</span><span id="line-2770"></span><span class="hs-comment">--</span><span>
</span><span id="line-2771"></span><span class="hs-keyword">newtype</span><span> </span><span id="PV"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span></span><span> </span><span id="local-6989586621681181634"><span class="annot"><a href="#local-6989586621681181634"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PV"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unPV"><span class="annot"><span class="annottext">forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var hs-var">unPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-type">PV_Context</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Result"><span class="hs-identifier hs-type">PV_Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181634"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2772"></span><span>
</span><span id="line-2773"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681178406"><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2774"></span><span>  </span><span id="local-6989586621681178403"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; PV a -&gt; PV b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#liftM"><span class="hs-identifier hs-var">liftM</span></a></span><span>
</span><span id="line-2775"></span><span>
</span><span id="line-2776"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681178392"><span id="local-6989586621681178394"><span id="local-6989586621681178396"><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2777"></span><span>  </span><span id="local-6989586621681178390"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; PV a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#pure"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span id="local-6989586621681178389"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681178389"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681178389"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">seq :: forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-type">`seq`</span></span><span> </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178388"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178388"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178388"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681178389"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2778"></span><span>  </span><span id="local-6989586621681178386"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. PV (a -&gt; b) -&gt; PV a -&gt; PV b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3C%2A%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;*&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#ap"><span class="hs-identifier hs-var">ap</span></a></span><span>
</span><span id="line-2779"></span><span>
</span><span id="line-2780"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681178378"><span id="local-6989586621681178380"><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2781"></span><span>  </span><span id="local-6989586621681178376"><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681178376"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681178375"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. PV a -&gt; (a -&gt; PV b) -&gt; PV b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E%3D"><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;=</span></a></span></span><span> </span><span id="local-6989586621681178374"><span class="annot"><span class="annottext">a -&gt; PV b
</span><a href="#local-6989586621681178374"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681178373"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178373"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621681178372"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178372"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2782"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var">unPV</span></a></span><span> </span><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681178376"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178373"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178372"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2783"></span><span>      </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-type">PV_Ok</span></a></span><span> </span><span id="local-6989586621681178371"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178371"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span id="local-6989586621681178370"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681178370"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var">unPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; PV b
</span><a href="#local-6989586621681178374"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681178370"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178373"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178371"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2784"></span><span>      </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-type">PV_Failed</span></a></span><span> </span><span id="local-6989586621681178369"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178369"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-var">PV_Failed</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178369"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2785"></span><span>
</span><span id="line-2786"></span><span id="local-6989586621681181896"><span class="annot"><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-type">runPV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181896"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181896"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2787"></span><span id="runPV"><span class="annot"><span class="annottext">runPV :: forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var hs-var">runPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [Hint] -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_hints"><span class="hs-identifier hs-var">runPV_hints</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2788"></span><span>
</span><span id="line-2789"></span><span id="local-6989586621681181895"><span class="annot"><a href="GHC.Parser.PostProcess.html#runPV_hints"><span class="hs-identifier hs-type">runPV_hints</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Errors.html#Hint"><span class="hs-identifier hs-type">Hint</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181895"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181895"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2790"></span><span id="runPV_hints"><span class="annot"><span class="annottext">runPV_hints :: forall a. [Hint] -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_hints"><span class="hs-identifier hs-var hs-var">runPV_hints</span></a></span></span><span> </span><span id="local-6989586621681178368"><span class="annot"><span class="annottext">[Hint]
</span><a href="#local-6989586621681178368"><span class="hs-identifier hs-var">hints</span></a></span></span><span> </span><span id="local-6989586621681178367"><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681178367"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2791"></span><span>  </span><span class="annot"><span class="annottext">forall a. (PState -&gt; ParseResult a) -&gt; P a
</span><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-var">P</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681178365"><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681178365"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2792"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-2793"></span><span>      </span><span id="local-6989586621681178364"><span class="annot"><span class="annottext">pv_ctx :: PV_Context
</span><a href="#local-6989586621681178364"><span class="hs-identifier hs-var hs-var">pv_ctx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-type">PV_Context</span></a></span><span>
</span><span id="line-2794"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pv_options :: ParserOpts
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var">pv_options</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; ParserOpts
</span><a href="GHC.Parser.Lexer.html#options"><span class="hs-identifier hs-var">options</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681178365"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2795"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_hints :: [Hint]
</span><a href="GHC.Parser.PostProcess.html#pv_hints"><span class="hs-identifier hs-var">pv_hints</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Hint]
</span><a href="#local-6989586621681178368"><span class="hs-identifier hs-var">hints</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2796"></span><span>      </span><span id="local-6989586621681178362"><span class="annot"><span class="annottext">pv_acc :: PV_Accum
</span><a href="#local-6989586621681178362"><span class="hs-identifier hs-var hs-var">pv_acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span>
</span><span id="line-2797"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pv_warnings :: Bag PsWarning
</span><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var">pv_warnings</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; Bag PsWarning
</span><a href="GHC.Parser.Lexer.html#warnings"><span class="hs-identifier hs-var">warnings</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681178365"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2798"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_errors :: Bag PsError
</span><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var">pv_errors</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; Bag PsError
</span><a href="GHC.Parser.Lexer.html#errors"><span class="hs-identifier hs-var">errors</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681178365"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2799"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_header_comments :: Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; Maybe [LEpaComment]
</span><a href="GHC.Parser.Lexer.html#header_comments"><span class="hs-identifier hs-var">header_comments</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681178365"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2800"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_comment_q :: [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; [LEpaComment]
</span><a href="GHC.Parser.Lexer.html#comment_q"><span class="hs-identifier hs-var">comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681178365"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2801"></span><span>      </span><span id="local-6989586621681178357"><span class="annot"><span class="annottext">mkPState :: PV_Accum -&gt; PState
</span><a href="#local-6989586621681178357"><span class="hs-identifier hs-var hs-var">mkPState</span></a></span></span><span> </span><span id="local-6989586621681178356"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178356"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2802"></span><span>        </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681178365"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">warnings :: Bag PsWarning
</span><a href="GHC.Parser.Lexer.html#warnings"><span class="hs-identifier hs-var">warnings</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; Bag PsWarning
</span><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var">pv_warnings</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178356"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2803"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errors :: Bag PsError
</span><a href="GHC.Parser.Lexer.html#errors"><span class="hs-identifier hs-var">errors</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; Bag PsError
</span><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var">pv_errors</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178356"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2804"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">comment_q :: [LEpaComment]
</span><a href="GHC.Parser.Lexer.html#comment_q"><span class="hs-identifier hs-var">comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178356"><span class="hs-identifier hs-var">acc'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2805"></span><span>    </span><span class="hs-keyword">in</span><span>
</span><span id="line-2806"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var">unPV</span></a></span><span> </span><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681178367"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178364"><span class="hs-identifier hs-var">pv_ctx</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178362"><span class="hs-identifier hs-var">pv_acc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2807"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-type">PV_Ok</span></a></span><span> </span><span id="local-6989586621681178355"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178355"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span id="local-6989586621681178354"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681178354"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. PState -&gt; a -&gt; ParseResult a
</span><a href="GHC.Parser.Lexer.html#POk"><span class="hs-identifier hs-var">POk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; PState
</span><a href="#local-6989586621681178357"><span class="hs-identifier hs-var">mkPState</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178355"><span class="hs-identifier hs-var">acc'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681178354"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-2808"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-type">PV_Failed</span></a></span><span> </span><span id="local-6989586621681178352"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178352"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. PState -&gt; ParseResult a
</span><a href="GHC.Parser.Lexer.html#PFailed"><span class="hs-identifier hs-var">PFailed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; PState
</span><a href="#local-6989586621681178357"><span class="hs-identifier hs-var">mkPState</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178352"><span class="hs-identifier hs-var">acc'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2809"></span><span>
</span><span id="line-2810"></span><span id="local-6989586621681181888"><span class="annot"><a href="GHC.Parser.PostProcess.html#add_hint"><span class="hs-identifier hs-type">add_hint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.html#Hint"><span class="hs-identifier hs-type">Hint</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181888"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681181888"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2811"></span><span id="add_hint"><span class="annot"><span class="annottext">add_hint :: forall a. Hint -&gt; PV a -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#add_hint"><span class="hs-identifier hs-var hs-var">add_hint</span></a></span></span><span> </span><span id="local-6989586621681178350"><span class="annot"><span class="annottext">Hint
</span><a href="#local-6989586621681178350"><span class="hs-identifier hs-var">hint</span></a></span></span><span> </span><span id="local-6989586621681178349"><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681178349"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2812"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178348"><span class="annot"><span class="annottext">modifyHint :: PV_Context -&gt; PV_Context
</span><a href="#local-6989586621681178348"><span class="hs-identifier hs-var hs-var">modifyHint</span></a></span></span><span> </span><span id="local-6989586621681178347"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178347"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178347"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pv_hints :: [Hint]
</span><a href="GHC.Parser.PostProcess.html#pv_hints"><span class="hs-identifier hs-var">pv_hints</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Context -&gt; [Hint]
</span><a href="GHC.Parser.PostProcess.html#pv_hints"><span class="hs-identifier hs-var">pv_hints</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178347"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Hint
</span><a href="#local-6989586621681178350"><span class="hs-identifier hs-var">hint</span></a></span><span class="hs-special">]</span><span class="hs-special">}</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2813"></span><span>  </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681178346"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178346"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621681178345"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178345"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var">unPV</span></a></span><span> </span><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681178349"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Context -&gt; PV_Context
</span><a href="#local-6989586621681178348"><span class="hs-identifier hs-var">modifyHint</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178346"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178345"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2814"></span><span>
</span><span id="line-2815"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2816"></span><span>  </span><span id="local-6989586621681178333"><span class="annot"><span class="annottext">addError :: PsError -&gt; PV ()
</span><a href="#local-6989586621681178333"><span class="hs-identifier hs-var hs-var hs-var hs-var">addError</span></a></span></span><span> </span><span id="local-6989586621681178332"><span class="annot"><span class="annottext">err :: PsError
</span><a href="#local-6989586621681178332"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-type">PsError</span></a></span><span> </span><span id="local-6989586621681178331"><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="#local-6989586621681178331"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681178330"><span class="annot"><span class="annottext">[Hint]
</span><a href="#local-6989586621681178330"><span class="hs-identifier hs-var">hints</span></a></span></span><span> </span><span id="local-6989586621681178329"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178329"><span class="hs-identifier hs-var">loc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2817"></span><span>    </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681178328"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178328"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621681178327"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178327"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2818"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178326"><span class="annot"><span class="annottext">err' :: PsError
</span><a href="#local-6989586621681178326"><span class="hs-identifier hs-var hs-var">err'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.4.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Context -&gt; [Hint]
</span><a href="GHC.Parser.PostProcess.html#pv_hints"><span class="hs-identifier hs-var">pv_hints</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178328"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PsError
</span><a href="#local-6989586621681178332"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-2819"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="#local-6989586621681178331"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Hint]
</span><a href="#local-6989586621681178330"><span class="hs-identifier hs-var">hints</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context -&gt; [Hint]
</span><a href="GHC.Parser.PostProcess.html#pv_hints"><span class="hs-identifier hs-var">pv_hints</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178328"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178329"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2820"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178327"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pv_errors :: Bag PsError
</span><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var">pv_errors</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PsError
</span><a href="#local-6989586621681178326"><span class="hs-identifier hs-var">err'</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#consBag"><span class="hs-operator hs-var">`consBag`</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; Bag PsError
</span><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var">pv_errors</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178327"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2821"></span><span>  </span><span id="local-6989586621681178324"><span class="annot"><span class="annottext">addWarning :: WarningFlag -&gt; PsWarning -&gt; PV ()
</span><a href="#local-6989586621681178324"><span class="hs-identifier hs-var hs-var hs-var hs-var">addWarning</span></a></span></span><span> </span><span id="local-6989586621681178323"><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681178323"><span class="hs-identifier hs-var">option</span></a></span></span><span> </span><span id="local-6989586621681178322"><span class="annot"><span class="annottext">PsWarning
</span><a href="#local-6989586621681178322"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2822"></span><span>    </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681178321"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178321"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621681178320"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178320"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2823"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">WarningFlag -&gt; ParserOpts -&gt; Bool
</span><a href="GHC.Parser.Lexer.html#warnopt"><span class="hs-identifier hs-var">warnopt</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681178323"><span class="hs-identifier hs-var">option</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Context -&gt; ParserOpts
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var">pv_options</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178321"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2824"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178320"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pv_warnings :: Bag PsWarning
</span><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var">pv_warnings</span></a></span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PsWarning
</span><a href="#local-6989586621681178322"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#consBag"><span class="hs-operator hs-var">`consBag`</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; Bag PsWarning
</span><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var">pv_warnings</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178320"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2825"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178320"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2826"></span><span>  </span><span id="local-6989586621681178316"><span class="annot"><span class="annottext">addFatalError :: forall a. PsError -&gt; PV a
</span><a href="#local-6989586621681178316"><span class="hs-identifier hs-var hs-var hs-var hs-var">addFatalError</span></a></span></span><span> </span><span id="local-6989586621681178315"><span class="annot"><span class="annottext">PsError
</span><a href="#local-6989586621681178315"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2827"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">PsError
</span><a href="#local-6989586621681178315"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-var">PV_Failed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2828"></span><span>  </span><span id="local-6989586621681178313"><span class="annot"><span class="annottext">getBit :: ExtBits -&gt; PV Bool
</span><a href="#local-6989586621681178313"><span class="hs-identifier hs-var hs-var hs-var hs-var">getBit</span></a></span></span><span> </span><span id="local-6989586621681178312"><span class="annot"><span class="annottext">ExtBits
</span><a href="#local-6989586621681178312"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2829"></span><span>    </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681178311"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178311"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621681178310"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178310"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2830"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178309"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621681178309"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="#local-6989586621681178312"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; ExtsBitmap -&gt; Bool
</span><a href="GHC.Parser.Lexer.html#xtest"><span class="hs-operator hs-var">`xtest`</span></a></span><span> </span><span class="annot"><span class="annottext">ParserOpts -&gt; ExtsBitmap
</span><a href="GHC.Parser.Lexer.html#pExtsBitmap"><span class="hs-identifier hs-var">pExtsBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Context -&gt; ParserOpts
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var">pv_options</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681178311"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2831"></span><span>      </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178310"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24%21"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178309"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-2832"></span><span>  </span><span id="local-6989586621681178305"><span class="annot"><span class="annottext">allocateCommentsP :: RealSrcSpan -&gt; PV EpAnnComments
</span><a href="GHC.Parser.Lexer.html#allocateCommentsP"><span class="hs-identifier hs-var hs-var hs-var hs-var">allocateCommentsP</span></a></span></span><span> </span><span id="local-6989586621681178303"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681178303"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178302"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178302"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2833"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178301"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178301"><span class="hs-identifier hs-var">comment_q'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178300"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178300"><span class="hs-identifier hs-var">newAnns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; [LEpaComment] -&gt; ([LEpaComment], [LEpaComment])
</span><a href="GHC.Parser.Lexer.html#allocateComments"><span class="hs-identifier hs-var">allocateComments</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681178303"><span class="hs-identifier hs-var">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178302"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2834"></span><span>      </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178302"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2835"></span><span>         </span><span class="annot"><span class="annottext">pv_comment_q :: [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178301"><span class="hs-identifier hs-var">comment_q'</span></a></span><span>
</span><span id="line-2836"></span><span>       </span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LEpaComment] -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#EpaComments"><span class="hs-identifier hs-var">EpaComments</span></a></span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178300"><span class="hs-identifier hs-var">newAnns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2837"></span><span>  </span><span id="local-6989586621681178297"><span class="annot"><span class="annottext">allocatePriorCommentsP :: RealSrcSpan -&gt; PV EpAnnComments
</span><a href="GHC.Parser.Lexer.html#allocatePriorCommentsP"><span class="hs-identifier hs-var hs-var hs-var hs-var">allocatePriorCommentsP</span></a></span></span><span> </span><span id="local-6989586621681178295"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681178295"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178294"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178294"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2838"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178293"><span class="annot"><span class="annottext">Maybe [LEpaComment]
</span><a href="#local-6989586621681178293"><span class="hs-identifier hs-var">header_comments'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178292"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178292"><span class="hs-identifier hs-var">comment_q'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178291"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178291"><span class="hs-identifier hs-var">newAnns</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2839"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
-&gt; [LEpaComment]
-&gt; Maybe [LEpaComment]
-&gt; (Maybe [LEpaComment], [LEpaComment], [LEpaComment])
</span><a href="GHC.Parser.Lexer.html#allocatePriorComments"><span class="hs-identifier hs-var">allocatePriorComments</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681178295"><span class="hs-identifier hs-var">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178294"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178294"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2840"></span><span>      </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178294"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2841"></span><span>         </span><span class="annot"><span class="annottext">pv_header_comments :: Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [LEpaComment]
</span><a href="#local-6989586621681178293"><span class="hs-identifier hs-var">header_comments'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-2842"></span><span>         </span><span class="annot"><span class="annottext">pv_comment_q :: [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178292"><span class="hs-identifier hs-var">comment_q'</span></a></span><span>
</span><span id="line-2843"></span><span>       </span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LEpaComment] -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#EpaComments"><span class="hs-identifier hs-var">EpaComments</span></a></span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178291"><span class="hs-identifier hs-var">newAnns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2844"></span><span>  </span><span id="local-6989586621681178289"><span class="annot"><span class="annottext">allocateFinalCommentsP :: RealSrcSpan -&gt; PV EpAnnComments
</span><a href="GHC.Parser.Lexer.html#allocateFinalCommentsP"><span class="hs-identifier hs-var hs-var hs-var hs-var">allocateFinalCommentsP</span></a></span></span><span> </span><span id="local-6989586621681178287"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681178287"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681178286"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178286"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2845"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681178285"><span class="annot"><span class="annottext">Maybe [LEpaComment]
</span><a href="#local-6989586621681178285"><span class="hs-identifier hs-var">header_comments'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178284"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178284"><span class="hs-identifier hs-var">comment_q'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681178283"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178283"><span class="hs-identifier hs-var">newAnns</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2846"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
-&gt; [LEpaComment]
-&gt; Maybe [LEpaComment]
-&gt; (Maybe [LEpaComment], [LEpaComment], [LEpaComment])
</span><a href="GHC.Parser.Lexer.html#allocateFinalComments"><span class="hs-identifier hs-var">allocateFinalComments</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681178287"><span class="hs-identifier hs-var">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178286"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178286"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2847"></span><span>      </span><span class="annot"><span class="annottext">forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681178286"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2848"></span><span>         </span><span class="annot"><span class="annottext">pv_header_comments :: Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [LEpaComment]
</span><a href="#local-6989586621681178285"><span class="hs-identifier hs-var">header_comments'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-2849"></span><span>         </span><span class="annot"><span class="annottext">pv_comment_q :: [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178284"><span class="hs-identifier hs-var">comment_q'</span></a></span><span>
</span><span id="line-2850"></span><span>       </span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LEpaComment] -&gt; [LEpaComment] -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#EpaCommentsBalanced"><span class="hs-identifier hs-var">EpaCommentsBalanced</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base-4.16.4.0/src/Data-Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe [LEpaComment]
</span><a href="#local-6989586621681178285"><span class="hs-identifier hs-var">header_comments'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.4.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681178283"><span class="hs-identifier hs-var">newAnns</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2851"></span><span>
</span><span id="line-2852"></span><span class="hs-comment">{- Note [Parser-Validator Hint]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
A PV computation is parametrized by a hint for error messages, which can be set
depending on validation context. We use this in checkPattern to fix #984.

Consider this example, where the user has forgotten a 'do':

  f _ = do
    x &lt;- computation
    case () of
      _ -&gt;
        result &lt;- computation
        case () of () -&gt; undefined

GHC parses it as follows:

  f _ = do
    x &lt;- computation
    (case () of
      _ -&gt;
        result) &lt;- computation
        case () of () -&gt; undefined

Note that this fragment is parsed as a pattern:

  case () of
    _ -&gt;
      result

We attempt to detect such cases and add a hint to the error messages:

  T984.hs:6:9:
    Parse error in pattern: case () of { _ -&gt; result }
    Possibly caused by a missing 'do'?

The &quot;Possibly caused by a missing 'do'?&quot; suggestion is the hint that is passed
as the 'pv_hints' field 'PV_Context'. When validating in a context other than
'bindpat' (a pattern to the left of &lt;-), we set the hint to 'empty' and it has
no effect on the error messages.

-}</span><span>
</span><span id="line-2893"></span><span>
</span><span id="line-2894"></span><span class="hs-comment">-- | Hint about bang patterns, assuming @BangPatterns@ is off.</span><span>
</span><span id="line-2895"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier hs-type">hintBangPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2896"></span><span id="hintBangPat"><span class="annot"><span class="annottext">hintBangPat :: SrcSpan -&gt; Pat GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier hs-var hs-var">hintBangPat</span></a></span></span><span> </span><span id="local-6989586621681178280"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178280"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span id="local-6989586621681178279"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681178279"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2897"></span><span>    </span><span id="local-6989586621681178278"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178278"><span class="hs-identifier hs-var">bang_on</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#BangPatBit"><span class="hs-identifier hs-var">BangPatBit</span></a></span><span>
</span><span id="line-2898"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.16.4.0/src/Control-Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178278"><span class="hs-identifier hs-var">bang_on</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2899"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; PsError -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrIllegalBangPattern"><span class="hs-identifier hs-var">PsErrIllegalBangPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681178279"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178280"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-2900"></span><span>
</span><span id="line-2901"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-type">mkSumOrTupleExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2902"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2903"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2904"></span><span>
</span><span id="line-2905"></span><span class="hs-comment">-- Tuple</span><span>
</span><span id="line-2906"></span><span id="mkSumOrTupleExpr"><span class="annot"><span class="annottext">mkSumOrTupleExpr :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var hs-var">mkSumOrTupleExpr</span></a></span></span><span> </span><span id="local-6989586621681178275"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178275"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178274"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681178274"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#Tuple"><span class="hs-identifier hs-type">Tuple</span></a></span><span> </span><span id="local-6989586621681178272"><span class="annot"><span class="annottext">[Either
   (EpAnn EpaLocation) (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681178272"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178271"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178271"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2907"></span><span>    </span><span id="local-6989586621681178270"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178270"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178275"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2908"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178275"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XExplicitTuple p -&gt; [HsTupArg p] -&gt; Boxity -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExplicitTuple"><span class="hs-identifier hs-var">ExplicitTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178275"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178271"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178270"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Either (EpAnn EpaLocation) (LHsExpr GhcPs) -&gt; HsTupArg GhcPs
</span><a href="#local-6989586621681178268"><span class="hs-identifier hs-var">toTupArg</span></a></span><span> </span><span class="annot"><span class="annottext">[Either
   (EpAnn EpaLocation) (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681178272"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681178274"><span class="hs-identifier hs-var">boxity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2909"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2910"></span><span>    </span><span class="annot"><a href="#local-6989586621681178268"><span class="hs-identifier hs-type">toTupArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTupArg"><span class="hs-identifier hs-type">HsTupArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2911"></span><span>    </span><span id="local-6989586621681178268"><span class="annot"><span class="annottext">toTupArg :: Either (EpAnn EpaLocation) (LHsExpr GhcPs) -&gt; HsTupArg GhcPs
</span><a href="#local-6989586621681178268"><span class="hs-identifier hs-var hs-var">toTupArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621681178267"><span class="annot"><span class="annottext">EpAnn EpaLocation
</span><a href="#local-6989586621681178267"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn EpaLocation -&gt; HsTupArg GhcPs
</span><a href="GHC.Hs.Utils.html#missingTupArg"><span class="hs-identifier hs-var">missingTupArg</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpaLocation
</span><a href="#local-6989586621681178267"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-2912"></span><span>    </span><span class="annot"><a href="#local-6989586621681178268"><span class="hs-identifier hs-var">toTupArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681178265"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178265"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall id. XPresent id -&gt; LHsExpr id -&gt; HsTupArg id
</span><a href="Language.Haskell.Syntax.Expr.html#Present"><span class="hs-identifier hs-var">Present</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178265"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-2913"></span><span>
</span><span id="line-2914"></span><span class="hs-comment">-- Sum</span><span>
</span><span id="line-2915"></span><span class="hs-comment">-- mkSumOrTupleExpr l Unboxed (Sum alt arity e) =</span><span>
</span><span id="line-2916"></span><span class="hs-comment">--     return $ L l (ExplicitSum noExtField alt arity e)</span><span>
</span><span id="line-2917"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var">mkSumOrTupleExpr</span></a></span><span> </span><span id="local-6989586621681178263"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178263"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span> </span><span id="local-6989586621681178260"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178260"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621681178259"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178259"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621681178258"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681178258"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681178257"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681178257"><span class="hs-identifier hs-var">barsp</span></a></span></span><span> </span><span id="local-6989586621681178256"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681178256"><span class="hs-identifier hs-var">barsa</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178255"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178255"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2918"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178254"><span class="annot"><span class="annottext">an :: AnnExplicitSum
</span><a href="#local-6989586621681178254"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178255"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2919"></span><span>               </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnOpenPH"><span class="hs-identifier hs-var">AnnOpenPH</span></a></span><span> </span><span id="local-6989586621681178252"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681178252"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnClosePH"><span class="hs-identifier hs-var">AnnClosePH</span></a></span><span> </span><span id="local-6989586621681178250"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681178250"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2920"></span><span>                 </span><span class="annot"><span class="annottext">EpaLocation
-&gt; [EpaLocation] -&gt; [EpaLocation] -&gt; EpaLocation -&gt; AnnExplicitSum
</span><a href="GHC.Hs.Expr.html#AnnExplicitSum"><span class="hs-identifier hs-var">AnnExplicitSum</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681178252"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681178257"><span class="hs-identifier hs-var">barsp</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681178256"><span class="hs-identifier hs-var">barsa</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681178250"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-2921"></span><span>               </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkSumOrTupleExpr&quot;</span></span><span>
</span><span id="line-2922"></span><span>    </span><span id="local-6989586621681178248"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178248"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178263"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2923"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178263"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XExplicitSum p -&gt; Int -&gt; Int -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExplicitSum"><span class="hs-identifier hs-var">ExplicitSum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178263"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnExplicitSum
</span><a href="#local-6989586621681178254"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178248"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178260"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178259"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681178258"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2924"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var">mkSumOrTupleExpr</span></a></span><span> </span><span id="local-6989586621681178246"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178246"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span id="local-6989586621681178245"><span class="annot"><span class="annottext">a :: SumOrTuple (HsExpr GhcPs)
</span><a href="#local-6989586621681178245"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Parser.Types.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2925"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SumOrTuple (HsExpr GhcPs) -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrUnsupportedBoxedSumExpr"><span class="hs-identifier hs-var">PsErrUnsupportedBoxedSumExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (HsExpr GhcPs)
</span><a href="#local-6989586621681178245"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178246"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2926"></span><span>
</span><span id="line-2927"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-type">mkSumOrTuplePat</span></a></span><span>
</span><span id="line-2928"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2929"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2930"></span><span>
</span><span id="line-2931"></span><span class="hs-comment">-- Tuple</span><span>
</span><span id="line-2932"></span><span id="mkSumOrTuplePat"><span class="annot"><span class="annottext">mkSumOrTuplePat :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var hs-var">mkSumOrTuplePat</span></a></span></span><span> </span><span id="local-6989586621681178243"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178243"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178242"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681178242"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#Tuple"><span class="hs-identifier hs-type">Tuple</span></a></span><span> </span><span id="local-6989586621681178241"><span class="annot"><span class="annottext">[Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))]
</span><a href="#local-6989586621681178241"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178240"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178240"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2933"></span><span>  </span><span id="local-6989586621681178239"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681178239"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.4.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
-&gt; PV (LPat GhcPs)
</span><a href="#local-6989586621681178238"><span class="hs-identifier hs-var">toTupPat</span></a></span><span> </span><span class="annot"><span class="annottext">[Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))]
</span><a href="#local-6989586621681178241"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-2934"></span><span>  </span><span id="local-6989586621681178237"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178237"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178243"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2935"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178243"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XTuplePat p -&gt; [LPat p] -&gt; Boxity -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#TuplePat"><span class="hs-identifier hs-var">TuplePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178243"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178240"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178237"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681178239"><span class="hs-identifier hs-var">ps'</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681178242"><span class="hs-identifier hs-var">boxity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2936"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2937"></span><span>    </span><span class="annot"><a href="#local-6989586621681178238"><span class="hs-identifier hs-type">toTupPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2938"></span><span>    </span><span class="hs-comment">-- Ignore the element location so that the error message refers to the</span><span>
</span><span id="line-2939"></span><span>    </span><span class="hs-comment">-- entire tuple. See #19504 (and the discussion) for details.</span><span>
</span><span id="line-2940"></span><span>    </span><span id="local-6989586621681178238"><span class="annot"><span class="annottext">toTupPat :: Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
-&gt; PV (LPat GhcPs)
</span><a href="#local-6989586621681178238"><span class="hs-identifier hs-var hs-var">toTupPat</span></a></span></span><span> </span><span id="local-6989586621681178235"><span class="annot"><span class="annottext">Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178235"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681178235"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2941"></span><span>      </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrTupleSectionInPat"><span class="hs-identifier hs-var">PsErrTupleSectionInPat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178243"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2942"></span><span>      </span><span class="annot"><a href="../../base-4.16.4.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681178233"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178233"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178233"><span class="hs-identifier hs-var">p'</span></a></span><span>
</span><span id="line-2943"></span><span>
</span><span id="line-2944"></span><span class="hs-comment">-- Sum</span><span>
</span><span id="line-2945"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var">mkSumOrTuplePat</span></a></span><span> </span><span id="local-6989586621681178232"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178232"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span> </span><span id="local-6989586621681178231"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178231"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621681178230"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178230"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621681178229"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178229"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621681178228"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681178228"><span class="hs-identifier hs-var">barsb</span></a></span></span><span> </span><span id="local-6989586621681178227"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681178227"><span class="hs-identifier hs-var">barsa</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178226"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178226"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2946"></span><span>   </span><span id="local-6989586621681178225"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178225"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681178229"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-2947"></span><span>   </span><span id="local-6989586621681178224"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178224"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178232"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2948"></span><span>   </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178223"><span class="annot"><span class="annottext">an :: EpAnn EpAnnSumPat
</span><a href="#local-6989586621681178223"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178232"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [EpaLocation] -&gt; [EpaLocation] -&gt; EpAnnSumPat
</span><a href="GHC.Hs.Pat.html#EpAnnSumPat"><span class="hs-identifier hs-var">EpAnnSumPat</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681178226"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681178228"><span class="hs-identifier hs-var">barsb</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681178227"><span class="hs-identifier hs-var">barsa</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681178224"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2949"></span><span>   </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178232"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. XSumPat p -&gt; LPat p -&gt; Int -&gt; Int -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#SumPat"><span class="hs-identifier hs-var">SumPat</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpAnnSumPat
</span><a href="#local-6989586621681178223"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681178225"><span class="hs-identifier hs-var">p'</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178231"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681178230"><span class="hs-identifier hs-var">arity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2950"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var">mkSumOrTuplePat</span></a></span><span> </span><span id="local-6989586621681178220"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178220"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span id="local-6989586621681178219"><span class="annot"><span class="annottext">a :: SumOrTuple (PatBuilder GhcPs)
</span><a href="#local-6989586621681178219"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Parser.Types.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2951"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadP m =&gt; PsError -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrorDesc -&gt; [Hint] -&gt; SrcSpan -&gt; PsError
</span><a href="GHC.Parser.Errors.html#PsError"><span class="hs-identifier hs-var">PsError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SumOrTuple (PatBuilder GhcPs) -&gt; PsErrorDesc
</span><a href="GHC.Parser.Errors.html#PsErrUnsupportedBoxedSumPat"><span class="hs-identifier hs-var">PsErrUnsupportedBoxedSumPat</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (PatBuilder GhcPs)
</span><a href="#local-6989586621681178219"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178220"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2952"></span><span>
</span><span id="line-2953"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkLHsOpTy"><span class="hs-identifier hs-type">mkLHsOpTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2954"></span><span id="mkLHsOpTy"><span class="annot"><span class="annottext">mkLHsOpTy :: LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkLHsOpTy"><span class="hs-identifier hs-var hs-var">mkLHsOpTy</span></a></span></span><span> </span><span id="local-6989586621681178217"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178217"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681178216"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178216"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681178215"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178215"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2955"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681178214"><span class="annot"><span class="annottext">loc :: SrcSpanAnnA
</span><a href="#local-6989586621681178214"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178217"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; SrcAnn a -&gt; SrcAnn a -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineSrcSpansA"><span class="hs-operator hs-var">`combineSrcSpansA`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178216"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; SrcAnn a -&gt; SrcAnn a -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineSrcSpansA"><span class="hs-operator hs-var">`combineSrcSpansA`</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178215"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-2956"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178214"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN) =&gt;
LHsType (GhcPass p)
-&gt; LocatedN (IdP (GhcPass p))
-&gt; LHsType (GhcPass p)
-&gt; HsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsOpTy"><span class="hs-identifier hs-var">mkHsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178217"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681178216"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178215"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2957"></span><span>
</span><span id="line-2958"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier hs-type">mkMultTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#IsUnicodeSyntax"><span class="hs-identifier hs-type">IsUnicodeSyntax</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#Token"><span class="hs-identifier hs-type">Token</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArrow"><span class="hs-identifier hs-type">HsArrow</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2959"></span><span id="mkMultTy"><span class="annot"><span class="annottext">mkMultTy :: IsUnicodeSyntax -&gt; Located Token -&gt; LHsType GhcPs -&gt; HsArrow GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier hs-var hs-var">mkMultTy</span></a></span></span><span> </span><span id="local-6989586621681178212"><span class="annot"><span class="annottext">IsUnicodeSyntax
</span><a href="#local-6989586621681178212"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621681178211"><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621681178211"><span class="hs-identifier hs-var">tok</span></a></span></span><span> </span><span id="local-6989586621681178210"><span class="annot"><span class="annottext">t :: LHsType GhcPs
</span><a href="#local-6989586621681178210"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">XTyLit GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsNumTy"><span class="hs-identifier hs-type">HsNumTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;1&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2960"></span><span>  </span><span class="hs-comment">-- See #18888 for the use of (SourceText &quot;1&quot;) above</span><span>
</span><span id="line-2961"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall pass. IsUnicodeSyntax -&gt; Maybe AddEpAnn -&gt; HsArrow pass
</span><a href="Language.Haskell.Syntax.Type.html#HsLinearArrow"><span class="hs-identifier hs-var">HsLinearArrow</span></a></span><span> </span><span class="annot"><span class="annottext">IsUnicodeSyntax
</span><a href="#local-6989586621681178212"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId -&gt; EpaLocation -&gt; AddEpAnn
</span><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-var">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnPercentOne"><span class="hs-identifier hs-var">AnnPercentOne</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-var">EpaSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. Located a -&gt; Located b -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineLocs"><span class="hs-identifier hs-var">combineLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621681178211"><span class="hs-identifier hs-var">tok</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a e. LocatedAn a e -&gt; Located e
</span><a href="GHC.Parser.Annotation.html#reLoc"><span class="hs-identifier hs-var">reLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178210"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2962"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier hs-var">mkMultTy</span></a></span><span> </span><span id="local-6989586621681178205"><span class="annot"><span class="annottext">IsUnicodeSyntax
</span><a href="#local-6989586621681178205"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621681178204"><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621681178204"><span class="hs-identifier hs-var">tok</span></a></span></span><span> </span><span id="local-6989586621681178203"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178203"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall pass.
IsUnicodeSyntax -&gt; Maybe AddEpAnn -&gt; LHsType pass -&gt; HsArrow pass
</span><a href="Language.Haskell.Syntax.Type.html#HsExplicitMult"><span class="hs-identifier hs-var">HsExplicitMult</span></a></span><span> </span><span class="annot"><span class="annottext">IsUnicodeSyntax
</span><a href="#local-6989586621681178205"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.4.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId -&gt; EpaLocation -&gt; AddEpAnn
</span><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-var">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnPercent"><span class="hs-identifier hs-var">AnnPercent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-var">EpaSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.4.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621681178204"><span class="hs-identifier hs-var">tok</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681178203"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-2963"></span><span>
</span><span id="line-2964"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2965"></span><span class="hs-comment">-- Token symbols</span><span>
</span><span id="line-2966"></span><span>
</span><span id="line-2967"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-type">starSym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-2968"></span><span id="starSym"><span class="annot"><span class="annottext">starSym :: Bool -&gt; String
</span><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-var hs-var">starSym</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&#9733;&quot;</span></span><span>
</span><span id="line-2969"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-var">starSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*&quot;</span></span><span>
</span><span id="line-2970"></span><span>
</span><span id="line-2971"></span><span class="hs-comment">-----------------------------------------</span><span>
</span><span id="line-2972"></span><span class="hs-comment">-- Bits and pieces for RecordDotSyntax.</span><span>
</span><span id="line-2973"></span><span>
</span><span id="line-2974"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrGetField"><span class="hs-identifier hs-type">mkRdrGetField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsFieldLabel"><span class="hs-identifier hs-type">HsFieldLabel</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2975"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnCO"><span class="hs-identifier hs-type">EpAnnCO</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2976"></span><span id="mkRdrGetField"><span class="annot"><span class="annottext">mkRdrGetField :: SrcSpanAnnA
-&gt; LHsExpr GhcPs
-&gt; Located (HsFieldLabel GhcPs)
-&gt; EpAnnCO
-&gt; LHsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrGetField"><span class="hs-identifier hs-var hs-var">mkRdrGetField</span></a></span></span><span> </span><span id="local-6989586621681178200"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178200"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681178199"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178199"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681178198"><span class="annot"><span class="annottext">Located (HsFieldLabel GhcPs)
</span><a href="#local-6989586621681178198"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span id="local-6989586621681178197"><span class="annot"><span class="annottext">EpAnnCO
</span><a href="#local-6989586621681178197"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2977"></span><span>  </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178200"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsGetField"><span class="hs-identifier hs-type">HsGetField</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2978"></span><span>      </span><span class="annot"><span class="annottext">gf_ext :: XGetField GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#gf_ext"><span class="hs-identifier hs-var">gf_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><a href="#local-6989586621681178197"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2979"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gf_expr :: LHsExpr GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#gf_expr"><span class="hs-identifier hs-var">gf_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178199"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-2980"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gf_field :: Located (HsFieldLabel GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#gf_field"><span class="hs-identifier hs-var">gf_field</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (HsFieldLabel GhcPs)
</span><a href="#local-6989586621681178198"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-2981"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-2982"></span><span>
</span><span id="line-2983"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrProjection"><span class="hs-identifier hs-type">mkRdrProjection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.4.0/src/GHC-Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsFieldLabel"><span class="hs-identifier hs-type">HsFieldLabel</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#AnnProjection"><span class="hs-identifier hs-type">AnnProjection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2984"></span><span id="mkRdrProjection"><span class="annot"><span class="annottext">mkRdrProjection :: NonEmpty (Located (HsFieldLabel GhcPs))
-&gt; EpAnn AnnProjection -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrProjection"><span class="hs-identifier hs-var hs-var">mkRdrProjection</span></a></span></span><span> </span><span id="local-6989586621681178192"><span class="annot"><span class="annottext">NonEmpty (Located (HsFieldLabel GhcPs))
</span><a href="#local-6989586621681178192"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span id="local-6989586621681178191"><span class="annot"><span class="annottext">EpAnn AnnProjection
</span><a href="#local-6989586621681178191"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2985"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsProjection"><span class="hs-identifier hs-type">HsProjection</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2986"></span><span>      </span><span class="annot"><span class="annottext">proj_ext :: XProjection GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#proj_ext"><span class="hs-identifier hs-var">proj_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn AnnProjection
</span><a href="#local-6989586621681178191"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2987"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">proj_flds :: NonEmpty (Located (HsFieldLabel GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#proj_flds"><span class="hs-identifier hs-var">proj_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty (Located (HsFieldLabel GhcPs))
</span><a href="#local-6989586621681178192"><span class="hs-identifier hs-var">flds</span></a></span><span>
</span><span id="line-2988"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-2989"></span><span>
</span><span id="line-2990"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-type">mkRdrProjUpdate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsFieldLabel"><span class="hs-identifier hs-type">HsFieldLabel</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2991"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2992"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecProj"><span class="hs-identifier hs-type">LHsRecProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2993"></span><span id="mkRdrProjUpdate"><span class="annot"><span class="annottext">mkRdrProjUpdate :: SrcSpanAnnA
-&gt; Located [Located (HsFieldLabel GhcPs)]
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; EpAnn [AddEpAnn]
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-var hs-var">mkRdrProjUpdate</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkRdrProjUpdate: The impossible has happened!&quot;</span></span><span>
</span><span id="line-2994"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-var">mkRdrProjUpdate</span></a></span><span> </span><span id="local-6989586621681178187"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178187"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681178186"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178186"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681178185"><span class="annot"><span class="annottext">[Located (HsFieldLabel GhcPs)]
</span><a href="#local-6989586621681178185"><span class="hs-identifier hs-var">flds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681178184"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178184"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681178183"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178183"><span class="hs-identifier hs-var">isPun</span></a></span></span><span> </span><span id="local-6989586621681178182"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178182"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2995"></span><span>  </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681178187"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2996"></span><span>      </span><span class="annot"><span class="annottext">hsRecFieldAnn :: XHsRecField (FieldLabelStrings GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#hsRecFieldAnn"><span class="hs-identifier hs-var">hsRecFieldAnn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681178182"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2997"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hsRecFieldLbl :: Located (FieldLabelStrings GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#hsRecFieldLbl"><span class="hs-identifier hs-var">hsRecFieldLbl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681178186"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p. [Located (HsFieldLabel p)] -&gt; FieldLabelStrings p
</span><a href="Language.Haskell.Syntax.Expr.html#FieldLabelStrings"><span class="hs-identifier hs-var">FieldLabelStrings</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (HsFieldLabel GhcPs)]
</span><a href="#local-6989586621681178185"><span class="hs-identifier hs-var">flds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2998"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hsRecFieldArg :: GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#hsRecFieldArg"><span class="hs-identifier hs-var">hsRecFieldArg</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681178184"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-2999"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hsRecPun :: Bool
</span><a href="Language.Haskell.Syntax.Pat.html#hsRecPun"><span class="hs-identifier hs-var">hsRecPun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681178183"><span class="hs-identifier hs-var">isPun</span></a></span><span>
</span><span id="line-3000"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-3001"></span></pre></body></html>