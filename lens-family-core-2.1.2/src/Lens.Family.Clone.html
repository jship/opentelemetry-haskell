<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | This module is provided for &quot;Haskell 2022&quot; compatibility.</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- If you are able to use @Rank2Types@, I advise you to instead use the rank 2 aliases</span><span>
</span><span id="line-3"></span><span class="hs-comment">--</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- * @Adapter@, @Adapter'@</span><span>
</span><span id="line-5"></span><span class="hs-comment">--</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- * @Prism@, @Prism'@</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- * @Lens@, @Lens'@</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- * @Traversal@, @Traversal'@</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- * @Setter@, @Setter'@</span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- * @Grate@, @Grate'@</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- * @Resetter@, @Resetter'@</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- * @Grid@, @Grid'@</span><span>
</span><span id="line-19"></span><span class="hs-comment">--</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- * @Fold@, @Fold'@</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- * @Getter@, @Getter'@</span><span>
</span><span id="line-23"></span><span class="hs-comment">--</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- * @Reviewer@, @Reviewer'@</span><span>
</span><span id="line-25"></span><span class="hs-comment">--</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- from the @lens-family@ package instead.</span><span>
</span><span id="line-27"></span><span class="hs-comment">--</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- 'cloneLens' allows one to circumvent the need for rank 2 types by allowing one to take a universal monomorphic lens instance and rederive a polymorphic instance.</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- When you require a lens family parameter you use the type @'ALens' s t a b@ (or @'ALens'' s a@).</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- Then, inside a @where@ clause, you use 'cloneLens' to create a 'Lens' type.</span><span>
</span><span id="line-31"></span><span class="hs-comment">--</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- For example.</span><span>
</span><span id="line-33"></span><span class="hs-comment">--</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- &gt; example :: ALens s t a b -&gt; Example</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- &gt; example l = ... x^.cl ... cl .~ y ...</span><span>
</span><span id="line-36"></span><span class="hs-comment">-- &gt;  where</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- &gt;   cl x = cloneLens l x</span><span>
</span><span id="line-38"></span><span class="hs-comment">--</span><span>
</span><span id="line-39"></span><span class="hs-comment">-- /Note/: It is important to eta-expand the definition of 'cl' to avoid the dreaded monomorphism restriction.</span><span>
</span><span id="line-40"></span><span class="hs-comment">--</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- 'cloneAdapter', 'cloneGrate', 'cloneTraversal', 'cloneSetter', 'cloneResetter', 'cloneGetter', and 'cloneFold' provides similar functionality for adapters, grates, traversals, setters, resetters, getters, and folds respectively.  Unfortunately, it is not yet known how to clone prisms and grids.</span><span>
</span><span id="line-42"></span><span class="hs-comment">--</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- /Note/: Cloning is only need if you use a functional reference multiple times with different instances.</span><span>
</span><span id="line-44"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Lens.Family.Clone</span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#cloneAdapter"><span class="hs-identifier">cloneAdapter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#cloneLens"><span class="hs-identifier">cloneLens</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#cloneGrate"><span class="hs-identifier">cloneGrate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#cloneTraversal"><span class="hs-identifier">cloneTraversal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#cloneSetter"><span class="hs-identifier">cloneSetter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#cloneResetter"><span class="hs-identifier">cloneResetter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#cloneGetter"><span class="hs-identifier">cloneGetter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#cloneFold"><span class="hs-identifier">cloneFold</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#AnAdapter"><span class="hs-identifier">AnAdapter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#AnAdapter%27"><span class="hs-identifier">AnAdapter'</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#ALens"><span class="hs-identifier">ALens</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#ALens%27"><span class="hs-identifier">ALens'</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#ATraversal"><span class="hs-identifier">ATraversal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#ATraversal%27"><span class="hs-identifier">ATraversal'</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#AGetter"><span class="hs-identifier">AGetter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#AGetter%27"><span class="hs-identifier">AGetter'</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#AFold"><span class="hs-identifier">AFold</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#AFold%27"><span class="hs-identifier">AFold'</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier">PStore</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#PKleeneStore"><span class="hs-identifier">PKleeneStore</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Re-exports</span></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike"><span class="hs-identifier">LensLike</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike%27"><span class="hs-identifier">LensLike'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#GrateLike"><span class="hs-identifier">GrateLike</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#GrateLike%27"><span class="hs-identifier">GrateLike'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.html#FoldLike"><span class="hs-identifier">FoldLike</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.html#FoldLike%27"><span class="hs-identifier">FoldLike'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.html#AGrate"><span class="hs-identifier">AGrate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.html#ASetter"><span class="hs-identifier">ASetter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.html#AResetter"><span class="hs-identifier">AResetter</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Phantom.html#Phantom"><span class="hs-identifier">Phantom</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Family.Identical.html#Identical"><span class="hs-identifier">Identical</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html"><span class="hs-identifier">Lens.Family.Unchecked</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Lens.Family.html"><span class="hs-identifier">Lens.Family</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-keyword">data</span><span> </span><span id="PStore"><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-var">PStore</span></a></span></span><span> </span><span id="local-6989586621679049102"><span class="annot"><a href="#local-6989586621679049102"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679049104"><span class="annot"><a href="#local-6989586621679049104"><span class="hs-identifier hs-type">j</span></a></span></span><span> </span><span id="local-6989586621679049103"><span class="annot"><a href="#local-6989586621679049103"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PStore"><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-var">PStore</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679049104"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679049103"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679049102"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679048878"><span id="local-6989586621679049107"><span id="local-6989586621679049108"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-type">PStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049108"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049107"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-63"></span><span>  </span><span id="local-6989586621679048876"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; PStore i j a -&gt; PStore i j b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679048875"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048875"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-type">PStore</span></a></span><span> </span><span id="local-6989586621679048874"><span class="annot"><span class="annottext">j -&gt; a
</span><a href="#local-6989586621679048874"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679048873"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679048873"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall i j a. (j -&gt; a) -&gt; i -&gt; PStore i j a
</span><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-var">PStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048875"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">j -&gt; a
</span><a href="#local-6989586621679048874"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679048873"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">-- | AnAdapter s t a b is a universal Adapter s t a b instance</span><span>
</span><span id="line-66"></span><span class="hs-keyword">type</span><span> </span><span id="AnAdapter"><span class="annot"><a href="Lens.Family.Clone.html#AnAdapter"><span class="hs-identifier hs-var">AnAdapter</span></a></span></span><span> </span><span id="local-6989586621679048871"><span class="annot"><a href="#local-6989586621679048871"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048870"><span class="annot"><a href="#local-6989586621679048870"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679048869"><span class="annot"><a href="#local-6989586621679048869"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679048868"><span class="annot"><a href="#local-6989586621679048868"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#AdapterLike"><span class="hs-identifier hs-type">AdapterLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-type">PStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048871"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048869"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048868"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048871"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048871"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048870"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048869"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048868"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-67"></span><span class="hs-comment">-- | AnAdapter' s a is a universal Adapter' s a instance</span><span>
</span><span id="line-68"></span><span class="hs-keyword">type</span><span> </span><span id="AnAdapter%27"><span class="annot"><a href="Lens.Family.Clone.html#AnAdapter%27"><span class="hs-identifier hs-var">AnAdapter'</span></a></span></span><span> </span><span id="local-6989586621679048867"><span class="annot"><a href="#local-6989586621679048867"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048866"><span class="annot"><a href="#local-6989586621679048866"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#AdapterLike%27"><span class="hs-identifier hs-type">AdapterLike'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-type">PStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048867"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048866"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048866"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048867"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048867"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048866"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">-- | Converts a universal adapter instance back into a polymorphic adapter.</span><span>
</span><span id="line-71"></span><span id="local-6989586621679049093"><span id="local-6989586621679049094"><span id="local-6989586621679049095"><span id="local-6989586621679049096"><span id="local-6989586621679049097"><span id="local-6989586621679049098"><span class="annot"><a href="Lens.Family.Clone.html#cloneAdapter"><span class="hs-identifier hs-type">cloneAdapter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679049098"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679049097"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#AnAdapter"><span class="hs-identifier hs-type">AnAdapter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049096"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049095"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049094"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049093"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#AdapterLike"><span class="hs-identifier hs-type">AdapterLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049098"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049097"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049096"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049095"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049094"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049093"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-72"></span><span id="cloneAdapter"><span class="annot"><span class="annottext">cloneAdapter :: forall (f :: * -&gt; *) (g :: * -&gt; *) s t a b.
(Functor f, Functor g) =&gt;
AnAdapter s t a b -&gt; AdapterLike f g s t a b
</span><a href="Lens.Family.Clone.html#cloneAdapter"><span class="hs-identifier hs-var hs-var">cloneAdapter</span></a></span></span><span> </span><span id="local-6989586621679048860"><span class="annot"><span class="annottext">AnAdapter s t a b
</span><a href="#local-6989586621679048860"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (g :: * -&gt; *) s a b t.
(Functor f, Functor g) =&gt;
(s -&gt; a) -&gt; (b -&gt; t) -&gt; AdapterLike f g s t a b
</span><a href="Lens.Family.Unchecked.html#adapter"><span class="hs-identifier hs-var">adapter</span></a></span><span> </span><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679048858"><span class="hs-identifier hs-var">yin</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; t
</span><a href="#local-6989586621679048857"><span class="hs-identifier hs-var">yang</span></a></span><span>
</span><span id="line-73"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-type">PStore</span></a></span><span> </span><span id="local-6989586621679048857"><span class="annot"><span class="annottext">b -&gt; t
</span><a href="#local-6989586621679048857"><span class="hs-identifier hs-var">yang</span></a></span></span><span> </span><span id="local-6989586621679048858"><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679048858"><span class="hs-identifier hs-var">yin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnAdapter s t a b
</span><a href="#local-6989586621679048860"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall i j a. (j -&gt; a) -&gt; i -&gt; PStore i j a
</span><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-var">PStore</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | ALens s t a b is a universal Lens s t a b instance</span><span>
</span><span id="line-77"></span><span class="hs-keyword">type</span><span> </span><span id="ALens"><span class="annot"><a href="Lens.Family.Clone.html#ALens"><span class="hs-identifier hs-var">ALens</span></a></span></span><span> </span><span id="local-6989586621679048855"><span class="annot"><a href="#local-6989586621679048855"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048854"><span class="annot"><a href="#local-6989586621679048854"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679048853"><span class="annot"><a href="#local-6989586621679048853"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679048852"><span class="annot"><a href="#local-6989586621679048852"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-type">PStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048853"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048852"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048855"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048854"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048853"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048852"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- | ALens' s a is a universal Lens' s a instance</span><span>
</span><span id="line-80"></span><span class="hs-keyword">type</span><span> </span><span id="ALens%27"><span class="annot"><a href="Lens.Family.Clone.html#ALens%27"><span class="hs-identifier hs-var">ALens'</span></a></span></span><span> </span><span id="local-6989586621679048851"><span class="annot"><a href="#local-6989586621679048851"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048850"><span class="annot"><a href="#local-6989586621679048850"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike%27"><span class="hs-identifier hs-type">LensLike'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-type">PStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048850"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048850"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048851"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048850"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">-- | Converts a universal lens instance back into a polymorphic lens.</span><span>
</span><span id="line-83"></span><span id="local-6989586621679049073"><span id="local-6989586621679049074"><span id="local-6989586621679049075"><span id="local-6989586621679049076"><span id="local-6989586621679049077"><span class="annot"><a href="Lens.Family.Clone.html#cloneLens"><span class="hs-identifier hs-type">cloneLens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679049077"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#ALens"><span class="hs-identifier hs-type">ALens</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049076"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049075"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049074"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049073"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049077"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049076"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049075"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049074"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049073"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-84"></span><span id="cloneLens"><span class="annot"><span class="annottext">cloneLens :: forall (f :: * -&gt; *) s t a b.
Functor f =&gt;
ALens s t a b -&gt; LensLike f s t a b
</span><a href="Lens.Family.Clone.html#cloneLens"><span class="hs-identifier hs-var hs-var">cloneLens</span></a></span></span><span> </span><span id="local-6989586621679048847"><span class="annot"><span class="annottext">ALens s t a b
</span><a href="#local-6989586621679048847"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621679048846"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048846"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b t.
Functor f =&gt;
(a -&gt; f b) -&gt; PStore a b t -&gt; f t
</span><a href="Lens.Family.Clone.html#experiment"><span class="hs-identifier hs-var">experiment</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048846"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ALens s t a b
</span><a href="#local-6989586621679048847"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall i j a. (j -&gt; a) -&gt; i -&gt; PStore i j a
</span><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-var">PStore</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span id="local-6989586621679049062"><span id="local-6989586621679049063"><span id="local-6989586621679049064"><span id="local-6989586621679049065"><span class="annot"><a href="Lens.Family.Clone.html#experiment"><span class="hs-identifier hs-type">experiment</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679049065"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679049064"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679049065"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049063"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-type">PStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049064"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049063"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049062"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679049065"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049062"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span>
</span><span id="line-87"></span><span id="experiment"><span class="annot"><span class="annottext">experiment :: forall (f :: * -&gt; *) a b t.
Functor f =&gt;
(a -&gt; f b) -&gt; PStore a b t -&gt; f t
</span><a href="Lens.Family.Clone.html#experiment"><span class="hs-identifier hs-var hs-var">experiment</span></a></span></span><span> </span><span id="local-6989586621679048842"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048842"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PStore"><span class="hs-identifier hs-type">PStore</span></a></span><span> </span><span id="local-6989586621679048841"><span class="annot"><span class="annottext">b -&gt; t
</span><a href="#local-6989586621679048841"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679048840"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048840"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; t
</span><a href="#local-6989586621679048841"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048842"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048840"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-keyword">data</span><span> </span><span id="PKleeneStore"><span class="annot"><a href="Lens.Family.Clone.html#PKleeneStore"><span class="hs-identifier hs-var">PKleeneStore</span></a></span></span><span> </span><span id="local-6989586621679049049"><span class="annot"><a href="#local-6989586621679049049"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679049048"><span class="annot"><a href="#local-6989586621679049048"><span class="hs-identifier hs-type">j</span></a></span></span><span> </span><span id="local-6989586621679049050"><span class="annot"><a href="#local-6989586621679049050"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Unit"><span class="annot"><a href="Lens.Family.Clone.html#Unit"><span class="hs-identifier hs-var">Unit</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679049050"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-90"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span id="Battery"><span class="annot"><a href="Lens.Family.Clone.html#Battery"><span class="hs-identifier hs-var">Battery</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PKleeneStore"><span class="hs-identifier hs-type">PKleeneStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049049"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049048"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679049048"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679049050"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679049049"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679048834"><span id="local-6989586621679049053"><span id="local-6989586621679049054"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PKleeneStore"><span class="hs-identifier hs-type">PKleeneStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049054"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049053"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>  </span><span id="local-6989586621679048832"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; PKleeneStore i j a -&gt; PKleeneStore i j b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679048831"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048831"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#Unit"><span class="hs-identifier hs-type">Unit</span></a></span><span> </span><span id="local-6989586621679048830"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048830"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall i j a. a -&gt; PKleeneStore i j a
</span><a href="Lens.Family.Clone.html#Unit"><span class="hs-identifier hs-var">Unit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048831"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048830"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span id="local-6989586621679048829"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048829"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#Battery"><span class="hs-identifier hs-type">Battery</span></a></span><span> </span><span id="local-6989586621679048828"><span class="annot"><span class="annottext">PKleeneStore i j (j -&gt; a)
</span><a href="#local-6989586621679048828"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679048827"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679048827"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall i j a. PKleeneStore i j (j -&gt; a) -&gt; i -&gt; PKleeneStore i j a
</span><a href="Lens.Family.Clone.html#Battery"><span class="hs-identifier hs-var">Battery</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048829"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PKleeneStore i j (j -&gt; a)
</span><a href="#local-6989586621679048828"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679048827"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679048817"><span id="local-6989586621679048819"><span id="local-6989586621679048821"><span id="local-6989586621679049035"><span id="local-6989586621679049036"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PKleeneStore"><span class="hs-identifier hs-type">PKleeneStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049036"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049035"><span class="hs-identifier hs-type">j</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-97"></span><span>  </span><span id="local-6989586621679048815"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; PKleeneStore i j a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall i j a. a -&gt; PKleeneStore i j a
</span><a href="Lens.Family.Clone.html#Unit"><span class="hs-identifier hs-var">Unit</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><a href="Lens.Family.Clone.html#Unit"><span class="hs-identifier hs-type">Unit</span></a></span><span> </span><span id="local-6989586621679048811"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048811"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679048810"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
PKleeneStore i j (a -&gt; b)
-&gt; PKleeneStore i j a -&gt; PKleeneStore i j b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span id="local-6989586621679048809"><span class="annot"><span class="annottext">PKleeneStore i j a
</span><a href="#local-6989586621679048809"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048811"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PKleeneStore i j a
</span><a href="#local-6989586621679048809"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><a href="Lens.Family.Clone.html#Battery"><span class="hs-identifier hs-type">Battery</span></a></span><span> </span><span id="local-6989586621679048808"><span class="annot"><span class="annottext">PKleeneStore i j (j -&gt; a -&gt; b)
</span><a href="#local-6989586621679048808"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679048807"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679048807"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span id="local-6989586621679048806"><span class="annot"><span class="annottext">PKleeneStore i j a
</span><a href="#local-6989586621679048806"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall i j a. PKleeneStore i j (j -&gt; a) -&gt; i -&gt; PKleeneStore i j a
</span><a href="Lens.Family.Clone.html#Battery"><span class="hs-identifier hs-var">Battery</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PKleeneStore i j (j -&gt; a -&gt; b)
</span><a href="#local-6989586621679048808"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">PKleeneStore i j a
</span><a href="#local-6989586621679048806"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679048807"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- | ATraversal s t a b is a universal Traversal s t a b instance</span><span>
</span><span id="line-102"></span><span class="hs-keyword">type</span><span> </span><span id="ATraversal"><span class="annot"><a href="Lens.Family.Clone.html#ATraversal"><span class="hs-identifier hs-var">ATraversal</span></a></span></span><span> </span><span id="local-6989586621679048804"><span class="annot"><a href="#local-6989586621679048804"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048803"><span class="annot"><a href="#local-6989586621679048803"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679048802"><span class="annot"><a href="#local-6989586621679048802"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679048801"><span class="annot"><a href="#local-6989586621679048801"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PKleeneStore"><span class="hs-identifier hs-type">PKleeneStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048802"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048801"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048804"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048803"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048802"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048801"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-comment">-- | ATraversal' a b is a universal Traversal' a b instance</span><span>
</span><span id="line-105"></span><span class="hs-keyword">type</span><span> </span><span id="ATraversal%27"><span class="annot"><a href="Lens.Family.Clone.html#ATraversal%27"><span class="hs-identifier hs-var">ATraversal'</span></a></span></span><span> </span><span id="local-6989586621679048800"><span class="annot"><a href="#local-6989586621679048800"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048799"><span class="annot"><a href="#local-6989586621679048799"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike%27"><span class="hs-identifier hs-type">LensLike'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#PKleeneStore"><span class="hs-identifier hs-type">PKleeneStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048799"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048799"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679048800"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048799"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-- | Converts a universal traversal instance back into a polymorphic traversal.</span><span>
</span><span id="line-108"></span><span id="local-6989586621679049025"><span id="local-6989586621679049026"><span id="local-6989586621679049027"><span id="local-6989586621679049028"><span id="local-6989586621679049029"><span class="annot"><a href="Lens.Family.Clone.html#cloneTraversal"><span class="hs-identifier hs-type">cloneTraversal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679049029"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#ATraversal"><span class="hs-identifier hs-type">ATraversal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049028"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049027"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049026"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049025"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049029"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049028"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049027"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049026"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049025"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-109"></span><span id="cloneTraversal"><span class="annot"><span class="annottext">cloneTraversal :: forall (f :: * -&gt; *) s t a b.
Applicative f =&gt;
ATraversal s t a b -&gt; LensLike f s t a b
</span><a href="Lens.Family.Clone.html#cloneTraversal"><span class="hs-identifier hs-var hs-var">cloneTraversal</span></a></span></span><span> </span><span id="local-6989586621679048796"><span class="annot"><span class="annottext">ATraversal s t a b
</span><a href="#local-6989586621679048796"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span id="local-6989586621679048795"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048795"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b t.
Applicative f =&gt;
(a -&gt; f b) -&gt; PKleeneStore a b t -&gt; f t
</span><a href="Lens.Family.Clone.html#research"><span class="hs-identifier hs-var">research</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048795"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ATraversal s t a b
</span><a href="#local-6989586621679048796"><span class="hs-identifier hs-var">univ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall i j a. PKleeneStore i j (j -&gt; a) -&gt; i -&gt; PKleeneStore i j a
</span><a href="Lens.Family.Clone.html#Battery"><span class="hs-identifier hs-var">Battery</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall i j a. a -&gt; PKleeneStore i j a
</span><a href="Lens.Family.Clone.html#Unit"><span class="hs-identifier hs-var">Unit</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span id="local-6989586621679049015"><span id="local-6989586621679049016"><span id="local-6989586621679049017"><span id="local-6989586621679049018"><span class="annot"><a href="Lens.Family.Clone.html#research"><span class="hs-identifier hs-type">research</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679049018"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679049017"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679049018"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049016"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#PKleeneStore"><span class="hs-identifier hs-type">PKleeneStore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049017"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049016"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049015"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679049018"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049015"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span>
</span><span id="line-112"></span><span id="research"><span class="annot"><span class="annottext">research :: forall (f :: * -&gt; *) a b t.
Applicative f =&gt;
(a -&gt; f b) -&gt; PKleeneStore a b t -&gt; f t
</span><a href="Lens.Family.Clone.html#research"><span class="hs-identifier hs-var hs-var">research</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#Unit"><span class="hs-identifier hs-type">Unit</span></a></span><span> </span><span id="local-6989586621679048789"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679048789"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679048789"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-113"></span><span class="annot"><a href="Lens.Family.Clone.html#research"><span class="hs-identifier hs-var">research</span></a></span><span> </span><span id="local-6989586621679048788"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048788"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Clone.html#Battery"><span class="hs-identifier hs-type">Battery</span></a></span><span> </span><span id="local-6989586621679048787"><span class="annot"><span class="annottext">PKleeneStore a b (b -&gt; t)
</span><a href="#local-6989586621679048787"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679048786"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048786"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b t.
Applicative f =&gt;
(a -&gt; f b) -&gt; PKleeneStore a b t -&gt; f t
</span><a href="Lens.Family.Clone.html#research"><span class="hs-identifier hs-var">research</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048788"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">PKleeneStore a b (b -&gt; t)
</span><a href="#local-6989586621679048787"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048788"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048786"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">-- | Converts a universal setter instance back into a polymorphic setter.</span><span>
</span><span id="line-116"></span><span id="local-6989586621679049005"><span id="local-6989586621679049006"><span id="local-6989586621679049007"><span id="local-6989586621679049008"><span id="local-6989586621679049010"><span class="annot"><a href="Lens.Family.Clone.html#cloneSetter"><span class="hs-identifier hs-type">cloneSetter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lens.Family.Identical.html#Identical"><span class="hs-identifier hs-type">Identical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049010"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Family.html#ASetter"><span class="hs-identifier hs-type">ASetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049008"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049007"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049006"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049005"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049010"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049008"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049007"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049006"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679049005"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-117"></span><span id="cloneSetter"><span class="annot"><span class="annottext">cloneSetter :: forall (f :: * -&gt; *) s t a b.
Identical f =&gt;
ASetter s t a b -&gt; LensLike f s t a b
</span><a href="Lens.Family.Clone.html#cloneSetter"><span class="hs-identifier hs-var hs-var">cloneSetter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b s t.
Identical f =&gt;
((a -&gt; b) -&gt; s -&gt; t) -&gt; LensLike f s t a b
</span><a href="Lens.Family.Unchecked.html#setting"><span class="hs-identifier hs-var">setting</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="Lens.Family.html#over"><span class="hs-identifier hs-var">over</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-comment">-- | AFold s t a b is a universal Fold s t a b instance</span><span>
</span><span id="line-120"></span><span class="hs-keyword">type</span><span> </span><span id="AFold"><span class="annot"><a href="Lens.Family.Clone.html#AFold"><span class="hs-identifier hs-var">AFold</span></a></span></span><span> </span><span id="local-6989586621679048781"><span class="annot"><a href="#local-6989586621679048781"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048780"><span class="annot"><a href="#local-6989586621679048780"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679048779"><span class="annot"><a href="#local-6989586621679048779"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679048778"><span class="annot"><a href="#local-6989586621679048778"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.html#FoldLike"><span class="hs-identifier hs-type">FoldLike</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679048779"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679048781"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048780"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048779"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048778"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | AFold' s a is a universal Fold' s a instance</span><span>
</span><span id="line-123"></span><span class="hs-keyword">type</span><span> </span><span id="AFold%27"><span class="annot"><a href="Lens.Family.Clone.html#AFold%27"><span class="hs-identifier hs-var">AFold'</span></a></span></span><span> </span><span id="local-6989586621679048777"><span class="annot"><a href="#local-6989586621679048777"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048776"><span class="annot"><a href="#local-6989586621679048776"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.html#FoldLike%27"><span class="hs-identifier hs-type">FoldLike'</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679048776"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679048777"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048776"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- | Converts a universal fold instance back into a polymorphic fold.</span><span>
</span><span id="line-126"></span><span id="local-6989586621679048984"><span id="local-6989586621679048985"><span id="local-6989586621679048986"><span id="local-6989586621679048987"><span id="local-6989586621679048989"><span class="annot"><a href="Lens.Family.Clone.html#cloneFold"><span class="hs-identifier hs-type">cloneFold</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Family.Phantom.html#Phantom"><span class="hs-identifier hs-type">Phantom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048989"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679048989"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#AFold"><span class="hs-identifier hs-type">AFold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048987"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048986"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048984"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048989"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048987"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048986"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048984"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-127"></span><span id="cloneFold"><span class="annot"><span class="annottext">cloneFold :: forall (f :: * -&gt; *) s t a b.
(Phantom f, Applicative f) =&gt;
AFold s t a b -&gt; LensLike f s t a b
</span><a href="Lens.Family.Clone.html#cloneFold"><span class="hs-identifier hs-var hs-var">cloneFold</span></a></span></span><span> </span><span id="local-6989586621679048769"><span class="annot"><span class="annottext">AFold s t a b
</span><a href="#local-6989586621679048769"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) (f :: * -&gt; *) s a t b.
(Foldable g, Phantom f, Applicative f) =&gt;
(s -&gt; g a) -&gt; LensLike f s t a b
</span><a href="Lens.Family.html#folding"><span class="hs-identifier hs-var">folding</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a s t b. FoldLike [a] s t a b -&gt; s -&gt; [a]
</span><a href="Lens.Family.html#toListOf"><span class="hs-identifier hs-var">toListOf</span></a></span><span> </span><span class="annot"><span class="annottext">AFold s t a b
</span><a href="#local-6989586621679048769"><span class="hs-identifier hs-var">univ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">-- | Converts a universal resetter instance back into a polymorphic resetter.</span><span>
</span><span id="line-130"></span><span id="local-6989586621679048962"><span id="local-6989586621679048963"><span id="local-6989586621679048964"><span id="local-6989586621679048965"><span id="local-6989586621679048966"><span class="annot"><a href="Lens.Family.Clone.html#cloneResetter"><span class="hs-identifier hs-type">cloneResetter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lens.Family.Identical.html#Identical"><span class="hs-identifier hs-type">Identical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048966"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Family.html#AResetter"><span class="hs-identifier hs-type">AResetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048965"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048964"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048963"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048962"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#GrateLike"><span class="hs-identifier hs-type">GrateLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048966"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048965"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048964"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048963"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048962"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-131"></span><span id="cloneResetter"><span class="annot"><span class="annottext">cloneResetter :: forall (f :: * -&gt; *) s t a b.
Identical f =&gt;
AResetter s t a b -&gt; GrateLike f s t a b
</span><a href="Lens.Family.Clone.html#cloneResetter"><span class="hs-identifier hs-var hs-var">cloneResetter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) a b s t.
Identical g =&gt;
((a -&gt; b) -&gt; s -&gt; t) -&gt; GrateLike g s t a b
</span><a href="Lens.Family.Unchecked.html#resetting"><span class="hs-identifier hs-var">resetting</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall s t a b. AResetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="Lens.Family.html#under"><span class="hs-identifier hs-var">under</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-comment">-- | AGetter s t a b is a universal Getter s t a b instance</span><span>
</span><span id="line-134"></span><span class="hs-keyword">type</span><span> </span><span id="AGetter"><span class="annot"><a href="Lens.Family.Clone.html#AGetter"><span class="hs-identifier hs-var">AGetter</span></a></span></span><span> </span><span id="local-6989586621679048762"><span class="annot"><a href="#local-6989586621679048762"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048761"><span class="annot"><a href="#local-6989586621679048761"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679048760"><span class="annot"><a href="#local-6989586621679048760"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679048759"><span class="annot"><a href="#local-6989586621679048759"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.html#FoldLike"><span class="hs-identifier hs-type">FoldLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048760"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048762"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048761"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048760"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048759"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">-- | AGetter' s a is a universal Getter' s a instance</span><span>
</span><span id="line-137"></span><span class="hs-keyword">type</span><span> </span><span id="AGetter%27"><span class="annot"><a href="Lens.Family.Clone.html#AGetter%27"><span class="hs-identifier hs-var">AGetter'</span></a></span></span><span> </span><span id="local-6989586621679048758"><span class="annot"><a href="#local-6989586621679048758"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679048757"><span class="annot"><a href="#local-6989586621679048757"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Family.html#FoldLike%27"><span class="hs-identifier hs-type">FoldLike'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048757"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048758"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048757"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- | Converts a universal getter instance back into a polymorphic getter.</span><span>
</span><span id="line-140"></span><span id="local-6989586621679048941"><span id="local-6989586621679048942"><span id="local-6989586621679048943"><span id="local-6989586621679048944"><span id="local-6989586621679048945"><span class="annot"><a href="Lens.Family.Clone.html#cloneGetter"><span class="hs-identifier hs-type">cloneGetter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lens.Family.Phantom.html#Phantom"><span class="hs-identifier hs-type">Phantom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048945"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Clone.html#AGetter"><span class="hs-identifier hs-type">AGetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048944"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048943"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048942"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048941"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048945"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048944"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048943"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048942"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048941"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-141"></span><span id="cloneGetter"><span class="annot"><span class="annottext">cloneGetter :: forall (f :: * -&gt; *) s t a b.
Phantom f =&gt;
AGetter s t a b -&gt; LensLike f s t a b
</span><a href="Lens.Family.Clone.html#cloneGetter"><span class="hs-identifier hs-var hs-var">cloneGetter</span></a></span></span><span> </span><span id="local-6989586621679048754"><span class="annot"><span class="annottext">AGetter s t a b
</span><a href="#local-6989586621679048754"><span class="hs-identifier hs-var">univ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) s a t b.
Phantom f =&gt;
(s -&gt; a) -&gt; LensLike f s t a b
</span><a href="Lens.Family.html#to"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a s t b. FoldLike a s t a b -&gt; s -&gt; a
</span><a href="Lens.Family.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">AGetter s t a b
</span><a href="#local-6989586621679048754"><span class="hs-identifier hs-var">univ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">-- | Converts a universal grate instance back into a polymorphic grater.</span><span>
</span><span id="line-144"></span><span id="local-6989586621679048921"><span id="local-6989586621679048922"><span id="local-6989586621679048923"><span id="local-6989586621679048924"><span id="local-6989586621679048925"><span class="annot"><a href="Lens.Family.Clone.html#cloneGrate"><span class="hs-identifier hs-type">cloneGrate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679048925"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Family.html#AGrate"><span class="hs-identifier hs-type">AGrate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048924"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048923"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048922"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048921"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lens.Family.Unchecked.html#GrateLike"><span class="hs-identifier hs-type">GrateLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048925"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048924"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048923"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048922"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048921"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-145"></span><span id="cloneGrate"><span class="annot"><span class="annottext">cloneGrate :: forall (g :: * -&gt; *) s t a b.
Functor g =&gt;
AGrate s t a b -&gt; GrateLike g s t a b
</span><a href="Lens.Family.Clone.html#cloneGrate"><span class="hs-identifier hs-var hs-var">cloneGrate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) s a b t.
Functor g =&gt;
(((s -&gt; a) -&gt; b) -&gt; t) -&gt; GrateLike g s t a b
</span><a href="Lens.Family.Unchecked.html#grate"><span class="hs-identifier hs-var">grate</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall s t a b. AGrate s t a b -&gt; ((s -&gt; a) -&gt; b) -&gt; t
</span><a href="Lens.Family.html#degrating"><span class="hs-identifier hs-var">degrating</span></a></span><span>
</span><span id="line-146"></span></pre></body></html>